<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"
  xmlns:atom="http://www.w3.org/2005/Atom"
  xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Victor</title>
    <link>https://ckck803.github.io/</link>
    
    <atom:link href="https://ckck803.github.io/rss2.xml" rel="self" type="application/rss+xml"/>
    
    <description>ê°œë°œ ë…¸íŠ¸</description>
    <pubDate>Sun, 06 Apr 2025 13:52:02 GMT</pubDate>
    <generator>http://hexo.io/</generator>
    
    <item>
      <title>[Docker] Volume - ì»¨í…Œì´ë„ˆ ë°ì´í„° ê´€ë¦¬</title>
      <link>https://ckck803.github.io/2025/04/06/docker/volume/docker-volume/</link>
      <guid>https://ckck803.github.io/2025/04/06/docker/volume/docker-volume/</guid>
      <pubDate>Sat, 05 Apr 2025 21:31:46 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;img src=&quot;/images/docker/docker.png&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;ëª©ì°¨&quot;&gt;&lt;a href=&quot;#ëª©ì°¨&quot; class=&quot;headerlink&quot; title=&quot;ëª©ì°¨&quot;&gt;&lt;/a&gt;ëª©ì°¨&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;/2025/04/0</description>
        
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/docker/docker.png"></p><h2 id="ëª©ì°¨"><a href="#ëª©ì°¨" class="headerlink" title="ëª©ì°¨"></a>ëª©ì°¨</h2><ul><li><a href="/2025/04/06/docker/volume/docker-volume/" title="[Docker] Volume - ì»¨í…Œì´ë„ˆ ë°ì´í„° ê´€ë¦¬">[Docker] Volume - ì»¨í…Œì´ë„ˆ ë°ì´í„° ê´€ë¦¬</a></li><li><a href="/2025/04/06/docker/network/docker-network/" title="[Docker] Network - ì»¨í…Œì´ë„ˆê°„ í†µì‹ ">[Docker] Network - ì»¨í…Œì´ë„ˆê°„ í†µì‹ </a></li><li><a href="/2023/02/08/docker/docker/" title="[Docker]">[Docker]</a></li></ul><h2 id="ğŸ¤”-Docker-Volume-ì´-ì™œ-í•„ìš”í•œê°€"><a href="#ğŸ¤”-Docker-Volume-ì´-ì™œ-í•„ìš”í•œê°€" class="headerlink" title="ğŸ¤” Docker Volume ì´ ì™œ í•„ìš”í•œê°€?"></a>ğŸ¤” Docker Volume ì´ ì™œ í•„ìš”í•œê°€?</h2><blockquote><p>ì»¨í…Œì´ë„ˆë‚´ ë°ì´í„°ëŠ” íœ˜ë°œì„±ì…ë‹ˆë‹¤.</p></blockquote><p>Docker ì™€ ì»¨í…Œì´ë„ˆ ê¸°ìˆ ì´ ë§‰ ë– ì˜¤ë¥¼ë•Œ PC ì— ê¹”ì•„ì„œ ê°œë°œì„ í•˜ê³  ìˆëŠ”ë° Docker ë‚´ì—ì„œ ì„¤ì •í•œ ê°’ë“¤ì´ ì¬ì‹¤í–‰í• ë•Œ ë§ˆë‹¤ ì´ˆê¸°í™” ë˜ëŠ” í˜„ìƒë“¤ì„ ê²ªì—ˆìŠµë‹ˆë‹¤. ë‹¹ì‹œ ë„ˆë¬´ í™”ê°€ë‚˜ì„œ ì—¬ëŸ¬ ì±…ë“¤ì„ ì½ì–´ë´¤ëŠ”ë° ìƒê°í•´ë³´ë‹ˆ ì»¨í…Œì´ë„ˆì˜ íŠ¹ì„±ì„ ì œëŒ€ë¡œ ì´í•´í•˜ì§€ ëª»í•´ ìƒê¸°ëŠ” ë¬¸ì œì˜€ì—ˆìŠµë‹ˆë‹¤.</p><p>ì»¨í…Œì´ë„ˆëŠ” ê¸°ë³¸ì ìœ¼ë¡œ <strong>íœ˜ë°œì„±</strong> ì´ê¸° ë•Œë¬¸ì— ì»¨í…Œì´ë„ˆê°€ ì¢…ë£Œë˜ê±°ë‚˜ ì‚­ì œë˜ë©´ ë‚´ë¶€ ë°ì´í„°ë„ í•¨ê»˜ ì‚¬ë¼ì§‘ë‹ˆë‹¤. ì‰½ê²Œ ìƒê°í•´ì„œ ê²©ë¦¬ë¼ ìˆëŠ” ì»¨í…Œì´ë„ˆì˜ íŠ¹ì„±ìƒ ì»¨í…Œì´ë„ˆê°€ ìƒì„±í•œ ëª¨ë“  íŒŒì¼ë“¤ì€ ê²°êµ­ ì»¨í…Œì´ë„ˆë‚´ì—ì„œë§Œ ì¡´ì¬í•˜ê³  ì»¨í…Œì´ë„ˆ ì‚­ì œì‹œì—ëŠ” ì»¨í…Œì´ë„ˆì™€ í•¨ê»˜ ë°ì´í„°ë„ ì‚­ì œê°€ ë˜ëŠ” ê²ƒì…ë‹ˆë‹¤.</p><p>ë•Œë¬¸ì—, ë§¤ë²ˆ ì»¨í…Œì´ë„ˆë¥¼ ë„ì–´ ì–´í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ì— ëŒ€í•œ ì„¤ì • ê°’ë“¤ì„ ìˆ˜ì •í•˜ê±°ë‚˜ ë°ì´í„°ë¥¼ ì˜êµ¬ì ìœ¼ë¡œ ë³´ê´€í•˜ëŠ” ë¶€ë¶„ì— ìˆì–´ ë¬¸ì œê°€ ìƒê¸¸ ìˆ˜ ë°–ì— ì—†ìŠµë‹ˆë‹¤.</p><p>Docker ì—ì„œëŠ” Docker Volume ì„ í†µí•´ ì»¨í…Œì´ë„ˆ ë‚´ì—ì„œì˜ ë°ì´í„° íœ˜ë°œì„± ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><h2 id="âœ…-Docker-Volume-ì´ë€"><a href="#âœ…-Docker-Volume-ì´ë€" class="headerlink" title="âœ… Docker Volume ì´ë€?"></a>âœ… Docker Volume ì´ë€?</h2><p>Docker Volume ì€ ì»¨í…Œì´ë„ˆ ì™¸ë¶€ì— ë°ì´í„°ë¥¼ ì €ì¥í•  ìˆ˜ ìˆëŠ” ê³µê°„ì…ë‹ˆë‹¤. ì»¨í…Œì´ë„ˆì™€ëŠ” ë³„ë„ë¡œ ì¡´ì¬í•˜ê¸° ë•Œë¬¸ì—, ì»¨í…Œì´ë„ˆë¥¼ ì‚­ì œí•˜ë”ë¼ë„ ë°ì´í„°ëŠ” ìœ ì§€ë©ë‹ˆë‹¤.</p><p>ë˜í•œ, Docker Volume ì€ ì»¨í…Œì´ë„ˆì™€ í˜¸ìŠ¤íŠ¸ ì‹œìŠ¤í…œ ê°„ì— ë°ì´í„°ë¥¼ ê³µìœ í•˜ê±°ë‚˜ ì»¨í…Œì´ë„ˆ ê°„ ë°ì´í„°ë¥¼ ê³µìœ í•  ë•Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><h2 id="âœ…-Docker-Volume-ì‚¬ìš©"><a href="#âœ…-Docker-Volume-ì‚¬ìš©" class="headerlink" title="âœ… Docker Volume ì‚¬ìš©"></a>âœ… Docker Volume ì‚¬ìš©</h2><h4 id="1-Volume-ìƒì„±"><a href="#1-Volume-ìƒì„±" class="headerlink" title="1 Volume ìƒì„±"></a>1 Volume ìƒì„±</h4><p>Docker Volumeì€ ë‹¤ìŒê³¼ ê°™ì€ ëª…ë ¹ì–´ë¡œ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìƒì„±ëœ Volumeì€ Docker í˜¸ìŠ¤íŠ¸ì˜ íŠ¹ì • ë””ë ‰í† ë¦¬ì— ì €ì¥ë˜ë©°, ì´ë¥¼ í†µí•´ ë°ì´í„°ê°€ ì™¸ë¶€ì— ì•ˆì „í•˜ê²Œ ë³´ê´€ë©ë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker volume create my_volume</span><br></pre></td></tr></table></figure><h4 id="2-ì»¨í…Œì´ë„ˆì—-Volume-ë§ˆìš´íŠ¸í•˜ê¸°"><a href="#2-ì»¨í…Œì´ë„ˆì—-Volume-ë§ˆìš´íŠ¸í•˜ê¸°" class="headerlink" title="2 ì»¨í…Œì´ë„ˆì— Volume ë§ˆìš´íŠ¸í•˜ê¸°"></a>2 ì»¨í…Œì´ë„ˆì— Volume ë§ˆìš´íŠ¸í•˜ê¸°</h4><p>ìƒì„±í•œ Volumeì„ ì»¨í…Œì´ë„ˆì— ë§ˆìš´íŠ¸í•˜ëŠ” ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.</p><p>ì•„ë˜ ëª…ë ¹ì–´ì—ì„œëŠ” my_volumeì´ë¼ëŠ” Volumeì„ ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì˜ &#x2F;app&#x2F;data ê²½ë¡œì— ë§ˆìš´íŠ¸í•©ë‹ˆë‹¤. ì´ ê²½ë¡œì— ì €ì¥ë˜ëŠ” ëª¨ë“  ë°ì´í„°ëŠ” Volumeì— ì €ì¥ë˜ë¯€ë¡œ ì»¨í…Œì´ë„ˆ ì¬ì‹œì‘ í›„ì—ë„ ë³´ì¡´ë©ë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker run -d \</span><br><span class="line">  --name my_container \</span><br><span class="line">  -v my_volume:/app/data \</span><br><span class="line">  my_image</span><br></pre></td></tr></table></figure><h4 id="3-Volume-ë¦¬ìŠ¤íŠ¸-ë°-ì‚­ì œ"><a href="#3-Volume-ë¦¬ìŠ¤íŠ¸-ë°-ì‚­ì œ" class="headerlink" title="3 Volume ë¦¬ìŠ¤íŠ¸ ë° ì‚­ì œ"></a>3 Volume ë¦¬ìŠ¤íŠ¸ ë° ì‚­ì œ</h4><p>í˜„ì¬ ìƒì„±ëœ Volume ëª©ë¡ì„ í™•ì¸í•˜ë ¤ë©´ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker volume <span class="built_in">ls</span></span><br></pre></td></tr></table></figure><p>Docker Volume ì„ ëª…ì‹œì ìœ¼ë¡œ ìƒì„±í•˜ì§€ ì•Šì„ ê²½ìš° ìƒì„±ëœ Volume ëª©ë¡ í™•ì¸ì‹œ í•´ì‹œëœ ì´ë¦„ìœ¼ë¡œ ë³´ì—¬ì ¸ íŒŒì•…í•˜ê¸°ê°€ ì–´ë µìŠµë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">DRIVER    VOLUME NAME</span><br><span class="line"><span class="built_in">local</span>     49ff6b4a76033b6511cd4ff656a08288e00db0c791d734c8d8f22c61265c570e</span><br><span class="line"><span class="built_in">local</span>     87b7e5bc9d75151f2ca3fe25cfc38d620434133231e3a59ebd8f99c1f43e08b6</span><br><span class="line"><span class="built_in">local</span>     092efe87a570de9ec8a80192b753b66a952abeae53f274e09c867074d1d09fc6</span><br><span class="line"><span class="built_in">local</span>     194d517db62f9a6569e47fce6e99415152c51fdfa1dfaa3a1f275df3cf0396fd</span><br><span class="line"><span class="built_in">local</span>     minikube</span><br><span class="line"><span class="built_in">local</span>     mysql_grafana_data</span><br><span class="line"><span class="built_in">local</span>     mysql_prometheus_data</span><br><span class="line"><span class="built_in">local</span>     redis-insight_redis_insight_volume_data</span><br><span class="line"><span class="built_in">local</span>     redis-insight_redis_volume_data</span><br><span class="line"><span class="built_in">local</span>     redisinsight</span><br><span class="line"><span class="built_in">local</span>     spring-websocket-kafka_redis_insight_volume_data</span><br><span class="line"><span class="built_in">local</span>     spring-websocket-kafka_redis_volume_data</span><br></pre></td></tr></table></figure><p>ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” Volumeì€ ë‹¤ìŒê³¼ ê°™ì´ ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker volume <span class="built_in">rm</span> my_volume</span><br></pre></td></tr></table></figure><p>ì „ì²´ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” Volumeì„ í•œêº¼ë²ˆì— ì‚­ì œí•˜ë ¤ë©´ <code>prune</code> ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker volume prune</span><br></pre></td></tr></table></figure><h2 id="âœ…-Docker-Volume-ì‚¬ìš©-ì˜ˆì œ"><a href="#âœ…-Docker-Volume-ì‚¬ìš©-ì˜ˆì œ" class="headerlink" title="âœ… Docker Volume ì‚¬ìš© ì˜ˆì œ"></a>âœ… Docker Volume ì‚¬ìš© ì˜ˆì œ</h2><p>ì»¨í…Œì´ë„ˆë¡œ êµ¬ì„±ëœ ë°ì´í„° ë² ì´ìŠ¤ì˜ ë°ì´í„°ë¥¼ ì˜ì†ì ìœ¼ë¡œ ì €ì¥í•˜ê¸° ìœ„í•´ Docker Volume ì„ ì´ìš©í•©ë‹ˆë‹¤. í•´ë‹¹ ëª…ë ¹ì–´ë¡œ MySQL ë°ì´í„° ë² ì´ìŠ¤ë¥¼ ì‹¤í–‰í•˜ê²Œ ë˜ë©´ ì‹¤í–‰ë˜ëŠ” ì»¨í…Œì´ë„ˆëŠ” ë‹¤ë¥¼ì§€ë¼ë„ í•­ìƒ ê°™ì€ Volume ì„ ë°”ë¼ë³´ê²Œ ë©ë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker run -d \</span><br><span class="line">  --name mysql \</span><br><span class="line">  -e MYSQL_ROOT_PASSWORD=1212!@!@ \</span><br><span class="line">  -v mysql_data:/var/lib/mysql \</span><br><span class="line">  mysql:latest</span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Docker/">Docker</category>
      
      
      
      <comments>https://ckck803.github.io/2025/04/06/docker/volume/docker-volume/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>[Docker] Network - ì»¨í…Œì´ë„ˆê°„ í†µì‹ </title>
      <link>https://ckck803.github.io/2025/04/06/docker/network/docker-network/</link>
      <guid>https://ckck803.github.io/2025/04/06/docker/network/docker-network/</guid>
      <pubDate>Sat, 05 Apr 2025 21:31:46 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;img src=&quot;/images/docker/docker.png&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;ëª©ì°¨&quot;&gt;&lt;a href=&quot;#ëª©ì°¨&quot; class=&quot;headerlink&quot; title=&quot;ëª©ì°¨&quot;&gt;&lt;/a&gt;ëª©ì°¨&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;/2025/04/0</description>
        
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/docker/docker.png"></p><h2 id="ëª©ì°¨"><a href="#ëª©ì°¨" class="headerlink" title="ëª©ì°¨"></a>ëª©ì°¨</h2><ul><li><a href="/2025/04/06/docker/volume/docker-volume/" title="[Docker] Volume - ì»¨í…Œì´ë„ˆ ë°ì´í„° ê´€ë¦¬">[Docker] Volume - ì»¨í…Œì´ë„ˆ ë°ì´í„° ê´€ë¦¬</a></li><li><a href="/2025/04/06/docker/network/docker-network/" title="[Docker] Network - ì»¨í…Œì´ë„ˆê°„ í†µì‹ ">[Docker] Network - ì»¨í…Œì´ë„ˆê°„ í†µì‹ </a></li><li><a href="/2023/02/08/docker/docker/" title="[Docker]">[Docker]</a></li></ul><h2 id="ğŸ“Œ-Docker-Network-ë€"><a href="#ğŸ“Œ-Docker-Network-ë€" class="headerlink" title="ğŸ“Œ Docker Network ë€?"></a>ğŸ“Œ Docker Network ë€?</h2><p>Docker NetworkëŠ” ì»¨í…Œì´ë„ˆ ê°„ í†µì‹ ì„ ê°€ëŠ¥í•˜ê²Œ í•´ì£¼ëŠ” ê°€ìƒ ë„¤íŠ¸ì›Œí¬ì…ë‹ˆë‹¤. </p><p>ì»¨í…Œì´ë„ˆëŠ” ë…ë¦½ì ì¸ í™˜ê²½ì—ì„œ ì‹¤í–‰ë˜ì§€ë§Œ, ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“¤ë‹¤ ë³´ë©´ ì„œë¡œ ë°ì´í„°ë¥¼ ì£¼ê³ ë°›ì•„ì•¼ í•˜ê±°ë‚˜ ì™¸ë¶€ ìš”ì²­ì„ ë°›ì•„ì•¼ í•  ì¼ì´ ë§ìŠµë‹ˆë‹¤. Docker ë„¤íŠ¸ì›Œí¬ëŠ” ì´ëŸ¬í•œ ì»¨í…Œì´ë„ˆê°„ í†µì‹ ì„ ê°€ëŠ¥í•˜ê²Œ í•´ì£¼ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤.</p><h2 id="ğŸ”-Docker-Network-ì˜-ì¢…ë¥˜"><a href="#ğŸ”-Docker-Network-ì˜-ì¢…ë¥˜" class="headerlink" title="ğŸ” Docker Network ì˜ ì¢…ë¥˜"></a>ğŸ” Docker Network ì˜ ì¢…ë¥˜</h2><p>DockerëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ë‹¤ìŒê³¼ ê°™ì€ ë„¤íŠ¸ì›Œí¬ ë“œë¼ì´ë²„ë“¤ì„ ì œê³µí•©ë‹ˆë‹¤</p><table><thead><tr><th>ë“œë¼ì´ë²„</th><th>ì„¤ëª…</th></tr></thead><tbody><tr><td>bridge</td><td>ê¸°ë³¸ ë“œë¼ì´ë²„. ì»¨í…Œì´ë„ˆ ê°„ í†µì‹ ì´ ê°€ëŠ¥í•˜ë©°, ê°™ì€ í˜¸ìŠ¤íŠ¸ì—ì„œ ì‘ë™í•©ë‹ˆë‹¤.</td></tr><tr><td>host</td><td>ì»¨í…Œì´ë„ˆê°€ í˜¸ìŠ¤íŠ¸ì˜ ë„¤íŠ¸ì›Œí¬ë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤. ê²©ë¦¬ëŠ” ì—†ì§€ë§Œ ì†ë„ëŠ” ë¹ ë¦…ë‹ˆë‹¤.</td></tr><tr><td>none</td><td>ë„¤íŠ¸ì›Œí¬ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤. ì™„ì „í•œ ê²©ë¦¬ê°€ í•„ìš”í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.</td></tr><tr><td>overlay</td><td>ì—¬ëŸ¬ í˜¸ìŠ¤íŠ¸ ê°„ ì»¨í…Œì´ë„ˆë¥¼ ì—°ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. Docker Swarmì—ì„œ ìœ ìš©í•©ë‹ˆë‹¤.</td></tr><tr><td>macvlan</td><td>ì»¨í…Œì´ë„ˆì— ê³ ìœ í•œ MAC ì£¼ì†Œë¥¼ ë¶€ì—¬í•´ ë¬¼ë¦¬ ë„¤íŠ¸ì›Œí¬ì²˜ëŸ¼ ë™ì‘ì‹œí‚µë‹ˆë‹¤.</td></tr></tbody></table><h2 id="âœ…-Docker-ë„¤íŠ¸ì›Œí¬-ìƒì„±"><a href="#âœ…-Docker-ë„¤íŠ¸ì›Œí¬-ìƒì„±" class="headerlink" title="âœ… Docker ë„¤íŠ¸ì›Œí¬ ìƒì„±"></a>âœ… Docker ë„¤íŠ¸ì›Œí¬ ìƒì„±</h2><p>Docker ë„¤íŠ¸ì›Œí¬ë¥¼ ì‚¬ìš©í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ê¸°ëŠ¥ë“¤ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><ul><li>ê°™ì€ ë„¤íŠ¸ì›Œí¬ë‚´ ì»¨í…Œì´ë„ˆ ê°„ ì´ë¦„ ê¸°ë°˜ í†µì‹  ê°€ëŠ¥</li><li>ìì²´ ì„œë¸Œë„· ì„¤ì • ê°€ëŠ¥</li><li>ë„¤íŠ¸ì›Œí¬ ê²©ë¦¬ë¥¼ í†µí•´ ë³´ì•ˆ ê°•í™”</li></ul><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker network create \</span><br><span class="line">  --driver bridge \</span><br><span class="line">  --subnet 192.168.100.0/24 \  <span class="comment"># my-bridge ë¥¼ ì´ìš©í•˜ëŠ” Docker ëŠ” 192.168.100.0/24 ë‚´ IP ë¥¼ í• ë‹¹ ë°›ìŠµë‹ˆë‹¤.</span></span><br><span class="line">  my-bridge</span><br></pre></td></tr></table></figure><h2 id="âœ…-Docker-Network-ì‚¬ìš©"><a href="#âœ…-Docker-Network-ì‚¬ìš©" class="headerlink" title="âœ… Docker Network ì‚¬ìš©"></a>âœ… Docker Network ì‚¬ìš©</h2><h4 id="1-ë„¤íŠ¸ì›Œí¬-ìƒì„±"><a href="#1-ë„¤íŠ¸ì›Œí¬-ìƒì„±" class="headerlink" title="1. ë„¤íŠ¸ì›Œí¬ ìƒì„±"></a>1. ë„¤íŠ¸ì›Œí¬ ìƒì„±</h4><p>Docker ëª…ë ¹ì–´ë¡œ ìƒì„±í•˜ëŠ” ë„¤íŠ¸ì›Œí¬ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ bridge ë„¤íŠ¸ì›Œí¬ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ì‚¬ìš©ì ì •ì˜ ë¸Œë¦¬ì§€ ë„¤íŠ¸ì›Œí¬ ìƒì„±</span></span><br><span class="line">docker network create my-bridge-network</span><br><span class="line"></span><br><span class="line"><span class="comment"># ë„¤íŠ¸ì›Œí¬ í™•ì¸</span></span><br><span class="line">docker network <span class="built_in">ls</span></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">NETWORK ID     NAME                                                                DRIVER    SCOPE</span><br><span class="line">970c8ca1f098   app_default                                                         bridge    <span class="built_in">local</span></span><br><span class="line">b7cc4195660a   bridge                                                              bridge    <span class="built_in">local</span></span><br><span class="line">752114a3f537   cluster4_default                                                    bridge    <span class="built_in">local</span></span><br><span class="line">cefaa7d0f84f   discovery-server_msa                                                bridge    <span class="built_in">local</span></span><br><span class="line">b15c797bd7cb   host                                                                host      <span class="built_in">local</span></span><br><span class="line">e30ba0356072   minikube                                                            bridge    <span class="built_in">local</span></span><br><span class="line">1d556958a0e3   monitoring_kafka_network                                            bridge    <span class="built_in">local</span></span><br><span class="line">c11f235772a0   my-bridge-network                                                   bridge    <span class="built_in">local</span></span><br><span class="line">09369e87d3bf   mysql_default                                                       bridge    <span class="built_in">local</span></span><br><span class="line">12bba3372bec   none                                                                null      <span class="built_in">local</span></span><br><span class="line">b6805d2acdd3   redis-insight_default                                               bridge    <span class="built_in">local</span></span><br><span class="line">2e03a529f3f0   spring-cloud                                                        bridge    <span class="built_in">local</span></span><br></pre></td></tr></table></figure><h4 id="2-ì»¨í…Œì´ë„ˆ-2ê°œ-ì‹¤í–‰-ê°™ì€-ë„¤íŠ¸ì›Œí¬ì—-ì—°ê²°"><a href="#2-ì»¨í…Œì´ë„ˆ-2ê°œ-ì‹¤í–‰-ê°™ì€-ë„¤íŠ¸ì›Œí¬ì—-ì—°ê²°" class="headerlink" title="2. ì»¨í…Œì´ë„ˆ 2ê°œ ì‹¤í–‰ (ê°™ì€ ë„¤íŠ¸ì›Œí¬ì— ì—°ê²°):"></a>2. ì»¨í…Œì´ë„ˆ 2ê°œ ì‹¤í–‰ (ê°™ì€ ë„¤íŠ¸ì›Œí¬ì— ì—°ê²°):</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker run -d --name container1 --network my-bridge-network nginx</span><br><span class="line">docker run -it --name container2 --network my-bridge-network alpine sh</span><br></pre></td></tr></table></figure><p>ì»¨í…Œì´ë„ˆ2ì—ì„œ container1 ì˜ ì´ë¦„ìœ¼ë¡œ ì ‘ì†ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤<br>ğŸ‘‰ ê°™ì€ ë„¤íŠ¸ì›Œí¬ì— ì—°ê²°ëœ ì»¨í…Œì´ë„ˆëŠ” ì´ë¦„ìœ¼ë¡œ ì„œë¡œ í†µì‹  ê°€ëŠ¥í•˜ë‹¤ëŠ” ì ì´ í¬ì¸íŠ¸ì…ë‹ˆë‹¤!</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># container2 ë‚´ë¶€ì—ì„œ</span></span><br><span class="line">ping container1</span><br></pre></td></tr></table></figure><h2 id="âœ…-Docker-ë„¤íŠ¸ì›Œí¬-ê´€ë ¨-ëª…ë ¹ì–´"><a href="#âœ…-Docker-ë„¤íŠ¸ì›Œí¬-ê´€ë ¨-ëª…ë ¹ì–´" class="headerlink" title="âœ… Docker ë„¤íŠ¸ì›Œí¬ ê´€ë ¨ ëª…ë ¹ì–´"></a>âœ… Docker ë„¤íŠ¸ì›Œí¬ ê´€ë ¨ ëª…ë ¹ì–´</h2><table><thead><tr><th align="left">ëª…ë ¹ì–´</th><th align="left">ì„¤ëª…</th></tr></thead><tbody><tr><td align="left">docker network ls</td><td align="left">ë„¤íŠ¸ì›Œí¬ ëª©ë¡ ë³´ê¸°</td></tr><tr><td align="left">docker network inspect &lt;ì´ë¦„&gt;</td><td align="left">ë„¤íŠ¸ì›Œí¬ ìƒì„¸ ì •ë³´ í™•ì¸</td></tr><tr><td align="left">docker network create &lt;ì´ë¦„&gt;</td><td align="left">ë„¤íŠ¸ì›Œí¬ ìƒì„±</td></tr><tr><td align="left">docker network rm &lt;ì´ë¦„&gt;</td><td align="left">ë„¤íŠ¸ì›Œí¬ ì‚­ì œ</td></tr><tr><td align="left">docker network connect &lt;ë„¤íŠ¸ì›Œí¬&gt; &lt;ì»¨í…Œì´ë„ˆ&gt;</td><td align="left">ì»¨í…Œì´ë„ˆë¥¼ ë„¤íŠ¸ì›Œí¬ì— ì—°ê²°</td></tr><tr><td align="left">docker network disconnect &lt;ë„¤íŠ¸ì›Œí¬&gt; &lt;ì»¨í…Œì´ë„ˆ&gt;</td><td align="left">ì—°ê²° í•´ì œ</td></tr></tbody></table>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Docker/">Docker</category>
      
      
      
      <comments>https://ckck803.github.io/2025/04/06/docker/network/docker-network/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>[ì¿ ë²„ë„¤í‹°ìŠ¤] ì¸ì¦/ì¸ê°€ - OIDC ë¥¼ ì´ìš©í•œ Keycloak ì—°ë™</title>
      <link>https://ckck803.github.io/2025/04/05/k8s/auth/k8s-oidc-keycloak/</link>
      <guid>https://ckck803.github.io/2025/04/05/k8s/auth/k8s-oidc-keycloak/</guid>
      <pubDate>Sat, 05 Apr 2025 01:31:46 GMT</pubDate>
      
        
        
      <description>&lt;!-- ![](/images/k8s/helm/helm.png) --&gt;

&lt;p&gt;&lt;img src=&quot;/images/k8s/k8s.png&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;ëª©ì°¨&quot;&gt;&lt;a href=&quot;#ëª©ì°¨&quot; class=&quot;headerlink&quot; title=&quot;ëª©ì°¨&quot;&gt;&lt;/a&gt;</description>
        
      
      
      
      <content:encoded><![CDATA[<!-- ![](/images/k8s/helm/helm.png) --><p><img src="/images/k8s/k8s.png"></p><h2 id="ëª©ì°¨"><a href="#ëª©ì°¨" class="headerlink" title="ëª©ì°¨"></a>ëª©ì°¨</h2><ul><li><a href="/2025/04/05/k8s/auth/k8s-oidc-keycloak/" title="[ì¿ ë²„ë„¤í‹°ìŠ¤] ì¸ì¦&#x2F;ì¸ê°€ - OIDC ë¥¼ ì´ìš©í•œ Keycloak ì—°ë™">[ì¿ ë²„ë„¤í‹°ìŠ¤] ì¸ì¦&#x2F;ì¸ê°€ - OIDC ë¥¼ ì´ìš©í•œ Keycloak ì—°ë™</a></li><li><a href="/2023/06/11/k8s/auth/ServiceAccount/" title="[ì¿ ë²„ë„¤í‹°ìŠ¤] ì¸ì¦&#x2F;ì¸ê°€ - ServiceAccount">[ì¿ ë²„ë„¤í‹°ìŠ¤] ì¸ì¦&#x2F;ì¸ê°€ - ServiceAccount</a></li><li><a href="/2025/04/03/k8s/auth/cert-user/" title="[ì¿ ë²„ë„¤í‹°ìŠ¤] ì¸ì¦&#x2F;ì¸ê°€ - X.509 ì¸ì¦ì„œë¥¼ ì‚¬ìš©í•œ ì‚¬ìš©ì ì¶”ê°€ ë° ì¸ì¦">[ì¿ ë²„ë„¤í‹°ìŠ¤] ì¸ì¦&#x2F;ì¸ê°€ - X.509 ì¸ì¦ì„œë¥¼ ì‚¬ìš©í•œ ì‚¬ìš©ì ì¶”ê°€ ë° ì¸ì¦</a></li><li><a href="/2025/04/05/k8s/auth/role-clusterrole/" title="[ì¿ ë²„ë„¤í‹°ìŠ¤] ì¸ì¦&#x2F;ì¸ê°€ - Role ê³¼ ClusterRole">[ì¿ ë²„ë„¤í‹°ìŠ¤] ì¸ì¦&#x2F;ì¸ê°€ - Role ê³¼ ClusterRole</a></li></ul><h2 id="ì°¸ê³ "><a href="#ì°¸ê³ " class="headerlink" title="ì°¸ê³ "></a>ì°¸ê³ </h2><ul><li><a href="https://wlsdn3004.tistory.com/62">https://wlsdn3004.tistory.com/62</a></li></ul><hr><p>ì•ì„œ ë§í–ˆë“¯ì´, ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” ì‚¬ìš©ì ì •ë³´ë¥¼ ì €ì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì‚¬ìš©ìë¥¼ ê´€ë¦¬í•˜ê³  ì‹¶ìœ¼ë©´, ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œ ì œê³µí•˜ëŠ” OIDC ë¥¼ í†µí•´ ë³„ë„ì˜ ì¸ì¦ ì„œë²„ì™€ ì—°ê³„ë¥¼ í•˜ë©´ ì‚¬ìš©ìë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><p>ì¸ì¦ì„œë²„ë¡œ ìœ ëª…í•œ Keycloak ì„ ì´ìš©í•´ ì‚¬ìš©ìë¥¼ ê´€ë¦¬í•˜ê³  ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œ ì¸ì¦ì„ ì§„í–‰í•  ìˆ˜ ìˆë„ë¡ ì„¤ì •ì„ ì§„í–‰í•˜ë ¤ê³  í•©ë‹ˆë‹¤.</p><h2 id="âœ…-1-Keycloak-Client-ì¶”ê°€"><a href="#âœ…-1-Keycloak-Client-ì¶”ê°€" class="headerlink" title="âœ… 1. Keycloak Client ì¶”ê°€"></a>âœ… 1. Keycloak Client ì¶”ê°€</h2><p>ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œ Keycloak ì„ ì´ìš©í•´ ì¸ì¦ì„ ì§„í–‰í•˜ê¸° ìœ„í•´ì„œëŠ” Client ìƒì„±(ë“±ë¡) ì´ í•„ìš”í•©ë‹ˆë‹¤.  Client ë‹¨ìœ„ë¡œ Keycloak ì—ì„œëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ ì‚¬ìš©ìë“¤ì„ ê´€ë¦¬í•˜ê³  ê¶Œí•œì„ ë§¤í•‘í•´ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><h4 id="1-1-Client-ìƒì„±"><a href="#1-1-Client-ìƒì„±" class="headerlink" title="1-1. Client ìƒì„±"></a>1-1. Client ìƒì„±</h4><p><code>kubernetes-client</code> ì´ë¦„ìœ¼ë¡œ ìƒˆë¡œìš´ client ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.</p><p><img src="/images/k8s/auth/k8s-keycloak-client1.png"></p><p>Client authentication ì„ í™œì„±í™” í•´ì¤ë‹ˆë‹¤.</p><p><img src="/images/k8s/auth/k8s-keycloak-client2.png"></p><p>í˜„ì¬ëŠ” OIDC ë¥¼ ì´ìš©í•˜ê¸° ìœ„í•œ URL ì´ ì—†ìœ¼ë¯€ë¡œ ë¹ˆì¹¸ìœ¼ë¡œ ë„˜ì–´ê°‘ë‹ˆë‹¤.</p><p><img src="/images/k8s/auth/k8s-keycloak-client3.png"></p><h4 id="1-2-Role-ìƒì„±"><a href="#1-2-Role-ìƒì„±" class="headerlink" title="1-2. Role ìƒì„±"></a>1-2. Role ìƒì„±</h4><p>ìƒˆë¡œìš´ Role ì„ ì¶”ê°€í•´ì¤ë‹ˆë‹¤.</p><p><img src="/images/k8s/auth/k8s-keycloak-add-role.png"></p><h4 id="1-3-User-Client-Role-ìƒì„±"><a href="#1-3-User-Client-Role-ìƒì„±" class="headerlink" title="1-3. User Client Role ìƒì„±"></a>1-3. User Client Role ìƒì„±</h4><p><img src="/images/k8s/auth/k8s-keycloak-user-client-role.png"></p><h4 id="1-4-User-ì¶”ê°€"><a href="#1-4-User-ì¶”ê°€" class="headerlink" title="1-4. User ì¶”ê°€"></a>1-4. User ì¶”ê°€</h4><p>ì¿ ë²„ë„¤í‹°ìŠ¤ ì‚¬ìš©ì ì¸ì¦ì„ ìœ„í•´ <code>test</code> ë¡œ ê³„ì •ì„ í•˜ë‚˜ ìƒì„±í•©ë‹ˆë‹¤.</p><p><img src="/images/k8s/auth/k8s-create-user.png"></p><p>ê³„ì •ì„ í™œì„±í™” í•˜ê¸° ìœ„í•´ì„œëŠ” password ë¥¼ ì„¸íŒ…í•´ì•¼ í•©ë‹ˆë‹¤.</p><p><img src="/images/k8s/auth/k8s-keycloak-user-password.png"></p><h4 id="1-5-Group-ìƒì„±"><a href="#1-5-Group-ìƒì„±" class="headerlink" title="1-5. Group ìƒì„±"></a>1-5. Group ìƒì„±</h4><p><img src="/images/k8s/auth/k8s-keycloak-group.png"></p><p><img src="/images/k8s/auth/k8s-keycloak-group2.png"></p><h4 id="1-6-User-ì—-Group-ë§¤í•‘"><a href="#1-6-User-ì—-Group-ë§¤í•‘" class="headerlink" title="1-6. User ì— Group ë§¤í•‘"></a>1-6. User ì— Group ë§¤í•‘</h4><p><img src="/images/k8s/auth/k8s-keycloak-user-add-group.png"></p><h2 id="âœ…-2-Kubernetes-API-Serverì—-OIDC-ì˜µì…˜-ì¶”ê°€"><a href="#âœ…-2-Kubernetes-API-Serverì—-OIDC-ì˜µì…˜-ì¶”ê°€" class="headerlink" title="âœ… 2. Kubernetes API Serverì— OIDC ì˜µì…˜ ì¶”ê°€"></a>âœ… 2. Kubernetes API Serverì— OIDC ì˜µì…˜ ì¶”ê°€</h2><h4 id="2-1-kube-apiserver-ë§¤ë‹ˆí˜ìŠ¤íŠ¸-ë³€ê²½"><a href="#2-1-kube-apiserver-ë§¤ë‹ˆí˜ìŠ¤íŠ¸-ë³€ê²½" class="headerlink" title="2-1. kube-apiserver ë§¤ë‹ˆí˜ìŠ¤íŠ¸ ë³€ê²½"></a>2-1. kube-apiserver ë§¤ë‹ˆí˜ìŠ¤íŠ¸ ë³€ê²½</h4><p>ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œ ìš”ì²­ì„ ë°›ì€ Kube API Server ê°€ Keycloak ì„ í†µí•´ ì¸ì¦ì˜ ìœ íš¨ì„±ì„ í™•ì¸í•  ìˆ˜ ìˆë„ë¡ <code>kube-apiserver.yaml</code> íŒŒì¼ì— ì„¤ì •ì„ ì¶”ê°€í•´ì¤˜ì•¼ í•©ë‹ˆë‹¤.</p><p>kubeadmìœ¼ë¡œ ì„¤ì¹˜í–ˆì„ ê²½ìš° <code>/etc/kubernetes/manifests/kube-apiserver.yaml</code> ì— íŒŒì¼ì´ ì¡´ì¬í•©ë‹ˆë‹¤.</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">command:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">kube-apiserver</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">--oidc-issuer-url=https://&lt;Keycloak-í˜¸ìŠ¤íŠ¸&gt;/auth/realms/&lt;Realm-ì´ë¦„&gt;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">--oidc-client-id=kubernetes</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">--oidc-username-claim=preferred_username</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">--oidc-username-prefix=-</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">--oidc-groups-claim=groups</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">--oidc-groups-prefix=&quot;kubernetes:&quot;</span></span><br></pre></td></tr></table></figure><h4 id="2-2-ì¿ ë²„ë„¤í‹°ìŠ¤-ì ‘ì†ì„-ìœ„í•œ-Keycloak-í† í°-ìƒì„±-í…ŒìŠ¤íŠ¸"><a href="#2-2-ì¿ ë²„ë„¤í‹°ìŠ¤-ì ‘ì†ì„-ìœ„í•œ-Keycloak-í† í°-ìƒì„±-í…ŒìŠ¤íŠ¸" class="headerlink" title="2-2. ì¿ ë²„ë„¤í‹°ìŠ¤ ì ‘ì†ì„ ìœ„í•œ Keycloak í† í° ìƒì„± í…ŒìŠ¤íŠ¸"></a>2-2. ì¿ ë²„ë„¤í‹°ìŠ¤ ì ‘ì†ì„ ìœ„í•œ Keycloak í† í° ìƒì„± í…ŒìŠ¤íŠ¸</h4><p>ìœ„ì—ì„œ ìƒì„±í•œ Keycloak ì—ì„œ ì‚¬ìš©í•˜ê¸° ìœ„í•œ Client ì™€ User ì •ë³´ë¥¼ ì´ìš©í•´ Token ìƒì„± ìš”ì²­ì´ ì •ìƒì ìœ¼ë¡œ ì´ë¤„ì§€ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">curl --location <span class="string">&#x27;https://&lt;Keycloak-í˜¸ìŠ¤íŠ¸&gt;/realms/&lt;Realm-ì´ë¦„&gt;/protocol/openid-connect/token&#x27;</span> \</span><br><span class="line">  --header <span class="string">&#x27;Content-Type: application/x-www-form-urlencoded&#x27;</span> \</span><br><span class="line">  -d <span class="string">&#x27;grant_type=password&#x27;</span> \</span><br><span class="line">  -d <span class="string">&#x27;client_id=kubernetes-client&#x27;</span> \</span><br><span class="line">  -d <span class="string">&#x27;username=test&#x27;</span> \</span><br><span class="line">  -d <span class="string">&#x27;password=&lt;ë¹„ë°€ë²ˆí˜¸&gt;&#x27;</span> \</span><br><span class="line">  -d <span class="string">&#x27;scope=openid&#x27;</span> \</span><br><span class="line">  -d <span class="string">&#x27;client_secret=&lt;secrete ì •ë³´&gt;&#x27;</span></span><br></pre></td></tr></table></figure><p>ì •ìƒì ì¸ ì‘ë‹µì´ ì™”ì„ ê²½ìš° Keycloak ì—ì„œëŠ” ì•„ë˜ì™€ ê°™ì€ í† í° ì •ë³´ë¥¼ ë°˜í™˜í•´ì¤ë‹ˆë‹¤.</p><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;access_token&quot;</span><span class="punctuation">:</span> <span class="string">&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJzOEdsMWxzdUNLcFQ4R0RUcDVycF8waEsxN200TmJEOHFqcWp6dnFkMTFjIn0.eyJleHAiOjE3NDM4NjE0NDYsImlhdCI6MTc0Mzg2MTE0NiwianRpIjoiNzZkZTYwYWMtZGMxYy00YjM1LWFiODUtOWM0ZDNjMDc3M2VlIiwiaXNzIjoiaHR0cHM6Ly9hdXRoLmRkYW56aXRzLmNvbS9yZWFsbXMvZGRhbnppdCIsInN1YiI6IjI1MzJiNjYxLTA5ODUtNDI1YS1iYWU2LTNjMmQ4YmQ0ZGEyMyIsInR5cCI6IkJlYXJlciIsImF6cCI6Imt1YmVybmV0ZXMtY2xpZW50Iiwic2lkIjoiMzc5ZDYzZWMtNzUwOS00NzUyLWI3YTQtOTM1NDE4YTllOWNkIiwiYWNyIjoiMSIsImFsbG93ZWQtb3JpZ2lucyI6WyIvKiJdLCJyZXNvdXJjZV9hY2Nlc3MiOnsia3ViZXJuZXRlcy1jbGllbnQiOnsicm9sZXMiOlsiYWRtaW4iXX19LCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwiZW1haWxfdmVyaWZpZWQiOmZhbHNlLCJncm91cHMiOlsia3ViZXJuZXRlczphZG1pbiJdLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJ0ZXN0In0.K8A_nTdNhP7HR4dR_hvuqGaWspnwnsQgJ5VPiC2UceO2l5tPi4Bxmh_TmeuIjcIOlv-d_CjgyZ4_kuKrobMpinReuAuFLD3IMuzqvXUMTyWkBv-tAxfcHqk4jceUSQEANdrywfzA7Xb2h38aSytm9TglZa7_P9mbNT34r3R_qnjwSxlnlPegjFfYvJFP107Tt5w6GIbIf3XhoRI_TYzDBSVTIvL_Y7lkvvoNB0woF0gBX914qW8_koD3NE0eNpXINhAWUB7LUycvBMYE-edgWj8menY3XwHrcNiO0FHCgTJ2nfA0KgJAspiWD725UnCW5v7Y7wD5rijNYZ38LiVkIQ&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;expires_in&quot;</span><span class="punctuation">:</span> <span class="number">300</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;refresh_expires_in&quot;</span><span class="punctuation">:</span> <span class="number">1800</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;refresh_token&quot;</span><span class="punctuation">:</span> <span class="string">&quot;eyJhbGciOiJIUzUxMiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0OGE4YzYzMy0zODk3LTQ3ZjMtYTk3Ni05OTdhNmJkYjQ1MzcifQ.eyJleHAiOjE3NDM4NjI5NDYsImlhdCI6MTc0Mzg2MTE0NiwianRpIjoiZmQ1M2UzNjgtMjM4NC00N2FlLTlhNWYtODEyNjIyNzg0ZmE1IiwiaXNzIjoiaHR0cHM6Ly9hdXRoLmRkYW56aXRzLmNvbS9yZWFsbXMvZGRhbnppdCIsImF1ZCI6Imh0dHBzOi8vYXV0aC5kZGFueml0cy5jb20vcmVhbG1zL2RkYW56aXQiLCJzdWIiOiIyNTMyYjY2MS0wOTg1LTQyNWEtYmFlNi0zYzJkOGJkNGRhMjMiLCJ0eXAiOiJSZWZyZXNoIiwiYXpwIjoia3ViZXJuZXRlcy1jbGllbnQiLCJzaWQiOiIzNzlkNjNlYy03NTA5LTQ3NTItYjdhNC05MzU0MThhOWU5Y2QiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGJhc2ljIHJvbGVzIGFjciB3ZWItb3JpZ2lucyBlbWFpbCJ9.jCsS44jWe8xAUV1BNc4bFaamElEtg7pWHuW-m19azInpg-nziZvUrx1RwMYB_sR6pOWRvSOhoIrZXWLJOml7Vg&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;token_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Bearer&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;id_token&quot;</span><span class="punctuation">:</span> <span class="string">&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJzOEdsMWxzdUNLcFQ4R0RUcDVycF8waEsxN200TmJEOHFqcWp6dnFkMTFjIn0.eyJleHAiOjE3NDM4NjE0NDYsImlhdCI6MTc0Mzg2MTE0NiwianRpIjoiNWU0NTk4OTktOTk5NC00N2FlLWE2NjYtOWEwMzNkZmQ1MThkIiwiaXNzIjoiaHR0cHM6Ly9hdXRoLmRkYW56aXRzLmNvbS9yZWFsbXMvZGRhbnppdCIsImF1ZCI6Imt1YmVybmV0ZXMtY2xpZW50Iiwic3ViIjoiMjUzMmI2NjEtMDk4NS00MjVhLWJhZTYtM2MyZDhiZDRkYTIzIiwidHlwIjoiSUQiLCJhenAiOiJrdWJlcm5ldGVzLWNsaWVudCIsInNpZCI6IjM3OWQ2M2VjLTc1MDktNDc1Mi1iN2E0LTkzNTQxOGE5ZTljZCIsImF0X2hhc2giOiJ2N3VFMzY2RS1OSmpsa21QbFRJX0dnIiwiYWNyIjoiMSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZ3JvdXBzIjpbImt1YmVybmV0ZXM6YWRtaW4iXSwicHJlZmVycmVkX3VzZXJuYW1lIjoidGVzdCJ9.bAUI2zSw8WGfKtJagjMFMMpza2jHHbPwB5dOGlvC0bgqJANjuZTt8VU43yLps_1ksf3EydOjnnKXoQOPSDrJprdEb6AKud-wzs0KjeuwCWrJXnHEp1YxA9fM8-CTwcExoeFKSHQOIBFkoCAY2F8fUdfmdszqMUj13vm_95QHUwhN8jw12zh_KKS_KwEMODs9fLqTxJLgKHSti7uGQi8CI_NBFDcfC-FP1Q44fzJf7m9trD14NW06iu9IGL4d32xwtcjzdh9d4zM4Wc42bYOfA1wI0l5N-k6jmpYevilWvwACwxLmkHnVdjRlHSS6pb3lY8lyvKSwfMdQs_McMQcsIA&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;not-before-policy&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;session_state&quot;</span><span class="punctuation">:</span> <span class="string">&quot;379d63ec-7509-4752-b7a4-935418a9e9cd&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;scope&quot;</span><span class="punctuation">:</span> <span class="string">&quot;openid profile email&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>ìœ„ ì—¬ëŸ¬ í† í° ì¤‘ì—ì„œ ì¿ ë²„ë„¤í‹°ìŠ¤ API Server ì— ìš”ì²­ì‹œì—ëŠ” <code>id_token</code> ê°’ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. í•´ë‹¹ í† í°ì— ì–´ë–¤ ì •ë³´ê°€ ìˆëŠ”ì§€ ë””ì½”ë”© í•´ë³´ë©´ ì•„ë˜ì™€ ê°™ì€ ê°’ë“¤ì„ ê°–ê³  ìˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><p><img src="/images/k8s/auth/k8s-jwt.png"></p><h4 id="2-3-ê¶Œí•œ-ë¶€ì—¬-ë¡¤-ìƒì„±-ë°-ë¡¤-ë°”ì¸ë”©"><a href="#2-3-ê¶Œí•œ-ë¶€ì—¬-ë¡¤-ìƒì„±-ë°-ë¡¤-ë°”ì¸ë”©" class="headerlink" title="2-3. ê¶Œí•œ ë¶€ì—¬ - ë¡¤ ìƒì„± ë° ë¡¤ ë°”ì¸ë”©"></a>2-3. ê¶Œí•œ ë¶€ì—¬ - ë¡¤ ìƒì„± ë° ë¡¤ ë°”ì¸ë”©</h4><p>ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” ì¸ì¦ í›„ ë¦¬ì†ŒìŠ¤ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ê¶Œí•œì´ í•„ìš”í•©ë‹ˆë‹¤. ëª¨ë“  Pod ì— ëŒ€í•œ ì¡°íšŒ ê¶Œí•œì„ ì£¼ê¸° ìœ„í•´ <code>ClusterRole</code> ì„ ìƒì„±í•©ë‹ˆë‹¤. ë§Œì•½, íŠ¹ì • ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ ê¶Œí•œë§Œì„ ì£¼ê³  ì‹¶ë‹¤ê³  í•˜ë©´ <code>Role</code> ë¦¬ì†ŒìŠ¤ë¥¼ ìƒì„±í•˜ë©´ ë©ë‹ˆë‹¤.</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">kind:</span> <span class="string">ClusterRole</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">rbac.authorization.k8s.io/v1</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">keycloak-role</span></span><br><span class="line"><span class="attr">rules:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">apiGroups:</span> [<span class="string">&quot;&quot;</span>]</span><br><span class="line">    <span class="attr">resources:</span> [<span class="string">&quot;namespaces&quot;</span>, <span class="string">&quot;pods&quot;</span>]</span><br><span class="line">    <span class="attr">verbs:</span> [<span class="string">&quot;get&quot;</span>, <span class="string">&quot;list&quot;</span>, <span class="string">&quot;watch&quot;</span>]</span><br></pre></td></tr></table></figure><p>ê¶Œí•œì´ ìƒì„± ëìœ¼ë©´ í•´ë‹¹ ê¶Œí•œì„ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ë¡¤ ë°”ì¸ë”© ë¦¬ì†ŒìŠ¤ë„ ìƒì„±í•©ë‹ˆë‹¤. ìœ„ì—ì„œ <code>ClusterRol</code> ì„ ìƒì„±í–ˆìœ¼ë¯€ë¡œ <code>ClusterRoleBinding</code> ë¦¬ì†ŒìŠ¤ë¥¼ í†µí•´ ë°”ì¸ë”©ì„ í•´ì•¼ í•©ë‹ˆë‹¤.</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">rbac.authorization.k8s.io/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">ClusterRoleBinding</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">keycloak-crb-test</span></span><br><span class="line"><span class="attr">roleRef:</span></span><br><span class="line">  <span class="attr">apiGroup:</span> <span class="string">rbac.authorization.k8s.io</span></span><br><span class="line">  <span class="attr">kind:</span> <span class="string">ClusterRole</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">keycloak-role</span></span><br><span class="line"><span class="attr">subjects:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">apiGroup:</span> <span class="string">rbac.authorization.k8s.io</span></span><br><span class="line">  <span class="attr">kind:</span> <span class="string">User</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">test</span></span><br></pre></td></tr></table></figure><h4 id="2-4-í† í°ì„-ì´ìš©í•´-ì¿ ë²„ë„¤í‹°ìŠ¤-API-Server-ìš”ì²­"><a href="#2-4-í† í°ì„-ì´ìš©í•´-ì¿ ë²„ë„¤í‹°ìŠ¤-API-Server-ìš”ì²­" class="headerlink" title="2-4. í† í°ì„ ì´ìš©í•´ ì¿ ë²„ë„¤í‹°ìŠ¤ API Server ìš”ì²­"></a>2-4. í† í°ì„ ì´ìš©í•´ ì¿ ë²„ë„¤í‹°ìŠ¤ API Server ìš”ì²­</h4><p>í† í° ìƒì„±ì´ ì •ìƒì ìœ¼ë¡œ ë˜ëŠ”ì§€ í™•ì¸í–ˆê³ , ì´ë²ˆì—ëŠ” ìƒì„±í•œ í† í°ì„ ì´ìš©í•´ ì¿ ë²„ë„¤í‹°ìŠ¤ API Server ì— ìš”ì²­ì„ ë³´ë‚´ë ¤ê³  í•©ë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">TOKEN=$(curl --location <span class="string">&#x27;https://&lt;Keycloak-í˜¸ìŠ¤íŠ¸&gt;/realms/&lt;Realm-ì´ë¦„&gt;/protocol/openid-connect/token&#x27;</span> \</span><br><span class="line">  --header <span class="string">&#x27;Content-Type: application/x-www-form-urlencoded&#x27;</span> \</span><br><span class="line">  -d <span class="string">&#x27;grant_type=password&#x27;</span> \</span><br><span class="line">  -d <span class="string">&#x27;client_id=kubernetes-client&#x27;</span> \</span><br><span class="line">  -d <span class="string">&#x27;username=test&#x27;</span> \</span><br><span class="line">  -d <span class="string">&#x27;password=&lt;ë¹„ë°€ë²ˆí˜¸&gt;&#x27;</span> \</span><br><span class="line">  -d <span class="string">&#x27;scope=openid&#x27;</span> \</span><br><span class="line">  -d <span class="string">&#x27;client_secret=&lt;secrete ì •ë³´&gt;&#x27;</span> | jq -r <span class="string">&#x27;.id_token&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ë°›ì€ í† í°ì„ ì´ìš©í•´ ì¿ ë²„ë„¤í‹°ìŠ¤ API Server ì— ìš”ì²­ì´ ì •ìƒì ìœ¼ë¡œ ê°€ëŠ”ì§€ í™•ì¸í•´ ë´…ë‹ˆë‹¤.</span></span><br><span class="line">curl  https://&lt;ì¿ ë²„ë„¤í‹°ìŠ¤ api server ì£¼ì†Œ&gt;/api/v1/namespaces/default --header <span class="string">&quot;Authorization: Bearer <span class="variable">$&#123;TOKEN&#125;</span>&quot;</span> --insecure</span><br></pre></td></tr></table></figure><p>í† í°ì— ë¬¸ì œê°€ ì—†ì„ ê²½ìš° ì•„ë˜ì™€ ê°™ì€ ì‘ë‹µì´ ì˜¤ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;kind&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Namespace&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;apiVersion&quot;</span><span class="punctuation">:</span> <span class="string">&quot;v1&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;metadata&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;default&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;uid&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1c78224d-d264-4c25-873c-4407be8d63e1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;resourceVersion&quot;</span><span class="punctuation">:</span> <span class="string">&quot;36&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;creationTimestamp&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2025-02-20T16:16:48Z&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;labels&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;kubernetes.io/metadata.name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;default&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;managedFields&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;manager&quot;</span><span class="punctuation">:</span> <span class="string">&quot;kube-apiserver&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;operation&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Update&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;apiVersion&quot;</span><span class="punctuation">:</span> <span class="string">&quot;v1&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;time&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2025-02-20T16:16:48Z&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;fieldsType&quot;</span><span class="punctuation">:</span> <span class="string">&quot;FieldsV1&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;fieldsV1&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;f:metadata&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;f:labels&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">              <span class="attr">&quot;.&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">              <span class="attr">&quot;f:kubernetes.io/metadata.name&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="punctuation">&#125;</span></span><br><span class="line">            <span class="punctuation">&#125;</span></span><br><span class="line">          <span class="punctuation">&#125;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;spec&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;finalizers&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">      <span class="string">&quot;kubernetes&quot;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;status&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;phase&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Active&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>ì¸ì¦ì— ì„±ê³µí•œ User ë¥¼ ì´ìš©í•´ kubectl ëª…ë ¹ì–´ë¥¼ ì´ìš©í•˜ê¸° ìœ„í•´ <code>kubeconfig</code> íŒŒì¼ì— í† í° ì •ë³´ë¥¼ ë°˜ì˜í•´ì¤ë‹ˆë‹¤.</p><figure class="highlight yaml"><figcaption><span>config</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">clusters:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">cluster:</span></span><br><span class="line">    <span class="attr">certificate-authority-data:</span> <span class="string">LS0tLS1CRUdJ</span> <span class="string">...</span> <span class="string">DQVRFLS0tLS0K</span></span><br><span class="line">    <span class="attr">server:</span> <span class="string">&lt;kubernetes</span> <span class="string">api</span> <span class="string">server</span> <span class="string">ì£¼ì†Œ&gt;</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">kubernetes</span></span><br><span class="line"><span class="attr">contexts:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">context:</span></span><br><span class="line">    <span class="attr">cluster:</span> <span class="string">kubernetes</span></span><br><span class="line">    <span class="attr">user:</span> <span class="string">test</span></span><br><span class="line">    <span class="attr">namespace:</span> <span class="string">default</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">kubernetes</span></span><br><span class="line"><span class="attr">current-context:</span> <span class="string">kubernetes</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Config</span></span><br><span class="line"><span class="attr">preferences:</span> &#123;&#125;</span><br><span class="line"><span class="attr">users:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">test</span></span><br><span class="line">  <span class="attr">user:</span></span><br><span class="line">    <span class="attr">token:</span> <span class="string">eyJhbGciO</span> <span class="string">...</span> <span class="string">GfZXJw</span>  <span class="comment"># ìš”ì²­ì„ í†µí•´ ìƒì„±ëœ í† í°ì„ ì¶”ê°€í•´ ì¤ë‹ˆë‹¤.</span></span><br></pre></td></tr></table></figure><h4 id="2-5-ì¸ì¦-ë°-ì¸ê°€-ì—ëŸ¬"><a href="#2-5-ì¸ì¦-ë°-ì¸ê°€-ì—ëŸ¬" class="headerlink" title="2-5. ì¸ì¦ ë° ì¸ê°€ ì—ëŸ¬"></a>2-5. ì¸ì¦ ë° ì¸ê°€ ì—ëŸ¬</h4><p>ì¸ì¦ì´ ì •ìƒì ìœ¼ë¡œ ì´ë¤„ì§€ì§€ ì•Šì€ ê²½ìš°ì—ëŠ” ë‹¤ìŒê³¼ ê°™ì€ <code>401</code> ì—ëŸ¬ê°€ ë°œìƒí•˜ê²Œ ë©ë‹ˆë‹¤.</p><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;kind&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Status&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;apiVersion&quot;</span><span class="punctuation">:</span> <span class="string">&quot;v1&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;metadata&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;status&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Failure&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;message&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Unauthorized&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;reason&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Unauthorized&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;code&quot;</span><span class="punctuation">:</span> <span class="number">401</span></span><br><span class="line"><span class="punctuation">&#125;</span>%</span><br></pre></td></tr></table></figure><p>ê¶Œí•œì´ ì œëŒ€ë¡œ ì•ˆë“¤ì–´ê°€ ìˆì„ ê²½ìš° <code>403</code> ì—ëŸ¬ì™€ í•¨ê»˜ ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ ì ‘ê·¼ì„ í•  ìˆ˜ ì—†ë‹¤ëŠ” ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  </p><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;kind&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Status&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;apiVersion&quot;</span><span class="punctuation">:</span> <span class="string">&quot;v1&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;metadata&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;status&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Failure&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;message&quot;</span><span class="punctuation">:</span> <span class="string">&quot;namespaces \&quot;default\&quot; is forbidden: User \&quot;test\&quot; cannot get resource \&quot;namespaces\&quot; in API group \&quot;\&quot; in the namespace \&quot;default\&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;reason&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Forbidden&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;details&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;default&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;kind&quot;</span><span class="punctuation">:</span> <span class="string">&quot;namespaces&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;code&quot;</span><span class="punctuation">:</span> <span class="number">403</span></span><br><span class="line"><span class="punctuation">&#125;</span>%</span><br></pre></td></tr></table></figure><h2 id="âœ…-3-kubelogin-OIDC-ë¥¼-ì´ìš©í•˜ê¸°-ìœ„í•œ-Client-ì‚¬ìš©"><a href="#âœ…-3-kubelogin-OIDC-ë¥¼-ì´ìš©í•˜ê¸°-ìœ„í•œ-Client-ì‚¬ìš©" class="headerlink" title="âœ… 3. kubelogin - OIDC ë¥¼ ì´ìš©í•˜ê¸° ìœ„í•œ Client ì‚¬ìš©"></a>âœ… 3. kubelogin - OIDC ë¥¼ ì´ìš©í•˜ê¸° ìœ„í•œ Client ì‚¬ìš©</h2><p>ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œ Keycloak ì„ ì´ìš©í•´ ì‚¬ìš©ì ì¸ì¦ê³¼ì •ì— ëŒ€í•œ ì„¤ì •ì´ ëë‚¬ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ, ì‚¬ìš©ìê°€ ì¿ ë²„ë„¤í‹°ìŠ¤ë¡œì˜ ì¸ì¦ ë°©ì‹ì— ëŒ€í•´ì„œëŠ” í˜„ì¬ ë”±íˆ ì •í•´ì§„ê²Œ ì—†ìŠµë‹ˆë‹¤. </p><p>ìœ„ ê³¼ì •ì—ì„œ ì¿ ë²„ë„¤í‹°ìŠ¤ ë¦¬ì†ŒìŠ¤ë¥¼ ì´ìš©í•˜ê¸° ì „ì— í† í°ì„ ìƒì„±í•˜ê³ , í† í°ì„ config íŒŒì¼ì— ë°˜ì˜í•˜ëŠ” ê³¼ì •ë“¤ì´ ìˆìŠµë‹ˆë‹¤. </p><p>ë§¤ë²ˆ ë°˜ë³µì ìœ¼ë¡œ í•˜ê¸°ì—ëŠ” ë²ˆê±°ë¡œìš´ ì´ ê³¼ì •ì„ ë‹¨ìˆœí™” í•˜ê¸° ìœ„í•´ kubelogin ì„ ì‚¬ìš©í•´ ì¸ì¦ì„ ê°„í¸í™”í•˜ë ¤ê³  í•©ë‹ˆë‹¤.</p><h4 id="3-1-kubelogin-ì„¤ì¹˜"><a href="#3-1-kubelogin-ì„¤ì¹˜" class="headerlink" title="3-1. kubelogin ì„¤ì¹˜."></a>3-1. kubelogin ì„¤ì¹˜.</h4><p><a href="https://github.com/int128/kubelogin">kubelogin ê³µì‹ë¬¸ì„œ</a> ì—ì„œ ìš´ì˜ì²´ì œ ë³„ë¡œ ì„¤ì¹˜í•˜ëŠ” ë°©ë²•ì´ ìˆìŠµë‹ˆë‹¤. ì €ëŠ” ë§¥í™˜ê²½ì—ì„œ ì´ìš©í•˜ë¯€ë¡œ brew ë¥¼ ì´ìš©í•œ ë°©ë²•ë§Œ ì •ë¦¬í–ˆìŠµë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">brew install kubelogin</span><br></pre></td></tr></table></figure><h4 id="3-2-kubelogin-ì„¤ì¹˜"><a href="#3-2-kubelogin-ì„¤ì¹˜" class="headerlink" title="3-2. kubelogin ì„¤ì¹˜."></a>3-2. kubelogin ì„¤ì¹˜.</h4><p>kubelogin ì—ì„œëŠ” <code>8000</code> ë²ˆ í¬íŠ¸ë¥¼ ì´ìš©í•´ ì‘ë‹µì„ ëŒ€ê¸° í•©ë‹ˆë‹¤. ì¸ì¦ì— ì„±ê³µ í›„ kubelogin ë¡œ ì‘ë‹µì„ ë³´ë‚´ì£¼ê¸° ìœ„í•´ <code>Valid redirect URIs</code> ì„¤ì •ì„ ì¶”ê°€í•´ì¤ë‹ˆë‹¤.</p><p><img src="/images/k8s/auth/k8s-keycloak-redirect.png"></p><h4 id="3-3-kubeconfig-íŒŒì¼ì—-ì •ë³´-ì¶”ê°€"><a href="#3-3-kubeconfig-íŒŒì¼ì—-ì •ë³´-ì¶”ê°€" class="headerlink" title="3-3. kubeconfig íŒŒì¼ì— ì •ë³´ ì¶”ê°€"></a>3-3. kubeconfig íŒŒì¼ì— ì •ë³´ ì¶”ê°€</h4><p>ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œ kubelogin ì„ ì´ìš©í•´ ì‚¬ìš©ì ì¸ì¦ì´ ì§„í–‰ë  ìˆ˜ ìˆë„ë¡ config íŒŒì¼ì— ëª…ë ¹ì–´ì™€ ì˜µì…˜ë“¤ì„ ì¶”ê°€í•©ë‹ˆë‹¤. í•´ë‹¹ ì •ë³´ë“¤ì„ í†µí•´ kubelogin ì—ì„œ Keycloak ì„ ì´ìš©í•´ ì¸ì¦ì„ ì§„í–‰í•˜ê³  ì¸ì¦ì •ë³´ë“¤ì„ ê´€ë¦¬í•´ì¤ë‹ˆë‹¤.</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">users:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">keycloak-user</span></span><br><span class="line">  <span class="attr">user:</span></span><br><span class="line">    <span class="attr">exec:</span></span><br><span class="line">      <span class="attr">apiVersion:</span> <span class="string">client.authentication.k8s.io/v1beta1</span></span><br><span class="line">      <span class="attr">command:</span> <span class="string">kubectl</span></span><br><span class="line">      <span class="attr">args:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">oidc-login</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">get-token</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">--oidc-issuer-url=https://&lt;Keycloak-í˜¸ìŠ¤íŠ¸&gt;/auth/realms/&lt;Realm-ì´ë¦„&gt;</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">--oidc-client-id=kubernetes-client</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">--oidc-client-secret=&lt;Keycloak</span> <span class="string">Client</span> <span class="string">Secret&gt;</span></span><br></pre></td></tr></table></figure><p>ëª…ë ¹ì–´ë¥¼ ì´ìš©í•´ì„œë„ config íŒŒì¼ì— ì„¤ì •ì •ë³´ë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">kubectl config set-credentials keycloak-user \</span><br><span class="line">  --exec-api-version=client.authentication.k8s.io/v1beta1 \</span><br><span class="line">  --exec-command=kubectl \</span><br><span class="line">  --exec-arg=oidc-login \</span><br><span class="line">  --exec-arg=get-token \</span><br><span class="line">  --exec-arg=--oidc-issuer-url=https://&lt;Keycloak-í˜¸ìŠ¤íŠ¸&gt;/auth/realms/&lt;Realm-ì´ë¦„&gt; \</span><br><span class="line">  --exec-arg=--oidc-client-id=kubernetes-client \</span><br><span class="line">  --exec-arg=--oidc-client-secret=&lt;Keycloak Client Secret&gt;</span><br></pre></td></tr></table></figure><p>ì•„ë˜ ì²˜ëŸ¼ User ì •ë³´ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì§€ì •í•´ì„œ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">kubectl --user=keycloak-user get nodes</span><br></pre></td></tr></table></figure><p>kubectl ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ê²Œ ë˜ë©´ kubelogin ê°€ Keycloak ì„ í†µí•´ ì‚¬ìš©ì ì¸ì¦ì„ í•˜ë„ë¡ í™”ë©´ì„ ë„ì–´ì¤ë‹ˆë‹¤.</p><p><img src="/images/k8s/auth/k8s-keycloak-kubelogin.png"></p><p>ì¸ì¦ì´ ì •ìƒì ìœ¼ë¡œ ì´ë¤„ì§€ë©´ ì•„ë˜ì™€ ê°™ì´ ì„±ê³µí–ˆë‹¤ëŠ” ë©”ì‹œì§€ê°€ ëœ¨ê³  ìœ„ì—ì„œ ì‹¤í–‰í•œ ê²°ê³¼ê°€ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ë©ë‹ˆë‹¤.</p><p><img src="/images/k8s/auth/k8s-keycloak-kubelogin-success.png"></p><h4 id="3-4-ì „ì²´-kubeconfig-íŒŒì¼"><a href="#3-4-ì „ì²´-kubeconfig-íŒŒì¼" class="headerlink" title="3-4. ì „ì²´ kubeconfig íŒŒì¼"></a>3-4. ì „ì²´ kubeconfig íŒŒì¼</h4><p>ì´ì œ ìƒˆë¡œìš´ ì¿ ë²„ë„¤í‹°ìŠ¤ ìš´ì˜ìê°€ ì™”ì„ ê²½ìš° í•´ë‹¹ config íŒŒì¼ì„ ê±´ë‚´ì£¼ë©´ Keycloak ì„ í†µí•´ ì‚¬ìš©ì ì¸ì¦ì„ ë°›ê³  ì¿ ë²„ë„¤í‹°ìŠ¤ ë¦¬ì†ŒìŠ¤ì— ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">clusters:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">cluster:</span></span><br><span class="line">    <span class="attr">certificate-authority-data:</span> <span class="string">LS0tLS1CRUdJ</span> <span class="string">...</span> <span class="string">DQVRFLS0tLS0K</span></span><br><span class="line">    <span class="attr">server:</span> <span class="string">&lt;kubernetes</span> <span class="string">api</span> <span class="string">server</span> <span class="string">ì£¼ì†Œ&gt;</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">kubernetes</span></span><br><span class="line"><span class="attr">contexts:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">context:</span></span><br><span class="line">    <span class="attr">cluster:</span> <span class="string">kubernetes</span></span><br><span class="line">    <span class="attr">user:</span> <span class="string">keycloak-user</span></span><br><span class="line">    <span class="attr">namespace:</span> <span class="string">default</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">kubernetes</span></span><br><span class="line"><span class="attr">current-context:</span> <span class="string">kubernetes</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Config</span></span><br><span class="line"><span class="attr">preferences:</span> &#123;&#125;</span><br><span class="line"><span class="attr">users:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">keycloak-user</span></span><br><span class="line">  <span class="attr">user:</span></span><br><span class="line">    <span class="attr">exec:</span></span><br><span class="line">      <span class="attr">apiVersion:</span> <span class="string">client.authentication.k8s.io/v1beta1</span></span><br><span class="line">      <span class="attr">command:</span> <span class="string">kubectl</span></span><br><span class="line">      <span class="attr">args:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">oidc-login</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">get-token</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">--oidc-issuer-url=https://&lt;Keycloak-í˜¸ìŠ¤íŠ¸&gt;/auth/realms/&lt;Realm-ì´ë¦„&gt;</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">--oidc-client-id=kubernetes-client</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">--oidc-client-secret=&lt;Keycloak</span> <span class="string">Client</span> <span class="string">Secret&gt;</span></span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Kubernetes/">Kubernetes</category>
      
      <category domain="https://ckck803.github.io/categories/Kubernetes/%EC%9D%B8%EC%A6%9D-%EC%9D%B8%EA%B0%80/">ì¸ì¦/ì¸ê°€</category>
      
      
      
      <comments>https://ckck803.github.io/2025/04/05/k8s/auth/k8s-oidc-keycloak/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>[ì¿ ë²„ë„¤í‹°ìŠ¤] ì¸ì¦/ì¸ê°€ - Role ê³¼ ClusterRole</title>
      <link>https://ckck803.github.io/2025/04/05/k8s/auth/role-clusterrole/</link>
      <guid>https://ckck803.github.io/2025/04/05/k8s/auth/role-clusterrole/</guid>
      <pubDate>Sat, 05 Apr 2025 01:31:46 GMT</pubDate>
      
        
        
      <description>&lt;!-- ![](/images/k8s/helm/helm.png) --&gt;

&lt;p&gt;&lt;img src=&quot;/images/k8s/k8s.png&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;ëª©ì°¨&quot;&gt;&lt;a href=&quot;#ëª©ì°¨&quot; class=&quot;headerlink&quot; title=&quot;ëª©ì°¨&quot;&gt;&lt;/a&gt;</description>
        
      
      
      
      <content:encoded><![CDATA[<!-- ![](/images/k8s/helm/helm.png) --><p><img src="/images/k8s/k8s.png"></p><h2 id="ëª©ì°¨"><a href="#ëª©ì°¨" class="headerlink" title="ëª©ì°¨"></a>ëª©ì°¨</h2><ul><li><a href="/2025/04/05/k8s/auth/k8s-oidc-keycloak/" title="[ì¿ ë²„ë„¤í‹°ìŠ¤] ì¸ì¦&#x2F;ì¸ê°€ - OIDC ë¥¼ ì´ìš©í•œ Keycloak ì—°ë™">[ì¿ ë²„ë„¤í‹°ìŠ¤] ì¸ì¦&#x2F;ì¸ê°€ - OIDC ë¥¼ ì´ìš©í•œ Keycloak ì—°ë™</a></li><li><a href="/2023/06/11/k8s/auth/ServiceAccount/" title="[ì¿ ë²„ë„¤í‹°ìŠ¤] ì¸ì¦&#x2F;ì¸ê°€ - ServiceAccount">[ì¿ ë²„ë„¤í‹°ìŠ¤] ì¸ì¦&#x2F;ì¸ê°€ - ServiceAccount</a></li><li><a href="/2025/04/03/k8s/auth/cert-user/" title="[ì¿ ë²„ë„¤í‹°ìŠ¤] ì¸ì¦&#x2F;ì¸ê°€ - X.509 ì¸ì¦ì„œë¥¼ ì‚¬ìš©í•œ ì‚¬ìš©ì ì¶”ê°€ ë° ì¸ì¦">[ì¿ ë²„ë„¤í‹°ìŠ¤] ì¸ì¦&#x2F;ì¸ê°€ - X.509 ì¸ì¦ì„œë¥¼ ì‚¬ìš©í•œ ì‚¬ìš©ì ì¶”ê°€ ë° ì¸ì¦</a></li><li><a href="/2025/04/05/k8s/auth/role-clusterrole/" title="[ì¿ ë²„ë„¤í‹°ìŠ¤] ì¸ì¦&#x2F;ì¸ê°€ - Role ê³¼ ClusterRole">[ì¿ ë²„ë„¤í‹°ìŠ¤] ì¸ì¦&#x2F;ì¸ê°€ - Role ê³¼ ClusterRole</a></li></ul><p>ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œ Roleê³¼ ClusterRoleì€ RBAC(ì—­í•  ê¸°ë°˜ ì ‘ê·¼ ì œì–´)ë¥¼ í†µí•´ ì‚¬ìš©ìë‚˜ ì„œë¹„ìŠ¤ ê³„ì •ì— ê¶Œí•œì„ ë¶€ì—¬í•˜ëŠ” ì¤‘ìš”í•œ ë¦¬ì†ŒìŠ¤ì…ë‹ˆë‹¤. ì•„ë˜ì— ê°ê°ì˜ íŠ¹ì§•ê³¼ ì°¨ì´ì ì„ ì •ë¦¬í•´ ë³´ì•˜ìŠµë‹ˆë‹¤.</p><h2 id="Role"><a href="#Role" class="headerlink" title="Role"></a>Role</h2><p>ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ë²”ìœ„: Roleì€ íŠ¹ì • ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ë‚´ì—ì„œë§Œ ìœ íš¨í•©ë‹ˆë‹¤. ë”°ë¼ì„œ í•œ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì˜ ìì›ì—ë§Œ ì ‘ê·¼ ê¶Œí•œì„ ë¶€ì—¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><p>ì •ì±… ì •ì˜: Role ì•ˆì—ëŠ” API ë¦¬ì†ŒìŠ¤(ì˜ˆ: Pods, Services ë“±)ì— ëŒ€í•œ íŠ¹ì • ë™ì‘(ì˜ˆ: get, list, create ë“±)ì´ ì •ì˜ë˜ì–´ ìˆìŠµë‹ˆë‹¤.</p><p>ë°”ì¸ë”©: Roleì€ RoleBindingì„ í†µí•´ ì‚¬ìš©ìë‚˜ ì„œë¹„ìŠ¤ ê³„ì •ì— ì—°ê²°ë©ë‹ˆë‹¤. ì´ë•Œ RoleBinding ì—­ì‹œ íŠ¹ì • ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì— ì†í•©ë‹ˆë‹¤.</p>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Kubernetes/">Kubernetes</category>
      
      <category domain="https://ckck803.github.io/categories/Kubernetes/%EC%9D%B8%EC%A6%9D-%EC%9D%B8%EA%B0%80/">ì¸ì¦/ì¸ê°€</category>
      
      
      
      <comments>https://ckck803.github.io/2025/04/05/k8s/auth/role-clusterrole/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>[ì¿ ë²„ë„¤í‹°ìŠ¤] ì¸ì¦/ì¸ê°€ - X.509 ì¸ì¦ì„œë¥¼ ì‚¬ìš©í•œ ì‚¬ìš©ì ì¶”ê°€ ë° ì¸ì¦</title>
      <link>https://ckck803.github.io/2025/04/03/k8s/auth/cert-user/</link>
      <guid>https://ckck803.github.io/2025/04/03/k8s/auth/cert-user/</guid>
      <pubDate>Thu, 03 Apr 2025 01:31:46 GMT</pubDate>
      
        
        
      <description>&lt;!-- ![](/images/k8s/helm/helm.png) --&gt;

&lt;p&gt;&lt;img src=&quot;/images/k8s/k8s.png&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;ëª©ì°¨&quot;&gt;&lt;a href=&quot;#ëª©ì°¨&quot; class=&quot;headerlink&quot; title=&quot;ëª©ì°¨&quot;&gt;&lt;/a&gt;</description>
        
      
      
      
      <content:encoded><![CDATA[<!-- ![](/images/k8s/helm/helm.png) --><p><img src="/images/k8s/k8s.png"></p><h2 id="ëª©ì°¨"><a href="#ëª©ì°¨" class="headerlink" title="ëª©ì°¨"></a>ëª©ì°¨</h2><ul><li><a href="/2025/04/05/k8s/auth/k8s-oidc-keycloak/" title="[ì¿ ë²„ë„¤í‹°ìŠ¤] ì¸ì¦&#x2F;ì¸ê°€ - OIDC ë¥¼ ì´ìš©í•œ Keycloak ì—°ë™">[ì¿ ë²„ë„¤í‹°ìŠ¤] ì¸ì¦&#x2F;ì¸ê°€ - OIDC ë¥¼ ì´ìš©í•œ Keycloak ì—°ë™</a></li><li><a href="/2023/06/11/k8s/auth/ServiceAccount/" title="[ì¿ ë²„ë„¤í‹°ìŠ¤] ì¸ì¦&#x2F;ì¸ê°€ - ServiceAccount">[ì¿ ë²„ë„¤í‹°ìŠ¤] ì¸ì¦&#x2F;ì¸ê°€ - ServiceAccount</a></li><li><a href="/2025/04/03/k8s/auth/cert-user/" title="[ì¿ ë²„ë„¤í‹°ìŠ¤] ì¸ì¦&#x2F;ì¸ê°€ - X.509 ì¸ì¦ì„œë¥¼ ì‚¬ìš©í•œ ì‚¬ìš©ì ì¶”ê°€ ë° ì¸ì¦">[ì¿ ë²„ë„¤í‹°ìŠ¤] ì¸ì¦&#x2F;ì¸ê°€ - X.509 ì¸ì¦ì„œë¥¼ ì‚¬ìš©í•œ ì‚¬ìš©ì ì¶”ê°€ ë° ì¸ì¦</a></li><li><a href="/2025/04/05/k8s/auth/role-clusterrole/" title="[ì¿ ë²„ë„¤í‹°ìŠ¤] ì¸ì¦&#x2F;ì¸ê°€ - Role ê³¼ ClusterRole">[ì¿ ë²„ë„¤í‹°ìŠ¤] ì¸ì¦&#x2F;ì¸ê°€ - Role ê³¼ ClusterRole</a></li></ul><hr><p>ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” ì‚¬ìš©ìë¥¼ â€œì¸ì¦â€í•˜ëŠ” ë°©ì‹ë§Œ ì•Œë©´ ë˜ê³ , ì‚¬ìš©ì ì •ë³´ë¥¼ ìì²´ë¥¼ ì €ì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. </p><p>X.509 ì¸ì¦ì„œ ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì€ ì‚¬ìš©ì ì¸ì¦ì„œë¥¼ ë§Œë“¤ê³  í´ëŸ¬ìŠ¤í„°ì— ë“±ë¡í•´ì„œ ì¸ì¦í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.</p><h2 id="âœ…-1-ì‚¬ìš©ì-ì¸ì¦ì„œ-ë°-í‚¤-ìƒì„±"><a href="#âœ…-1-ì‚¬ìš©ì-ì¸ì¦ì„œ-ë°-í‚¤-ìƒì„±" class="headerlink" title="âœ… 1. ì‚¬ìš©ì ì¸ì¦ì„œ ë° í‚¤ ìƒì„±"></a>âœ… 1. ì‚¬ìš©ì ì¸ì¦ì„œ ë° í‚¤ ìƒì„±</h2><h4 id="1-ê°œì¸-í‚¤-Private-Key-ìƒì„±"><a href="#1-ê°œì¸-í‚¤-Private-Key-ìƒì„±" class="headerlink" title="1. ê°œì¸ í‚¤ (Private Key) ìƒì„±"></a>1. ê°œì¸ í‚¤ (Private Key) ìƒì„±</h4><p>RSA ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ê°œì¸ í‚¤ ìƒì„± í•˜ê²Œ ë˜ë©´ <code>dev-user.key</code> íŒŒì¼ì´ ìƒì„±ë©ë‹ˆë‹¤.</p><p>ê°œì¸ í‚¤ëŠ” ì¸ì¦ì„œ ì„œëª… ìš”ì²­(CSR)ì„ ë§Œë“¤ ë•Œ í•„ìš”í•˜ë©° ì´í›„ ì¿ ë²„ë„¤í‹°ìŠ¤ API ì„œë²„ì™€ í†µì‹  ì‹œ ì´ í‚¤ë¡œ ì„œëª…ëœ ì¸ì¦ì„œë¥¼ ì‚¬ìš©í•´ ë³¸ì¸ì„ ì¦ëª…</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">openssl genrsa -out dev-user.key 2048</span><br></pre></td></tr></table></figure><h4 id="2-CSR-Certificate-Signing-Request-ì¸ì¦ì„œ-ì„œëª…-ìš”ì²­-ìƒì„±"><a href="#2-CSR-Certificate-Signing-Request-ì¸ì¦ì„œ-ì„œëª…-ìš”ì²­-ìƒì„±" class="headerlink" title="2. CSR (Certificate Signing Request, ì¸ì¦ì„œ ì„œëª… ìš”ì²­) ìƒì„±"></a>2. CSR (Certificate Signing Request, ì¸ì¦ì„œ ì„œëª… ìš”ì²­) ìƒì„±</h4><p>ê°œì¸ í‚¤ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì‚¬ìš©ì ì •ë³´ë¥¼ í¬í•¨í•˜ëŠ” CSRì„ ìƒì„±í•©ë‹ˆë‹¤. ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì´ìš©í•˜ë©´ <code>dev-user.csr</code> íŒŒì¼ì´ ìƒì„±ë©ë‹ˆë‹¤.</p><p>CN&#x3D;dev-user: ì‚¬ìš©ìì˜ ì´ë¦„<br>O&#x3D;dev-group: ê·¸ë£¹ ì´ë¦„ (RBACì—ì„œ ì‚¬ìš© ê°€ëŠ¥)</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">openssl req -new \</span><br><span class="line">  -key dev-user.key \</span><br><span class="line">  -out dev-user.csr \</span><br><span class="line">  -subj <span class="string">&quot;/CN=dev-user/O=dev-group&quot;</span></span><br></pre></td></tr></table></figure><h2 id="âœ…-2-í´ëŸ¬ìŠ¤í„°-CAë¡œ-ì¸ì¦ì„œ-ì„œëª…"><a href="#âœ…-2-í´ëŸ¬ìŠ¤í„°-CAë¡œ-ì¸ì¦ì„œ-ì„œëª…" class="headerlink" title="âœ… 2. í´ëŸ¬ìŠ¤í„° CAë¡œ ì¸ì¦ì„œ ì„œëª…"></a>âœ… 2. í´ëŸ¬ìŠ¤í„° CAë¡œ ì¸ì¦ì„œ ì„œëª…</h2><p>ì´ ë‹¨ê³„ëŠ” Kubernetes í´ëŸ¬ìŠ¤í„°ì˜ CA ì¸ì¦ì„œì™€ í‚¤ê°€ í•„ìš”í•©ë‹ˆë‹¤. í´ëŸ¬ìŠ¤í„° CA ë¥¼ ì‚¬ìš©í•˜ì—¬ CSRì— ì„œëª…í•´ X.509 ì¸ì¦ì„œë¥¼ ë°œê¸‰í•©ë‹ˆë‹¤. ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì´ìš©í•˜ë©´ <code>dev-user.crt</code> íŒŒì¼ì´ ìƒì„±ë©ë‹ˆë‹¤.</p><p>ë³´í†µ kubeadm ìœ¼ë¡œ ì„¤ì¹˜í•œ ê²½ìš°ì—ëŠ” <code>/etc/kubernetes/pki/ca.crt</code>, <code>/etc/kubernetes/pki/ca.key</code> ê²½ë¡œì— ìˆìŠµë‹ˆë‹¤</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo openssl x509 -req \</span><br><span class="line">  -<span class="keyword">in</span> dev-user.csr \</span><br><span class="line">  -CA /etc/kubernetes/pki/ca.crt \</span><br><span class="line">  -CAkey /etc/kubernetes/pki/ca.key \</span><br><span class="line">  -CAcreateserial \</span><br><span class="line">  -out dev-user.crt \</span><br><span class="line">  -days 365</span><br></pre></td></tr></table></figure><p>ì´ì œ dev-user.crtì™€ dev-user.keyê°€ ì¤€ë¹„ë˜ì—ˆìŠµë‹ˆë‹¤.</p><h2 id="âœ…-3-kubeconfig-íŒŒì¼ì—-ì‚¬ìš©ì-ì¶”ê°€"><a href="#âœ…-3-kubeconfig-íŒŒì¼ì—-ì‚¬ìš©ì-ì¶”ê°€" class="headerlink" title="âœ… 3. kubeconfig íŒŒì¼ì— ì‚¬ìš©ì ì¶”ê°€"></a>âœ… 3. kubeconfig íŒŒì¼ì— ì‚¬ìš©ì ì¶”ê°€</h2><h4 id="ë°©ë²•-1-ê¸°ì¡´-configì—-ìˆ˜ë™ìœ¼ë¡œ-ì¶”ê°€"><a href="#ë°©ë²•-1-ê¸°ì¡´-configì—-ìˆ˜ë™ìœ¼ë¡œ-ì¶”ê°€" class="headerlink" title="ë°©ë²• 1. ê¸°ì¡´ configì— ìˆ˜ë™ìœ¼ë¡œ ì¶”ê°€"></a>ë°©ë²• 1. ê¸°ì¡´ configì— ìˆ˜ë™ìœ¼ë¡œ ì¶”ê°€</h4><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">users:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">dev-user</span></span><br><span class="line">  <span class="attr">user:</span></span><br><span class="line">    <span class="attr">client-certificate:</span> <span class="string">/path/to/dev-user.crt</span></span><br><span class="line">    <span class="attr">client-key:</span> <span class="string">/path/to/dev-user.key</span></span><br><span class="line"></span><br><span class="line"><span class="attr">contexts:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">dev-context</span></span><br><span class="line">  <span class="attr">context:</span></span><br><span class="line">    <span class="attr">cluster:</span> <span class="string">your-cluster</span></span><br><span class="line">    <span class="attr">user:</span> <span class="string">dev-user</span></span><br><span class="line">    <span class="attr">namespace:</span> <span class="string">default</span></span><br><span class="line"></span><br><span class="line"><span class="attr">current-context:</span> <span class="string">dev-context</span></span><br></pre></td></tr></table></figure><h4 id="ë°©ë²•-2-kubectl-config-ëª…ë ¹ì–´ë¡œ-ì¶”ê°€"><a href="#ë°©ë²•-2-kubectl-config-ëª…ë ¹ì–´ë¡œ-ì¶”ê°€" class="headerlink" title="ë°©ë²• 2. kubectl config ëª…ë ¹ì–´ë¡œ ì¶”ê°€"></a>ë°©ë²• 2. kubectl config ëª…ë ¹ì–´ë¡œ ì¶”ê°€</h4><p>ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì´ìš©í•˜ì—¬ ìœ„ì—ì„œ ìƒì„±í•œ ì¸ì¦ì„œì™€ ê°œì¸í‚¤ë¥¼ kubeconfig íŒŒì¼ì— dev-user ì´ë¦„ìœ¼ë¡œ ì¸ì¦ì •ë³´ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ì¸ì¦ì„œì™€ ê°œì¸í‚¤ë¥¼ ë“±ë¡</span></span><br><span class="line">kubectl config set-credentials dev-user \</span><br><span class="line">  --client-certificate=/path/to/dev-user.crt \</span><br><span class="line">  --client-key=/path/to/dev-user.key</span><br></pre></td></tr></table></figure><p>ìœ„ì—ì„œ ë“±ë¡ëœ ì¸ì¦ì •ë³´ë¥¼ ì´ìš©í•´ í´ëŸ¬ìŠ¤í„°ì— ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ context ì •ë³´ë¥¼ kubeconfig íŒŒì¼ì— ì¶”ê°€í•´ì¤ë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># í´ëŸ¬ìŠ¤í„°ì™€ namespace ê·¸ë¦¬ê³  user ì •ë³´ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤.</span></span><br><span class="line">kubectl config set-context dev-context \</span><br><span class="line">  --cluster=your-cluster-name \</span><br><span class="line">  --namespace=default \</span><br><span class="line">  --user=dev-user</span><br></pre></td></tr></table></figure><h4 id="ìµœì¢…-config-ëª¨ìŠµ"><a href="#ìµœì¢…-config-ëª¨ìŠµ" class="headerlink" title="ìµœì¢… config ëª¨ìŠµ"></a>ìµœì¢… config ëª¨ìŠµ</h4><p>ìœ„ ì •ë³´ë“¤ì„ <code>./kube/config</code> íŒŒì¼ì— ë°˜ì˜í•˜ë©´ ì•„ë˜ì™€ ê°™ì€ ëª¨ìŠµì…ë‹ˆë‹¤.</p><figure class="highlight yaml"><figcaption><span>config</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">clusters:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">cluster:</span></span><br><span class="line">    <span class="attr">certificate-authority-data:</span> <span class="string">LS0tLS1CRUdJTiBDRV</span> <span class="string">....ìƒëµ....</span> <span class="string">QVRFLS0tLS0K</span></span><br><span class="line">    <span class="attr">server:</span> <span class="string">&lt;kubernetes</span> <span class="string">api</span> <span class="string">server</span> <span class="string">ì£¼ì†Œ&gt;</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">kubernetes</span></span><br><span class="line"><span class="attr">contexts:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">context:</span></span><br><span class="line">    <span class="attr">cluster:</span> <span class="string">kubernetes</span></span><br><span class="line">    <span class="attr">user:</span> <span class="string">dev-user</span></span><br><span class="line">    <span class="attr">namespace:</span> <span class="string">default</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">home-kubernetes</span></span><br><span class="line"><span class="attr">current-context:</span> <span class="string">home-kubernetes</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Config</span></span><br><span class="line"><span class="attr">preferences:</span> &#123;&#125;</span><br><span class="line"><span class="attr">users:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">dev-user</span></span><br><span class="line">  <span class="attr">user:</span></span><br><span class="line">    <span class="attr">client-certificate:</span> <span class="string">/Users/dongwoo-yang/.kube/cert/dev-user.crt</span></span><br><span class="line">    <span class="attr">client-key:</span> <span class="string">/Users/dongwoo-yang/.kube/cert/dev-user.key</span></span><br></pre></td></tr></table></figure><h2 id="âœ…-4-ì‚¬ìš©ì-ê¶Œí•œ-ë¶€ì—¬-RBAC-ì„¤ì •"><a href="#âœ…-4-ì‚¬ìš©ì-ê¶Œí•œ-ë¶€ì—¬-RBAC-ì„¤ì •" class="headerlink" title="âœ… 4. ì‚¬ìš©ì ê¶Œí•œ ë¶€ì—¬ (RBAC ì„¤ì •)"></a>âœ… 4. ì‚¬ìš©ì ê¶Œí•œ ë¶€ì—¬ (RBAC ì„¤ì •)</h2><figure class="highlight yaml"><figcaption><span>dev-role.yaml</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">rbac.authorization.k8s.io/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Role</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-reader</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">default</span></span><br><span class="line"><span class="attr">rules:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">apiGroups:</span> [<span class="string">&quot;&quot;</span>]</span><br><span class="line">  <span class="attr">resources:</span> [<span class="string">&quot;pods&quot;</span>]</span><br><span class="line">  <span class="attr">verbs:</span> [<span class="string">&quot;get&quot;</span>, <span class="string">&quot;list&quot;</span>]</span><br></pre></td></tr></table></figure><figure class="highlight yaml"><figcaption><span>dev-rolebinding.yaml</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">rbac.authorization.k8s.io/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">RoleBinding</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">read-pods-binding</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">default</span></span><br><span class="line"><span class="attr">subjects:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">kind:</span> <span class="string">User</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">dev-user</span>   <span class="comment"># &lt;-- ì—¬ê¸°ì˜ ì´ë¦„ì€ ì¸ì¦ì„œì˜ CNê³¼ ê°™ì•„ì•¼ í•¨</span></span><br><span class="line">  <span class="attr">apiGroup:</span> <span class="string">rbac.authorization.k8s.io</span></span><br><span class="line"><span class="attr">roleRef:</span></span><br><span class="line">  <span class="attr">kind:</span> <span class="string">Role</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-reader</span></span><br><span class="line">  <span class="attr">apiGroup:</span> <span class="string">rbac.authorization.k8s.io</span></span><br></pre></td></tr></table></figure><h2 id="âœ…-5-í…ŒìŠ¤íŠ¸"><a href="#âœ…-5-í…ŒìŠ¤íŠ¸" class="headerlink" title="âœ… 5. í…ŒìŠ¤íŠ¸"></a>âœ… 5. í…ŒìŠ¤íŠ¸</h2><p>ë¶€ì—¬í•œ ê¶Œí•œì´ ì œëŒ€ë¡œ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤. ì €ëŠ” pod ì— ëŒ€í•œ ì¡°íšŒ ê¶Œí•œì„ ë³´ì—¬ í–ˆìœ¼ë¯€ë¡œ ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì´ìš©í–ˆì„ë•Œ pod ëª©ë¡ì´ ë‚˜ì™€ì•¼ í•©ë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">kubectl --context=dev-context get pods -n &lt;ë„¤ì„ìŠ¤í˜ì´ìŠ¤&gt;</span><br></pre></td></tr></table></figure><p>ì œê°€ default ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì—ëŠ” ë¦¬ì†ŒìŠ¤ë¥¼ ìƒì„±í•˜ì§€ ì•Šì•„ Role ê³¼ RoleBinding ì˜ namespace ë§Œ ë¦¬ì†ŒìŠ¤ê°€ ìˆëŠ” monitoring ìœ¼ë¡œ ë³€ê²½ í›„ ë‹¤ì‹œ ì ìš©í–ˆê³  ìœ„ ëª…ë ¹ì–´ë¥¼ ì´ìš©í•´ ì¡°í™°í–ˆë”ë‹ˆ pod ëª©ë¡ì´ ì •ìƒì ìœ¼ë¡œ ë‚˜ì˜¤ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">â¯ k get pod -n monitoring   </span><br><span class="line">NAME                                                 READY   STATUS    RESTARTS   AGE</span><br><span class="line">grafana-bc77b49c6-x5zbh                              1/1     Running   0          40d</span><br><span class="line">loki-0                                               2/2     Running   0          39d</span><br><span class="line">loki-canary-zkd5s                                    1/1     Running   0          39d</span><br><span class="line">loki-chunks-cache-0                                  2/2     Running   0          39d</span><br><span class="line">loki-gateway-6447bff65b-9q5fq                        1/1     Running   0          39d</span><br><span class="line">loki-minio-0                                         1/1     Running   0          39d</span><br><span class="line">loki-results-cache-0                                 2/2     Running   0          39d</span><br><span class="line">prometheus-alertmanager-0                            1/1     Running   0          35d</span><br><span class="line">prometheus-kube-state-metrics-648ddc549f-9xnjm       1/1     Running   0          35d</span><br><span class="line">prometheus-prometheus-node-exporter-tfjgp            1/1     Running   0          35d</span><br><span class="line">prometheus-prometheus-pushgateway-76bc7454df-4j44q   1/1     Running   0          35d</span><br><span class="line">prometheus-server-8cd958945-lhxtp                    3/3     Running   0          33d</span><br><span class="line">promtail-952sx                                       1/1     Running   0          39d</span><br></pre></td></tr></table></figure><h4 id="ê¶Œí•œì œì–´-Validation-í…ŒìŠ¤íŠ¸"><a href="#ê¶Œí•œì œì–´-Validation-í…ŒìŠ¤íŠ¸" class="headerlink" title="ê¶Œí•œì œì–´ Validation í…ŒìŠ¤íŠ¸"></a>ê¶Œí•œì œì–´ Validation í…ŒìŠ¤íŠ¸</h4><p>í˜„ì¬ ìƒì„±ëœ User ëŠ” Pods ì— ëŒ€í•œ ì¡°íšŒ ê¶Œí•œ ë°–ì— ì—†ìŠµë‹ˆë‹¤. í•´ë‹¹ ê¶Œí•œì„ ë„˜ì–´ê°€ëŠ” ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•¨ìœ¼ë¡œì¨ ê¶Œí•œ ì œì–´ê°€ ì œëŒ€ë¡œ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">kubectl apply -f dev-role-monitoring.yaml</span><br></pre></td></tr></table></figure><p>ìƒˆë¡œìš´ Role ì„ ìƒì„±í•˜ë„ë¡ í–ˆëŠ”ë°, Validation ì´ ì •ìƒì ìœ¼ë¡œ ì‘ë™í•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Error from server (Forbidden): error when retrieving current configuration of:</span><br><span class="line">Resource: <span class="string">&quot;rbac.authorization.k8s.io/v1, Resource=roles&quot;</span>, GroupVersionKind: <span class="string">&quot;rbac.authorization.k8s.io/v1, Kind=Role&quot;</span></span><br><span class="line">Name: <span class="string">&quot;pod-reader-monitoring&quot;</span>, Namespace: <span class="string">&quot;monitoring&quot;</span></span><br><span class="line">from server <span class="keyword">for</span>: <span class="string">&quot;dev-role-monitoring.yaml&quot;</span>: roles.rbac.authorization.k8s.io <span class="string">&quot;pod-reader-monitoring&quot;</span> is forbidden: User <span class="string">&quot;dev-user&quot;</span> cannot get resource <span class="string">&quot;roles&quot;</span> <span class="keyword">in</span> API group <span class="string">&quot;rbac.authorization.k8s.io&quot;</span> <span class="keyword">in</span> the namespace <span class="string">&quot;monitoring&quot;</span></span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Kubernetes/">Kubernetes</category>
      
      <category domain="https://ckck803.github.io/categories/Kubernetes/%EC%9D%B8%EC%A6%9D-%EC%9D%B8%EA%B0%80/">ì¸ì¦/ì¸ê°€</category>
      
      
      
      <comments>https://ckck803.github.io/2025/04/03/k8s/auth/cert-user/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>[Vue 3] - Tailwind ì‚¬ìš©í•˜ê¸°</title>
      <link>https://ckck803.github.io/2025/03/09/vue/tailwind/vue-tailwind/</link>
      <guid>https://ckck803.github.io/2025/03/09/vue/tailwind/vue-tailwind/</guid>
      <pubDate>Sun, 09 Mar 2025 11:10:40 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;img src=&quot;/images/vue/vue_tailwind.png&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;1-Vue3-í”„ë¡œì íŠ¸-ìƒì„±&quot;&gt;&lt;a href=&quot;#1-Vue3-í”„ë¡œì íŠ¸-ìƒì„±&quot; class=&quot;headerlink&quot; title=&quot;1. Vue3 í”„ë¡œì íŠ¸ ìƒì„±&quot;</description>
        
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/vue/vue_tailwind.png"></p><h2 id="1-Vue3-í”„ë¡œì íŠ¸-ìƒì„±"><a href="#1-Vue3-í”„ë¡œì íŠ¸-ìƒì„±" class="headerlink" title="1. Vue3 í”„ë¡œì íŠ¸ ìƒì„±"></a>1. Vue3 í”„ë¡œì íŠ¸ ìƒì„±</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm init vue@latest my-vue3-app</span><br><span class="line"><span class="built_in">cd</span> my-vue3-app</span><br><span class="line">npm install</span><br></pre></td></tr></table></figure><h2 id="2-Tailwind-Css-ì„¤ì¹˜"><a href="#2-Tailwind-Css-ì„¤ì¹˜" class="headerlink" title="2.  Tailwind Css ì„¤ì¹˜"></a>2.  Tailwind Css ì„¤ì¹˜</h2><p>Tailwind CSSì™€ ê´€ë ¨ëœ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install -D tailwindcss postcss autoprefixer</span><br></pre></td></tr></table></figure><p>ê·¸ëŸ° ë‹¤ìŒ Tailwind CSS ì´ˆê¸°í™”ë¥¼ ì§„í–‰í•©ë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npx tailwindcss init</span><br></pre></td></tr></table></figure><p>ì´ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ë©´ í”„ë¡œì íŠ¸ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ì— <code>tailwind.config.js</code> íŒŒì¼ì´ ìƒì„±ë©ë‹ˆë‹¤.</p><h2 id="3-Tailwind-CSS-êµ¬ì„±"><a href="#3-Tailwind-CSS-êµ¬ì„±" class="headerlink" title="3. Tailwind CSS êµ¬ì„±"></a>3. Tailwind CSS êµ¬ì„±</h2><p>ìƒì„±ëœ <code>tailwind.config.js</code> íŒŒì¼ì„ ì—´ê³ , ì•„ë˜ì™€ ê°™ì´ <code>content</code> í•„ë“œì— Vue íŒŒì¼ ê²½ë¡œë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤:</p><figure class="highlight typescript"><figcaption><span>tailwind.config.js</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="comment">/** <span class="doctag">@type</span> &#123;<span class="type">import(&#x27;tailwindcss&#x27;).Config</span>&#125; */</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">content</span>: [</span><br><span class="line">    <span class="string">&quot;./index.html&quot;</span>,</span><br><span class="line">    <span class="string">&quot;./src/**/*.&#123;vue,js,ts,jsx,tsx&#125;&quot;</span>, <span class="comment">// Vue íŒŒì¼ ê²½ë¡œ</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">theme</span>: &#123;</span><br><span class="line">    <span class="attr">extend</span>: &#123;&#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">plugins</span>: [],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="4-CSS-íŒŒì¼-ì„¤ì •"><a href="#4-CSS-íŒŒì¼-ì„¤ì •" class="headerlink" title="4. CSS íŒŒì¼ ì„¤ì •"></a>4. CSS íŒŒì¼ ì„¤ì •</h2><p>Tailwind CSSë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ CSS íŒŒì¼ì— Tailwindì˜ ê¸°ë³¸ ë””ë ‰í‹°ë¸Œë¥¼ ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤.</p><p><code>src/assets/tailwind.css</code> íŒŒì¼ì„ ìƒì„±í•˜ê³ , ì•„ë˜ ë‚´ìš©ì„ ì¶”ê°€í•©ë‹ˆë‹¤:</p><figure class="highlight typescript"><figcaption><span>tailwind.css</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="meta">@tailwind</span> base;</span><br><span class="line"><span class="meta">@tailwind</span> components;</span><br><span class="line"><span class="meta">@tailwind</span> utilities;</span><br></pre></td></tr></table></figure><h2 id="5-Tailwind-CSSë¥¼-í”„ë¡œì íŠ¸ì—-í¬í•¨"><a href="#5-Tailwind-CSSë¥¼-í”„ë¡œì íŠ¸ì—-í¬í•¨" class="headerlink" title="5. Tailwind CSSë¥¼ í”„ë¡œì íŠ¸ì— í¬í•¨"></a>5. Tailwind CSSë¥¼ í”„ë¡œì íŠ¸ì— í¬í•¨</h2><p><code>src/main.js</code> ë˜ëŠ” <code>src/main.ts</code> íŒŒì¼ì—ì„œ ìƒì„±í•œ CSS íŒŒì¼ì„ importí•©ë‹ˆë‹¤</p><figure class="highlight typescript"><figcaption><span>main.ts</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Tailwind CSS ì¶”ê°€</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./assets/tailwind.css&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="title function_">createApp</span>(<span class="title class_">App</span>).<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>);</span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Frontend/">Frontend</category>
      
      <category domain="https://ckck803.github.io/categories/Frontend/Vue/">Vue</category>
      
      <category domain="https://ckck803.github.io/categories/Frontend/Vue/Tailwind/">Tailwind</category>
      
      
      
      <comments>https://ckck803.github.io/2025/03/09/vue/tailwind/vue-tailwind/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>[Vue 3] - Pinia ì‚¬ìš©í•˜ê¸°</title>
      <link>https://ckck803.github.io/2025/03/05/vue/pinia/vue-pinia/</link>
      <guid>https://ckck803.github.io/2025/03/05/vue/pinia/vue-pinia/</guid>
      <pubDate>Wed, 05 Mar 2025 11:10:40 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;img src=&quot;/images/vue/vue-2.png&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;Pinia-ë€&quot;&gt;&lt;a href=&quot;#Pinia-ë€&quot; class=&quot;headerlink&quot; title=&quot;Pinia ë€?&quot;&gt;&lt;/a&gt;Pinia ë€?&lt;/h2&gt;&lt;p&gt;Pinia ëŠ”</description>
        
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/vue/vue-2.png"></p><h2 id="Pinia-ë€"><a href="#Pinia-ë€" class="headerlink" title="Pinia ë€?"></a>Pinia ë€?</h2><p>Pinia ëŠ” Vue ì—ì„œ ì‚¬ìš©í•˜ëŠ” ìƒíƒœ ê´€ë¦¬ë¥¼ ìœ„í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤. Vue2 ì—ì„œëŠ” Vuex ë¥¼ ì‚¬ìš©í•˜ë‹¤ê°€ Pinia ì˜ ë“±ì¥ìœ¼ë¡œ ì ì°¨ Pinia ê°€ ëŒ€ì„¸ë¥¼ ì´ë£¨ê²Œ ëìŠµë‹ˆë‹¤.</p><p>Vue ì—ì„œëŠ” ref, reactive ì™€ ê°™ì€ ìƒíƒœ ê´€ë¦¬ë¥¼ í•  ìˆ˜ ìˆëŠ” ë°©ë²•ë“¤ì´ ìˆëŠ”ë° ì´ëŸ° í•¨ìˆ˜ë“¤ì„ ì´ìš©í•´ ìƒì„±ëœ ìƒíƒœë¥¼ ë‹¤ë¥¸ í˜ì´ì§€ë¡œ ì „ë‹¬í•˜ê¸° ìœ„í•´ì„œëŠ” props ë‚˜ event í˜¹ì€ provide ë‚˜ inject ë¥¼ ì´ìš©í•´ ì „ë‹¬í•  ìˆ˜ ìˆì§€ë§Œ, íŒŒì¼ì´ ë§ì•„ì§ˆìˆ˜ë¡ ì¶”ì í•˜ê¸°ê°€ ë³µì¡í•´ì§‘ë‹ˆë‹¤.</p><p>Pinia ë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ ëŠ” ìƒíƒœë¥¼ ê´€ë¦¬í•˜ëŠ” ë¡œì§ì„ ë¶„ë¦¬í•  ìˆ˜ ìˆê³  <strong>ì¤‘ì•™ ì§‘ì¤‘ì‹</strong> ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤ëŠ” ì´ì  ë•Œë¬¸ì— ê·¸ë ‡ìŠµë‹ˆë‹¤.</p><h2 id="1-Pinia-ì„¤ì¹˜"><a href="#1-Pinia-ì„¤ì¹˜" class="headerlink" title="1. Pinia ì„¤ì¹˜"></a>1. Pinia ì„¤ì¹˜</h2><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">npm install pinia</span><br></pre></td></tr></table></figure><h2 id="2-Pinia-ëª¨ë“ˆ-ì¶”ê°€í•˜ê¸°"><a href="#2-Pinia-ëª¨ë“ˆ-ì¶”ê°€í•˜ê¸°" class="headerlink" title="2. Pinia ëª¨ë“ˆ ì¶”ê°€í•˜ê¸°"></a>2. Pinia ëª¨ë“ˆ ì¶”ê°€í•˜ê¸°</h2><figure class="highlight typescript"><figcaption><span>main.ts</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; createPinia &#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">createApp</span>(<span class="title class_">App</span>);</span><br><span class="line"><span class="keyword">const</span> pinia = <span class="title function_">createPinia</span>();</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(pinia);</span><br><span class="line">app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>);</span><br></pre></td></tr></table></figure><h2 id="3-Pinia-Store-ìƒì„±"><a href="#3-Pinia-Store-ìƒì„±" class="headerlink" title="3. Pinia Store ìƒì„±"></a>3. Pinia Store ìƒì„±</h2><p>ìƒíƒœë“¤ì„ ì €ì¥ ë° ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” pinia store ë¥¼ ìƒì„±í•´ì¤ë‹ˆë‹¤.</p><figure class="highlight ts"><figcaption><span>store/counterStore.js</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; defineStore &#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> useCounterStore = <span class="title function_">defineStore</span>(<span class="string">&#x27;counter&#x27;</span>, &#123;</span><br><span class="line">  <span class="attr">state</span>: <span class="function">() =&gt;</span> (&#123;</span><br><span class="line">    <span class="attr">count</span>: <span class="number">0</span>,</span><br><span class="line">  &#125;),</span><br><span class="line">  <span class="attr">getters</span>: &#123;</span><br><span class="line">    <span class="attr">doubleCount</span>: <span class="function">(<span class="params">state</span>) =&gt;</span> state.<span class="property">count</span> * <span class="number">2</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">actions</span>: &#123;</span><br><span class="line">    <span class="title function_">increment</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">count</span>++;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">decrement</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">count</span>--;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="4-Pinia-ì‚¬ìš©í•˜ê¸°"><a href="#4-Pinia-ì‚¬ìš©í•˜ê¸°" class="headerlink" title="4. Pinia ì‚¬ìš©í•˜ê¸°"></a>4. Pinia ì‚¬ìš©í•˜ê¸°</h2><p>ìœ„ì—ì„œ ìƒì„±ëœ Store ë¥¼ í†µí•´ Store ë‚´ì— ìˆëŠ” ê°’ì„ ê°€ì ¸ì˜¤ê±°ë‚˜, Store ë‚´ì— ìˆëŠ” ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸ í•´ì£¼ëŠ” í•¨ìˆ˜ë¥¼ ì´ìš©í•´ Store ê°’ì„ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Counter: &#123;&#123; counter &#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Double Count: &#123;&#123; doubleCounter &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;increment&quot;</span>&gt;</span>Increment<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;decrement&quot;</span>&gt;</span>Decrement<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> &#123; useCounterStore &#125; <span class="keyword">from</span> <span class="string">&#x27;./store/counterStore&#x27;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> &#123; defineComponent &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">defineComponent</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">setup</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> counterStore = <span class="title function_">useCounterStore</span>();</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">counter</span>: counterStore.<span class="property">count</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">doubleCounter</span>: counterStore.<span class="property">doubleCount</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">increment</span>: counterStore.<span class="property">increment</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">decrement</span>: counterStore.<span class="property">decrement</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-class">.app</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">text-align</span>: center;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">margin-top</span>: <span class="number">50px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-tag">button</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">margin</span>: <span class="number">5px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Frontend/">Frontend</category>
      
      <category domain="https://ckck803.github.io/categories/Frontend/Vue/">Vue</category>
      
      <category domain="https://ckck803.github.io/categories/Frontend/Vue/Tailwind/">Tailwind</category>
      
      
      
      <comments>https://ckck803.github.io/2025/03/05/vue/pinia/vue-pinia/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>[Vue 3] - unplugin-vue-router ì‚¬ìš©í•˜ê¸°</title>
      <link>https://ckck803.github.io/2025/03/05/vue/router/vue-unplugin-vue-router/</link>
      <guid>https://ckck803.github.io/2025/03/05/vue/router/vue-unplugin-vue-router/</guid>
      <pubDate>Wed, 05 Mar 2025 11:10:40 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;img src=&quot;/images/vue/vue-2.png&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;ì°¸ê³ &quot;&gt;&lt;a href=&quot;#ì°¸ê³ &quot; class=&quot;headerlink&quot; title=&quot;ì°¸ê³ &quot;&gt;&lt;/a&gt;ì°¸ê³ &lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/p</description>
        
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/vue/vue-2.png"></p><h2 id="ì°¸ê³ "><a href="#ì°¸ê³ " class="headerlink" title="ì°¸ê³ "></a>ì°¸ê³ </h2><p><a href="https://github.com/posva/unplugin-vue-router">https://github.com/posva/unplugin-vue-router</a></p><p>vue ì—ì„œëŠ” ìƒˆë¡œìš´ í˜ì´ì§€ë¥¼ ìƒì„±í• ë•Œë§ˆë‹¤ vue-router ì— ì§ì ‘ ë“±ë¡í•´ì¤˜ì•¼ í•˜ëŠ” ë²ˆê±°ë¡œì›€ì´ ìˆìŠµë‹ˆë‹¤. ì´ëŸ° ìˆ˜ê³ ìŠ¤ëŸ¬ì›€ì„ ì¢€ ëœê³ ì ì°¾ì•„ë³´ë‹ˆ vue ì—ì„œë„ next ë‚˜ nuxt ì²˜ëŸ¼ íŒŒì¼ ê¸°ë°˜ìœ¼ë¡œ ë¼ìš°íŒ…ì„ í•  ìˆ˜ ìˆê²Œ ì§€ì›í•´ì£¼ëŠ” ëª¨ë“ˆì„ ì°¾ê²Œ ëìŠµë‹ˆë‹¤. </p><h2 id="1-unplugin-vue-router-ëª¨ë“ˆì„-ì„¤ì¹˜"><a href="#1-unplugin-vue-router-ëª¨ë“ˆì„-ì„¤ì¹˜" class="headerlink" title="1.  unplugin-vue-router ëª¨ë“ˆì„ ì„¤ì¹˜"></a>1.  <code>unplugin-vue-router</code> ëª¨ë“ˆì„ ì„¤ì¹˜</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm i -D unplugin-vue-router</span><br></pre></td></tr></table></figure><h2 id="2-vite-config-ts-ì—-ë‹¤ìŒ-ë‚´ìš©ì„-ì¶”ê°€í•´-ì¤ë‹ˆë‹¤"><a href="#2-vite-config-ts-ì—-ë‹¤ìŒ-ë‚´ìš©ì„-ì¶”ê°€í•´-ì¤ë‹ˆë‹¤" class="headerlink" title="2.  vite.config.ts ì— ë‹¤ìŒ ë‚´ìš©ì„ ì¶”ê°€í•´ ì¤ë‹ˆë‹¤."></a>2.  <code>vite.config.ts</code> ì— ë‹¤ìŒ ë‚´ìš©ì„ ì¶”ê°€í•´ ì¤ë‹ˆë‹¤.</h2><figure class="highlight typescript"><figcaption><span>vite.config.ts</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; defineConfig &#125; <span class="keyword">from</span> <span class="string">&#x27;vite&#x27;</span></span><br><span class="line"><span class="keyword">import</span> vue <span class="keyword">from</span> <span class="string">&#x27;@vitejs/plugin-vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">VueRouter</span> <span class="keyword">from</span> <span class="string">&#x27;unplugin-vue-router/vite&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// https://vitejs.dev/config/</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">defineConfig</span>(&#123;</span><br><span class="line">  <span class="attr">plugins</span>: [<span class="title function_">vue</span>(), <span class="title class_">VueRouter</span>(&#123;&#125;)],</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="3-tsconfig-json-ì„¤ì •-ì •ë³´-ì¶”ê°€"><a href="#3-tsconfig-json-ì„¤ì •-ì •ë³´-ì¶”ê°€" class="headerlink" title="3. tsconfig.json ì„¤ì • ì •ë³´ ì¶”ê°€"></a>3. tsconfig.json ì„¤ì • ì •ë³´ ì¶”ê°€</h2><figure class="highlight json"><figcaption><span>tsconfig.json</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;compilerOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="attr">&quot;moduleResolution&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Bundler&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="attr">&quot;types&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;unplugin-vue-router/client&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="attr">&quot;include&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="string">&quot;./typed-router.d.ts&quot;</span></span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h2 id="4-routes-index-ts-íŒŒì¼-ìƒì„±"><a href="#4-routes-index-ts-íŒŒì¼-ìƒì„±" class="headerlink" title="4.  routes&#x2F;index.ts íŒŒì¼ ìƒì„±"></a>4.  routes&#x2F;index.ts íŒŒì¼ ìƒì„±</h2><figure class="highlight typescript"><figcaption><span>index.ts</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createWebHistory, createRouter &#125; <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; routes &#125; <span class="keyword">from</span> <span class="string">&quot;vue-router/auto-routes&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = <span class="title function_">createRouter</span>(&#123;</span><br><span class="line">  <span class="attr">history</span>: <span class="title function_">createWebHistory</span>(),</span><br><span class="line">  routes,</span><br><span class="line">  <span class="attr">strict</span>: <span class="literal">true</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router;</span><br></pre></td></tr></table></figure><h2 id="5-main-ts-íŒŒì¼ì—-ë¼ìš°íŠ¸-ëª¨ë“ˆ-ì¶”ê°€"><a href="#5-main-ts-íŒŒì¼ì—-ë¼ìš°íŠ¸-ëª¨ë“ˆ-ì¶”ê°€" class="headerlink" title="5.  main.ts íŒŒì¼ì— ë¼ìš°íŠ¸ ëª¨ë“ˆ ì¶”ê°€"></a>5.  main.ts íŒŒì¼ì— ë¼ìš°íŠ¸ ëª¨ë“ˆ ì¶”ê°€</h2><figure class="highlight typescript"><figcaption><span>main.ts</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;createApp&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>  </span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./style.css&#x27;</span>  </span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span>  </span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&quot;./router&quot;</span>;  </span><br><span class="line">  </span><br><span class="line"><span class="title function_">createApp</span>(<span class="title class_">App</span>)  </span><br><span class="line">  .<span class="title function_">use</span>(router)  </span><br><span class="line">  .<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure><h2 id="6-app-vue-íŒŒì¼"><a href="#6-app-vue-íŒŒì¼" class="headerlink" title="6.  app.vue íŒŒì¼"></a>6.  app.vue íŒŒì¼</h2><figure class="highlight typescript"><figcaption><span>app.vue</span></figcaption><table><tr><td class="code"><pre><span class="line">&lt;script setup lang=<span class="string">&quot;ts&quot;</span>&gt;  </span><br><span class="line">  </span><br><span class="line">&lt;/script&gt;  </span><br><span class="line">  </span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">template</span>&gt;</span>  </span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">router-view</span>/&gt;</span><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span>  </span><br><span class="line">  </span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="language-css">  </span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-class">.logo</span> &#123;  </span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">height</span>: <span class="number">6em</span>;  </span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">padding</span>: <span class="number">1.5em</span>;  </span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">will-change</span>: filter;  </span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">transition</span>: filter <span class="number">300ms</span>;  </span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;  </span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-class">.logo</span><span class="selector-pseudo">:hover</span> &#123;  </span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">filter</span>: <span class="built_in">drop-shadow</span>(<span class="number">0</span> <span class="number">0</span> <span class="number">2em</span> <span class="number">#646cffaa</span>);  </span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;  </span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-class">.logo</span><span class="selector-class">.vue</span><span class="selector-pseudo">:hover</span> &#123;  </span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">filter</span>: <span class="built_in">drop-shadow</span>(<span class="number">0</span> <span class="number">0</span> <span class="number">2em</span> <span class="number">#42b883aa</span>);  </span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;  </span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Frontend/">Frontend</category>
      
      <category domain="https://ckck803.github.io/categories/Frontend/Vue/">Vue</category>
      
      <category domain="https://ckck803.github.io/categories/Frontend/Vue/Tailwind/">Tailwind</category>
      
      
      
      <comments>https://ckck803.github.io/2025/03/05/vue/router/vue-unplugin-vue-router/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>[Spring Boot] - Cache</title>
      <link>https://ckck803.github.io/2025/03/05/spring/springboot-cache/</link>
      <guid>https://ckck803.github.io/2025/03/05/spring/springboot-cache/</guid>
      <pubDate>Tue, 04 Mar 2025 22:31:46 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;img src=&quot;/images/springboot/spring-boot-logo.png&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;ëª©ì°¨&quot;&gt;&lt;a href=&quot;#ëª©ì°¨&quot; class=&quot;headerlink&quot; title=&quot;ëª©ì°¨&quot;&gt;&lt;/a&gt;ëª©ì°¨&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a hr</description>
        
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/springboot/spring-boot-logo.png"></p><h2 id="ëª©ì°¨"><a href="#ëª©ì°¨" class="headerlink" title="ëª©ì°¨"></a>ëª©ì°¨</h2><ul><li><a href="#">Post not found: spring-boot/spring-framework/springboot-actuator</a></li><li><a href="#">Post not found: spring-boot/spring-framework/springboot-messageresource</a></li><li><a href="#">Post not found: spring-boot/spring-framework/configuration/springboot-WebMvcConfigurer</a></li><li><a href="#">Post not found: spring-boot/spring-framework/configuration/springboot-autoconfiguration</a></li></ul><h2 id="ì°¸ê³ "><a href="#ì°¸ê³ " class="headerlink" title="ì°¸ê³ "></a>ì°¸ê³ </h2><ul><li><a href="https://docs.spring.io/spring-boot/docs/2.1.6.RELEASE/reference/html/boot-features-caching.html">https://docs.spring.io/spring-boot/docs/2.1.6.RELEASE/reference/html/boot-features-caching.html</a></li><li><a href="https://www.baeldung.com/spring-cache-tutorial">https://www.baeldung.com/spring-cache-tutorial</a></li></ul><h2 id="Spring-Boot-ìºì‹œ-ì¶”ìƒí™”"><a href="#Spring-Boot-ìºì‹œ-ì¶”ìƒí™”" class="headerlink" title="Spring Boot ìºì‹œ ì¶”ìƒí™”"></a>Spring Boot ìºì‹œ ì¶”ìƒí™”</h2><p>Spring Boot ì—ì„œëŠ” ìºì‹œë¥¼ ì‰½ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ìºì‹± ê¸°ëŠ¥ë“¤ì„ ì¶”ìƒí™”í•´ ì œê³µí•©ë‹ˆë‹¤. ìºì‹± ì¶”ìƒí™” ê°€ëŠ¥ìœ¼ë¡œ ê°œë°œìëŠ” íŠ¹ì • ìºì‹œ ì €ì¥ì†Œì— ì¢…ì†ì ì´ì§€ ì•Šê³  ì¼ê´€ëœ ë°©ì‹ìœ¼ë¡œ ìºì‹±ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><h2 id="âœ…-ì˜ì¡´ì„±-ì¶”ê°€"><a href="#âœ…-ì˜ì¡´ì„±-ì¶”ê°€" class="headerlink" title="âœ… ì˜ì¡´ì„± ì¶”ê°€"></a>âœ… ì˜ì¡´ì„± ì¶”ê°€</h2><figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line">implementation <span class="string">&#x27;org.springframework.boot:spring-boot-starter-cache&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="âœ…-Cache-í™œì„±í™”"><a href="#âœ…-Cache-í™œì„±í™”" class="headerlink" title="âœ… Cache í™œì„±í™”"></a>âœ… Cache í™œì„±í™”</h2><p><code>@EnableCaching</code> ë¥¼ ì´ìš©í•´ Cache ê¸°ëŠ¥ì„ í™œì„±í™” í•  ìˆ˜ ìˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@EnableCaching</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CacheConfig</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> CacheManager <span class="title function_">cacheManager</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ConcurrentMapCacheManager</span>(<span class="string">&quot;cache&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="âœ…-Cache-ê´€ë ¨-ì–´ë…¸í…Œì´ì…˜"><a href="#âœ…-Cache-ê´€ë ¨-ì–´ë…¸í…Œì´ì…˜" class="headerlink" title="âœ… Cache ê´€ë ¨ ì–´ë…¸í…Œì´ì…˜"></a>âœ… Cache ê´€ë ¨ ì–´ë…¸í…Œì´ì…˜</h2><p>ìŠ¤í”„ë§ì—ì„œëŠ” ìºì‹±ì„ ì‰½ê²Œ ì œì–´í•  ìˆ˜ ìˆë„ë¡ ìºì‹œê´€ë ¨ <strong>ì–´ë…¸í…Œì´ì…˜</strong> ë“¤ì„ ì œê³µí•©ë‹ˆë‹¤.</p><h4 id="1-Cacheable"><a href="#1-Cacheable" class="headerlink" title="1. @Cacheable"></a>1. @Cacheable</h4><p>ë©”ì„œë“œ í˜¸ì¶œ ì‹œ ë™ì¼í•œ íŒŒë¼ë¯¸í„° ê°’ì´ ìˆìœ¼ë©´ ìºì‹œëœ ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ì—¬ ì‹¤ì œ ë©”ì„œë“œ ì‹¤í–‰ì„ ê±´ë„ˆëœë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 1. ìºì‹œì—ì„œ ì‚¬ìš©ì ì¡°íšŒ (@Cacheable) </span></span><br><span class="line"><span class="comment">// ìºì‹œì—ì„œ ì‚¬ìš©ì ì¡°íšŒ. DBì—ì„œ ì¡°íšŒ í›„, ìºì‹œì— ì €ì¥í•©ë‹ˆë‹¤.</span></span><br><span class="line"><span class="meta">@Cacheable(key = &quot;#id&quot;)</span></span><br><span class="line"><span class="keyword">public</span> User <span class="title function_">getUserById</span><span class="params">(Long id)</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;DBì—ì„œ ì‚¬ìš©ì ì¡°íšŒ: &quot;</span> + id);</span><br><span class="line">    <span class="keyword">return</span> userRepository.findById(id).orElse(<span class="literal">null</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-CachePut"><a href="#2-CachePut" class="headerlink" title="2. @CachePut"></a>2. @CachePut</h4><p>ë©”ì„œë“œ ì‹¤í–‰ í›„ ê²°ê³¼ë¥¼ ìºì‹œì— ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤. ë°ì´í„° ìˆ˜ì • í›„ ìµœì‹  ìºì‹œë¥¼ ìœ ì§€í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 2. ì‚¬ìš©ì ì—…ë°ì´íŠ¸ í›„ ìºì‹œ ê°±ì‹  (@CachePut)</span></span><br><span class="line"><span class="comment">// ì‚¬ìš©ì ì—…ë°ì´íŠ¸ í›„ ìºì‹œ ê°±ì‹ . DB ì—…ë°ì´íŠ¸ì™€ ë™ì‹œì— ìºì‹œ ê°’ì„ ìµœì‹ í™”í•©ë‹ˆë‹¤.</span></span><br><span class="line"><span class="meta">@Transactional</span></span><br><span class="line"><span class="meta">@CachePut(key = &quot;#user.id&quot;)</span></span><br><span class="line"><span class="keyword">public</span> User <span class="title function_">updateUser</span><span class="params">(User user)</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;DBì—ì„œ ì‚¬ìš©ì ì—…ë°ì´íŠ¸: &quot;</span> + user.getId());</span><br><span class="line">    <span class="keyword">return</span> userRepository.save(user);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3-CacheEvict"><a href="#3-CacheEvict" class="headerlink" title="3. @CacheEvict"></a>3. @CacheEvict</h4><p>íŠ¹ì • ì¡°ê±´ì— ë§ëŠ” ìºì‹œ í•­ëª©ì„ ì œê±°í•©ë‹ˆë‹¤. ë°ì´í„° ì‚­ì œë‚˜ ì—…ë°ì´íŠ¸ ì‹œ ìºì‹œ ë¬´íš¨í™”ì— ìœ ìš©í•©ë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 3. ì‚¬ìš©ì ì‚­ì œ í›„ ìºì‹œ ì œê±° (@CacheEvict)</span></span><br><span class="line"><span class="comment">// ì‚¬ìš©ì ì‚­ì œ í›„ ìºì‹œ ì œê±°. DB ì‚­ì œì™€ ë™ì‹œì— ìºì‹œëœ ë°ì´í„°ë¥¼ ì œê±°í•©ë‹ˆë‹¤.</span></span><br><span class="line"><span class="meta">@Transactional</span></span><br><span class="line"><span class="meta">@CacheEvict(key = &quot;#id&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deleteUser</span><span class="params">(Long id)</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;DBì—ì„œ ì‚¬ìš©ì ì‚­ì œ: &quot;</span> + id);</span><br><span class="line">    userRepository.deleteById(id);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="4-Caching"><a href="#4-Caching" class="headerlink" title="4. @Caching"></a>4. @Caching</h4><p>@Caching ì–´ë…¸í…Œì´ì…˜ì€ í•˜ë‚˜ì˜ ë©”ì„œë“œì— ì—¬ëŸ¬ ìºì‹œ ê´€ë ¨ ì• ë„ˆí…Œì´ì…˜ (@Cacheable, @CachePut, @CacheEvict ë“±) ì„ í•¨ê»˜ ì ìš©í•  ìˆ˜ ìˆë„ë¡ ê·¸ë£¹í™”í•˜ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 4. ë³µí•© ìºì‹œ ì‘ì—…: ìºì‹œ ì¡°íšŒ, ìºì‹œ ì—…ë°ì´íŠ¸, ê·¸ë¦¬ê³  ë‹¤ë¥¸ ìºì‹œ(&quot;userList&quot;) ì œê±° (@Caching)</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ë³µí•© ìºì‹œ ì‘ì—…:</span></span><br><span class="line"><span class="comment"> * - <span class="doctag">@Cacheable</span>: ìºì‹œì—ì„œ ë¨¼ì € ì¡°íšŒ</span></span><br><span class="line"><span class="comment"> * - <span class="doctag">@CachePut</span>: ë©”ì„œë“œ ì‹¤í–‰ í›„ ìºì‹œ ê°±ì‹ </span></span><br><span class="line"><span class="comment"> * - <span class="doctag">@CacheEvict</span>: ë‹¤ë¥¸ ìºì‹œ(&quot;userList&quot;)ì˜ ëª¨ë“  ì—”íŠ¸ë¦¬ë¥¼ ì œê±°</span></span><br><span class="line"><span class="comment"> * DBì—ì„œ ì‚¬ìš©ì ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ê³ , ìˆ˜ì • í›„ ì €ì¥í•©ë‹ˆë‹¤.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Transactional</span></span><br><span class="line"><span class="meta">@Caching(</span></span><br><span class="line"><span class="meta">    cacheable = &#123; @Cacheable(key = &quot;#id&quot;) &#125;,</span></span><br><span class="line"><span class="meta">    put = &#123; @CachePut(key = &quot;#result.id&quot;) &#125;,</span></span><br><span class="line"><span class="meta">    evict = &#123; @CacheEvict(value = &quot;userList&quot;, allEntries = true) &#125;</span></span><br><span class="line"><span class="meta">)</span></span><br><span class="line"><span class="keyword">public</span> User <span class="title function_">getAndUpdateUser</span><span class="params">(Long id)</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;DBì—ì„œ ì‚¬ìš©ì ì¡°íšŒ í›„ ì—…ë°ì´íŠ¸: &quot;</span> + id);</span><br><span class="line">    <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> userRepository.findById(id).orElse(<span class="literal">null</span>);</span><br><span class="line">    <span class="keyword">if</span>(user != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="comment">// ì˜ˆì‹œë¡œ ì´ë¦„ ë’¤ì— &quot; updated&quot;ë¥¼ ë¶™ì—¬ ì—…ë°ì´íŠ¸</span></span><br><span class="line">        user.setName(user.getName() + <span class="string">&quot; updated&quot;</span>);</span><br><span class="line">        user = userRepository.save(user);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> user;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="5-CacheConfig"><a href="#5-CacheConfig" class="headerlink" title="5. @CacheConfig"></a>5. @CacheConfig</h4><p>@CacheConfig ì–´ë…¸í…Œì´ì…˜ì€ <strong>í´ë˜ìŠ¤ ë ˆë²¨</strong> ì—ì„œ ê³µí†µ ìºì‹œ ì„¤ì •ì„ ì •ì˜í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì¤ë‹ˆë‹¤. ì´ë¥¼ í†µí•´, í•´ë‹¹ í´ë˜ìŠ¤ì˜ ëª¨ë“  ìºì‹œ ê´€ë ¨ ë©”ì„œë“œì—ì„œ ë°˜ë³µì ìœ¼ë¡œ ë™ì¼í•œ ìºì‹œ ì´ë¦„, ìºì‹œ ë§¤ë‹ˆì € ë“±ê³¼ ê°™ì€ ì„¤ì •ì„ ì§€ì •í•  í•„ìš” ì—†ì´ í•œ ë²ˆì— ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="meta">@CacheConfig(cacheNames = &quot;users&quot;)</span> <span class="comment">// ì´ í´ë˜ìŠ¤ì˜ ëª¨ë“  ìºì‹œ ë©”ì„œë“œëŠ” ê¸°ë³¸ì ìœ¼ë¡œ &quot;users&quot; ìºì‹œë¥¼ ì‚¬ìš©</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Spring/">Spring</category>
      
      <category domain="https://ckck803.github.io/categories/Spring/Spring-Framework/">Spring Framework</category>
      
      
      <category domain="https://ckck803.github.io/tags/JPA/">JPA</category>
      
      
      <comments>https://ckck803.github.io/2025/03/05/spring/springboot-cache/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - OpenSearch ì„¤ì¹˜í•˜ê¸°</title>
      <link>https://ckck803.github.io/2025/02/22/devops/infra/k8s-infra-opensearch/</link>
      <guid>https://ckck803.github.io/2025/02/22/devops/infra/k8s-infra-opensearch/</guid>
      <pubDate>Sat, 22 Feb 2025 06:31:46 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;img src=&quot;/images/devops/opensearch/opensearch.png&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;ëª©ì°¨&quot;&gt;&lt;a href=&quot;#ëª©ì°¨&quot; class=&quot;headerlink&quot; title=&quot;ëª©ì°¨&quot;&gt;&lt;/a&gt;ëª©ì°¨&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a h</description>
        
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/devops/opensearch/opensearch.png"></p><h2 id="ëª©ì°¨"><a href="#ëª©ì°¨" class="headerlink" title="ëª©ì°¨"></a>ëª©ì°¨</h2><ul><li><a href="/2025/02/22/devops/infra/k8s-infra-opensearch/" title="[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - OpenSearch ì„¤ì¹˜í•˜ê¸°">[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - OpenSearch ì„¤ì¹˜í•˜ê¸°</a></li><li><a href="/2025/02/22/devops/infra/k8s-infra-prometheus-grafana/" title="[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Prometheus ì™€ Grafana ì„¤ì¹˜í•˜ê¸°">[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Prometheus ì™€ Grafana ì„¤ì¹˜í•˜ê¸°</a></li><li><a href="/2025/02/21/devops/keycloak/k8s-infra-keyclock/" title="[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Keycloak ì„¤ì¹˜í•˜ê¸°">[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Keycloak ì„¤ì¹˜í•˜ê¸°</a></li><li><a href="/2025/02/22/devops/infra/k8s-infra-nginx-ingress-controller/" title="[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Ingress Nginx Controller ì„¤ì¹˜í•˜ê¸°">[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Ingress Nginx Controller ì„¤ì¹˜í•˜ê¸°</a></li><li><a href="/2025/02/20/k8s/local-path-provisioner/" title="[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Local PC ì¿ ë²„ë„¤í‹°ìŠ¤ ë™ì  í”„ë¡œë¹„ì €ë‹ì„ ìœ„í•œ StorageClass ì„¤ì¹˜">[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Local PC ì¿ ë²„ë„¤í‹°ìŠ¤ ë™ì  í”„ë¡œë¹„ì €ë‹ì„ ìœ„í•œ StorageClass ì„¤ì¹˜</a></li><li><a href="/2025/02/20/k8s/kubeadm-install/" title="[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Local PC ì— ì¿ ë²„ë„¤í‹°ìŠ¤ ì„¤ì¹˜í•˜ê¸°">[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Local PC ì— ì¿ ë²„ë„¤í‹°ìŠ¤ ì„¤ì¹˜í•˜ê¸°</a></li></ul><h2 id="ì°¸ê³ "><a href="#ì°¸ê³ " class="headerlink" title="ì°¸ê³ "></a>ì°¸ê³ </h2><ul><li><a href="https://blog.pages.kr/2844">https://blog.pages.kr/2844</a></li><li><a href="https://opendistro.github.io/for-elasticsearch-docs/docs/security/access-control/api/#reserved-and-hidden-resources">https://opendistro.github.io/for-elasticsearch-docs/docs/security/access-control/api/#reserved-and-hidden-resources</a></li><li><a href="https://forum.opensearch.org/t/default-password-reset/102/10">https://forum.opensearch.org/t/default-password-reset/102/10</a></li><li>Admin Password ë³€ê²½<ul><li><a href="https://github.com/opendistro-for-elasticsearch/opendistro-build/issues/558">https://github.com/opendistro-for-elasticsearch/opendistro-build/issues/558</a></li><li><a href="https://opendistro.github.io/for-elasticsearch-docs/docs/security/configuration/yaml/#internal_usersyml">https://opendistro.github.io/for-elasticsearch-docs/docs/security/configuration/yaml/#internal_usersyml</a></li><li><a href="https://github.com/opensearch-project/helm-charts/issues/161">https://github.com/opensearch-project/helm-charts/issues/161</a></li></ul></li></ul><h2 id="âœ…-OpenSearch-ì„¤ì¹˜"><a href="#âœ…-OpenSearch-ì„¤ì¹˜" class="headerlink" title="âœ… OpenSearch ì„¤ì¹˜"></a>âœ… OpenSearch ì„¤ì¹˜</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Helm Repo ì¶”ê°€</span></span><br><span class="line">helm repo add opensearch https://opensearch-project.github.io/helm-charts/</span><br><span class="line"><span class="comment"># OpenSearch ì„¤ì¹˜</span></span><br><span class="line">helm upgrade --install opensearch \</span><br><span class="line">  -f ./values-opensearch.yaml opensearch/opensearch \</span><br><span class="line">  -n logging --create-namespace</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Release <span class="string">&quot;opensearch&quot;</span> has been upgraded. Happy Helming!</span><br><span class="line">NAME: opensearch</span><br><span class="line">LAST DEPLOYED: Thu Jan 18 15:55:28 2024</span><br><span class="line">NAMESPACE: logging</span><br><span class="line">STATUS: deployed</span><br><span class="line">REVISION: 2</span><br><span class="line">TEST SUITE: None</span><br><span class="line">NOTES:</span><br><span class="line">Watch all cluster members come up.</span><br><span class="line">  $ kubectl get pods --namespace=logging -l app.kubernetes.io/component=opensearch-cluster-master -w</span><br></pre></td></tr></table></figure><h2 id="âœ…-OpenSearch-Dashboard-ì„¤ì¹˜"><a href="#âœ…-OpenSearch-Dashboard-ì„¤ì¹˜" class="headerlink" title="âœ… OpenSearch Dashboard ì„¤ì¹˜"></a>âœ… OpenSearch Dashboard ì„¤ì¹˜</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">helm upgrade --install opensearch-dashboard \</span><br><span class="line">  -f ./values-opensearch-dashboards.yaml opensearch/opensearch-dashboards \</span><br><span class="line">  -n logging --create-namespace</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Release <span class="string">&quot;opensearch&quot;</span> has been upgraded. Happy Helming!</span><br><span class="line">NAME: opensearch</span><br><span class="line">LAST DEPLOYED: Thu Feb  6 23:13:09 2025</span><br><span class="line">NAMESPACE: logging</span><br><span class="line">STATUS: deployed</span><br><span class="line">REVISION: 2</span><br><span class="line">TEST SUITE: None</span><br><span class="line">NOTES:</span><br><span class="line">1. Get the application URL by running these commands:</span><br><span class="line">  <span class="built_in">export</span> POD_NAME=$(kubectl get pods --namespace logging -l <span class="string">&quot;app.kubernetes.io/name=opensearch-dashboards,app.kubernetes.io/instance=opensearch&quot;</span> -o jsonpath=<span class="string">&quot;&#123;.items[0].metadata.name&#125;&quot;</span>)</span><br><span class="line">  <span class="built_in">export</span> CONTAINER_PORT=$(kubectl get pod --namespace logging <span class="variable">$POD_NAME</span> -o jsonpath=<span class="string">&quot;&#123;.spec.containers[0].ports[0].containerPort&#125;&quot;</span>)</span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;Visit http://127.0.0.1:8080 to use your application&quot;</span></span><br><span class="line">  kubectl --namespace logging port-forward <span class="variable">$POD_NAME</span> 8080:<span class="variable">$CONTAINER_PORT</span></span><br></pre></td></tr></table></figure><h2 id="OpenSearch-Demo-User"><a href="#OpenSearch-Demo-User" class="headerlink" title="OpenSearch Demo User"></a>OpenSearch Demo User</h2><ul><li><a href="https://docs.search-guard.com/latest/demo-users-roles">https://docs.search-guard.com/latest/demo-users-roles</a></li></ul><h2 id="Admin-ë¹„ë°€ë²ˆí˜¸-ë³€ê²½"><a href="#Admin-ë¹„ë°€ë²ˆí˜¸-ë³€ê²½" class="headerlink" title="Admin ë¹„ë°€ë²ˆí˜¸ ë³€ê²½"></a>Admin ë¹„ë°€ë²ˆí˜¸ ë³€ê²½</h2><p>í•„ìš”í•œ ëª…ë ¹ì–´ ë° íŒŒì¼ ìœ„ì¹˜</p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">/usr/share/elasticsearch/plugins/opendistro_security/tools/hash.sh</span><br><span class="line">/usr/share/elasticsearch/plugins/opendistro_security/securityconfig/internal_users.yml</span><br><span class="line">/usr/share/elasticsearch/plugins/opendistro_security/tools/securityadmin.sh</span><br></pre></td></tr></table></figure><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">securityConfig:</span></span><br><span class="line">  <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">config:</span></span><br><span class="line">    <span class="attr">securityConfigSecret:</span> <span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="attr">dataComplete:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">data:</span></span><br><span class="line">      <span class="attr">internal_users.yml:</span> <span class="string">|-</span></span><br><span class="line"><span class="string">        _meta:</span></span><br><span class="line"><span class="string">          type: &quot;internalusers&quot;</span></span><br><span class="line"><span class="string">          config_version: 2</span></span><br><span class="line"><span class="string">        admin:</span></span><br><span class="line"><span class="string">          hash: &quot;YWtxanF0azFxMnczZTRyIUA=&quot;</span></span><br><span class="line"><span class="string">          reserved: true</span></span><br><span class="line"><span class="string">        backend_roles:</span></span><br><span class="line"><span class="string">        - &quot;admin&quot;</span></span><br><span class="line"><span class="string">        description: &quot;Demo admin user&quot;</span></span><br></pre></td></tr></table></figure><h2 id="ë¬¸ì œ-Not-yet-initialized-you-may-need-to-run-securityadmin"><a href="#ë¬¸ì œ-Not-yet-initialized-you-may-need-to-run-securityadmin" class="headerlink" title="ë¬¸ì œ - Not yet initialized (you may need to run securityadmin)"></a>ë¬¸ì œ - Not yet initialized (you may need to run securityadmin)</h2><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[2023-12-30T15:22:45,111][ERROR][o.o.s.a.BackendRegistry  ] [opensearch-cluster-master-0] Not yet initialized (you may need to run securityadmin)</span><br><span class="line">[2023-12-30T15:22:45,115][ERROR][o.o.s.a.BackendRegistry  ] [opensearch-cluster-master-0] Not yet initialized (you may need to run securityadmin)</span><br><span class="line">[2023-12-30T15:22:45,118][ERROR][o.o.s.a.BackendRegistry  ] [opensearch-cluster-master-0] Not yet initialized (you may need to run securityadmin)</span><br><span class="line">[2023-12-30T15:22:45,120][ERROR][o.o.s.a.BackendRegistry  ] [opensearch-cluster-master-0] Not yet initialized (you may need to run securityadmin)</span><br><span class="line">[2023-12-30T15:22:47,614][ERROR][o.o.s.a.BackendRegistry  ] [opensearch-cluster-master-0] Not yet initialized (you may need to run securityadmin)</span><br><span class="line">[2023-12-30T15:22:47,617][ERROR][o.o.s.a.BackendRegistry  ] [opensearch-cluster-master-0] Not yet initialized (you may need to run securityadmin)</span><br><span class="line">[2023-12-30T15:22:47,620][ERROR][o.o.s.a.BackendRegistry  ] [opensearch-cluster-master-0] Not yet initialized (you may need to run securityadmin)</span><br><span class="line">[2023-12-30T15:22:47,623][ERROR][o.o.s.a.BackendRegistry  ] [opensearch-cluster-master-0] Not yet initialized (you may need to run securityadmin)</span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">kubectl -n logging <span class="built_in">exec</span> -it opensearch-cluster-master-0 -- /usr/share/opensearch/plugins/opensearch-security/tools/hash.sh</span><br></pre></td></tr></table></figure><ul><li>pod ë‚´ì—ì„œ</li></ul><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">/usr/share/opensearch/plugins/opensearch-security/tools/securityadmin.sh \</span><br><span class="line">  -<span class="built_in">cd</span> /usr/share/opensearch/config/opensearch-security/ \</span><br><span class="line">  -icl \</span><br><span class="line">  -nhnv \</span><br><span class="line">  -cacert /usr/share/opensearch/config/root-ca.pem \</span><br><span class="line">  -cert /usr/share/opensearch/config/kirk.pem \</span><br><span class="line">  -key /usr/share/opensearch/config/kirk-key.pem</span><br></pre></td></tr></table></figure><ul><li>ì¿ ë²„ë„¤í‹°ìŠ¤ ëª…ë ¹ì–´ë¡œ ì‹¤í–‰</li></ul><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">kubectl <span class="built_in">exec</span> \</span><br><span class="line">    -n logging \</span><br><span class="line">    -it opensearch-cluster-master-0 \</span><br><span class="line">    -- /usr/share/opensearch/plugins/opensearch-security/tools/securityadmin.sh \</span><br><span class="line">    -<span class="built_in">cd</span> /usr/share/opensearch/config/opensearch-security/ \</span><br><span class="line">    -icl \</span><br><span class="line">    -nhnv \</span><br><span class="line">    -cacert /usr/share/opensearch/config/root-ca.pem \</span><br><span class="line">    -cert /usr/share/opensearch/config/kirk.pem \</span><br><span class="line">    -key /usr/share/opensearch/config/kirk-key.pem</span><br></pre></td></tr></table></figure><h4 id="securityConfig-internalUsersSecret-ì„-ì´ìš©í•œ-Admin-ë¹„ë°€ë²ˆí˜¸-ë³€ê²½"><a href="#securityConfig-internalUsersSecret-ì„-ì´ìš©í•œ-Admin-ë¹„ë°€ë²ˆí˜¸-ë³€ê²½" class="headerlink" title="securityConfig.internalUsersSecret ì„ ì´ìš©í•œ Admin ë¹„ë°€ë²ˆí˜¸ ë³€ê²½"></a>securityConfig.internalUsersSecret ì„ ì´ìš©í•œ Admin ë¹„ë°€ë²ˆí˜¸ ë³€ê²½</h4><p>ë¹„ë°€ë²ˆí˜¸ Hash ê°’ ìƒì„±</p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">kubectl -n logging <span class="built_in">exec</span> -it opensearch-cluster-master-0 -- /usr/share/opensearch/plugins/opensearch-security/tools/hash.sh</span><br></pre></td></tr></table></figure><p>Secret íŒŒì¼ ìƒì„±</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Secret</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">opensearch-internal-users</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">logging</span></span><br><span class="line"><span class="attr">type:</span> <span class="string">Opaque</span></span><br><span class="line"><span class="attr">stringData:</span></span><br><span class="line">  <span class="attr">internal_users.yml:</span> <span class="string">|</span></span><br><span class="line"><span class="string">    ---</span></span><br><span class="line"><span class="string">    # This is the internal user database</span></span><br><span class="line"><span class="string">    # The hash value is a bcrypt hash and can be generated using:</span></span><br><span class="line"><span class="string">    # $ plugins/opensearch-security/tools/hash.sh -p &lt;new-password&gt;</span></span><br><span class="line"><span class="string"></span>    </span><br><span class="line">    <span class="attr">_meta:</span></span><br><span class="line">      <span class="attr">type:</span> <span class="string">&quot;internalusers&quot;</span></span><br><span class="line">      <span class="attr">config_version:</span> <span class="number">2</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># Define your internal users here</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">## internal users</span></span><br><span class="line">    <span class="attr">admin:</span></span><br><span class="line">      <span class="attr">hash:</span> <span class="string">&quot;$2y$12$yGwPWlea1ghTu9NFl00h6.SqRJY1G.MuFyX8PTQnwUnYaGgUsFKBu&quot;</span></span><br><span class="line">      <span class="attr">reserved:</span> <span class="literal">true</span></span><br><span class="line">      <span class="attr">backend_roles:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;admin&quot;</span></span><br><span class="line">      <span class="attr">description:</span> <span class="string">&quot;admin user&quot;</span></span><br></pre></td></tr></table></figure><p>securityConfig.internalUsersSecret ì— Secret ì´ë¦„ ì„¤ì •</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">securityConfig:</span></span><br><span class="line">  <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">&quot;/usr/share/opensearch/config/opensearch-security&quot;</span></span><br><span class="line">  <span class="attr">actionGroupsSecret:</span></span><br><span class="line">  <span class="attr">configSecret:</span></span><br><span class="line">  <span class="attr">internalUsersSecret:</span> <span class="string">opensearch-internal-users</span></span><br></pre></td></tr></table></figure><h2 id="âœ…-OpenSearch-Dashboards-basePath-ë°-Ingress-ì„¤ì •"><a href="#âœ…-OpenSearch-Dashboards-basePath-ë°-Ingress-ì„¤ì •" class="headerlink" title="âœ… OpenSearch Dashboards basePath ë° Ingress ì„¤ì •"></a>âœ… OpenSearch Dashboards basePath ë° Ingress ì„¤ì •</h2><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">config:</span></span><br><span class="line">  <span class="attr">opensearch_dashboards.yml:</span> <span class="string">|</span></span><br><span class="line"><span class="string">    server:</span></span><br><span class="line"><span class="string">      host: &#x27;0.0.0.0&#x27;</span></span><br><span class="line"><span class="string">      basePath: &quot;/logging&quot;</span></span><br><span class="line"><span class="string">      rewriteBasePath: true</span></span><br><span class="line"><span class="string">    opensearch:</span></span><br><span class="line"><span class="string">      hosts: [https://localhost:9200]</span></span><br><span class="line"><span class="string">      ssl.verificationMode: none</span></span><br><span class="line"><span class="string">      username: kibanaserver</span></span><br><span class="line"><span class="string">      password: kibanaserver</span></span><br><span class="line"><span class="string">      requestHeadersWhitelist: [authorization, securitytenant]</span></span><br><span class="line"><span class="string"></span></span><br><span class="line">    <span class="attr">opensearch_security.multitenancy:</span></span><br><span class="line">      <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">opensearch_security.multitenancy.tenants:</span></span><br><span class="line">      <span class="attr">preferred:</span> [<span class="string">Private</span>, <span class="string">Global</span>]</span><br><span class="line">    <span class="attr">opensearch_security:</span></span><br><span class="line">      <span class="attr">readonly_mode.roles:</span> [<span class="string">kibana_read_only</span>]</span><br><span class="line">      <span class="attr">cookie.secure:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><h4 id="Ingress-ì„¤ì •"><a href="#Ingress-ì„¤ì •" class="headerlink" title="Ingress ì„¤ì •"></a>Ingress ì„¤ì •</h4><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">networking.k8s.io/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Ingress</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">logging</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">logging</span></span><br><span class="line">  <span class="attr">annotations:</span></span><br><span class="line">      <span class="attr">kubernetes.io/ingress.class:</span> <span class="string">nginx</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">rules:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">http:</span></span><br><span class="line">        <span class="attr">paths:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">path:</span> <span class="string">/logging</span></span><br><span class="line">          <span class="attr">pathType:</span> <span class="string">Prefix</span></span><br><span class="line">          <span class="attr">backend:</span></span><br><span class="line">            <span class="attr">service:</span></span><br><span class="line">              <span class="attr">name:</span> <span class="string">opensearch-dashboards</span></span><br><span class="line">              <span class="attr">port:</span></span><br><span class="line">                <span class="attr">number:</span> <span class="number">5601</span></span><br></pre></td></tr></table></figure><h2 id="âœ…-KeyCloak-OpenSearch-ì—°ë™"><a href="#âœ…-KeyCloak-OpenSearch-ì—°ë™" class="headerlink" title="âœ… KeyCloak OpenSearch ì—°ë™"></a>âœ… KeyCloak OpenSearch ì—°ë™</h2><ul><li>ì°¸ê³ <ul><li><a href="https://velog.io/@ziggy/Keyclock-%EA%B5%AC%EC%B6%95-%EB%B0%8F-Opensearch-%EC%97%B0%EB%8F%99">https://velog.io/@ziggy/Keyclock-%EA%B5%AC%EC%B6%95-%EB%B0%8F-Opensearch-%EC%97%B0%EB%8F%99</a></li><li><a href="https://opensearch.org/docs/latest/security/authentication-backends/openid-connect/">https://opensearch.org/docs/latest/security/authentication-backends/openid-connect/</a></li><li><a href="https://opensearch.org/docs/latest/security/authentication-backends/openid-connect/#opensearch-security-configuration">https://opensearch.org/docs/latest/security/authentication-backends/openid-connect/#opensearch-security-configuration</a></li><li><a href="https://opensearch.org/docs/latest/security/authentication-backends/openid-connect/#opensearch-dashboards-single-sign-on">https://opensearch.org/docs/latest/security/authentication-backends/openid-connect/#opensearch-dashboards-single-sign-on</a></li><li><a href="https://forum.opensearch.org/t/opensearch-integration-with-keycloak-using-k8s-opster-operator/15388/5">https://forum.opensearch.org/t/opensearch-integration-with-keycloak-using-k8s-opster-operator/15388/5</a></li></ul></li></ul><h3 id="1-OpenSearch-Client-ìƒì„±"><a href="#1-OpenSearch-Client-ìƒì„±" class="headerlink" title="1. OpenSearch Client ìƒì„±"></a>1. OpenSearch Client ìƒì„±</h3><p><img src="/images/devops/keycloak/opensearch/client_opensearch.png"></p><p><img src="/images/devops/keycloak/opensearch/client_opensearch_2.png"></p><p><img src="/images/devops/keycloak/opensearch/client_opensearch_3.png"></p><h3 id="2-KeyCloak-OpenSearch-User-Client-Role-ìƒì„±"><a href="#2-KeyCloak-OpenSearch-User-Client-Role-ìƒì„±" class="headerlink" title="2. KeyCloak OpenSearch User Client Role ìƒì„±"></a>2. KeyCloak OpenSearch User Client Role ìƒì„±</h3><p><img src="/images/devops/keycloak/opensearch/client_opensearch_scopes.png"></p><p><img src="/images/devops/keycloak/opensearch/client_opensearch_role.png"></p><h3 id="3-OpenSearch-ì—°ë™-ë°-ì„¤ì •íŒŒì¼-ìƒì„±"><a href="#3-OpenSearch-ì—°ë™-ë°-ì„¤ì •íŒŒì¼-ìƒì„±" class="headerlink" title="3. OpenSearch ì—°ë™ ë° ì„¤ì •íŒŒì¼ ìƒì„±"></a>3. OpenSearch ì—°ë™ ë° ì„¤ì •íŒŒì¼ ìƒì„±</h3><h4 id="3-1-KeyClock-Connect-URL-í™•ì¸"><a href="#3-1-KeyClock-Connect-URL-í™•ì¸" class="headerlink" title="3.1 KeyClock Connect URL í™•ì¸"></a>3.1 KeyClock Connect URL í™•ì¸</h4><p><img src="/images/devops/keycloak/ddanzit_endpoints.png"></p><p><img src="/images/devops/keycloak/connect_url.png" alt="connect_url"></p><h4 id="3-2-OpenSearch-Client-Credential-í™•ì¸"><a href="#3-2-OpenSearch-Client-Credential-í™•ì¸" class="headerlink" title="3.2 OpenSearch Client Credential í™•ì¸"></a>3.2 OpenSearch Client Credential í™•ì¸</h4><p><img src="/images/devops/keycloak/opensearch/opensearch_credential.png" alt="client ì˜ credential í™•ì¸"></p><h4 id="3-3-config-yml-ìƒì„±"><a href="#3-3-config-yml-ìƒì„±" class="headerlink" title="3.3 config.yml ìƒì„±"></a>3.3 config.yml ìƒì„±</h4><ul><li><a href="https://forum.opensearch.org/t/opensearch-saml-ad-working-but-with-no-basic-authorization-header-warning/13883/2">https://forum.opensearch.org/t/opensearch-saml-ad-working-but-with-no-basic-authorization-header-warning/13883/2</a></li><li><a href="https://forum.opensearch.org/t/openid-401-unauthorized-with-keycloak/10364/2">https://forum.opensearch.org/t/openid-401-unauthorized-with-keycloak/10364/2</a></li></ul><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Secret</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">opensearch-openid-keycloak</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">logging</span></span><br><span class="line"><span class="attr">type:</span> <span class="string">Opaque</span></span><br><span class="line"><span class="attr">stringData:</span></span><br><span class="line">  <span class="attr">config.yml:</span> <span class="string">|-</span></span><br><span class="line"><span class="string">    _meta:</span></span><br><span class="line"><span class="string">      type: &quot;config&quot;</span></span><br><span class="line"><span class="string">      config_version: 2</span></span><br><span class="line"><span class="string">    config:</span></span><br><span class="line"><span class="string">      dynamic:</span></span><br><span class="line"><span class="string">        authz: &#123;&#125;</span></span><br><span class="line"><span class="string">        authc:</span></span><br><span class="line"><span class="string">          openid_auth_domain:</span></span><br><span class="line"><span class="string">            http_enabled: true</span></span><br><span class="line"><span class="string">            transport_enabled: true</span></span><br><span class="line"><span class="string">            order: 0</span></span><br><span class="line"><span class="string">            http_authenticator:</span></span><br><span class="line"><span class="string">              type: openid</span></span><br><span class="line"><span class="string">              challenge: false</span></span><br><span class="line"><span class="string">              config:</span></span><br><span class="line"><span class="string">                subject_key: preferred_username</span></span><br><span class="line"><span class="string">                roles_key: roles</span></span><br><span class="line"><span class="string">                openid_connect_url: http://auth.crunchychoco.com/realms/ddanzit/.well-known/openid-configuration</span></span><br><span class="line"><span class="string">                skip_users:</span></span><br><span class="line"><span class="string">                  - kibanaserver</span></span><br><span class="line"><span class="string">                  - admin</span></span><br><span class="line"><span class="string">            authentication_backend:</span></span><br><span class="line"><span class="string">              type: noop</span></span><br><span class="line"><span class="string">          basic_internal_auth_domain:</span></span><br><span class="line"><span class="string">            http_enabled: true</span></span><br><span class="line"><span class="string">            transport_enabled: true</span></span><br><span class="line"><span class="string">            order: 1</span></span><br><span class="line"><span class="string">            http_authenticator:</span></span><br><span class="line"><span class="string">              type: basic</span></span><br><span class="line"><span class="string">              challenge: false</span></span><br><span class="line"><span class="string">            authentication_backend:</span></span><br><span class="line"><span class="string">              type: internal</span></span><br></pre></td></tr></table></figure><p>config.yml ì„ í†µí•´ ì¸ì¦ ë°©ì‹ê³¼ ìˆœì„œë¥¼ ì„¤ì •í•˜ë©´ dashboard ì—ì„œ ì„¤ì •ëœ ì¸ì¦ ë°©ì‹ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><p><img src="/images/devops/keycloak/opensearch/opensearch_authentication_order.png"></p><p><img src="/images/devops/keycloak/opensearch/http_configuration.png"></p><h4 id="3-4-Opensearch-values-yaml-ìˆ˜ì •"><a href="#3-4-Opensearch-values-yaml-ìˆ˜ì •" class="headerlink" title="3.4 Opensearch values.yaml ìˆ˜ì •"></a>3.4 Opensearch values.yaml ìˆ˜ì •</h4><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">securityConfig:</span></span><br><span class="line">  <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">configSecret:</span> <span class="string">opensearch-openid-keycloak</span></span><br></pre></td></tr></table></figure><h4 id="3-5-opensearch-dashboards-yml-ìˆ˜ì •"><a href="#3-5-opensearch-dashboards-yml-ìˆ˜ì •" class="headerlink" title="3.5 opensearch_dashboards.yml ìˆ˜ì •"></a>3.5 opensearch_dashboards.yml ìˆ˜ì •</h4><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">    <span class="attr">host:</span> <span class="string">&#x27;0.0.0.0&#x27;</span></span><br><span class="line"><span class="attr">opensearch:</span></span><br><span class="line">    <span class="attr">hosts:</span> [<span class="string">https://opensearch-cluster-master:9200</span>]</span><br><span class="line">    <span class="attr">ssl.verificationMode:</span> <span class="string">none</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">kibanaserver</span></span><br><span class="line">    <span class="attr">password:</span> <span class="string">kibanaserver</span></span><br><span class="line">    <span class="attr">requestHeadersWhitelist:</span> [<span class="string">authorization</span>, <span class="string">securitytenant</span>]</span><br><span class="line"></span><br><span class="line"><span class="attr">opensearch_security.multitenancy:</span></span><br><span class="line">    <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">opensearch_security.multitenancy.tenants:</span></span><br><span class="line">    <span class="attr">preferred:</span> [<span class="string">Private</span>, <span class="string">Global</span>]</span><br><span class="line"><span class="attr">opensearch_security:</span></span><br><span class="line">    <span class="attr">readonly_mode.roles:</span> [<span class="string">kibana_read_only</span>]</span><br><span class="line">    <span class="attr">cookie.secure:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="attr">opensearch_security.auth.type:</span> [<span class="string">&quot;openid&quot;</span>]</span><br><span class="line"><span class="attr">opensearch_security.openid.connect_url:</span> <span class="string">&quot;http://auth.crunchychoco.com/realms/ddanzit/.well-known/openid-configuration&quot;</span></span><br><span class="line"><span class="attr">opensearch_security.openid.client_id:</span> <span class="string">&quot;opensearch&quot;</span></span><br><span class="line"><span class="attr">opensearch_security.openid.client_secret:</span> <span class="string">&quot;9EH2nHCcpKk05F8l8TUsqnEslA26h2KU&quot;</span></span><br><span class="line"><span class="attr">opensearch_security.openid.base_redirect_url:</span> <span class="string">&quot;http://logging.crunchychoco.com&quot;</span></span><br></pre></td></tr></table></figure><p><img src="/images/devops/keycloak/opensearch/keycloak_opensearch.png"></p><h4 id="3-6-OpenSearch-SSO-ë°-Basic-Auth-ì‚¬ìš©-ì„¤ì •"><a href="#3-6-OpenSearch-SSO-ë°-Basic-Auth-ì‚¬ìš©-ì„¤ì •" class="headerlink" title="3.6 OpenSearch SSO ë° Basic Auth ì‚¬ìš© ì„¤ì •"></a>3.6 OpenSearch SSO ë° Basic Auth ì‚¬ìš© ì„¤ì •</h4><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">opensearch_security.auth.type:</span> [<span class="string">&quot;basicauth&quot;</span>,<span class="string">&quot;openid&quot;</span>]</span><br><span class="line"><span class="attr">opensearch_security.auth.multiple_auth_enabled:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><img src="/images/devops/keycloak/opensearch/opensearch_basic_auth.png"></p><h4 id="3-7-skeycloak-ì¸ì¦-í…ŒìŠ¤íŠ¸"><a href="#3-7-skeycloak-ì¸ì¦-í…ŒìŠ¤íŠ¸" class="headerlink" title="3.7 skeycloak ì¸ì¦ í…ŒìŠ¤íŠ¸"></a>3.7 skeycloak ì¸ì¦ í…ŒìŠ¤íŠ¸</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> CLIENT_ID=opensearch</span><br><span class="line"><span class="built_in">export</span> CLIENT_SECRET=<span class="string">&#x27;9EH2nHCcpKk05F8l8TUsqnEslA26h2KU&#x27;</span></span><br><span class="line"><span class="built_in">export</span> PW=<span class="string">&#x27;1q2w3e4r!@#&#x27;</span></span><br><span class="line"></span><br><span class="line">RESULT=$(curl -k --noproxy <span class="string">&#x27;*&#x27;</span> -d <span class="string">&#x27;username=ddanzit&#x27;</span> -d <span class="string">&quot;password=<span class="variable">$PW</span>&quot;</span> -d <span class="string">&#x27;grant_type=password&#x27;</span> -d <span class="string">&quot;client_id=<span class="variable">$CLIENT_ID</span>&quot;</span> -d <span class="string">&quot;client_secret=<span class="variable">$CLIENT_SECRET</span>&quot;</span> -d <span class="string">&#x27;scope=openid&#x27;</span> <span class="string">&#x27;http://auth.crunchychoco.com/realms/ddanzit/protocol/openid-connect/token&#x27;</span>)</span><br><span class="line"></span><br><span class="line">TOKEN=$(<span class="built_in">echo</span> <span class="variable">$RESULT</span> | sed <span class="string">&#x27;s/.*access_token&quot;:&quot;\([^&quot;]*\).*/\1/&#x27;</span>)</span><br><span class="line"></span><br><span class="line">curl -H <span class="string">&quot;Authorization: Bearer <span class="variable">$TOKEN</span>&quot;</span> http://auth.crunchychoco.com/realms/ddanzit/protocol/openid-connect/userinfo</span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;sub&quot;</span>: <span class="string">&quot;ce6f75ba-26fb-4cf4-9e7d-06f20d7d749f&quot;</span>,</span><br><span class="line">    <span class="string">&quot;email_verified&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="string">&quot;name&quot;</span>: <span class="string">&quot;ë™ìš° ì–‘&quot;</span>,</span><br><span class="line">    <span class="string">&quot;preferred_username&quot;</span>: <span class="string">&quot;kwangill&quot;</span>,</span><br><span class="line">    <span class="string">&quot;given_name&quot;</span>: <span class="string">&quot;ë™ìš°&quot;</span>,</span><br><span class="line">    <span class="string">&quot;family_name&quot;</span>: <span class="string">&quot;ì–‘&quot;</span>,</span><br><span class="line">    <span class="string">&quot;email&quot;</span>: <span class="string">&quot;askain@hanmail.net&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3-8-keycloak-Json-Web-Token-JWT-ë‚´ìš©-í™•ì¸"><a href="#3-8-keycloak-Json-Web-Token-JWT-ë‚´ìš©-í™•ì¸" class="headerlink" title="3.8 keycloak Json Web Token(JWT) ë‚´ìš© í™•ì¸"></a>3.8 keycloak Json Web Token(JWT) ë‚´ìš© í™•ì¸</h4><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;exp&quot;</span><span class="punctuation">:</span> <span class="number">1705381539</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;iat&quot;</span><span class="punctuation">:</span> <span class="number">1705381239</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;jti&quot;</span><span class="punctuation">:</span> <span class="string">&quot;e6cf69c7-f674-4a10-bfbc-444d3c19ad25&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;iss&quot;</span><span class="punctuation">:</span> <span class="string">&quot;http://auth.crunchychoco.com/realms/ddanzit&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;aud&quot;</span><span class="punctuation">:</span> <span class="string">&quot;account&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;sub&quot;</span><span class="punctuation">:</span> <span class="string">&quot;4eac345b-bfb9-4c4f-aba3-d52af277bbf0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;typ&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Bearer&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;azp&quot;</span><span class="punctuation">:</span> <span class="string">&quot;opensearch&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;session_state&quot;</span><span class="punctuation">:</span> <span class="string">&quot;c7c47cf3-34bf-40d5-891a-6d5ae52cc855&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;acr&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;allowed-origins&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="string">&quot;&quot;</span></span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;realm_access&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;roles&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">      <span class="string">&quot;default-roles-ddanzit&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="string">&quot;offline_access&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="string">&quot;admin&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="string">&quot;uma_authorization&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="string">&quot;Admin&quot;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;resource_access&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;account&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;roles&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="string">&quot;manage-account&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;manage-account-links&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;view-profile&quot;</span></span><br><span class="line">      <span class="punctuation">]</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;scope&quot;</span><span class="punctuation">:</span> <span class="string">&quot;openid email profile&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;sid&quot;</span><span class="punctuation">:</span> <span class="string">&quot;c7c47cf3-34bf-40d5-891a-6d5ae52cc855&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;email_verified&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ë™ìš° ì–‘&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;preferred_username&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ddanzit&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;given_name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ë™ìš°&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;family_name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ì–‘&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;email&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ckck803@naver.com&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h2 id="No-â€˜Basic-Authorizationâ€™-header-send-401-and-â€˜WWW-Authenticate-Basicâ€™"><a href="#No-â€˜Basic-Authorizationâ€™-header-send-401-and-â€˜WWW-Authenticate-Basicâ€™" class="headerlink" title="No â€˜Basic Authorizationâ€™ header, send 401 and â€˜WWW-Authenticate Basicâ€™"></a>No â€˜Basic Authorizationâ€™ header, send 401 and â€˜WWW-Authenticate Basicâ€™</h2><ul><li><a href="https://forum.opensearch.org/t/opensearch-dashboards-getting-no-basic-authorization-header-send-401-and-www-authenticate-basic-when-trying-to-login-via-sso/16101/7">https://forum.opensearch.org/t/opensearch-dashboards-getting-no-basic-authorization-header-send-401-and-www-authenticate-basic-when-trying-to-login-via-sso/16101/7</a></li><li><a href="https://forum.search-guard.com/t/no-basic-authorization-header-send-401-and-www-authenticate-basic-while-using-openid-and-basic-auth-domain/1930">https://forum.search-guard.com/t/no-basic-authorization-header-send-401-and-www-authenticate-basic-while-using-openid-and-basic-auth-domain/1930</a></li><li><a href="https://opensearch.org/docs/latest/security/configuration/security-admin/">https://opensearch.org/docs/latest/security/configuration/security-admin/</a></li></ul><p>ìœ„ì™€ ê°™ì€ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤ë©´ <code>securityadmin.sh</code> ë¥¼ ì´ìš©í•˜ì—¬ ì„¤ì •íŒŒì¼ì„ ì ìš©í•œë‹¤.</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">kubectl <span class="built_in">exec</span> \</span><br><span class="line">    -n logging \</span><br><span class="line">    -it opensearch-cluster-master-0 \</span><br><span class="line">    -- /usr/share/opensearch/plugins/opensearch-security/tools/securityadmin.sh \</span><br><span class="line">    -<span class="built_in">cd</span> /usr/share/opensearch/config/opensearch-security/ \</span><br><span class="line">    -icl \</span><br><span class="line">    -nhnv \</span><br><span class="line">    -cacert /usr/share/opensearch/config/root-ca.pem \</span><br><span class="line">    -cert /usr/share/opensearch/config/kirk.pem \</span><br><span class="line">    -key /usr/share/opensearch/config/kirk-key.pem</span><br></pre></td></tr></table></figure><h2 id="FATAL-Error-Multiple-Authentication-Mode-is-disabled-To-enable-this-feature-please-set-up-opensearch-security-auth-multiple-auth-enabled-true"><a href="#FATAL-Error-Multiple-Authentication-Mode-is-disabled-To-enable-this-feature-please-set-up-opensearch-security-auth-multiple-auth-enabled-true" class="headerlink" title="FATAL  Error: Multiple Authentication Mode is disabled. To enable this feature, please set up opensearch_security.auth.multiple_auth_enabled: true"></a>FATAL  Error: Multiple Authentication Mode is disabled. To enable this feature, please set up opensearch_security.auth.multiple_auth_enabled: true</h2><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">opensearch_security.auth.multiple_auth_enabled:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Kubernetes/">Kubernetes</category>
      
      
      
      <comments>https://ckck803.github.io/2025/02/22/devops/infra/k8s-infra-opensearch/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Prometheus ì™€ Grafana ì„¤ì¹˜í•˜ê¸°</title>
      <link>https://ckck803.github.io/2025/02/22/devops/infra/k8s-infra-prometheus-grafana/</link>
      <guid>https://ckck803.github.io/2025/02/22/devops/infra/k8s-infra-prometheus-grafana/</guid>
      <pubDate>Sat, 22 Feb 2025 04:31:46 GMT</pubDate>
      
        
        
      <description>&lt;h2 id=&quot;ëª©ì°¨&quot;&gt;&lt;a href=&quot;#ëª©ì°¨&quot; class=&quot;headerlink&quot; title=&quot;ëª©ì°¨&quot;&gt;&lt;/a&gt;ëª©ì°¨&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;/2025/02/22/devops/infra/k8s-infra-opensearch/&quot; title=&quot;</description>
        
      
      
      
      <content:encoded><![CDATA[<h2 id="ëª©ì°¨"><a href="#ëª©ì°¨" class="headerlink" title="ëª©ì°¨"></a>ëª©ì°¨</h2><ul><li><a href="/2025/02/22/devops/infra/k8s-infra-opensearch/" title="[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - OpenSearch ì„¤ì¹˜í•˜ê¸°">[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - OpenSearch ì„¤ì¹˜í•˜ê¸°</a></li><li><a href="/2025/02/22/devops/infra/k8s-infra-prometheus-grafana/" title="[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Prometheus ì™€ Grafana ì„¤ì¹˜í•˜ê¸°">[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Prometheus ì™€ Grafana ì„¤ì¹˜í•˜ê¸°</a></li><li><a href="/2025/02/21/devops/keycloak/k8s-infra-keyclock/" title="[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Keycloak ì„¤ì¹˜í•˜ê¸°">[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Keycloak ì„¤ì¹˜í•˜ê¸°</a></li><li><a href="/2025/02/22/devops/infra/k8s-infra-nginx-ingress-controller/" title="[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Ingress Nginx Controller ì„¤ì¹˜í•˜ê¸°">[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Ingress Nginx Controller ì„¤ì¹˜í•˜ê¸°</a></li><li><a href="/2025/02/20/k8s/local-path-provisioner/" title="[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Local PC ì¿ ë²„ë„¤í‹°ìŠ¤ ë™ì  í”„ë¡œë¹„ì €ë‹ì„ ìœ„í•œ StorageClass ì„¤ì¹˜">[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Local PC ì¿ ë²„ë„¤í‹°ìŠ¤ ë™ì  í”„ë¡œë¹„ì €ë‹ì„ ìœ„í•œ StorageClass ì„¤ì¹˜</a></li><li><a href="/2025/02/20/k8s/kubeadm-install/" title="[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Local PC ì— ì¿ ë²„ë„¤í‹°ìŠ¤ ì„¤ì¹˜í•˜ê¸°">[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Local PC ì— ì¿ ë²„ë„¤í‹°ìŠ¤ ì„¤ì¹˜í•˜ê¸°</a></li></ul><h2 id="âœ…-ë©”íŠ¸ë¦­-ìˆ˜ì§‘ì„-ìœ„í•œ-Prometheus"><a href="#âœ…-ë©”íŠ¸ë¦­-ìˆ˜ì§‘ì„-ìœ„í•œ-Prometheus" class="headerlink" title="âœ… ë©”íŠ¸ë¦­ ìˆ˜ì§‘ì„ ìœ„í•œ Prometheus"></a>âœ… ë©”íŠ¸ë¦­ ìˆ˜ì§‘ì„ ìœ„í•œ Prometheus</h2><p>ì„œë¹„ìŠ¤ë¥¼ ì˜¬ë ¸ë‹¤ê³  í•´ì„œ ëì´ ì•„ë‹ˆë‹¤! ì„œë¹„ìŠ¤ë¥¼ ìš´ìš©í•˜ëŠ” ì…ì¥ì—ì„œëŠ” ì‹œìŠ¤í…œì´ ì•ˆì •ì ì¸ì§€ ì§€ì†ì ìœ¼ë¡œ í™•ì¸ì„ í•´ì•¼ í•˜ëŠ”ë°, ìš´ì˜í•˜ëŠ” ì„œë¹„ìŠ¤ì˜ CPU ì‚¬ìš©ë¥ , ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥ ê³¼ ê°™ì€ ë©”íŠ¸ë¦­ ì •ë³´ë¥¼ ì§€ì†ì ìœ¼ë¡œ ìˆ˜ì§‘í•˜ëŠ” ì‹œìŠ¤í…œì„ êµ¬ì¶•í•´ì•¼ í•©ë‹ˆë‹¤.</p><p>ì €ëŠ” ëŒ€ì¤‘ì ìœ¼ë¡œ ë§ì´ ì•Œë ¤ì§„ Prometheus ë¥¼ ì´ìš©í•´ ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œ ìš´ì˜ì¤‘ì¸ ì„œë¹„ìŠ¤ì— ëŒ€í•œ ë©”íŠ¸ë¦­ ì •ë³´ë¥¼ ìˆ˜ì§‘í•˜ë ¤ê³  í•©ë‹ˆë‹¤.</p><h2 id="Helm-ì„-ì´ìš©í•œ-Prometheus-ì„¤ì¹˜"><a href="#Helm-ì„-ì´ìš©í•œ-Prometheus-ì„¤ì¹˜" class="headerlink" title="Helm ì„ ì´ìš©í•œ Prometheus ì„¤ì¹˜"></a>Helm ì„ ì´ìš©í•œ Prometheus ì„¤ì¹˜</h2><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># helm repo ì¶”ê°€</span></span><br><span class="line">helm repo add prometheus-community https://prometheus-community.github.io/helm-charts</span><br><span class="line"><span class="comment"># prometheus ì„¤ì¹˜</span></span><br><span class="line">helm upgrade --install -f ./values-prometheus.yaml prometheus prometheus-community/prometheus -n monitoring --create-namespace</span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">Release <span class="string">&quot;prometheus&quot;</span> does not exist. Installing it now.</span><br><span class="line">NAME: prometheus</span><br><span class="line">LAST DEPLOYED: Fri Nov 15 10:11:47 2024</span><br><span class="line">NAMESPACE: monitoring</span><br><span class="line">STATUS: deployed</span><br><span class="line">REVISION: 1</span><br><span class="line">TEST SUITE: None</span><br><span class="line">NOTES:</span><br><span class="line">The Prometheus server can be accessed via port 80 on the following DNS name from within your cluster:</span><br><span class="line">prometheus-server.monitoring.svc.cluster.local</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Get the Prometheus server URL by running these commands <span class="keyword">in</span> the same shell:</span><br><span class="line">  <span class="built_in">export</span> POD_NAME=$(kubectl get pods --namespace monitoring -l <span class="string">&quot;app.kubernetes.io/name=prometheus,app.kubernetes.io/instance=prometheus&quot;</span> -o jsonpath=<span class="string">&quot;&#123;.items[0].metadata.name&#125;&quot;</span>)</span><br><span class="line">  kubectl --namespace monitoring port-forward <span class="variable">$POD_NAME</span> 9090</span><br><span class="line"><span class="comment">#################################################################################</span></span><br><span class="line"><span class="comment">######   WARNING: Persistence is disabled!!! You will lose your data when   #####</span></span><br><span class="line"><span class="comment">######            the Server pod is terminated.                             #####</span></span><br><span class="line"><span class="comment">#################################################################################</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">The Prometheus alertmanager can be accessed via port 9093 on the following DNS name from within your cluster:</span><br><span class="line">prometheus-alertmanager.monitoring.svc.cluster.local</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Get the Alertmanager URL by running these commands <span class="keyword">in</span> the same shell:</span><br><span class="line">  <span class="built_in">export</span> POD_NAME=$(kubectl get pods --namespace monitoring -l <span class="string">&quot;app.kubernetes.io/name=alertmanager,app.kubernetes.io/instance=prometheus&quot;</span> -o jsonpath=<span class="string">&quot;&#123;.items[0].metadata.name&#125;&quot;</span>)</span><br><span class="line">  kubectl --namespace monitoring port-forward <span class="variable">$POD_NAME</span> 9093</span><br><span class="line"><span class="comment">#################################################################################</span></span><br><span class="line"><span class="comment">######   WARNING: Persistence is disabled!!! You will lose your data when   #####</span></span><br><span class="line"><span class="comment">######            the AlertManager pod is terminated.                       #####</span></span><br><span class="line"><span class="comment">#################################################################################</span></span><br><span class="line"><span class="comment">#################################################################################</span></span><br><span class="line"><span class="comment">######   WARNING: Pod Security Policy has been disabled by default since    #####</span></span><br><span class="line"><span class="comment">######            it deprecated after k8s 1.25+. use                        #####</span></span><br><span class="line"><span class="comment">######            (index .Values &quot;prometheus-node-exporter&quot; &quot;rbac&quot;          #####</span></span><br><span class="line"><span class="comment">###### .          &quot;pspEnabled&quot;) with (index .Values                         #####</span></span><br><span class="line"><span class="comment">######            &quot;prometheus-node-exporter&quot; &quot;rbac&quot; &quot;pspAnnotations&quot;)       #####</span></span><br><span class="line"><span class="comment">######            in case you still need it.                                #####</span></span><br><span class="line"><span class="comment">#################################################################################</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">The Prometheus PushGateway can be accessed via port 9091 on the following DNS name from within your cluster:</span><br><span class="line">prometheus-prometheus-pushgateway.monitoring.svc.cluster.local</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Get the PushGateway URL by running these commands <span class="keyword">in</span> the same shell:</span><br><span class="line">  <span class="built_in">export</span> POD_NAME=$(kubectl get pods --namespace monitoring -l <span class="string">&quot;app=prometheus-pushgateway,component=pushgateway&quot;</span> -o jsonpath=<span class="string">&quot;&#123;.items[0].metadata.name&#125;&quot;</span>)</span><br><span class="line">  kubectl --namespace monitoring port-forward <span class="variable">$POD_NAME</span> 9091</span><br><span class="line"></span><br><span class="line">For more information on running Prometheus, visit:</span><br><span class="line">https://prometheus.io/</span><br></pre></td></tr></table></figure><h2 id="âœ…-ëª¨ë‹ˆí„°ë§ì„-ìœ„í•œ-Grafana"><a href="#âœ…-ëª¨ë‹ˆí„°ë§ì„-ìœ„í•œ-Grafana" class="headerlink" title="âœ… ëª¨ë‹ˆí„°ë§ì„ ìœ„í•œ Grafana"></a>âœ… ëª¨ë‹ˆí„°ë§ì„ ìœ„í•œ Grafana</h2><p>ë©”íŠ¸ë¦­ ìˆ˜ì§‘ì„ ìœ„í•œ Prometheus ë¥¼ ì„¤ì¹˜ í–ˆëŠ”ë°! ë‹¨ìˆœ ë©”íŠ¸ë¦­ ì •ë³´ë§Œ ìˆìœ¼ë©´ ìš´ì˜í•˜ëŠ” ì…ì¥ì—ì„œ ê°€ì‹œì ìœ¼ë¡œ ì™€ ë‹¿ì§€ ì•ŠìŠµë‹ˆë‹¤.</p><p>ì´ë²ˆì—ëŠ” ë©”íŠ¸ë¦­ ì •ë³´ë¥¼ ì‚¬ìš©ìì—ê²Œ ë³´ì—¬ì£¼ëŠ” ëŒ€ì‹œë³´ë“œ íˆ´ì¸ Grafana ë¥¼ ì„¤ì¹˜í•´ ëŒ€ì‹œë³´ë“œë¥¼ êµ¬ì„±í•˜ë ¤ê³  í•©ë‹ˆë‹¤.</p><h2 id="Helm-ì„-ì´ìš©í•œ-Grafana-ì„¤ì¹˜"><a href="#Helm-ì„-ì´ìš©í•œ-Grafana-ì„¤ì¹˜" class="headerlink" title="Helm ì„ ì´ìš©í•œ Grafana ì„¤ì¹˜"></a>Helm ì„ ì´ìš©í•œ Grafana ì„¤ì¹˜</h2><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># repo ì¶”ê°€</span></span><br><span class="line">helm repo add grafana https://grafana.github.io/helm-charts</span><br><span class="line"><span class="comment"># grafana ì„¤ì¹˜</span></span><br><span class="line">helm upgrade --install -f values-grafana.yaml grafana grafana/grafana -n monitoring --create-namespace</span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">Release <span class="string">&quot;grafana&quot;</span> does not exist. Installing it now.</span><br><span class="line">NAME: grafana</span><br><span class="line">LAST DEPLOYED: Fri Nov 15 11:22:42 2024</span><br><span class="line">NAMESPACE: monitoring</span><br><span class="line">STATUS: deployed</span><br><span class="line">REVISION: 1</span><br><span class="line">NOTES:</span><br><span class="line">1. Get your <span class="string">&#x27;admin&#x27;</span> user password by running:</span><br><span class="line"></span><br><span class="line">   kubectl get secret --namespace monitoring grafana -o jsonpath=<span class="string">&quot;&#123;.data.admin-password&#125;&quot;</span> | <span class="built_in">base64</span> --decode ; <span class="built_in">echo</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">2. The Grafana server can be accessed via port 80 on the following DNS name from within your cluster:</span><br><span class="line"></span><br><span class="line">   grafana.monitoring.svc.cluster.local</span><br><span class="line"></span><br><span class="line">   Get the Grafana URL to visit by running these commands <span class="keyword">in</span> the same shell:</span><br><span class="line">     <span class="built_in">export</span> POD_NAME=$(kubectl get pods --namespace monitoring -l <span class="string">&quot;app.kubernetes.io/name=grafana,app.kubernetes.io/instance=grafana&quot;</span> -o jsonpath=<span class="string">&quot;&#123;.items[0].metadata.name&#125;&quot;</span>)</span><br><span class="line">     kubectl --namespace monitoring port-forward <span class="variable">$POD_NAME</span> 3000</span><br><span class="line"></span><br><span class="line">3. Login with the password from step 1 and the username: admin</span><br><span class="line"><span class="comment">#################################################################################</span></span><br><span class="line"><span class="comment">######   WARNING: Persistence is disabled!!! You will lose your data when   #####</span></span><br><span class="line"><span class="comment">######            the Grafana pod is terminated.                            #####</span></span><br><span class="line"><span class="comment">#################################################################################</span></span><br></pre></td></tr></table></figure><h2 id="âœ…-Grafana-KeyCloak-ì—°ë™"><a href="#âœ…-Grafana-KeyCloak-ì—°ë™" class="headerlink" title="âœ… Grafana KeyCloak ì—°ë™"></a>âœ… Grafana KeyCloak ì—°ë™</h2><ul><li>ì°¸ê³ <ul><li><a href="https://grafana.com/docs/grafana/latest/setup-grafana/configure-security/configure-authentication/keycloak/">https://grafana.com/docs/grafana/latest/setup-grafana/configure-security/configure-authentication/keycloak/</a></li></ul></li></ul><h3 id="1-KeyCloak-Grafana-Client-ìƒì„±"><a href="#1-KeyCloak-Grafana-Client-ìƒì„±" class="headerlink" title="1. KeyCloak - Grafana Client ìƒì„±"></a>1. KeyCloak - Grafana Client ìƒì„±</h3><p><img src="/images/devops/keycloak/grafana/client_grafana.png"></p><p><img src="/images/devops/keycloak/grafana/client_grafana_2.png"></p><p><img src="/images/devops/keycloak/grafana/client_grafana_3.png"></p><h3 id="2-KeyCloak-Grafana-User-Client-Role-ì¶”ê°€"><a href="#2-KeyCloak-Grafana-User-Client-Role-ì¶”ê°€" class="headerlink" title="2. KeyCloak - Grafana User Client Role ì¶”ê°€"></a>2. KeyCloak - Grafana User Client Role ì¶”ê°€</h3><p><img src="/images/devops/keycloak/grafana/user_client_role.png"></p><p><img src="/images/devops/keycloak/grafana/user_client_role2.png"></p><h3 id="3-Grafana-values-yaml-ìˆ˜ì •"><a href="#3-Grafana-values-yaml-ìˆ˜ì •" class="headerlink" title="3. Grafana values.yaml ìˆ˜ì •"></a>3. Grafana values.yaml ìˆ˜ì •</h3><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">root_url:</span> <span class="string">http://monitoring.crunchychoco.com/</span></span><br><span class="line"><span class="attr">auth.generic_oauth:</span></span><br><span class="line">  <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">ddanzit</span></span><br><span class="line">  <span class="attr">allow_sign_up:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">client_id:</span> <span class="string">grafana</span></span><br><span class="line">  <span class="attr">client_secret:</span> <span class="string">FYFRju1uhbUnZeQq3BUz1n7G1cK7DSNc</span></span><br><span class="line">  <span class="attr">scopes:</span> <span class="string">openid</span> <span class="string">email</span> <span class="string">profile</span> <span class="string">offline_access</span> <span class="string">roles</span></span><br><span class="line">  <span class="attr">email_attribute_path:</span> <span class="string">email</span></span><br><span class="line">  <span class="attr">login_attribute_path:</span> <span class="string">username</span></span><br><span class="line">  <span class="attr">name_attribute_path:</span> <span class="string">full_name</span></span><br><span class="line">  <span class="attr">auth_url:</span> <span class="string">http://auth.crunchychoco.com/realms/ddanzit/protocol/openid-connect/auth</span></span><br><span class="line">  <span class="attr">token_url:</span> <span class="string">http://auth.crunchychoco.com/realms/ddanzit/protocol/openid-connect/token</span></span><br><span class="line">  <span class="attr">api_url:</span> <span class="string">http://auth.crunchychoco.com/realms/ddanzit/protocol/openid-connect/userinfo</span></span><br><span class="line">  <span class="attr">role_attribute_path:</span> <span class="string">contains(roles[*],</span> <span class="string">&#x27;admin&#x27;</span><span class="string">)</span> <span class="string">&amp;&amp;</span> <span class="string">&#x27;Admin&#x27;</span> <span class="string">||</span> <span class="string">contains(roles[*],</span> <span class="string">&#x27;editor&#x27;</span><span class="string">)</span> <span class="string">&amp;&amp;</span> <span class="string">&#x27;Editor&#x27;</span> <span class="string">||</span> <span class="string">&#x27;Viewer&#x27;</span></span><br></pre></td></tr></table></figure><p><img src="/images/devops/keycloak/grafana/grafana_sso.png"></p>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Kubernetes/">Kubernetes</category>
      
      
      
      <comments>https://ckck803.github.io/2025/02/22/devops/infra/k8s-infra-prometheus-grafana/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Ingress Nginx Controller ì„¤ì¹˜í•˜ê¸°</title>
      <link>https://ckck803.github.io/2025/02/22/devops/infra/k8s-infra-nginx-ingress-controller/</link>
      <guid>https://ckck803.github.io/2025/02/22/devops/infra/k8s-infra-nginx-ingress-controller/</guid>
      <pubDate>Sat, 22 Feb 2025 03:31:46 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;img src=&quot;/images/springboot/sample-board/nginx/nginx.png&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;ëª©ì°¨&quot;&gt;&lt;a href=&quot;#ëª©ì°¨&quot; class=&quot;headerlink&quot; title=&quot;ëª©ì°¨&quot;&gt;&lt;/a&gt;ëª©ì°¨&lt;/h2&gt;&lt;ul&gt;
&lt;</description>
        
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/springboot/sample-board/nginx/nginx.png"></p><h2 id="ëª©ì°¨"><a href="#ëª©ì°¨" class="headerlink" title="ëª©ì°¨"></a>ëª©ì°¨</h2><ul><li><a href="/2025/02/22/devops/infra/k8s-infra-opensearch/" title="[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - OpenSearch ì„¤ì¹˜í•˜ê¸°">[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - OpenSearch ì„¤ì¹˜í•˜ê¸°</a></li><li><a href="/2025/02/22/devops/infra/k8s-infra-prometheus-grafana/" title="[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Prometheus ì™€ Grafana ì„¤ì¹˜í•˜ê¸°">[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Prometheus ì™€ Grafana ì„¤ì¹˜í•˜ê¸°</a></li><li><a href="/2025/02/21/devops/keycloak/k8s-infra-keyclock/" title="[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Keycloak ì„¤ì¹˜í•˜ê¸°">[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Keycloak ì„¤ì¹˜í•˜ê¸°</a></li><li><a href="/2025/02/22/devops/infra/k8s-infra-nginx-ingress-controller/" title="[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Ingress Nginx Controller ì„¤ì¹˜í•˜ê¸°">[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Ingress Nginx Controller ì„¤ì¹˜í•˜ê¸°</a></li><li><a href="/2025/02/20/k8s/local-path-provisioner/" title="[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Local PC ì¿ ë²„ë„¤í‹°ìŠ¤ ë™ì  í”„ë¡œë¹„ì €ë‹ì„ ìœ„í•œ StorageClass ì„¤ì¹˜">[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Local PC ì¿ ë²„ë„¤í‹°ìŠ¤ ë™ì  í”„ë¡œë¹„ì €ë‹ì„ ìœ„í•œ StorageClass ì„¤ì¹˜</a></li><li><a href="/2025/02/20/k8s/kubeadm-install/" title="[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Local PC ì— ì¿ ë²„ë„¤í‹°ìŠ¤ ì„¤ì¹˜í•˜ê¸°">[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Local PC ì— ì¿ ë²„ë„¤í‹°ìŠ¤ ì„¤ì¹˜í•˜ê¸°</a></li></ul><h2 id="ì°¸ê³ "><a href="#ì°¸ê³ " class="headerlink" title="ì°¸ê³ "></a>ì°¸ê³ </h2><ul><li><a href="https://kubernetes.github.io/ingress-nginx/">https://kubernetes.github.io/ingress-nginx/</a></li><li><a href="https://github.com/nginxinc/kubernetes-ingress">https://github.com/nginxinc/kubernetes-ingress</a></li><li><a href="https://artifacthub.io/packages/helm/ingress-nginx/ingress-nginx">https://artifacthub.io/packages/helm/ingress-nginx/ingress-nginx</a></li><li><a href="https://www.nginx.com/blog/guide-to-choosing-ingress-controller-part-4-nginx-ingress-controller-options/">https://www.nginx.com/blog/guide-to-choosing-ingress-controller-part-4-nginx-ingress-controller-options/</a></li><li><a href="https://kubernetes.github.io/ingress-nginx/deploy/#bare-metal-clusters">https://kubernetes.github.io/ingress-nginx/deploy/#bare-metal-clusters</a></li></ul><h2 id="Ingress-Controller-ì„¤ì¹˜"><a href="#Ingress-Controller-ì„¤ì¹˜" class="headerlink" title="Ingress Controller ì„¤ì¹˜"></a>Ingress Controller ì„¤ì¹˜</h2><p>í˜„ì¬ ì„¤ì¹˜ëœ ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œëŠ” Ingress ë¥¼ ìƒì„± í•˜ë”ë¼ë„ ì™¸ë¶€ ìš”ì²­ì„ Ingress ì„¤ì •ì— ë§ê²Œ ì™¸ë¶€ ìš”ì²­ì„ ë‚´ë¶€ ì„œë¹„ìŠ¤ë¡œ ì „ë‹¬í•´ì£¼ëŠ” Controller ê°€ ë”°ë¡œ ì—†ìŠµë‹ˆë‹¤. ë‹¤ì‹œ ë§í•´, ê·œì¹™ì„ ìƒì„±í•˜ë”ë¼ë„ ê·œì¹™ì„ ì½ì–´ì„œ ì ìš©ì‹œì¼œì£¼ëŠ” ëª¨ë“ˆì´ ì—†ëŠ” ìƒíƒœì…ë‹ˆë‹¤.</p><p>ë³´í†µ, í´ë¼ìš°ìŠ¤ ì„œë¹„ìŠ¤ì—ì„œëŠ” ALB ë‚˜ NLB ì™€ ê°™ì€ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•´ Ingress ì •ì±…ì„ ì½ì–´ Load Balancing ê·œì¹™ì„ ì ìš©í•´ì£¼ëŠ”ë°, ê°œì¸ ì¿ ë²„ë„¤í‹°ìŠ¤ ì„œë¹„ìŠ¤ì—ì„œëŠ” ì €ëŸ° ì‹œìŠ¤í…œì„ ê¸°ëŒ€í•˜ê¸° í˜ë“¦ìœ¼ë¡œ ì €ëŠ” Nginx ì—ì„œ ì œê³µí•´ì£¼ëŠ” Ingress Controller ë¥¼ ì´ìš©í•˜ë ¤ê³  í•©ë‹ˆë‹¤.</p><h2 id="Helm-ì„¤ì¹˜"><a href="#Helm-ì„¤ì¹˜" class="headerlink" title="Helm ì„¤ì¹˜"></a>Helm ì„¤ì¹˜</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">helm upgrade --install ingress-nginx ingress-nginx \</span><br><span class="line">  --repo https://kubernetes.github.io/ingress-nginx \</span><br><span class="line">  --namespace ingress-nginx --create-namespace</span><br></pre></td></tr></table></figure><h2 id="BareMetal-ì„¤ì¹˜"><a href="#BareMetal-ì„¤ì¹˜" class="headerlink" title="BareMetal ì„¤ì¹˜"></a>BareMetal ì„¤ì¹˜</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># BareMetal ì„¤ì¹˜</span></span><br><span class="line">wget https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.0.4/deploy/static/provider/baremetal/deploy.yaml</span><br><span class="line">kubectl apply -f deploy.yaml</span><br><span class="line"></span><br><span class="line"><span class="comment"># Cloud ì„¤ì¹˜</span></span><br><span class="line">wget https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.8.0/deploy/static/provider/cloud/deploy.yaml</span><br><span class="line">kubectl apply -f deploy.yaml</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">namespace/ingress-nginx created</span><br><span class="line">serviceaccount/ingress-nginx created</span><br><span class="line">serviceaccount/ingress-nginx-admission created</span><br><span class="line">role.rbac.authorization.k8s.io/ingress-nginx created</span><br><span class="line">role.rbac.authorization.k8s.io/ingress-nginx-admission created</span><br><span class="line">clusterrole.rbac.authorization.k8s.io/ingress-nginx created</span><br><span class="line">clusterrole.rbac.authorization.k8s.io/ingress-nginx-admission created</span><br><span class="line">rolebinding.rbac.authorization.k8s.io/ingress-nginx created</span><br><span class="line">rolebinding.rbac.authorization.k8s.io/ingress-nginx-admission created</span><br><span class="line">clusterrolebinding.rbac.authorization.k8s.io/ingress-nginx created</span><br><span class="line">clusterrolebinding.rbac.authorization.k8s.io/ingress-nginx-admission created</span><br><span class="line">configmap/ingress-nginx-controller created</span><br><span class="line">service/ingress-nginx-controller created</span><br><span class="line">service/ingress-nginx-controller-admission created</span><br><span class="line">deployment.apps/ingress-nginx-controller created</span><br><span class="line">job.batch/ingress-nginx-admission-create created</span><br><span class="line">job.batch/ingress-nginx-admission-patch created</span><br><span class="line">ingressclass.networking.k8s.io/nginx created</span><br><span class="line">validatingwebhookconfiguration.admissionregistration.k8s.io/ingress-nginx-admission created</span><br></pre></td></tr></table></figure><h3 id="1-hostNetwork-ì‚¬ìš©í•˜ê¸°"><a href="#1-hostNetwork-ì‚¬ìš©í•˜ê¸°" class="headerlink" title="1. hostNetwork ì‚¬ìš©í•˜ê¸°"></a>1. hostNetwork ì‚¬ìš©í•˜ê¸°</h3><ul><li><a href="https://kubernetes.github.io/ingress-nginx/deploy/baremetal/#via-the-host-network">https://kubernetes.github.io/ingress-nginx/deploy/baremetal/#via-the-host-network</a></li></ul><p>EKS ë‚˜ AKS ì™€ëŠ” ë‹¬ë¦¬ LB(Load Balancer) ê°€ ì—†ëŠ” Bare Metal í™˜ê²½ì—ì„œëŠ” Ingress Controller ë§Œ ì„¤ì¹˜ í–ˆë‹¤ê³  í•´ì„œ ì™¸ë¶€ ìš”ì²­ì´ ì¿ ë²„ë„¤í‹°ìŠ¤ ë‚´ë¡œ ë“¤ì–´ì˜¤ì§€ëŠ” ëª»í•©ë‹ˆë‹¤. ğŸ˜­</p><p>NortPort ë¥¼ ì´ìš©í•´ Ingress Controller ì˜ ì„œë¹„ìŠ¤ë¥¼ ì™¸ë¶€ë¡œ ë…¸ì¶œí•˜ëŠ” ë°©ë²•ì´ ìˆì§€ë§Œ, ë‹¨ì¼ Pod ë§Œ ì˜¬ë¦° ìƒíƒœë¼ Pod ì˜ í¬íŠ¸ë¥¼ ì™¸ë¶€ë¡œ ì§ì ‘ ë…¸ì¶œí•˜ëŠ” hostNetwork ë¥¼ ì‚¬ìš©í•˜ë ¤ê³  í•©ë‹ˆë‹¤. (hostPort ë„ ì‚¬ìš© ê°€ëŠ¥)</p><p>hostNetwork ì˜µì…˜ì„ ì‚¬ìš©í•˜ë©´, í•´ë‹¹ Podê°€ ë…¸ë“œì˜ ë„¤íŠ¸ì›Œí¬ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¥¼ ê³µìœ í•˜ê²Œ ë˜ì–´ ì»¨í…Œì´ë„ˆ í¬íŠ¸ê°€ ë…¸ë“œ í¬íŠ¸ì™€ ì§ì ‘ ì—°ê²°ë©ë‹ˆë‹¤. ì¦‰, ì»¨í…Œì´ë„ˆ ë‚´ì˜ 80ë²ˆ í¬íŠ¸ê°€ ìë™ìœ¼ë¡œ ë…¸ë“œì˜ 80ë²ˆ í¬íŠ¸ì™€ ë°”ì¸ë”©ë˜ë¯€ë¡œ ë³„ë„ì˜ í¬íŠ¸ í¬ì›Œë”© ì—†ì´ ì™¸ë¶€ì—ì„œ ë…¸ë“œì˜ 80ë²ˆ(ë° 443ë²ˆ) í¬íŠ¸ë¡œ ì ‘ì†í•  ë•Œ Ingress Controller ê°€ ìš”ì²­ì„ ì²˜ë¦¬í•˜ê²Œ ë©ë‹ˆë‹¤.</p><p>ë§Œì¼ Controller Pod ê°€ ì—¬ëŸ¬ê°œ ìˆì–´ ì¿ ë²„ë„¤í‹°ìŠ¤ì˜ ì„œë¹„ìŠ¤ì—ì„œ ì œê³µí•˜ëŠ” ë¡œë“œë°¸ëŸ°ì‹±ì„ ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤ë©´ NortPort ë¥¼ ì´ìš©í•´ ì™¸ë¶€ì—ì„œ ì ‘ê·¼í•˜ë„ë¡ ì„¤ì •í•˜ë©´ ë©ë‹ˆë‹¤.</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Deployment</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">ingress-nginx-controller</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">ingress-nginx</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">replicas:</span> <span class="number">1</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">matchLabels:</span></span><br><span class="line">      <span class="attr">app.kubernetes.io/name:</span> <span class="string">ingress-nginx</span></span><br><span class="line">  <span class="attr">template:</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">labels:</span></span><br><span class="line">        <span class="attr">app.kubernetes.io/name:</span> <span class="string">ingress-nginx</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="comment"># hostNetwork í™œì„±í™”: Podê°€ ë…¸ë“œ ë„¤íŠ¸ì›Œí¬ë¥¼ ì‚¬ìš©í•¨ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</span></span><br><span class="line">      <span class="attr">hostNetwork:</span> <span class="literal">true</span>  </span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">controller</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">k8s.gcr.io/ingress-nginx/controller:v1.7.1</span> </span><br><span class="line">        <span class="attr">args:</span></span><br><span class="line">          <span class="bullet">-</span> <span class="string">/nginx-ingress-controller</span></span><br><span class="line">          <span class="comment"># í•„ìš”ì— ë”°ë¼ ì¶”ê°€ ì¸ì ì„¤ì •</span></span><br><span class="line">        <span class="attr">ports:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">http</span></span><br><span class="line">          <span class="attr">containerPort:</span> <span class="number">80</span></span><br><span class="line">          <span class="comment"># hostNetwork ì‚¬ìš© ì‹œ hostPort ì§€ì •ì€ ì‚¬ì‹¤ìƒ ë¶ˆí•„ìš”í•˜ì§€ë§Œ ëª…ì‹œí•  ìˆ˜ë„ ìˆìŒ</span></span><br><span class="line">          <span class="attr">hostPort:</span> <span class="number">80</span></span><br><span class="line">          <span class="attr">protocol:</span> <span class="string">TCP</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">https</span></span><br><span class="line">          <span class="attr">containerPort:</span> <span class="number">443</span></span><br><span class="line">          <span class="attr">hostPort:</span> <span class="number">443</span></span><br><span class="line">          <span class="attr">protocol:</span> <span class="string">TCP</span></span><br></pre></td></tr></table></figure><h2 id="HTTPS-ì ìš©í•˜ê¸°-NGINX-Ingress-Controllerì™€-cert-manager"><a href="#HTTPS-ì ìš©í•˜ê¸°-NGINX-Ingress-Controllerì™€-cert-manager" class="headerlink" title="HTTPS ì ìš©í•˜ê¸° - NGINX Ingress Controllerì™€ cert-manager"></a>HTTPS ì ìš©í•˜ê¸° - NGINX Ingress Controllerì™€ cert-manager</h2><ul><li>ì°¸ê³ <ul><li><a href="https://kubernetes.github.io/ingress-nginx/user-guide/tls/#automated-certificate-management-with-cert-manager">https://kubernetes.github.io/ingress-nginx/user-guide/tls/#automated-certificate-management-with-cert-manager</a></li><li><a href="https://github.com/cert-manager/cert-manager">https://github.com/cert-manager/cert-manager</a></li></ul></li></ul><p>Ingress Controller ì„¤ì¹˜ë¥¼ í†µí•´ í´ëŸ¬ìŠ¤í„°ë‚´ë¶€ì™€ ì™¸ë¶€ì˜ HTTP í†µì‹ ì´ ê°€ëŠ¥í•œ ìƒíƒœë‹ˆ ì—¬ê¸°ì„œ ë³´ì•ˆì´ ì¶”ê°€ëœ HTTPS í†µì‹ ì„ í•˜ê¸° ìœ„í•œ ì„¤ì •ì„ í•˜ë ¤ê³  í•©ë‹ˆë‹¤.</p><p>HTTPS ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ì¸ì¦ì„œë¥¼ ìƒì„±í•˜ê³  GlobalSign ë‚˜ DigiCert ì™€ ê°™ì€ ì‹ ë¢°ì„±ì´ ë†’ê³  ìœ ëª…í•œ ê¸°ê´€ì— ì¸ì¦ì„œë¥¼ ë“±ë¡í•´ì•¼ í•˜ì§€ë§Œ, ê¸°ê´€ì— SSL ì¸ì¦ì„œë¥¼ ë“±ë¡í•˜ê¸° ìœ„í•´ì„œëŠ” ê¸ˆì•¡ì´ ê½¤ ë“¤ê¸° ë•Œë¬¸ì— ë¬´ë£Œë¡œ ì¸ì¦ì„œë¥¼ ë“±ë¡ ë° ê´€ë¦¬í•˜ëŠ” ë°©ë²•ì´ ì—†ëŠ”ì§€ ì°¾ì•„ë³´ë‹¤ê°€ ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œ HTTPS ë¥¼ ì†ì‰½ê²Œ ì ìš©í•´ì£¼ëŠ” cert-manager ë¥¼ ì°¾ì•˜ìŠµë‹ˆë‹¤.</p><p>cert-manager ì—ì„œëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œ ì‰½ê²Œ HTTPS ë¥¼ êµ¬ì„±í•  ìˆ˜ ìˆë„ë¡ Operator ë¥¼ ì œê³µí•©ë‹ˆë‹¤.</p><h3 id="1-cert-manager-ì„¤ì¹˜"><a href="#1-cert-manager-ì„¤ì¹˜" class="headerlink" title="1. cert-manager ì„¤ì¹˜"></a>1. cert-manager ì„¤ì¹˜</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">kubectl apply -f https://github.com/cert-manager/cert-manager/releases/download/v1.15.3/cert-manager.yaml</span><br></pre></td></tr></table></figure><h3 id="2-Issuers-ì •ì˜"><a href="#2-Issuers-ì •ì˜" class="headerlink" title="2. Issuers ì •ì˜"></a>2. Issuers ì •ì˜</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># tls-issuer.yaml</span></span><br><span class="line"><span class="comment"># kubectl apply -f tls-issuer.yaml</span></span><br><span class="line">apiVersion: cert-manager.io/v1</span><br><span class="line">kind: ClusterIssuer</span><br><span class="line">metadata:</span><br><span class="line">  name: letsencrypt-nginx</span><br><span class="line">spec:</span><br><span class="line">  acme:</span><br><span class="line">    server: https://acme-v02.api.letsencrypt.org/directory</span><br><span class="line">    email: &lt;ì´ë©”ì¼&gt;</span><br><span class="line">    privateKeySecretRef:</span><br><span class="line">      name: letsencrypt-nginx</span><br><span class="line">    solvers:</span><br><span class="line">      - http01:</span><br><span class="line">          ingress:</span><br><span class="line">            class: nginx</span><br></pre></td></tr></table></figure><h3 id="3-ingressì—-ë°˜ì˜"><a href="#3-ingressì—-ë°˜ì˜" class="headerlink" title="3. ingressì— ë°˜ì˜"></a>3. ingressì— ë°˜ì˜</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ingress.yaml</span></span><br><span class="line"><span class="comment"># kubectl apply -f ingress.yaml</span></span><br><span class="line">apiVersion: networking.k8s.io/v1</span><br><span class="line">kind: Ingress</span><br><span class="line">metadata:</span><br><span class="line">  annotations:</span><br><span class="line">    cert-manager.io/cluster-issuer: letsencrypt-nginx</span><br><span class="line">    acme.cert-manager.io/http01-edit-in-place: <span class="string">&quot;true&quot;</span></span><br><span class="line">    nginx.ingress.kubernetes.io/ssl-redirect: <span class="string">&quot;true&quot;</span></span><br><span class="line">    kubernetes.io/tls-acme: <span class="string">&quot;true&quot;</span></span><br><span class="line">  name: backend-ingress</span><br><span class="line">  namespace: default</span><br><span class="line">spec:</span><br><span class="line">  ingressClassName: <span class="string">&quot;nginx&quot;</span></span><br><span class="line">  tls:</span><br><span class="line">    - hosts:</span><br><span class="line">        - &lt;ë„ë©”ì¸&gt;</span><br><span class="line">      secretName: tls-secret</span><br><span class="line">  rules:</span><br><span class="line">    - host: &lt;ë„ë©”ì¸&gt;</span><br><span class="line">      http:</span><br><span class="line">        paths:</span><br><span class="line">          - path: /</span><br><span class="line">            pathType: Prefix</span><br><span class="line">            backend:</span><br><span class="line">              service:</span><br><span class="line">                name: backend-svc</span><br><span class="line">                port:</span><br><span class="line">                  number: 80</span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Kubernetes/">Kubernetes</category>
      
      
      
      <comments>https://ckck803.github.io/2025/02/22/devops/infra/k8s-infra-nginx-ingress-controller/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Keycloak ì„¤ì¹˜í•˜ê¸°</title>
      <link>https://ckck803.github.io/2025/02/21/devops/keycloak/k8s-infra-keyclock/</link>
      <guid>https://ckck803.github.io/2025/02/21/devops/keycloak/k8s-infra-keyclock/</guid>
      <pubDate>Fri, 21 Feb 2025 00:31:46 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;img src=&quot;/images/devops/keycloak/keycloak.jpg&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;ëª©ì°¨&quot;&gt;&lt;a href=&quot;#ëª©ì°¨&quot; class=&quot;headerlink&quot; title=&quot;ëª©ì°¨&quot;&gt;&lt;/a&gt;ëª©ì°¨&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=</description>
        
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/devops/keycloak/keycloak.jpg"></p><h2 id="ëª©ì°¨"><a href="#ëª©ì°¨" class="headerlink" title="ëª©ì°¨"></a>ëª©ì°¨</h2><ul><li><a href="/2025/02/22/devops/infra/k8s-infra-opensearch/" title="[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - OpenSearch ì„¤ì¹˜í•˜ê¸°">[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - OpenSearch ì„¤ì¹˜í•˜ê¸°</a></li><li><a href="/2025/02/22/devops/infra/k8s-infra-prometheus-grafana/" title="[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Prometheus ì™€ Grafana ì„¤ì¹˜í•˜ê¸°">[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Prometheus ì™€ Grafana ì„¤ì¹˜í•˜ê¸°</a></li><li><a href="/2025/02/21/devops/keycloak/k8s-infra-keyclock/" title="[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Keycloak ì„¤ì¹˜í•˜ê¸°">[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Keycloak ì„¤ì¹˜í•˜ê¸°</a></li><li><a href="/2025/02/22/devops/infra/k8s-infra-nginx-ingress-controller/" title="[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Ingress Nginx Controller ì„¤ì¹˜í•˜ê¸°">[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Ingress Nginx Controller ì„¤ì¹˜í•˜ê¸°</a></li><li><a href="/2025/02/20/k8s/local-path-provisioner/" title="[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Local PC ì¿ ë²„ë„¤í‹°ìŠ¤ ë™ì  í”„ë¡œë¹„ì €ë‹ì„ ìœ„í•œ StorageClass ì„¤ì¹˜">[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Local PC ì¿ ë²„ë„¤í‹°ìŠ¤ ë™ì  í”„ë¡œë¹„ì €ë‹ì„ ìœ„í•œ StorageClass ì„¤ì¹˜</a></li><li><a href="/2025/02/20/k8s/kubeadm-install/" title="[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Local PC ì— ì¿ ë²„ë„¤í‹°ìŠ¤ ì„¤ì¹˜í•˜ê¸°">[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Local PC ì— ì¿ ë²„ë„¤í‹°ìŠ¤ ì„¤ì¹˜í•˜ê¸°</a></li></ul><h2 id="ğŸ”-SSO-ë¥¼-ìœ„í•œ-Keycloak"><a href="#ğŸ”-SSO-ë¥¼-ìœ„í•œ-Keycloak" class="headerlink" title="ğŸ” SSO ë¥¼ ìœ„í•œ Keycloak"></a>ğŸ” SSO ë¥¼ ìœ„í•œ Keycloak</h2><p>ë³´í†µ DevOps ì‹œìŠ¤í…œì„ êµ¬ì¶•í•˜ê²Œ ë˜ë©´ ê° ì‹œìŠ¤í…œ ë§ˆë‹¤ ì ‘ê·¼ì„ ìœ„í•œ ê³„ì • ê´€ë¦¬ë¥¼ í•´ì¤˜ì•¼ í•©ë‹ˆë‹¤. ì¦‰, N ê°œì˜ ê´€ë¦¬ ì‹œìŠ¤í…œì„ ì„¤ì¹˜í•˜ê²Œ ë˜ë©´ N ê°œì˜ ê³„ì •ì´ í•„ìš”í•©ë‹ˆë‹¤.</p><p>ê³„ì •ì´ ë„ˆë¬´ ë§ì•„ì§€ë©´ ì‚¬ìš©í•˜ëŠ” ì…ì¥ì—ì„œë„ ê´€ë¦¬í•˜ëŠ” ì…ì¥ì—ì„œë„ ë„ˆë¬´ ë³µì¡í•´ì ¸ì„œ ë³´í†µ, í•œ ì„œë¹„ìŠ¤ ê°€ì…ì„ í†µí•´ ëª¨ë“  ì‹œìŠ¤í…œì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” SSO ë¥¼ ë§ì´ë“¤ êµ¬ì¶•í•©ë‹ˆë‹¤.</p><p>ì €ëŠ” ì¼ë°˜ì ìœ¼ë¡œ ë§ì´ ì‚¬ìš©í•˜ëŠ” OpenSource ì¸ KeyCloak ì„ ì´ìš©í•´ ì¿ ë²„ë„¤í‹°ìŠ¤ ìœ„ì— ì˜¬ë¼ê°€ëŠ” ì„œë¹„ìŠ¤ì— ëŒ€í•œ SSO ë¥¼ êµ¬ì¶•í•˜ë ¤ê³  í•©ë‹ˆë‹¤.</p><h2 id="âœ…-Helm-ì„-ì´ìš©í•œ-KeyCloak-ì„¤ì¹˜"><a href="#âœ…-Helm-ì„-ì´ìš©í•œ-KeyCloak-ì„¤ì¹˜" class="headerlink" title="âœ… Helm ì„ ì´ìš©í•œ KeyCloak ì„¤ì¹˜"></a>âœ… Helm ì„ ì´ìš©í•œ KeyCloak ì„¤ì¹˜</h2><ul><li>ì°¸ê³ <ul><li><a href="https://artifacthub.io/packages/helm/bitnami/keycloak">https://artifacthub.io/packages/helm/bitnami/keycloak</a></li></ul></li></ul><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Helm Repo ì¶”ê°€</span></span><br><span class="line">helm repo add keycloak https://charts.bitnami.com/bitnami</span><br><span class="line"><span class="comment"># Helm Default Chart ë‚´ë ¤ë°›ê¸°</span></span><br><span class="line">helm show values keycloak/keycloak &gt;&gt; values-keycloak.yaml</span><br><span class="line"><span class="comment"># Keycloak ì„¤ì¹˜ </span></span><br><span class="line">helm upgrade --install -f ./values-keycloak.yaml keycloak keycloak/keycloak -n auth --create-namespace   </span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Release <span class="string">&quot;keycloak&quot;</span> does not exist. Installing it now.</span><br><span class="line">NAME: keycloak</span><br><span class="line">LAST DEPLOYED: Sun Dec 24 10:00:06 2023</span><br><span class="line">NAMESPACE: auth</span><br><span class="line">STATUS: deployed</span><br><span class="line">REVISION: 1</span><br><span class="line">TEST SUITE: None</span><br><span class="line">NOTES:</span><br><span class="line">CHART NAME: keycloak</span><br><span class="line">CHART VERSION: 17.3.6</span><br><span class="line">APP VERSION: 22.0.5</span><br><span class="line"></span><br><span class="line">** Please be patient <span class="keyword">while</span> the chart is being deployed **</span><br><span class="line"></span><br><span class="line">Keycloak can be accessed through the following DNS name from within your cluster:</span><br><span class="line"></span><br><span class="line">    keycloak.auth.svc.cluster.local (port 80)</span><br><span class="line"></span><br><span class="line">To access Keycloak from outside the cluster execute the following commands:</span><br><span class="line"></span><br><span class="line">1. Get the Keycloak URL by running these commands:</span><br><span class="line"></span><br><span class="line">    <span class="built_in">export</span> HTTP_SERVICE_PORT=$(kubectl get --namespace auth -o jsonpath=<span class="string">&quot;&#123;.spec.ports[?(@.name==&#x27;http&#x27;)].port&#125;&quot;</span> services keycloak)</span><br><span class="line">    kubectl port-forward --namespace auth svc/keycloak <span class="variable">$&#123;HTTP_SERVICE_PORT&#125;</span>:<span class="variable">$&#123;HTTP_SERVICE_PORT&#125;</span> &amp;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;http://127.0.0.1:<span class="variable">$&#123;HTTP_SERVICE_PORT&#125;</span>/&quot;</span></span><br><span class="line"></span><br><span class="line">2. Access Keycloak using the obtained URL.</span><br></pre></td></tr></table></figure><h2 id="âœ…-KeyCloak-Ingress-ì„¤ì •"><a href="#âœ…-KeyCloak-Ingress-ì„¤ì •" class="headerlink" title="âœ… KeyCloak Ingress ì„¤ì •"></a>âœ… KeyCloak Ingress ì„¤ì •</h2><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">ingress:</span></span><br><span class="line">  <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">ingressClassName:</span> <span class="string">&quot;nginx&quot;</span></span><br><span class="line">  <span class="attr">pathType:</span> <span class="string">ImplementationSpecific</span></span><br><span class="line">  <span class="attr">apiVersion:</span> <span class="string">&quot;&quot;</span></span><br><span class="line">  <span class="attr">hostname:</span> <span class="string">auth.crunchychoco.com</span></span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/DevOps/">DevOps</category>
      
      <category domain="https://ckck803.github.io/categories/DevOps/KeyCloak/">KeyCloak</category>
      
      
      
      <comments>https://ckck803.github.io/2025/02/21/devops/keycloak/k8s-infra-keyclock/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Local PC ì¿ ë²„ë„¤í‹°ìŠ¤ ë™ì  í”„ë¡œë¹„ì €ë‹ì„ ìœ„í•œ StorageClass ì„¤ì¹˜</title>
      <link>https://ckck803.github.io/2025/02/20/k8s/local-path-provisioner/</link>
      <guid>https://ckck803.github.io/2025/02/20/k8s/local-path-provisioner/</guid>
      <pubDate>Thu, 20 Feb 2025 12:31:46 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;img src=&quot;/images/k8s/k8s.png&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;ëª©ì°¨&quot;&gt;&lt;a href=&quot;#ëª©ì°¨&quot; class=&quot;headerlink&quot; title=&quot;ëª©ì°¨&quot;&gt;&lt;/a&gt;ëª©ì°¨&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;/2025/02/22/devo</description>
        
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/k8s/k8s.png"></p><h2 id="ëª©ì°¨"><a href="#ëª©ì°¨" class="headerlink" title="ëª©ì°¨"></a>ëª©ì°¨</h2><ul><li><a href="/2025/02/22/devops/infra/k8s-infra-opensearch/" title="[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - OpenSearch ì„¤ì¹˜í•˜ê¸°">[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - OpenSearch ì„¤ì¹˜í•˜ê¸°</a></li><li><a href="/2025/02/22/devops/infra/k8s-infra-prometheus-grafana/" title="[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Prometheus ì™€ Grafana ì„¤ì¹˜í•˜ê¸°">[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Prometheus ì™€ Grafana ì„¤ì¹˜í•˜ê¸°</a></li><li><a href="/2025/02/21/devops/keycloak/k8s-infra-keyclock/" title="[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Keycloak ì„¤ì¹˜í•˜ê¸°">[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Keycloak ì„¤ì¹˜í•˜ê¸°</a></li><li><a href="/2025/02/22/devops/infra/k8s-infra-nginx-ingress-controller/" title="[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Ingress Nginx Controller ì„¤ì¹˜í•˜ê¸°">[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Ingress Nginx Controller ì„¤ì¹˜í•˜ê¸°</a></li><li><a href="/2025/02/20/k8s/local-path-provisioner/" title="[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Local PC ì¿ ë²„ë„¤í‹°ìŠ¤ ë™ì  í”„ë¡œë¹„ì €ë‹ì„ ìœ„í•œ StorageClass ì„¤ì¹˜">[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Local PC ì¿ ë²„ë„¤í‹°ìŠ¤ ë™ì  í”„ë¡œë¹„ì €ë‹ì„ ìœ„í•œ StorageClass ì„¤ì¹˜</a></li><li><a href="/2025/02/20/k8s/kubeadm-install/" title="[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Local PC ì— ì¿ ë²„ë„¤í‹°ìŠ¤ ì„¤ì¹˜í•˜ê¸°">[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Local PC ì— ì¿ ë²„ë„¤í‹°ìŠ¤ ì„¤ì¹˜í•˜ê¸°</a></li></ul><h2 id="ì°¸ê³ "><a href="#ì°¸ê³ " class="headerlink" title="ì°¸ê³ "></a>ì°¸ê³ </h2><ul><li><a href="https://github.com/rancher/local-path-provisioner">https://github.com/rancher/local-path-provisioner</a></li></ul><h2 id="ğŸ”-ë¡œì»¬-ì¿ ë²„ë„¤í‹°ìŠ¤-ë™ì -í”„ë¡œë¹„ì €ë‹"><a href="#ğŸ”-ë¡œì»¬-ì¿ ë²„ë„¤í‹°ìŠ¤-ë™ì -í”„ë¡œë¹„ì €ë‹" class="headerlink" title="ğŸ” ë¡œì»¬ ì¿ ë²„ë„¤í‹°ìŠ¤ ë™ì  í”„ë¡œë¹„ì €ë‹"></a>ğŸ” ë¡œì»¬ ì¿ ë²„ë„¤í‹°ìŠ¤ ë™ì  í”„ë¡œë¹„ì €ë‹</h2><p>ë¡œì»¬ ì¿ ë²„ë„¤í‹°ìŠ¤ í™˜ê²½ì—ì„œëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ë™ì  PV í”„ë¡œë¹„ì €ë‹ì„ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë‹¤ì‹œ ë§í•´, ì‚¬ìš©ìê°€ ì§ì ‘ PV ë¥¼ ìƒì„±í•œ í›„ PVC ì— ìˆ˜ë™ìœ¼ë¡œ PV ë¥¼ ì—°ê²°í•´ì•¼ í•©ë‹ˆë‹¤.</p><p>EKS ì—ì„œëŠ” CSI ë“œë¼ì´ë²„ë¥¼ í†µí•´ ë™ì  í”„ë¡œë¹„ì €ë‹ì„ ì œê³µí•˜ëŠ”ë°, ë¡œì»¬ í™˜ê²½ì—ì„œ ë™ì¼í•œ ê¸°ëŠ¥ì„ ì œê³µí•´ì£¼ëŠ” í”ŒëŸ¬ê·¸ì¸ì„ ì°¾ë‹¤ê°€ <strong>local-path-provisioner</strong> ë¥¼ ë°œê²¬í–ˆìŠµë‹ˆë‹¤.</p><h3 id="1-local-path-provisioner-ì„¤ì¹˜"><a href="#1-local-path-provisioner-ì„¤ì¹˜" class="headerlink" title="1. local-path-provisioner ì„¤ì¹˜"></a>1. local-path-provisioner ì„¤ì¹˜</h3><p>ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•´ local-path-provisionerë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">kubectl apply -f https://raw.githubusercontent.com/rancher/local-path-provisioner/master/deploy/local-path-storage.yaml</span><br></pre></td></tr></table></figure><h3 id="2-ê¸°ë³¸-StorageClass-ì„¤ì •"><a href="#2-ê¸°ë³¸-StorageClass-ì„¤ì •" class="headerlink" title="2. ê¸°ë³¸ StorageClass ì„¤ì •"></a>2. ê¸°ë³¸ StorageClass ì„¤ì •</h3><p>ì„¤ì¹˜ í›„, local-path StorageClassë¥¼ ê¸°ë³¸(default) StorageClassë¡œ ì„¤ì •í•©ë‹ˆë‹¤. ê¸°ë³¸ StorageClassëŠ” PVCì— storageClassNameì„ ì§€ì •í•˜ì§€ ì•Šì•„ë„ ìë™ìœ¼ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">kubectl patch storageclass local-path -p <span class="string">&#x27;&#123;&quot;metadata&quot;: &#123;&quot;annotations&quot;:&#123;&quot;storageclass.kubernetes.io/is-default-class&quot;:&quot;true&quot;&#125;&#125;&#125;&#x27;</span></span><br></pre></td></tr></table></figure><h3 id="3-ì„¤ì¹˜-í™•ì¸"><a href="#3-ì„¤ì¹˜-í™•ì¸" class="headerlink" title="3. ì„¤ì¹˜ í™•ì¸"></a>3. ì„¤ì¹˜ í™•ì¸</h3><p>ë‹¤ìŒ ëª…ë ¹ì–´ë¡œ StorageClassê°€ ì œëŒ€ë¡œ ìƒì„±ë˜ê³  ê¸°ë³¸ê°’ìœ¼ë¡œ ì„¤ì •ë˜ì—ˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">kubectl get storageclass</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">NAME                   PROVISIONER             RECLAIMPOLICY   VOLUMEBINDINGMODE      ALLOWVOLUMEEXPANSION   AGE</span><br><span class="line">local-path (default)   rancher.io/local-path   Delete          WaitForFirstConsumer   <span class="literal">false</span>                  15d</span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Kubernetes/">Kubernetes</category>
      
      
      
      <comments>https://ckck803.github.io/2025/02/20/k8s/local-path-provisioner/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Local PC ì— ì¿ ë²„ë„¤í‹°ìŠ¤ ì„¤ì¹˜í•˜ê¸°</title>
      <link>https://ckck803.github.io/2025/02/20/k8s/kubeadm-install/</link>
      <guid>https://ckck803.github.io/2025/02/20/k8s/kubeadm-install/</guid>
      <pubDate>Wed, 19 Feb 2025 21:31:46 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;img src=&quot;/images/k8s/k8s.png&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;ëª©ì°¨&quot;&gt;&lt;a href=&quot;#ëª©ì°¨&quot; class=&quot;headerlink&quot; title=&quot;ëª©ì°¨&quot;&gt;&lt;/a&gt;ëª©ì°¨&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;/2025/02/22/devo</description>
        
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/k8s/k8s.png"></p><h2 id="ëª©ì°¨"><a href="#ëª©ì°¨" class="headerlink" title="ëª©ì°¨"></a>ëª©ì°¨</h2><ul><li><a href="/2025/02/22/devops/infra/k8s-infra-opensearch/" title="[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - OpenSearch ì„¤ì¹˜í•˜ê¸°">[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - OpenSearch ì„¤ì¹˜í•˜ê¸°</a></li><li><a href="/2025/02/22/devops/infra/k8s-infra-prometheus-grafana/" title="[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Prometheus ì™€ Grafana ì„¤ì¹˜í•˜ê¸°">[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Prometheus ì™€ Grafana ì„¤ì¹˜í•˜ê¸°</a></li><li><a href="/2025/02/21/devops/keycloak/k8s-infra-keyclock/" title="[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Keycloak ì„¤ì¹˜í•˜ê¸°">[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Keycloak ì„¤ì¹˜í•˜ê¸°</a></li><li><a href="/2025/02/22/devops/infra/k8s-infra-nginx-ingress-controller/" title="[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Ingress Nginx Controller ì„¤ì¹˜í•˜ê¸°">[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Ingress Nginx Controller ì„¤ì¹˜í•˜ê¸°</a></li><li><a href="/2025/02/20/k8s/local-path-provisioner/" title="[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Local PC ì¿ ë²„ë„¤í‹°ìŠ¤ ë™ì  í”„ë¡œë¹„ì €ë‹ì„ ìœ„í•œ StorageClass ì„¤ì¹˜">[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Local PC ì¿ ë²„ë„¤í‹°ìŠ¤ ë™ì  í”„ë¡œë¹„ì €ë‹ì„ ìœ„í•œ StorageClass ì„¤ì¹˜</a></li><li><a href="/2025/02/20/k8s/kubeadm-install/" title="[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Local PC ì— ì¿ ë²„ë„¤í‹°ìŠ¤ ì„¤ì¹˜í•˜ê¸°">[ì¿ ë²„ë„¤í‹°ìŠ¤ DevOps êµ¬ì¶•] - Local PC ì— ì¿ ë²„ë„¤í‹°ìŠ¤ ì„¤ì¹˜í•˜ê¸°</a></li></ul><h2 id="ì°¸ê³ "><a href="#ì°¸ê³ " class="headerlink" title="ì°¸ê³ "></a>ì°¸ê³ </h2><ul><li><a href="https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/install-kubeadm/">https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/install-kubeadm/</a></li><li><a href="https://cocococo.tistory.com/entry/k8s-%EC%BF%A0%EB%B2%84%EB%84%A4%ED%8B%B0%EC%8A%A4-%EC%82%AC%EC%9A%A9%EC%9D%84-%EC%9C%84%ED%95%9C-kubeadm-kubelet-%EB%B0%8F-kubectl-%EC%84%A4%EC%B9%98-%EB%B0%A9%EB%B2%95">https://cocococo.tistory.com/entry/k8s-%EC%BF%A0%EB%B2%84%EB%84%A4%ED%8B%B0%EC%8A%A4-%EC%82%AC%EC%9A%A9%EC%9D%84-%EC%9C%84%ED%95%9C-kubeadm-kubelet-%EB%B0%8F-kubectl-%EC%84%A4%EC%B9%98-%EB%B0%A9%EB%B2%95</a></li><li><a href="https://jongsky.tistory.com/112">https://jongsky.tistory.com/112</a></li><li><a href="https://www.youtube.com/watch?v=Wr6nrBRqYYE">https://www.youtube.com/watch?v=Wr6nrBRqYYE</a></li></ul><h2 id="ğŸ“-íšŒê³ "><a href="#ğŸ“-íšŒê³ " class="headerlink" title="ğŸ“ íšŒê³ "></a>ğŸ“ íšŒê³ </h2><p>Vitality íŒ€ì— ìˆì„ë•Œ EKS ë¡œ êµ¬ì¶•ëœ ì‹œìŠ¤í…œì„ ìš´ì˜í–ˆì—ˆìŠµë‹ˆë‹¤. ì§€ê¸ˆì€ í•´ë‹¹ íŒ€ì´ í•´ì²´ ë˜ë©´ì„œ ìš´ì˜í•˜ê³  ìˆì§€ëŠ” ì•Šì§€ë§Œ ê·¸ë•Œ ë‚´ë¶€ì ìœ¼ë¡œ ì§„í–‰í–ˆë˜ í”„ë¡œì íŠ¸ë“¤ì˜ ê¸°ì–µì„ ë˜ì‚´ë¦¬ê³ ì í¬ìŠ¤íŠ¸ë¡œ ë‚¨ê¸°ë ¤ê³  í•©ë‹ˆë‹¤.</p><h2 id="ğŸ¤”-ì¿ ë²„ë„¤í‹°ìŠ¤-ìš´ì˜í™˜ê²½-ì„ íƒ"><a href="#ğŸ¤”-ì¿ ë²„ë„¤í‹°ìŠ¤-ìš´ì˜í™˜ê²½-ì„ íƒ" class="headerlink" title="ğŸ¤” ì¿ ë²„ë„¤í‹°ìŠ¤ ìš´ì˜í™˜ê²½ ì„ íƒ"></a>ğŸ¤” ì¿ ë²„ë„¤í‹°ìŠ¤ ìš´ì˜í™˜ê²½ ì„ íƒ</h2><p>ì§€ì†ì ìœ¼ë¡œ ì¿ ë²„ë„¤í‹°ìŠ¤ í™˜ê²½ì„ ìš´ì˜ë„ í•˜ë©´ì„œ ê³µë¶€ë„ í•˜ê³  ì‹¶ì–´ ì—¬ëŸ¬ê°€ì§€ í™˜ê²½ì„ ê²€í† í•´ë´¤ëŠ”ë°, EKS ëŠ” ì¼ë‹¨ ì»¨íŠ¸ë¡¤ í”Œë ˆì¸ ìì²´ë§Œìœ¼ë¡œë„ í•œë‹¬ì— 7ë§Œì› ì •ë„ê°€ ë‚˜ì™€ Pass (ë„ˆë¬´ ë¹„ì‹¸ ğŸ˜­), ë¡œì»¬ PC ì— Minikube ë¥¼ ì´ìš©í•˜ëŠ” ë°©ë²•ì€ ë…¸íŠ¸ë¶ì„ ë„ˆë¬´ í•«í•˜ê²Œ ë§Œë“œëŠ” ë°©ë²•ì´ë¼ Pass</p><p>ìš”ì¦˜ ì•Œë¦¬ì—ì„œ ë¯¸ë‹ˆ PC ê°€ ì‹¸ê²Œ í’€ë¦¬ê³  ìˆê³  ì‹œìŠ¤í…œ ì´ˆê¸° êµ¬ì… ë¹„ìš© ë¹¼ë©´ ìš´ìš©í•˜ëŠ”ë°ëŠ” ë§¤ì›” ì „ê¸°ì„¸ë§Œ ë‚´ë©´ ë¼ í¬ê²Œ ë¶€ë‹´ì´ ì•ˆë  ê²ƒ ê°™ì•„ ë¯¸ë‹ˆ PC ë¥¼ ì´ìš©í•œ ì„œë²„ë¥¼ êµ¬ì¶•í•˜ê¸°ë¡œ í–ˆìŠµë‹ˆë‹¤.</p><h2 id="âœ…-1-ì¿ ë²„í…Œë‹ˆìŠ¤-ì„¤ì¹˜ì „-ì‚¬ì „-ì„¸íŒ…"><a href="#âœ…-1-ì¿ ë²„í…Œë‹ˆìŠ¤-ì„¤ì¹˜ì „-ì‚¬ì „-ì„¸íŒ…" class="headerlink" title="âœ… 1. ì¿ ë²„í…Œë‹ˆìŠ¤ ì„¤ì¹˜ì „ ì‚¬ì „ ì„¸íŒ…"></a>âœ… 1. ì¿ ë²„í…Œë‹ˆìŠ¤ ì„¤ì¹˜ì „ ì‚¬ì „ ì„¸íŒ…</h2><h3 id="1-1-swap-ë¹„í™œì„±í™”"><a href="#1-1-swap-ë¹„í™œì„±í™”" class="headerlink" title="1.1 swap ë¹„í™œì„±í™”"></a>1.1 swap ë¹„í™œì„±í™”</h3><p>ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ ì„¤ì¹˜í•˜ê¸° ì „ì— ë¦¬ëˆ…ìŠ¤ ë©”ëª¨ë¦¬ swap ì„ ë¹„í™œì„±í™” í•´ì¤˜ì•¼ í•©ë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo swapoff -a</span><br><span class="line"><span class="comment"># ë¶€íŒ… ì‹œì—ë„ swapì´ í™œì„±í™”ë˜ì§€ ì•Šë„ë¡ /etc/fstab íŒŒì¼ì—ì„œ swap ê´€ë ¨ í•­ëª© ì£¼ì„ ì²˜ë¦¬</span></span><br><span class="line">sudo sed -i <span class="string">&#x27;/swap/d&#x27;</span> /etc/fstab</span><br></pre></td></tr></table></figure><h3 id="1-2-iptables-ì„¤ì •"><a href="#1-2-iptables-ì„¤ì •" class="headerlink" title="1.2 iptables ì„¤ì •"></a>1.2 iptables ì„¤ì •</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ë„¤íŠ¸ì›Œí¬ ëª¨ë“ˆ ë¡œë“œ</span></span><br><span class="line"><span class="built_in">cat</span> &lt;&lt;<span class="string">EOF | sudo tee /etc/modules-load.d/k8s.conf</span></span><br><span class="line"><span class="string">overlay</span></span><br><span class="line"><span class="string">br_netfilter</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line"></span><br><span class="line">sudo modprobe overlay</span><br><span class="line">sudo modprobe br_netfilter</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># sysctl íŒŒë¼ë¯¸í„° ì„¤ì •</span></span><br><span class="line"><span class="built_in">cat</span> &lt;&lt;<span class="string">EOF | sudo tee /etc/sysctl.d/k8s.conf</span></span><br><span class="line"><span class="string">net.bridge.bridge-nf-call-iptables  = 1</span></span><br><span class="line"><span class="string">net.bridge.bridge-nf-call-ip6tables = 1</span></span><br><span class="line"><span class="string">net.ipv4.ip_forward                 = 1</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line"></span><br><span class="line">sudo sysctl --system</span><br></pre></td></tr></table></figure><h3 id="1-3-Docker-ì„¤ì¹˜"><a href="#1-3-Docker-ì„¤ì¹˜" class="headerlink" title="1.3 Docker ì„¤ì¹˜"></a>1.3 Docker ì„¤ì¹˜</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install ca-certificates curl</span><br><span class="line">sudo install -m 0755 -d /etc/apt/keyrings</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo curl -fsSL https://download.docker.com/linux/ubuntu/gpg -o /etc/apt/keyrings/docker.asc</span><br><span class="line">sudo <span class="built_in">chmod</span> a+r /etc/apt/keyrings/docker.asc</span><br><span class="line"><span class="built_in">echo</span> \</span><br><span class="line">  <span class="string">&quot;deb [arch=<span class="subst">$(dpkg --print-architecture)</span> signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/ubuntu \</span></span><br><span class="line"><span class="string">  <span class="subst">$(. /etc/os-release &amp;&amp; echo <span class="string">&quot;<span class="variable">$&#123;UBUNTU_CODENAME:-<span class="variable">$VERSION_CODENAME</span>&#125;</span>&quot;</span>)</span> stable&quot;</span> | \</span><br><span class="line">  sudo <span class="built_in">tee</span> /etc/apt/sources.list.d/docker.list &gt; /dev/null</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin</span><br></pre></td></tr></table></figure><h3 id="1-4-containerd-ì„¤ì •"><a href="#1-4-containerd-ì„¤ì •" class="headerlink" title="1.4 containerd ì„¤ì •"></a>1.4 containerd ì„¤ì •</h3><p>ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œ ì‚¬ìš©í•˜ëŠ” containerd ë¥¼ ì„¤ì •ì„ ë³€ê²½í•©ë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo <span class="built_in">mkdir</span> -p /etc/containerd </span><br><span class="line">sudo containerd config default | sudo <span class="built_in">tee</span> /etc/containerd/config.toml </span><br><span class="line"><span class="comment"># config.toml íŒŒì¼ì—ì„œÂ SystemdCgroup ê°’ì„Â ë³€ê²½í•©ë‹ˆë‹¤.</span></span><br><span class="line">sudo sed -i <span class="string">&#x27;s/SystemdCgroup = false/SystemdCgroup = true/&#x27;</span> /etc/containerd/config.toml </span><br><span class="line">sudo systemctl restart containerd</span><br></pre></td></tr></table></figure><h2 id="âœ…-2-ì¿ ë²„ë„¤í‹°ìŠ¤-ì„¤ì¹˜ì—-í•„ìš”í•œ-íŒ¨í‚¤ì§€-ì„¤ì¹˜"><a href="#âœ…-2-ì¿ ë²„ë„¤í‹°ìŠ¤-ì„¤ì¹˜ì—-í•„ìš”í•œ-íŒ¨í‚¤ì§€-ì„¤ì¹˜" class="headerlink" title="âœ… 2. ì¿ ë²„ë„¤í‹°ìŠ¤ ì„¤ì¹˜ì— í•„ìš”í•œ íŒ¨í‚¤ì§€ ì„¤ì¹˜"></a>âœ… 2. ì¿ ë²„ë„¤í‹°ìŠ¤ ì„¤ì¹˜ì— í•„ìš”í•œ íŒ¨í‚¤ì§€ ì„¤ì¹˜</h2><p>ì¿ ë²„ë„¤í‹°ìŠ¤ ì„¤ì¹˜ì— í•„ìš”í•œ íŒ¨í‚¤ì§€ë¥¼ ë‹¤ìš´ ë°›ì„ ìˆ˜ ìˆë„ë¡ ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì´ìš©í•´ apt ì €ì¥ì†Œì— GPG í‚¤ì™€ Kubernetes ì €ì¥ì†Œë¥¼ ì¶”ê°€í•´ì¤ë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># GPG í‚¤ ë‹¤ìš´ë¡œë“œ ë° ì €ì¥</span></span><br><span class="line">curl -fsSL https://pkgs.k8s.io/core:/stable:/v1.29/deb/Release.key | sudo <span class="built_in">tee</span> /etc/apt/keyrings/kubernetes-apt-keyring.asc &gt; /dev/null</span><br><span class="line"><span class="comment"># apt ì €ì¥ì†Œì— ì¿ ë²„ë„¤í‹°ìŠ¤ ì €ì¥ì†Œ ì¶”ê°€</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;deb [signed-by=/etc/apt/keyrings/kubernetes-apt-keyring.asc] https://pkgs.k8s.io/core:/stable:/v1.29/deb/ /&quot;</span> | sudo <span class="built_in">tee</span> /etc/apt/sources.list.d/kubernetes.list &gt; /dev/null</span><br><span class="line"><span class="comment"># ìœ„ ë‚´ìš©ì´ ë°˜ì˜ë  ìˆ˜ ìˆë„ë¡ apt ì €ì¥ì†Œë¥¼ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.</span></span><br><span class="line">sudo apt update</span><br></pre></td></tr></table></figure><p>ì¿ ë²„ë„¤í‹°ìŠ¤ ì €ì¥ì†Œê°€ ì¶”ê°€ ëìœ¼ë©´ apt ëª…ë ¹ì–´ë¥¼ ì´ìš©í•´ kubelet, kubeadm, kubectl ì„ ì„¤ì¹˜í•´ì¤ë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ì„¤ì¹˜ ê°€ëŠ¥í•œ ë²„ì „ í™•ì¸</span></span><br><span class="line">sudo apt-cache madison kubeadm</span><br><span class="line"><span class="comment"># ë²„ì „ì„ ëª…ì‹œí•´ì„œ ì„¤ì¹˜ê°€ëŠ¥</span></span><br><span class="line">sudo apt-get install -y kubelet=1.27.16-1.1 kubeadm=1.27.16-1.1 kubectl=1.27.16-1.1</span><br><span class="line">sudo apt-mark hold kubelet kubeadm kubectl</span><br></pre></td></tr></table></figure><h2 id="âœ…-3-Kubernetes-í´ëŸ¬ìŠ¤í„°-ì´ˆê¸°í™”"><a href="#âœ…-3-Kubernetes-í´ëŸ¬ìŠ¤í„°-ì´ˆê¸°í™”" class="headerlink" title="âœ… 3. Kubernetes í´ëŸ¬ìŠ¤í„° ì´ˆê¸°í™”"></a>âœ… 3. Kubernetes í´ëŸ¬ìŠ¤í„° ì´ˆê¸°í™”</h2><p>kubelet, kubeadm, kubectl ê°€ ì™„ë£Œë˜ë©´ kubeadm init ëª…ë ¹ì–´ë¥¼ ì´ìš©í•´ ì¿ ë²„ë„¤í‹°ìŠ¤ ì»¨íŠ¸ë¡¤ í”Œë ˆì¸ ë…¸ë“œë¥¼ ì´ˆê¸°í™” ì‹œì¼œì¤ë‹ˆë‹¤.</p><p>kubeadm init ì¶”ê°€ì ì¸ íŒŒë¼ë¯¸í„°ë¥¼ í™•ì¸í•˜ê³  ì‹¶ì„ ê²½ìš° <a href="https://kubernetes.io/docs/reference/setup-tools/kubeadm/kubeadm-init/">ì¿ ë²„ë„¤í‹°ìŠ¤ ê³µì‹ ë¬¸ì„œ</a> ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">sudo kubeadm init --pod-network-cidr=10.0.0.0/16 --v=5</span><br><span class="line"><span class="comment"># ì™¸ë¶€ Listening í•  ìˆ˜ ìˆëŠ” IP ê°€ ìˆëŠ” ê²½ìš° </span></span><br><span class="line">sudo kubeadm init --control-plane-endpoint=&lt;ì ‘ì†_IP&gt; --pod-network-cidr=&lt;Pod_ë„¤íŠ¸ì›Œí¬_ë²”ìœ„&gt;</span><br></pre></td></tr></table></figure><h4 id="Config-íŒŒì¼ì„-ì´ìš©í•œ-í´ëŸ¬ìŠ¤í„°-ì´ˆê¸°í™”"><a href="#Config-íŒŒì¼ì„-ì´ìš©í•œ-í´ëŸ¬ìŠ¤í„°-ì´ˆê¸°í™”" class="headerlink" title="Config íŒŒì¼ì„ ì´ìš©í•œ í´ëŸ¬ìŠ¤í„° ì´ˆê¸°í™”"></a>Config íŒŒì¼ì„ ì´ìš©í•œ í´ëŸ¬ìŠ¤í„° ì´ˆê¸°í™”</h4><p>config íŒŒì¼ì„ ë³„ë„ë¡œ ìƒì„±í•´ ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ë¥¼ ìƒì„±í•˜ëŠ” ë°©ë²•ë„ ìˆìŠµë‹ˆë‹¤.</p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">apiVersion: kubeadm.k8s.io/v1beta3</span><br><span class="line">kind: ClusterConfiguration</span><br><span class="line">kubernetesVersion: <span class="string">&quot;v1.29.3&quot;</span> <span class="comment">#ì„¤ì¹˜í•  ì¿ ë²„ë„¤í‹°ìŠ¤ ë²„ì „</span></span><br><span class="line">controlPlaneEndpoint: <span class="string">&quot;&lt;ì ‘ì†_IP&gt;:&lt;ì ‘ì†_PORT&gt;&quot;</span> <span class="comment">#ì™¸ë¶€ IP ì£¼ì†Œì™€ í¬íŠ¸ ì§€ì •</span></span><br><span class="line">networking:</span><br><span class="line">  podSubnet: <span class="string">&quot;10.244.0.0/16&quot;</span> <span class="comment">#Pod ë„¤íŠ¸ì›Œí¬ ë²”ìœ„ ì„¤ì •</span></span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">sudo kubeadm init --config kubeadm-config.yaml</span><br></pre></td></tr></table></figure><h4 id="ì¿ ë²„ë„¤í‹°ìŠ¤-ì„¤ì •íŒŒì¼-ìƒì„±"><a href="#ì¿ ë²„ë„¤í‹°ìŠ¤-ì„¤ì •íŒŒì¼-ìƒì„±" class="headerlink" title="ì¿ ë²„ë„¤í‹°ìŠ¤ ì„¤ì •íŒŒì¼ ìƒì„±"></a>ì¿ ë²„ë„¤í‹°ìŠ¤ ì„¤ì •íŒŒì¼ ìƒì„±</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p <span class="variable">$HOME</span>/.kube </span><br><span class="line">sudo <span class="built_in">cp</span> -i /etc/kubernetes/admin.conf <span class="variable">$HOME</span>/.kube/config </span><br><span class="line">sudo <span class="built_in">chown</span> $(<span class="built_in">id</span> -u):$(<span class="built_in">id</span> -g) <span class="variable">$HOME</span>/.kube/config</span><br></pre></td></tr></table></figure><h2 id="âœ…-4-CNI-Container-Network-Interface-ì„¤ì¹˜"><a href="#âœ…-4-CNI-Container-Network-Interface-ì„¤ì¹˜" class="headerlink" title="âœ… 4. CNI (Container Network Interface) ì„¤ì¹˜"></a>âœ… 4. CNI (Container Network Interface) ì„¤ì¹˜</h2><p>í´ëŸ¬ìŠ¤í„° ë‚´ë¶€ì˜ Pod ë“¤ì´ ì„œë¡œ í†µì‹ í•  ìˆ˜ ìˆë„ë¡ CNI ë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> cni</span><br><span class="line"><span class="built_in">cd</span> cni</span><br><span class="line"></span><br><span class="line">wget https://raw.githubusercontent.com/projectcalico/calico/v3.28.1/manifests/tigera-operator.yaml</span><br><span class="line">wget https://raw.githubusercontent.com/projectcalico/calico/v3.28.1/manifests/custom-resources.yaml</span><br><span class="line"></span><br><span class="line"><span class="comment"># cidr ëŒ€ì—­ì„ worker node ëŒ€ì—­ìœ¼ë¡œ ë³€ê²½</span></span><br><span class="line">vi custom-resources.yaml</span><br><span class="line"></span><br><span class="line">kubectl create -f tigera-operator.yaml</span><br><span class="line">kubectl create -f custom-resources.yaml</span><br></pre></td></tr></table></figure><h3 id="ì¿ ë²„ë„¤í‹°ìŠ¤-ì„¤ì¹˜-ì ê²€-í™•ì¸"><a href="#ì¿ ë²„ë„¤í‹°ìŠ¤-ì„¤ì¹˜-ì ê²€-í™•ì¸" class="headerlink" title="ì¿ ë²„ë„¤í‹°ìŠ¤ ì„¤ì¹˜ ì ê²€ í™•ì¸"></a>ì¿ ë²„ë„¤í‹°ìŠ¤ ì„¤ì¹˜ ì ê²€ í™•ì¸</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">dpkg -l | grep kube</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hi  kubeadm                                       1.29.13-1.1                              amd64        Command-line utility <span class="keyword">for</span> administering a Kubernetes cluster</span><br><span class="line">hi  kubectl                                       1.29.13-1.1                              amd64        Command-line utility <span class="keyword">for</span> interacting with a Kubernetes cluster</span><br><span class="line">hi  kubelet                                       1.29.13-1.1                              amd64        Node agent <span class="keyword">for</span> Kubernetes clusters</span><br><span class="line">ii  kubernetes-cni                                1.3.0-1.1                                amd64        Binaries required to provision kubernetes container networking</span><br></pre></td></tr></table></figure><h2 id="âœ…-5-Control-Plain-Taint-ì‚­ì œ"><a href="#âœ…-5-Control-Plain-Taint-ì‚­ì œ" class="headerlink" title="âœ… 5. Control Plain Taint ì‚­ì œ"></a>âœ… 5. Control Plain Taint ì‚­ì œ</h2><p>ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ ì´ˆê¸°í™”í•˜ê²Œë˜ë©´ Control Plane ë…¸ë“œì— Pod ì„¤ì¹˜ë¥¼ ëª»í•˜ë„ë¡ (Schedule ì´ ë¶ˆê°€ëŠ¥) Taint ì„¤ì •ì´ ë“¤ì–´ê°€ ìˆìŠµë‹ˆë‹¤.</p><p>Control Plane ì—ë„ Pod ì„¤ì¹˜ê°€ ê°€ëŠ¥í•˜ê²Œ (Schedule ì´ ê°€ëŠ¥í•˜ê²Œ) í•˜ë ¤ë©´ í•´ë‹¹ ë…¸ë“œì— ê±¸ë ¤ìˆëŠ” Taint ì„¤ì •ì„ í•´ì§€í•´ì¤˜ì•¼ í•©ë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Events:</span><br><span class="line">  Type     Reason            Age    From               Message</span><br><span class="line">  ----     ------            ----   ----               -------</span><br><span class="line">  Warning  FailedScheduling  3m     default-scheduler  0/1 nodes are available: 1 node(s) had untolerated taint &#123;node-role.kubernetes.io/control-plane: &#125;. preemption: 0/1 nodes are available: 1 Preemption is not helpful <span class="keyword">for</span> scheduling.</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">kubectl taint nodes --all node-role.kubernetes.io/master-</span><br><span class="line">kubectl taint nodes --all node-role.kubernetes.io/control-plane-</span><br></pre></td></tr></table></figure><hr><h3 id="âš ï¸-í´ëŸ¬ìŠ¤í„°-ì´ˆê¸°í™”ì‹œ-ì˜¤ë¥˜-ë°œìƒ"><a href="#âš ï¸-í´ëŸ¬ìŠ¤í„°-ì´ˆê¸°í™”ì‹œ-ì˜¤ë¥˜-ë°œìƒ" class="headerlink" title="âš ï¸ í´ëŸ¬ìŠ¤í„° ì´ˆê¸°í™”ì‹œ ì˜¤ë¥˜ ë°œìƒ"></a>âš ï¸ í´ëŸ¬ìŠ¤í„° ì´ˆê¸°í™”ì‹œ ì˜¤ë¥˜ ë°œìƒ</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo kubeadm init --pod-network-cidr=192.168.0.0/16</span><br><span class="line"></span><br><span class="line">I0202 21:12:59.135308    6955 version.go:256] remote version is much newer: v1.32.1; falling back to: stable-1.29</span><br><span class="line">[init] Using Kubernetes version: v1.29.13</span><br><span class="line">[preflight] Running pre-flight checks</span><br><span class="line">[WARNING Swap]: swap is supported <span class="keyword">for</span> cgroup v2 only; the NodeSwap feature gate of the kubelet is beta but disabled by default</span><br><span class="line">error execution phase preflight: [preflight] Some fatal errors occurred:</span><br><span class="line">[ERROR CRI]: container runtime is not running: output: time=<span class="string">&quot;2025-02-02T21:12:59+09:00&quot;</span> level=fatal msg=<span class="string">&quot;validate service connection: validate CRI v1 runtime API for endpoint \&quot;unix:///var/run/containerd/containerd.sock\&quot;: rpc error: code = Unimplemented desc = unknown service runtime.v1.RuntimeService&quot;</span></span><br><span class="line">, error: <span class="built_in">exit</span> status 1</span><br><span class="line">[ERROR FileContent--proc-sys-net-bridge-bridge-nf-call-iptables]: /proc/sys/net/bridge/bridge-nf-call-iptables does not exist</span><br><span class="line">[preflight] If you know what you are doing, you can make a check non-fatal with `--ignore-preflight-errors=...`</span><br><span class="line">To see the stack trace of this error execute with --v=5 or higher</span><br></pre></td></tr></table></figure><h4 id="ERROR-CRI-container-runtime-is-not-running"><a href="#ERROR-CRI-container-runtime-is-not-running" class="headerlink" title="[ERROR CRI]: container runtime is not running"></a>[ERROR CRI]: container runtime is not running</h4><p>ì•„ë˜ íŒŒì¼ì—ì„œ <code>SystemdCgroup = false</code> í•´ë‹¹ ë¶€ë¶„ì„ ì£¼ì„ ì²˜ë¦¬ í•©ë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo vi /etc/containerd/config.toml</span><br></pre></td></tr></table></figure><p>íŒŒì¼ì„ ìˆ˜ì •í•œ í›„ containerd ë¥¼ ì¬ì‹¤í–‰í•´ì¤ë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">systemctl restart containerd</span><br></pre></td></tr></table></figure><h4 id="ERROR-FileContentâ€“proc-sys-net-bridge-bridge-nf-call-iptables"><a href="#ERROR-FileContentâ€“proc-sys-net-bridge-bridge-nf-call-iptables" class="headerlink" title="[ERROR FileContentâ€“proc-sys-net-bridge-bridge-nf-call-iptables]"></a>[ERROR FileContentâ€“proc-sys-net-bridge-bridge-nf-call-iptables]</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo modprobe br_netfilter</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;br_netfilter&quot;</span> | sudo <span class="built_in">tee</span> -a /etc/modules-load.d/k8s.conf</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cat</span> &lt;&lt;<span class="string">EOF | sudo tee /etc/sysctl.d/k8s.conf</span></span><br><span class="line"><span class="string">net.bridge.bridge-nf-call-iptables = 1</span></span><br><span class="line"><span class="string">net.bridge.bridge-nf-call-ip6tables = 1</span></span><br><span class="line"><span class="string">EOF</span></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo sysctl --system</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p <span class="variable">$HOME</span>/.kube sudo <span class="built_in">cp</span> -i /etc/kubernetes/admin.conf <span class="variable">$HOME</span>/.kube/config sudo <span class="built_in">chown</span> $(<span class="built_in">id</span> -u):$(<span class="built_in">id</span> -g) <span class="variable">$HOME</span>/.kube/config</span><br></pre></td></tr></table></figure><h3 id="âš ï¸-The-HTTP-call-equal-to-â€˜curl-sSL-http-localhost-10248-healthzâ€˜-failed-with-error-Get-â€œhttp-localhost-10248-healthzâ€œ-dial-tcp-127-0-0-1-10248-connect-connection-refused"><a href="#âš ï¸-The-HTTP-call-equal-to-â€˜curl-sSL-http-localhost-10248-healthzâ€˜-failed-with-error-Get-â€œhttp-localhost-10248-healthzâ€œ-dial-tcp-127-0-0-1-10248-connect-connection-refused" class="headerlink" title="âš ï¸ The HTTP call equal to â€˜curl -sSL http://localhost:10248/healthzâ€˜ failed with error: Get â€œhttp://localhost:10248/healthzâ€œ: dial tcp 127.0.0.1:10248: connect: connection refused."></a>âš ï¸ The HTTP call equal to â€˜curl -sSL <a href="http://localhost:10248/healthz">http://localhost:10248/healthz</a>â€˜ failed with error: Get â€œ<a href="http://localhost:10248/healthz">http://localhost:10248/healthz</a>â€œ: dial tcp 127.0.0.1:10248: connect: connection refused.</h3><p>container ì˜ cgroups ì— systemd ë¥¼ ì‚¬ìš©í•˜ë„ë¡ Docker ë°ëª¬ì„ êµ¬ì„±í•œë‹¤.</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo <span class="built_in">mkdir</span> /etc/docker</span><br></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">t &lt;&lt;EOF | sudo tee /etc/docker/daemon.json</span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;exec-opts&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;native.cgroupdriver=systemd&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;log-driver&quot;</span><span class="punctuation">:</span> <span class="string">&quot;json-file&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;log-opts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;max-size&quot;</span><span class="punctuation">:</span> <span class="string">&quot;100m&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;storage-driver&quot;</span><span class="punctuation">:</span> <span class="string">&quot;overlay2&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line">EOF</span><br></pre></td></tr></table></figure><p>Docker Daemon ì„¤ì •ì„ ì ìš©í•˜ê¸° ìœ„í•´ ì„œë¹„ìŠ¤ë¥¼ ì¬ì‹œì‘ í•©ë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo systemctl <span class="built_in">enable</span> docker </span><br><span class="line">sudo systemctl daemon-reload </span><br><span class="line">sudo systemctl restart docker</span><br></pre></td></tr></table></figure><h3 id="âš ï¸-kubelet-check-It-seems-like-the-kubelet-isnâ€™t-running-or-healthy"><a href="#âš ï¸-kubelet-check-It-seems-like-the-kubelet-isnâ€™t-running-or-healthy" class="headerlink" title="âš ï¸ [kubelet-check] It seems like the kubelet isnâ€™t running or healthy."></a>âš ï¸ [kubelet-check] It seems like the kubelet isnâ€™t running or healthy.</h3><p>kubelet ìƒíƒœê°€ í˜„ì¬ ì •ìƒì ì´ì§€ ì•Šë‹¤ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí•˜ê³  ìˆì–´, ì•„ë˜ ëª…ë ¹ì–´ë“¤ì„ ì´ìš©í•´ kubelet ìƒíƒœë¥¼ í™•ì¸í•´ë´…ë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">## ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸</span></span><br><span class="line">sudo systemctl status kubelet</span><br><span class="line"><span class="comment">## ë¡œê·¸ í™•ì¸</span></span><br><span class="line">sudo journalctl -xeu kubelet | <span class="built_in">tail</span> -n 50</span><br></pre></td></tr></table></figure><h4 id="ğŸ”-failed-to-run-Kubelet-running-with-swap-on-is-not-supported"><a href="#ğŸ”-failed-to-run-Kubelet-running-with-swap-on-is-not-supported" class="headerlink" title="ğŸ” failed to run Kubelet: running with swap on is not supported"></a>ğŸ” failed to run Kubelet: running with swap on is not supported</h4><p>ë¡œê·¸ë¥¼ í™•ì¸í•´ë³´ë©´ í˜„ì¬ ë©”ëª¨ë¦¬ ìŠ¤ì™‘ìœ¼ë¡œ ì¸í•´ kubelet ì´ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ë˜ì§€ ì•ŠìŒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><p>KubernetesëŠ” <code>swap</code> ì„ ì‚¬ìš©í•˜ë©´ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ë°˜ë“œì‹œ ë¹„í™œì„±í™” í•´ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Feb 02 23:16:56 ddanzit-ubuntu-desktop kubelet[20910]: E0202 23:16:56.465663   20910 run.go:74] <span class="string">&quot;command failed&quot;</span> err=<span class="string">&quot;failed to run Kubelet: running with swap on is not supported, please disable swap! or set --fail-swap-on flag to false. /proc/swaps contained: [Filename\t\t\t\tType\t\tSize\t\tUsed\t\tPriority /swap.img                               file\t\t8388604\t\t0\t\t-2]&quot;</span></span><br><span class="line">Feb 02 23:16:56 ddanzit-ubuntu-desktop systemd[1]: kubelet.service: Main process exited, code=exited, status=1/FAILURE</span><br><span class="line">â–‘â–‘ Subject: Unit process exited</span><br><span class="line">â–‘â–‘ Defined-By: systemd</span><br><span class="line">â–‘â–‘ Support: http://www.ubuntu.com/support</span><br><span class="line">â–‘â–‘</span><br><span class="line">â–‘â–‘ An ExecStart= process belonging to unit kubelet.service has exited.</span><br><span class="line">â–‘â–‘</span><br><span class="line">â–‘â–‘ The process<span class="string">&#x27; exit code is &#x27;</span>exited<span class="string">&#x27; and its exit status is 1.</span></span><br><span class="line"><span class="string">Feb 02 23:16:56 ddanzit-ubuntu-desktop systemd[1]: kubelet.service: Failed with result &#x27;</span>exit-code<span class="string">&#x27;.</span></span><br><span class="line"><span class="string">â–‘â–‘ Subject: Unit failed</span></span><br><span class="line"><span class="string">â–‘â–‘ Defined-By: systemd</span></span><br><span class="line"><span class="string">â–‘â–‘ Support: http://www.ubuntu.com/support</span></span><br><span class="line"><span class="string">â–‘â–‘</span></span><br><span class="line"><span class="string">â–‘â–‘ The unit kubelet.service has entered the &#x27;</span>failed<span class="string">&#x27; state with result &#x27;</span>exit-code<span class="string">&#x27;.</span></span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Kubernetes/">Kubernetes</category>
      
      
      
      <comments>https://ckck803.github.io/2025/02/20/k8s/kubeadm-install/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>[Spring] - M1 ë§¥ë¶ì—ì„œ Embeded Redis ì‚¬ìš©í•˜ê¸°</title>
      <link>https://ckck803.github.io/2024/11/29/spring/spring-redis/springboot-redis-m1/</link>
      <guid>https://ckck803.github.io/2024/11/29/spring/spring-redis/springboot-redis-m1/</guid>
      <pubDate>Fri, 29 Nov 2024 14:47:05 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;img src=&quot;/images/springboot/redis/redis.png&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;ëª©ì°¨&quot;&gt;&lt;a href=&quot;#ëª©ì°¨&quot; class=&quot;headerlink&quot; title=&quot;ëª©ì°¨&quot;&gt;&lt;/a&gt;ëª©ì°¨&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;/</description>
        
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/springboot/redis/redis.png"></p><h2 id="ëª©ì°¨"><a href="#ëª©ì°¨" class="headerlink" title="ëª©ì°¨"></a>ëª©ì°¨</h2><ul><li><a href="/2024/11/29/spring/spring-redis/springboot-redis-m1/" title="[Spring] - M1 ë§¥ë¶ì—ì„œ Embeded Redis ì‚¬ìš©í•˜ê¸°">[Spring] - M1 ë§¥ë¶ì—ì„œ Embeded Redis ì‚¬ìš©í•˜ê¸°</a></li><li><a href="/2021/12/23/spring/spring-redis/springboot-redis/" title="[Spring] - Embeded Redis ì‚¬ìš©í•˜ê¸°">[Spring] - Embeded Redis ì‚¬ìš©í•˜ê¸°</a></li></ul><h2 id="ì°¸ê³ "><a href="#ì°¸ê³ " class="headerlink" title="ì°¸ê³ "></a>ì°¸ê³ </h2><ul><li><a href="https://github.com/ozimov/embedded-redis">https://github.com/ozimov/embedded-redis</a></li><li><a href="https://github.com/redis/redis-hashes">https://github.com/redis/redis-hashes</a></li></ul><h2 id="ğŸš«-M1-Mac-ì—ì„œ-Embedded-Redis-ì‚¬ìš©ì‹œ-ì—ëŸ¬"><a href="#ğŸš«-M1-Mac-ì—ì„œ-Embedded-Redis-ì‚¬ìš©ì‹œ-ì—ëŸ¬" class="headerlink" title="ğŸš« M1 Mac ì—ì„œ Embedded Redis ì‚¬ìš©ì‹œ ì—ëŸ¬"></a>ğŸš« M1 Mac ì—ì„œ Embedded Redis ì‚¬ìš©ì‹œ ì—ëŸ¬</h2><p>M1 ë§¥ë¶ì—ì„œ Embedded Redis ë¥¼ ê·¸ëƒ¥ ì‚¬ìš©í•˜ë ¤ê³  í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ redis server ë¥¼ ì‹œì‘í•  ìˆ˜ ì—†ë‹¤ëŠ” ì—ëŸ¬ê°€ ë°œìƒí•©ë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Caused by: java.lang.RuntimeException: Can<span class="string">&#x27;t start redis server. Check logs for details. Redis process log: </span></span><br><span class="line"><span class="string">    at redis.embedded.AbstractRedisInstance.awaitRedisServerReady(AbstractRedisInstance.java:70) ~[embedded-redis-0.7.3.jar:na]</span></span><br><span class="line"><span class="string">    at redis.embedded.AbstractRedisInstance.start(AbstractRedisInstance.java:42) ~[embedded-redis-0.7.3.jar:na]</span></span><br></pre></td></tr></table></figure><h2 id="ğŸ”-Embedded-Redis-ë¼ì´ë¸ŒëŸ¬ë¦¬-í™•ì¸"><a href="#ğŸ”-Embedded-Redis-ë¼ì´ë¸ŒëŸ¬ë¦¬-í™•ì¸" class="headerlink" title="ğŸ” Embedded Redis ë¼ì´ë¸ŒëŸ¬ë¦¬ í™•ì¸"></a>ğŸ” Embedded Redis ë¼ì´ë¸ŒëŸ¬ë¦¬ í™•ì¸</h2><p>Embedded Redis ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ ì œê³µí•´ì£¼ëŠ” Redis ì•„í‚¤íƒì²˜ ì •ë³´ë“¤ì„ í™•ì¸í•˜ë©´ M1 ë§¥ë¶ì— í•´ë‹¹í•˜ëŠ” <strong>aarch64</strong> ìš© Redis ë¥¼ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë”°ë¼ì„œ, M1 ì—ì„œ Embedded Redis ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” M1 ìš© ì•„í‚¤íƒì²˜ì— ë§ê²Œ Redis ë¥¼ ìƒˆë¡­ê²Œ ë¹Œë“œí•´ì„œ Embedded Redis ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ë„ìš¸ ìˆ˜ ìˆê²Œ ì œê³µí•´ì•¼ í•©ë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 1) given explicit file (os-independence broken!)</span></span><br><span class="line"><span class="type">RedisServer</span> <span class="variable">redisServer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">RedisServer</span>(<span class="string">&quot;/path/to/your/redis&quot;</span>, <span class="number">6379</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2) given os-independent matrix</span></span><br><span class="line"><span class="type">RedisExecProvider</span> <span class="variable">customProvider</span> <span class="operator">=</span> RedisExecProvider.defaultProvider()</span><br><span class="line">  .override(OS.UNIX, <span class="string">&quot;/path/to/unix/redis&quot;</span>)</span><br><span class="line">  .override(OS.WINDOWS, Architecture.x86, <span class="string">&quot;/path/to/windows/redis&quot;</span>)</span><br><span class="line">  .override(OS.Windows, Architecture.x86_64, <span class="string">&quot;/path/to/windows/redis&quot;</span>)</span><br><span class="line">  .override(OS.MAC_OS_X, Architecture.x86, <span class="string">&quot;/path/to/macosx/redis&quot;</span>)</span><br><span class="line">  .override(OS.MAC_OS_X, Architecture.x86_64, <span class="string">&quot;/path/to/macosx/redis&quot;</span>)</span><br><span class="line">  </span><br><span class="line"><span class="type">RedisServer</span> <span class="variable">redisServer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">RedisServer</span>(customProvider, <span class="number">6379</span>);</span><br></pre></td></tr></table></figure><h2 id="âœ…-M1-ìš©-Redis-Server-ìƒì„±"><a href="#âœ…-M1-ìš©-Redis-Server-ìƒì„±" class="headerlink" title="âœ… M1 ìš© Redis Server ìƒì„±"></a>âœ… M1 ìš© Redis Server ìƒì„±</h2><p>Redis ê³µì‹ ë¬¸ì„œì—ì„œëŠ” Redis ì†ŒìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ìµœì‹  ë²„ì „ì— í•´ë‹¹í•˜ëŠ” Redis ë¥¼ ë‚´ë ¤ë°›ì•„ M1 ë§¥ë¶ì— ë§ê²Œ ì†ŒìŠ¤ë¥¼ ë¹Œë“œí•´ì¤ë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Redis ì†ŒìŠ¤ë¥¼ ë‚´ë ¤ë°›ê³  ë¹Œë“œë¥¼ í´ë” ì •ì˜</span></span><br><span class="line">mkdir -p src/main/resources/binary/redis</span><br><span class="line"><span class="comment">// ë‹¤ìš´ë¡œë“œ í´ë”ë¡œ ì´ë™</span></span><br><span class="line">cd src/main/resources/binary/redis</span><br><span class="line"><span class="comment">// ì†ŒìŠ¤ ì½”ë“œ ë‹¤ìš´ë¡œë“œ</span></span><br><span class="line">wget https:<span class="comment">//download.redis.io/releases/redis-7.0.15.tar.gz</span></span><br><span class="line"><span class="comment">// ì••ì¶• í•´ì œ</span></span><br><span class="line">tar xzf redis-<span class="number">7.0</span><span class="number">.15</span>.tar.gz </span><br><span class="line"><span class="comment">// redis-7.0.15 ë””ë ‰í† ë¦¬ ì´ë™</span></span><br><span class="line">cd redis-<span class="number">7.0</span><span class="number">.15</span></span><br><span class="line"><span class="comment">// Redis ë¹Œë“œë¥¼ ì§„í–‰</span></span><br><span class="line">make</span><br></pre></td></tr></table></figure><p>make ëª…ë ¹ì–´ë¥¼ í†µí•´ ë¹Œë“œë¥¼ ì§„í–‰í•˜ë©´ src í´ë”ì— redis-server ê°€ ìƒì„±ë©ë‹ˆë‹¤. ìƒì„±ëœ redis-server ë¥¼ ì‚¬ìš©í•˜ê¸° ì‰½ê²Œ <code>resource/binary/redis</code> í´ë”ë¡œ ì˜®ê²¨ì¤ë‹ˆë‹¤.</p><p><img src="/images/springboot/redis/m1-redis.png"></p><h2 id="âœ…-í˜„ì¬-ìš´ì˜ì²´ì œì™€-ì•„í‚¤í…ì²˜-í™•ì¸"><a href="#âœ…-í˜„ì¬-ìš´ì˜ì²´ì œì™€-ì•„í‚¤í…ì²˜-í™•ì¸" class="headerlink" title="âœ… í˜„ì¬ ìš´ì˜ì²´ì œì™€ ì•„í‚¤í…ì²˜ í™•ì¸"></a>âœ… í˜„ì¬ ìš´ì˜ì²´ì œì™€ ì•„í‚¤í…ì²˜ í™•ì¸</h2><p>M1 Mac ì¼ë•Œë§Œ M1 Mac ì— ë§ê²Œ ë¹Œë“œëœ Redis ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ í˜„ì¬ OS ì™€ Arch ì •ë³´ë“¤ì„ <code>jshell</code> ì„ ì´ìš©í•´ í™•ì¸í•©ë‹ˆë‹¤. </p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">â¯ jshell</span><br><span class="line">|  Welcome to JShell -- Version 17.0.9</span><br><span class="line">|  For an introduction <span class="built_in">type</span>: /help intro</span><br><span class="line"></span><br><span class="line">jshell&gt; System.getProperty(<span class="string">&quot;os.name&quot;</span>)</span><br><span class="line"><span class="variable">$1</span> ==&gt; <span class="string">&quot;Mac OS X&quot;</span></span><br><span class="line"></span><br><span class="line">jshell&gt; System.getProperty(<span class="string">&quot;os.arch&quot;</span>)</span><br><span class="line"><span class="variable">$2</span> ==&gt; <span class="string">&quot;aarch64&quot;</span></span><br></pre></td></tr></table></figure><h2 id="âœ…-Embeded-Redis-ì‚¬ìš©í•˜ê¸°ìœ„í•œ-ì„¤ì •"><a href="#âœ…-Embeded-Redis-ì‚¬ìš©í•˜ê¸°ìœ„í•œ-ì„¤ì •" class="headerlink" title="âœ… Embeded Redis ì‚¬ìš©í•˜ê¸°ìœ„í•œ ì„¤ì •"></a>âœ… Embeded Redis ì‚¬ìš©í•˜ê¸°ìœ„í•œ ì„¤ì •</h2><p><code>binary/redis</code> ê²½ë¡œì— M1 ì•„í‚¤í…ì²˜ë¡œ ìƒˆë¡­ê²Œ ë¹Œë“œëœ <code>redis-server</code> ë¥¼ RedisServer ì— ë„˜ê²¨ì£¼ë©´ ì–´í”Œë ˆì¼€ì´ì…˜ì´ ë¬¸ì œ ì—†ì´ ì‹¤í–‰ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><figure class="highlight java"><figcaption><span>EmbeddedRedisConfig.java</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@Profile(&quot;local&quot;)</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EmbeddedRedisConfig</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">port</span> <span class="operator">=</span> <span class="number">6379</span>;</span><br><span class="line">    <span class="keyword">private</span> RedisServer redisServer;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostConstruct</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">redisServer</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        log.info(<span class="string">&quot;System OS: &#123;&#125;&quot;</span>, System.getProperty(<span class="string">&quot;os.name&quot;</span>));</span><br><span class="line">        log.info(<span class="string">&quot;System Architecture: &#123;&#125;&quot;</span>, System.getProperty(<span class="string">&quot;os.arch&quot;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (isMacM1()) &#123;</span><br><span class="line">            log.info(<span class="string">&quot;Mac OS ARM Architecture&quot;</span>);</span><br><span class="line">            redisServer = <span class="keyword">new</span> <span class="title class_">RedisServer</span>(getRedisFileForArcMac(), port);</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            redisServer = <span class="keyword">new</span> <span class="title class_">RedisServer</span>(port);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        redisServer.start();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PreDestroy</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">stopRedis</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (redisServer != <span class="literal">null</span>) &#123;</span><br><span class="line">            redisServer.stop();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">isMacM1</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (!System.getProperty(<span class="string">&quot;os.name&quot;</span>).equals(<span class="string">&quot;Mac OS X&quot;</span>)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> System.getProperty(<span class="string">&quot;os.arch&quot;</span>).equals(<span class="string">&quot;aarch64&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> File <span class="title function_">getRedisFileForArcMac</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ClassPathResource</span>(<span class="string">&quot;binary/redis/redis-server&quot;</span>).getFile();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Exception</span>(e.getMessage());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Spring/">Spring</category>
      
      <category domain="https://ckck803.github.io/categories/Spring/Spring-Boot/">Spring Boot</category>
      
      <category domain="https://ckck803.github.io/categories/Spring/Spring-Boot/Redis/">Redis</category>
      
      
      
      <comments>https://ckck803.github.io/2024/11/29/spring/spring-redis/springboot-redis-m1/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>ì“°ë ˆë“œì™€ ë©”ëª¨ë¦¬êµ¬ì¡°</title>
      <link>https://ckck803.github.io/2024/03/03/computer-science/os/thread/thread-memory/</link>
      <guid>https://ckck803.github.io/2024/03/03/computer-science/os/thread/thread-memory/</guid>
      <pubDate>Sat, 02 Mar 2024 21:16:13 GMT</pubDate>
      
        
        
      <description>&lt;h2 id=&quot;ëª©ì°¨&quot;&gt;&lt;a href=&quot;#ëª©ì°¨&quot; class=&quot;headerlink&quot; title=&quot;ëª©ì°¨&quot;&gt;&lt;/a&gt;ëª©ì°¨&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;/2022/04/11/computer-science/os/thread/thread-safe/&quot; ti</description>
        
      
      
      
      <content:encoded><![CDATA[<h2 id="ëª©ì°¨"><a href="#ëª©ì°¨" class="headerlink" title="ëª©ì°¨"></a>ëª©ì°¨</h2><ul><li><a href="/2022/04/11/computer-science/os/thread/thread-safe/" title="Thread Safe">Thread Safe</a></li><li><a href="/2024/03/03/computer-science/os/thread/thread-memory/" title="ì“°ë ˆë“œì™€ ë©”ëª¨ë¦¬êµ¬ì¡°">ì“°ë ˆë“œì™€ ë©”ëª¨ë¦¬êµ¬ì¡°</a></li><li><a href="/2021/11/04/computer-science/os/thread/thread/" title="ì“°ë ˆë“œ">ì“°ë ˆë“œ</a></li><li><a href="/2021/11/04/computer-science/os/process/syncronize/" title="í”„ë¡œì„¸ìŠ¤ ë™ê¸°í™”">í”„ë¡œì„¸ìŠ¤ ë™ê¸°í™”</a></li><li><a href="/2021/11/04/computer-science/os/process/scheduling-algorithm/" title="í”„ë¡œì„¸ìŠ¤ ìŠ¤ì¼€ì¤„ë§ ì•Œê³ ë¦¬ì¦˜">í”„ë¡œì„¸ìŠ¤ ìŠ¤ì¼€ì¤„ë§ ì•Œê³ ë¦¬ì¦˜</a></li><li><a href="/2021/11/04/computer-science/os/process/scheduling/" title="í”„ë¡œì„¸ìŠ¤ ìƒíƒœì™€ ìŠ¤ì¼€ì¤„ëŸ¬">í”„ë¡œì„¸ìŠ¤ ìƒíƒœì™€ ìŠ¤ì¼€ì¤„ëŸ¬</a></li><li><a href="/2021/11/04/computer-science/os/process/ipc/" title="Inter Process Communication(í”„ë¡œì„¸ìŠ¤ê°„ì˜ í†µì‹ )">Inter Process Communication(í”„ë¡œì„¸ìŠ¤ê°„ì˜ í†µì‹ )</a></li><li><a href="/2021/11/04/computer-science/os/process/process-memory/" title="í”„ë¡œì„¸ìŠ¤ ë©”ëª¨ë¦¬ ì˜ì—­">í”„ë¡œì„¸ìŠ¤ ë©”ëª¨ë¦¬ ì˜ì—­</a></li><li><a href="/2021/11/04/computer-science/os/process/process/" title="Process (í”„ë¡œì„¸ìŠ¤)">Process (í”„ë¡œì„¸ìŠ¤)</a></li></ul><h2 id="ì°¸ê³ "><a href="#ì°¸ê³ " class="headerlink" title="ì°¸ê³ "></a>ì°¸ê³ </h2><ul><li><a href="https://inpa.tistory.com/entry/%F0%9F%91%A9%E2%80%8D%F0%9F%92%BB-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4-%E2%9A%94%EF%B8%8F-%EC%93%B0%EB%A0%88%EB%93%9C-%EC%B0%A8%EC%9D%B4">https://inpa.tistory.com/entry/%F0%9F%91%A9%E2%80%8D%F0%9F%92%BB-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4-%E2%9A%94%EF%B8%8F-%EC%93%B0%EB%A0%88%EB%93%9C-%EC%B0%A8%EC%9D%B4</a></li></ul><h2 id="ì“°ë ˆë“œ-ë©”ëª¨ë¦¬-êµ¬ì¡°"><a href="#ì“°ë ˆë“œ-ë©”ëª¨ë¦¬-êµ¬ì¡°" class="headerlink" title="ì“°ë ˆë“œ ë©”ëª¨ë¦¬ êµ¬ì¡°"></a>ì“°ë ˆë“œ ë©”ëª¨ë¦¬ êµ¬ì¡°</h2><p>í”„ë¡œì„¸ìŠ¤ ì•ˆì—ì„œ ìƒì„±ë˜ëŠ” ì“°ë ˆë“œëŠ” í”„ë¡œì„¸ìŠ¤ì˜ ë©”ëª¨ë¦¬ ì˜ì—­ì„ ì‚¬ìš©í•˜ê²Œ ë©ë‹ˆë‹¤. í”„ë¡œì„¸ìŠ¤ë‚´ ë©”ëª¨ë¦¬ ì˜ì—­ ì¤‘ Code, Data, Heap ì˜ì—­ì€ ëª¨ë“  ì“°ë ˆë“œê°€ ê³µìœ í•´ì„œ ì‚¬ìš©í•˜ê³  ê° ì“°ë ˆë“œ ë³„ë¡œ Stack ì˜ì—­ì´ ìƒì„±ë©ë‹ˆë‹¤.</p><p><img src="/images/computer-science/os/thread/thread-memory.png" alt="ì“°ë ˆë“œ ë©”ëª¨ë¦¬ êµ¬ì¡°"></p><h2 id="í”„ë¡œì„¸ìŠ¤-ë©”ëª¨ë¦¬-êµ¬ì¡°"><a href="#í”„ë¡œì„¸ìŠ¤-ë©”ëª¨ë¦¬-êµ¬ì¡°" class="headerlink" title="í”„ë¡œì„¸ìŠ¤ ë©”ëª¨ë¦¬ êµ¬ì¡°"></a>í”„ë¡œì„¸ìŠ¤ ë©”ëª¨ë¦¬ êµ¬ì¡°</h2><p><img src="/images/computer-science/os/process/process-memory.png" alt="í”„ë¡œì„¸ìŠ¤ ë©”ëª¨ë¦¬ êµ¬ì¡°"></p>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/CS/">CS</category>
      
      <category domain="https://ckck803.github.io/categories/CS/%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C/">ìš´ì˜ì²´ì œ</category>
      
      
      
      <comments>https://ckck803.github.io/2024/03/03/computer-science/os/thread/thread-memory/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Vue3 - Component ê°„ í†µì‹ </title>
      <link>https://ckck803.github.io/2024/03/02/vue/vue3/vue3-component-communication/</link>
      <guid>https://ckck803.github.io/2024/03/02/vue/vue3/vue3-component-communication/</guid>
      <pubDate>Sat, 02 Mar 2024 11:31:46 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;img src=&quot;/images/vue/vue-component.png&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;ëª©ì°¨&quot;&gt;&lt;a href=&quot;#ëª©ì°¨&quot; class=&quot;headerlink&quot; title=&quot;ëª©ì°¨&quot;&gt;&lt;/a&gt;ëª©ì°¨&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;/2024/</description>
        
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/vue/vue-component.png"></p><h2 id="ëª©ì°¨"><a href="#ëª©ì°¨" class="headerlink" title="ëª©ì°¨"></a>ëª©ì°¨</h2><ul><li><a href="/2024/03/02/vue/vue3/vue3-component-communication/" title="Vue3 - Component ê°„ í†µì‹ ">Vue3 - Component ê°„ í†µì‹ </a></li><li><a href="/2024/03/01/vue/vue3/vue3-component/" title="Vue3 - Component">Vue3 - Component</a></li><li><a href="/2024/03/01/vue/vue3/vue3-composition-api/" title="Vue3 - Composition API">Vue3 - Composition API</a></li><li><a href="/2024/03/01/vue/vue3/vue3-instance/" title="Vue3 - Instance">Vue3 - Instance</a></li><li><a href="/2024/03/01/vue/vue3/vue3-reactivity/" title="[Vue3] - Reactivity (ë°˜ì‘í˜•)">[Vue3] - Reactivity (ë°˜ì‘í˜•)</a></li><li><a href="/2024/03/01/vue/vue3/vue3-start/" title="Vue3 - ì‹œì‘í•˜ê¸°">Vue3 - ì‹œì‘í•˜ê¸°</a></li></ul><h2 id="Component-ê°„-í†µì‹ -Props"><a href="#Component-ê°„-í†µì‹ -Props" class="headerlink" title="Component ê°„ í†µì‹  - Props"></a>Component ê°„ í†µì‹  - Props</h2><blockquote><p><strong>Props</strong> ëŠ” ìƒìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ë¡œ ë°ì´í„°ë¥¼ ì „ì†¡í• ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.</p></blockquote><p>Vue ì—ì„œëŠ” ìƒìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ë¡œ í†µì‹ í•˜ê¸° ìœ„í•œ ë°©ë²•ìœ¼ë¡œ Props ë¥¼ ì œê³µí•©ë‹ˆë‹¤. Props ë¥¼ í†µí•´ ìƒìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ë¡œ ë°ì´í„°ë¥¼ ë‚´ë ¤ì¤ë‹ˆë‹¤.</p><p>í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì „ë‹¬ ë°›ì€ Props ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´<code>v-bind</code> ë¥¼ ì´ìš©í•´ <code>Props ì´ë¦„</code>&#x3D;â€<code>ìƒìœ„ì»´í¬ë„ŒíŠ¸ì˜ ë°ì´í„°ì´ë¦„</code>â€œ í˜•ì‹ìœ¼ë¡œ Props ë¥¼ ë§¤íŒ½í•´ ì¤ë‹ˆë‹¤.</p><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">app-header</span> <span class="attr">v-bind:title</span>=<span class="string">&quot;appTitle&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">app-header</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/vue@3/dist/vue.global.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">appTitle</span>: <span class="string">&#x27;í”„ë¡­ìŠ¤ ë„˜ê¸°ê¸°&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">components</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">// &#x27;ì»´í¬ë„ŒíŠ¸ ì´ë¦„&#x27;: ì»´í¬ë„ŒíŠ¸ ë‚´ìš©</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="string">&#x27;app-header&#x27;</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">template</span>: <span class="string">&#x27;&lt;h1&gt;&#123;&#123;title&#125;&#125;&lt;/h1&gt;&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">props</span>: [<span class="string">&#x27;title&#x27;</span>]</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;).<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h2 id="Component-ê°„-í†µì‹ -Event"><a href="#Component-ê°„-í†µì‹ -Event" class="headerlink" title="Component ê°„ í†µì‹  - Event"></a>Component ê°„ í†µì‹  - Event</h2><blockquote><p>Event ëŠ” í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œ ìƒìœ„ ì»´í¬ë„ŒíŠ¸ë¡œ </p></blockquote><p>í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œ ìƒìœ„ ì»´í¬ë„ŒíŠ¸ì™€ í†µì‹ í•˜ê¸° ìœ„í•œ ë°©ë²•ìœ¼ë¡œëŠ” Event ë¥¼ ì œê³µí•©ë‹ˆë‹¤.</p><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">app-content</span> <span class="attr">v-on:refresh</span>=<span class="string">&quot;showAlert&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">app-content</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/vue@3/dist/vue.global.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="keyword">var</span> appContents = &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">template</span>: <span class="string">`</span></span></span></span><br><span class="line"><span class="string"><span class="language-javascript"><span class="language-xml">    &lt;p&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="language-javascript"><span class="language-xml">      &lt;button v-on:click=&quot;sendEvent&quot;&gt;ê°±ì‹ &lt;/button&gt;  </span></span></span></span><br><span class="line"><span class="string"><span class="language-javascript"><span class="language-xml">    &lt;/p&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="language-javascript"><span class="language-xml">    `</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="title function_">sendEvent</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="variable language_">this</span>.$emit(<span class="string">&#x27;refresh&#x27;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="comment">// Root ì»´í¬ë„ŒíŠ¸</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="title function_">showAlert</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">alert</span>(<span class="string">&#x27;ìƒˆë¡œê³ ì¹¨&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">components</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">// &#x27;ì»´í¬ë„ŒíŠ¸ ì´ë¦„&#x27;: ì»´í¬ë„ŒíŠ¸ ë‚´ìš©</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="string">&#x27;app-content&#x27;</span>: appContents</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;).<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p><img src="/images/vue/vue-event.png"></p><h2 id="ê°™ì€-ë ˆë²¨ì˜-ì»´í¬ë„ŒíŠ¸ê°„-ë°ì´í„°-í†µì‹ "><a href="#ê°™ì€-ë ˆë²¨ì˜-ì»´í¬ë„ŒíŠ¸ê°„-ë°ì´í„°-í†µì‹ " class="headerlink" title="ê°™ì€ ë ˆë²¨ì˜ ì»´í¬ë„ŒíŠ¸ê°„ ë°ì´í„° í†µì‹ "></a>ê°™ì€ ë ˆë²¨ì˜ ì»´í¬ë„ŒíŠ¸ê°„ ë°ì´í„° í†µì‹ </h2><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">app-header</span> <span class="attr">v-bind:app-title</span>=<span class="string">&quot;message&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">app-header</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">app-content</span> <span class="attr">v-on:login</span>=<span class="string">&quot;receive&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">app-content</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/vue@3/dist/vue.global.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="keyword">var</span> appHeader = &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">props</span>: [<span class="string">&#x27;appTitle&#x27;</span>],</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">template</span>: <span class="string">`&lt;h1&gt;&#123;&#123;appTitle&#125;&#125;&lt;/h1&gt;`</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="keyword">var</span> appContents = &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">template</span>: <span class="string">`</span></span></span></span><br><span class="line"><span class="string"><span class="language-javascript"><span class="language-xml">      &lt;p&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="language-javascript"><span class="language-xml">        &lt;button v-on:click=&quot;sendEvent&quot;&gt;ë¡œê·¸ì¸&lt;/button&gt;  </span></span></span></span><br><span class="line"><span class="string"><span class="language-javascript"><span class="language-xml">      &lt;/p&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="language-javascript"><span class="language-xml">      `</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="title function_">sendEvent</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="variable language_">this</span>.$emit(<span class="string">&#x27;login&#x27;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="comment">// Root ì»´í¬ë„ŒíŠ¸</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">message</span>: <span class="string">&#x27;&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="title function_">receive</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ë°›ì•˜ë‹¤.&quot;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="variable language_">this</span>.<span class="property">message</span> = <span class="string">&quot;ë¡œê·¸ì¸ ë¨&quot;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">components</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">// &#x27;ì»´í¬ë„ŒíŠ¸ ì´ë¦„&#x27;: ì»´í¬ë„ŒíŠ¸ ë‚´ìš©</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="string">&#x27;app-header&#x27;</span>: appHeader,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="string">&#x27;app-content&#x27;</span>: appContents</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;).<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Frontend/">Frontend</category>
      
      <category domain="https://ckck803.github.io/categories/Frontend/Vue3/">Vue3</category>
      
      
      
      <comments>https://ckck803.github.io/2024/03/02/vue/vue3/vue3-component-communication/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Vue3 - Component</title>
      <link>https://ckck803.github.io/2024/03/01/vue/vue3/vue3-component/</link>
      <guid>https://ckck803.github.io/2024/03/01/vue/vue3/vue3-component/</guid>
      <pubDate>Fri, 01 Mar 2024 11:31:46 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;img src=&quot;/images/vue/vue-component.png&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;ëª©ì°¨&quot;&gt;&lt;a href=&quot;#ëª©ì°¨&quot; class=&quot;headerlink&quot; title=&quot;ëª©ì°¨&quot;&gt;&lt;/a&gt;ëª©ì°¨&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;/2024/</description>
        
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/vue/vue-component.png"></p><h2 id="ëª©ì°¨"><a href="#ëª©ì°¨" class="headerlink" title="ëª©ì°¨"></a>ëª©ì°¨</h2><ul><li><a href="/2024/03/02/vue/vue3/vue3-component-communication/" title="Vue3 - Component ê°„ í†µì‹ ">Vue3 - Component ê°„ í†µì‹ </a></li><li><a href="/2024/03/01/vue/vue3/vue3-component/" title="Vue3 - Component">Vue3 - Component</a></li><li><a href="/2024/03/01/vue/vue3/vue3-composition-api/" title="Vue3 - Composition API">Vue3 - Composition API</a></li><li><a href="/2024/03/01/vue/vue3/vue3-instance/" title="Vue3 - Instance">Vue3 - Instance</a></li><li><a href="/2024/03/01/vue/vue3/vue3-reactivity/" title="[Vue3] - Reactivity (ë°˜ì‘í˜•)">[Vue3] - Reactivity (ë°˜ì‘í˜•)</a></li><li><a href="/2024/03/01/vue/vue3/vue3-start/" title="Vue3 - ì‹œì‘í•˜ê¸°">Vue3 - ì‹œì‘í•˜ê¸°</a></li></ul><h2 id="Component"><a href="#Component" class="headerlink" title="Component"></a>Component</h2><p>Component ë€ í•˜ë‚˜ì˜ í™”ë©´ì„ ì—¬ëŸ¬ê°œì˜ ë¸”ë¡ìœ¼ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆëŠ” ë‹¨ìœ„ì…ë‹ˆë‹¤. Component ë¥¼ í†µí•´ ë¹ ë¥´ê²Œ í™”ë©´ì„ êµ¬ì¡°í™”í•  ìˆ˜ ìˆê³  ì½”ë“œ ì¬ì‚¬ìš©ì„±ì´ ëŠ˜ì–´ë‚©ë‹ˆë‹¤. Vue ì—ì„œëŠ” Component ë¥¼ ì´ìš©í•œ ê°œë°œì„ ì§€ì›í•©ë‹ˆë‹¤.</p><h4 id="í•œ-í˜ì´ì§€ì—ì„œ-í•˜ìœ„-ì»´í¬ë„ŒíŠ¸-ìƒì„±"><a href="#í•œ-í˜ì´ì§€ì—ì„œ-í•˜ìœ„-ì»´í¬ë„ŒíŠ¸-ìƒì„±" class="headerlink" title="í•œ í˜ì´ì§€ì—ì„œ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ ìƒì„±"></a>í•œ í˜ì´ì§€ì—ì„œ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ ìƒì„±</h4><p>components ë‚´ template ì„ ì´ìš©í•˜ë©´ ìƒìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë°”ë¡œ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ ë‚´ìš©ì„ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. </p><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span><br><span class="line">  <span class="attr">components</span>: &#123;</span><br><span class="line">    <span class="comment">// &#x27;ì»´í¬ë„ŒíŠ¸ ì´ë¦„&#x27;: ì»´í¬ë„ŒíŠ¸ ë‚´ìš©</span></span><br><span class="line">    <span class="string">&#x27;app-header&#x27;</span>: &#123;</span><br><span class="line">      <span class="attr">template</span>: <span class="string">&#x27;&lt;h1&gt;ì»´í¬ë„ŒíŠ¸ ì´ë¦„&lt;/h1&gt;&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;).<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure><p>ì •ì˜ëœ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ëŠ” ì»´í¬ë„ŒíŠ¸ ì´ë¦„ì„ í†µí•´ ìƒìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">app-header</span>&gt;</span><span class="tag">&lt;/<span class="name">app-header</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure><h4 id="ë³„ë„ì˜-íŒŒì¼ë¡œ-Component-ìƒì„±"><a href="#ë³„ë„ì˜-íŒŒì¼ë¡œ-Component-ìƒì„±" class="headerlink" title="ë³„ë„ì˜ íŒŒì¼ë¡œ Component ìƒì„±"></a>ë³„ë„ì˜ íŒŒì¼ë¡œ Component ìƒì„±</h4><p>vue íŒŒì¼ì„ ì´ìš©í•´ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ë¥¼ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123; appTitle &#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;changeTitle&quot;</span>&gt;</span>ë³€ê²½<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">props</span>: [<span class="string">&#x27;appTitle&#x27;</span>],</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">changeTitle</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.$emit(<span class="string">&#x27;change&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ìƒìœ„ Component ì—ì„œ í•˜ìœ„ Component ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” import ë¥¼ ì´ìš©í•´ í•˜ìœ„ vue íŒŒì¼ì— ì •ì˜ëœ Component ë¥¼ ê°€ì ¸ì™€ components ì— ë“±ë¡í•´ì•¼í•©ë‹ˆë‹¤. </p><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">// import ì»´í¬ë„ŒíŠ¸ì´ë¦„ from &#x27;./ì»´í¬ë„ŒíŠ¸ ê²½ë¡œ&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">AppHeader</span> <span class="keyword">from</span> <span class="string">&quot;./components/AppHeader.vue&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="comment">// í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ ë“±ë¡</span></span><br><span class="line">  <span class="attr">components</span>: &#123;</span><br><span class="line">    <span class="title class_">AppHeader</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">message</span>: <span class="string">&quot;ì•± í—¤ë” ì»´í¬ë„ŒíŠ¸&quot;</span>,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="title function_">changeMessage</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">message</span> = <span class="string">&quot;ë³€ê²½ë¨&quot;</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ìœ„ì™€ ë§ˆì°¬ê°€ì§€ë¡œ ìƒìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” ë“±ë¡ëœ ì»´í¬ë„ŒíŠ¸ ì´ë¦„ì„ ì´ìš©í•´ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">AppHeader</span> <span class="attr">v-bind:appTitle</span>=<span class="string">&quot;message&quot;</span> <span class="attr">v-on:change</span>=<span class="string">&quot;changeMessage&quot;</span>&gt;</span> <span class="tag">&lt;/<span class="name">AppHeader</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Frontend/">Frontend</category>
      
      <category domain="https://ckck803.github.io/categories/Frontend/Vue3/">Vue3</category>
      
      
      
      <comments>https://ckck803.github.io/2024/03/01/vue/vue3/vue3-component/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Vue3 - Instance</title>
      <link>https://ckck803.github.io/2024/03/01/vue/vue3/vue3-instance/</link>
      <guid>https://ckck803.github.io/2024/03/01/vue/vue3/vue3-instance/</guid>
      <pubDate>Fri, 01 Mar 2024 03:31:46 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;img src=&quot;/images/vue/vue.png&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;ëª©ì°¨&quot;&gt;&lt;a href=&quot;#ëª©ì°¨&quot; class=&quot;headerlink&quot; title=&quot;ëª©ì°¨&quot;&gt;&lt;/a&gt;ëª©ì°¨&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;/2024/03/02/vue/</description>
        
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/vue/vue.png"></p><h2 id="ëª©ì°¨"><a href="#ëª©ì°¨" class="headerlink" title="ëª©ì°¨"></a>ëª©ì°¨</h2><ul><li><a href="/2024/03/02/vue/vue3/vue3-component-communication/" title="Vue3 - Component ê°„ í†µì‹ ">Vue3 - Component ê°„ í†µì‹ </a></li><li><a href="/2024/03/01/vue/vue3/vue3-component/" title="Vue3 - Component">Vue3 - Component</a></li><li><a href="/2024/03/01/vue/vue3/vue3-composition-api/" title="Vue3 - Composition API">Vue3 - Composition API</a></li><li><a href="/2024/03/01/vue/vue3/vue3-instance/" title="Vue3 - Instance">Vue3 - Instance</a></li><li><a href="/2024/03/01/vue/vue3/vue3-reactivity/" title="[Vue3] - Reactivity (ë°˜ì‘í˜•)">[Vue3] - Reactivity (ë°˜ì‘í˜•)</a></li><li><a href="/2024/03/01/vue/vue3/vue3-start/" title="Vue3 - ì‹œì‘í•˜ê¸°">Vue3 - ì‹œì‘í•˜ê¸°</a></li></ul><h2 id="Vue-3-Instance-ì™€-ì†ì„±"><a href="#Vue-3-Instance-ì™€-ì†ì„±" class="headerlink" title="Vue 3 Instance ì™€ ì†ì„±"></a>Vue 3 Instance ì™€ ì†ì„±</h2><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span><br><span class="line">  <span class="attr">template</span>: ,</span><br><span class="line">  <span class="attr">data</span>: ,</span><br><span class="line">  <span class="attr">methods</span>: ,</span><br><span class="line">  <span class="attr">created</span>: ,</span><br><span class="line">  <span class="attr">watch</span>: ,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="methods"><a href="#methods" class="headerlink" title="methods"></a>methods</h4><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;count&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;addCount&quot;</span>&gt;</span>+<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/vue@3/dist/vue.global.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">count</span>: <span class="number">0</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="title function_">addCount</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="variable language_">this</span>.<span class="property">count</span>++;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;).<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h2 id="Vue-Directive"><a href="#Vue-Directive" class="headerlink" title="Vue Directive"></a>Vue Directive</h2><h4 id="v-for"><a href="#v-for" class="headerlink" title="v-for"></a>v-for</h4><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item in items&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/vue@3/dist/vue.global.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">items</span>: [<span class="string">&#x27;ì‚¼ì„±&#x27;</span>, <span class="string">&#x27;ë„¤ì´ë²„&#x27;</span>, <span class="string">&#x27;ì¸í”„ëŸ°&#x27;</span>]</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;).<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Frontend/">Frontend</category>
      
      <category domain="https://ckck803.github.io/categories/Frontend/Vue3/">Vue3</category>
      
      
      
      <comments>https://ckck803.github.io/2024/03/01/vue/vue3/vue3-instance/#disqus_thread</comments>
      
    </item>
    
  </channel>
</rss>
