<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"
  xmlns:atom="http://www.w3.org/2005/Atom"
  xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Victor</title>
    <link>https://ckck803.github.io/</link>
    
    <atom:link href="https://ckck803.github.io/rss2.xml" rel="self" type="application/rss+xml"/>
    
    <description>ê°œë°œ ë…¸íŠ¸</description>
    <pubDate>Sun, 18 Feb 2024 16:47:07 GMT</pubDate>
    <generator>http://hexo.io/</generator>
    
    <item>
      <title>Django - App ìƒì„±í•˜ê¸°</title>
      <link>https://ckck803.github.io/2023/12/09/django/django/create_app/</link>
      <guid>https://ckck803.github.io/2023/12/09/django/django/create_app/</guid>
      <pubDate>Sat, 09 Dec 2023 11:47:30 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;img src=&quot;/images/django/django.png&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;ëª©ì°¨&quot;&gt;&lt;a href=&quot;#ëª©ì°¨&quot; class=&quot;headerlink&quot; title=&quot;ëª©ì°¨&quot;&gt;&lt;/a&gt;ëª©ì°¨&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;/2023/12/0</description>
        
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/django/django.png"></p><h2 id="ëª©ì°¨"><a href="#ëª©ì°¨" class="headerlink" title="ëª©ì°¨"></a>ëª©ì°¨</h2><ul><li><a href="/2023/12/09/django/django/create_app/" title="Django - App ìƒì„±í•˜ê¸°">Django - App ìƒì„±í•˜ê¸°</a></li><li><a href="/2023/12/09/django/django/start_django/" title="Django - ì¥ê³  ì‹œì‘í•˜ê¸°">Django - ì¥ê³  ì‹œì‘í•˜ê¸°</a></li></ul><h2 id="ì¥ê³ -ì•±-ë§Œë“¤ê¸°"><a href="#ì¥ê³ -ì•±-ë§Œë“¤ê¸°" class="headerlink" title="ì¥ê³  ì•± ë§Œë“¤ê¸°"></a>ì¥ê³  ì•± ë§Œë“¤ê¸°</h2><p>ì¥ê³  App ìƒì„±ì€ manage.py ê°€ ìˆëŠ” í”„ë¡œì íŠ¸ í´ë”ì—ì„œ <code>startapp</code> ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. <code>startapp</code> ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•´ <code>hello_world</code> ë¼ëŠ” ì´ë¦„ì˜ ì•±ì„ ë§Œë“¤ì–´ ì¤ë‹ˆë‹¤.</p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">python manage.py startapp hello_world</span><br></pre></td></tr></table></figure><h4 id="view-py-ì‘ì„±í•˜ê¸°"><a href="#view-py-ì‘ì„±í•˜ê¸°" class="headerlink" title="view.py ì‘ì„±í•˜ê¸°"></a>view.py ì‘ì„±í•˜ê¸°</h4><p>ì•± í´ë” ë‚´ì— <code>views.py</code> íŒŒì¼ì— ë‹¤ìŒê³¼ ê°™ì€ ì½”ë“œë¥¼ ì‘ì„±í•´ì¤ë‹ˆë‹¤.</p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">from django.http import HttpResponse</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def hello(request):</span><br><span class="line">    <span class="built_in">return</span> HttpResponse(<span class="string">&quot;Hello, world. You&#x27;re at the hello_world index.&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create your views here.]</span></span><br></pre></td></tr></table></figure><h4 id="url-py-ì‘ì„±í•˜ê¸°"><a href="#url-py-ì‘ì„±í•˜ê¸°" class="headerlink" title="url.py ì‘ì„±í•˜ê¸°"></a>url.py ì‘ì„±í•˜ê¸°</h4><p>í”„ë¡œì íŠ¸ í´ë”ë‚´ <code>url.py</code> íŒŒì¼ì„ ì—´ì–´ <code>/hello</code> ê²½ë¡œì™€ í•´ë‹¹ ê²½ë¡œë¡œ ë“¤ì–´ì™”ì„ë•Œ ë³´ì—¬ì¤„ view ë¥¼ ì¶”ê°€í•´ì¤ë‹ˆë‹¤.</p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">from hello_world.views import hello</span><br><span class="line"></span><br><span class="line">urlpatterns = [</span><br><span class="line">    path(<span class="string">&#x27;admin/&#x27;</span>, admin.site.urls),</span><br><span class="line">    path(<span class="string">&#x27;hello/&#x27;</span>, hello),</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h2 id="ì„œë¹„ìŠ¤-í™•ì¸í•˜ê¸°"><a href="#ì„œë¹„ìŠ¤-í™•ì¸í•˜ê¸°" class="headerlink" title="ì„œë¹„ìŠ¤ í™•ì¸í•˜ê¸°"></a>ì„œë¹„ìŠ¤ í™•ì¸í•˜ê¸°</h2><p><code>localhost:8080/hello</code> ë¡œ ì ‘ì†í•˜ë©´ ìœ„ <code>view.py</code> ì—ì„œ ì‘ì„±í•œ ë‚´ìš©ì´ ë³´ì´ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><p><img src="/images/django/django_helloworld.png"></p>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Programming/">Programming</category>
      
      <category domain="https://ckck803.github.io/categories/Programming/Django/">Django</category>
      
      
      
      <comments>https://ckck803.github.io/2023/12/09/django/django/create_app/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Django - ì¥ê³  ì‹œì‘í•˜ê¸°</title>
      <link>https://ckck803.github.io/2023/12/09/django/django/start_django/</link>
      <guid>https://ckck803.github.io/2023/12/09/django/django/start_django/</guid>
      <pubDate>Sat, 09 Dec 2023 11:47:30 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;img src=&quot;/images/django/django.png&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;ëª©ì°¨&quot;&gt;&lt;a href=&quot;#ëª©ì°¨&quot; class=&quot;headerlink&quot; title=&quot;ëª©ì°¨&quot;&gt;&lt;/a&gt;ëª©ì°¨&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;/2023/12/0</description>
        
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/django/django.png"></p><h2 id="ëª©ì°¨"><a href="#ëª©ì°¨" class="headerlink" title="ëª©ì°¨"></a>ëª©ì°¨</h2><ul><li><a href="/2023/12/09/django/django/create_app/" title="Django - App ìƒì„±í•˜ê¸°">Django - App ìƒì„±í•˜ê¸°</a></li><li><a href="/2023/12/09/django/django/start_django/" title="Django - ì¥ê³  ì‹œì‘í•˜ê¸°">Django - ì¥ê³  ì‹œì‘í•˜ê¸°</a></li></ul><h2 id="ì¥ê³ -ì„¤ì¹˜í•˜ê¸°"><a href="#ì¥ê³ -ì„¤ì¹˜í•˜ê¸°" class="headerlink" title="ì¥ê³  ì„¤ì¹˜í•˜ê¸°"></a>ì¥ê³  ì„¤ì¹˜í•˜ê¸°</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">pip install django</span><br></pre></td></tr></table></figure><h2 id="ì¥ê³ -í”„ë¡œì íŠ¸-ìƒì„±í•˜ê¸°-django-admin"><a href="#ì¥ê³ -í”„ë¡œì íŠ¸-ìƒì„±í•˜ê¸°-django-admin" class="headerlink" title="ì¥ê³  í”„ë¡œì íŠ¸ ìƒì„±í•˜ê¸° - django-admin"></a>ì¥ê³  í”„ë¡œì íŠ¸ ìƒì„±í•˜ê¸° - django-admin</h2><p>django ë¥¼ ì„¤ì¹˜í•˜ë©´ <code>django-admin</code> ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì„¤ì¹˜ëœ <code>django-admin</code> ì— <code>startproject</code> ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ë©´ ìƒˆë¡­ê²Œ ì¥ê³  í”„ë¡œì íŠ¸ë¥¼ ì‹œì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">django-admin startproject mysite</span><br></pre></td></tr></table></figure><h2 id="ì¥ê³ -ì„œë²„-ì‹¤í–‰í•˜ê¸°-manage-py"><a href="#ì¥ê³ -ì„œë²„-ì‹¤í–‰í•˜ê¸°-manage-py" class="headerlink" title="ì¥ê³  ì„œë²„ ì‹¤í–‰í•˜ê¸° - manage.py"></a>ì¥ê³  ì„œë²„ ì‹¤í–‰í•˜ê¸° - manage.py</h2><p>ìƒˆë¡œìš´ ì¥ê³  í”„ë¡œì íŠ¸ì— ë“¤ì–´ê°€ë©´ <code>manage.py</code> íŒŒì¼ì´ ìˆìŠµë‹ˆë‹¤. <code>runserver</code> ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ë©´ ì¥ê³  ì„œë²„ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">python manage.py runserver  </span><br></pre></td></tr></table></figure><p><img src="/images/django/django_run.png"></p>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Programming/">Programming</category>
      
      <category domain="https://ckck803.github.io/categories/Programming/Django/">Django</category>
      
      
      
      <comments>https://ckck803.github.io/2023/12/09/django/django/start_django/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>React Query - ìºì‹± ë¼ì´í”„ ì‚¬ì´í´</title>
      <link>https://ckck803.github.io/2023/10/22/react/react-query/react-query-cache-stale/</link>
      <guid>https://ckck803.github.io/2023/10/22/react/react-query/react-query-cache-stale/</guid>
      <pubDate>Sun, 22 Oct 2023 11:10:40 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;img src=&quot;/images/react/react-query/react-query.png&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;ëª©ì°¨&quot;&gt;&lt;a href=&quot;#ëª©ì°¨&quot; class=&quot;headerlink&quot; title=&quot;ëª©ì°¨&quot;&gt;&lt;/a&gt;ëª©ì°¨&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a </description>
        
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/react/react-query/react-query.png"></p><h2 id="ëª©ì°¨"><a href="#ëª©ì°¨" class="headerlink" title="ëª©ì°¨"></a>ëª©ì°¨</h2><ul><li><a href="/2023/10/22/react/react-query/react-query-cache-stale/" title="React Query - ìºì‹± ë¼ì´í”„ ì‚¬ì´í´">React Query - ìºì‹± ë¼ì´í”„ ì‚¬ì´í´</a></li><li><a href="/2023/10/22/react/react-query/react-query-devtools/" title="React Query - React Devtools ì‚¬ìš©í•˜ê¸°">React Query - React Devtools ì‚¬ìš©í•˜ê¸°</a></li><li><a href="/2023/10/22/react/react-query/react-query-start/" title="React Query - ì‹œì‘í•˜ê¸°">React Query - ì‹œì‘í•˜ê¸°</a></li></ul><h2 id="cache-ì™€-stale-ì„¤ì •"><a href="#cache-ì™€-stale-ì„¤ì •" class="headerlink" title="cache ì™€ stale ì„¤ì •"></a>cache ì™€ stale ì„¤ì •</h2><figure class="highlight tsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> queryClient = <span class="keyword">new</span> <span class="title class_">QueryClient</span>(&#123;</span><br><span class="line">  <span class="attr">defaultOptions</span>: &#123;</span><br><span class="line">    <span class="attr">queries</span>: &#123;</span><br><span class="line">      <span class="attr">staleTime</span>: <span class="number">1000</span> * <span class="number">60</span>,</span><br><span class="line">      <span class="attr">cacheTime</span>: <span class="number">1000</span> * <span class="number">60</span> * <span class="number">5</span>,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">App</span> = (<span class="params">&#123; Component, pageProps &#125;: AppProps</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">QueryClientProvider</span> <span class="attr">client</span>=<span class="string">&#123;queryClient&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">Component</span> &#123;<span class="attr">...pageProps</span>&#125; /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">QueryClientProvider</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="cache"><a href="#cache" class="headerlink" title="cache"></a>cache</h2><p>React Query ëŠ” ì„¤ì •í•œ cacheTime ë§Œí¼ ë°ì´í„°ë¥¼ ë©”ëª¨ë¦¬ì— ì €ì¥í•´ ë†“ìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì´ì•¼ê¸° í•˜ìë©´ React Query ì—ì„œì˜ Cache ëŠ” QueryCache ê°ì²´ì˜ <code>queries</code> ë°°ì—´ê³¼ <code>queriesInMap</code> ê°ì²´ì˜ Query ê°ì²´ê°€ ì¡´ì¬í•˜ëŠ” ê²ƒì„ ë§í•©ë‹ˆë‹¤.</p><h2 id="cache-ë¼ì´í”„-ì‚¬ì´í´-fresh-ì™€-stale"><a href="#cache-ë¼ì´í”„-ì‚¬ì´í´-fresh-ì™€-stale" class="headerlink" title="cache ë¼ì´í”„ ì‚¬ì´í´ - fresh ì™€ stale"></a>cache ë¼ì´í”„ ì‚¬ì´í´ - fresh ì™€ stale</h2><p>stale ì€ React Query ì—ì„œ cache ì— ì €ì¥ëœ ë°ì´í„° ìƒíƒœë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤. cache ì— ì €ì¥ëœ ë°ì´í„°ê°€ staleTime ë§Œí¼ì€ fresh í•œ ìƒíƒœë¡œ ìˆë‹¤ê°€ ê·¸ í›„ì—ëŠ” stale ìƒíƒœë¡œ ë„˜ì–´ê°‘ë‹ˆë‹¤.</p><p>stale ìƒíƒœì˜ ë°ì´í„°ëŠ” cache ì— ì˜¤ë«ë™ì•ˆ ì €ì¥ë¼ ìˆì–´ refetch ê°€ í•„ìš”í•œ ìƒíƒœì„ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. React Query ì—ì„œëŠ” stale ìƒíƒœì˜ ë°ì´í„°ê°€ íŠ¹ì • ì¡°ê±´ì„ ë§Œì¡±í•˜ë©´ refetching ì´ ì¼ì–´ë‚˜ë„ë¡ í•©ë‹ˆë‹¤.</p>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/React/">React</category>
      
      <category domain="https://ckck803.github.io/categories/React/React-Query/">React Query</category>
      
      
      
      <comments>https://ckck803.github.io/2023/10/22/react/react-query/react-query-cache-stale/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>React Query - React Devtools ì‚¬ìš©í•˜ê¸°</title>
      <link>https://ckck803.github.io/2023/10/22/react/react-query/react-query-devtools/</link>
      <guid>https://ckck803.github.io/2023/10/22/react/react-query/react-query-devtools/</guid>
      <pubDate>Sun, 22 Oct 2023 11:10:40 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;img src=&quot;/images/react/react-query/react-query.png&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;ëª©ì°¨&quot;&gt;&lt;a href=&quot;#ëª©ì°¨&quot; class=&quot;headerlink&quot; title=&quot;ëª©ì°¨&quot;&gt;&lt;/a&gt;ëª©ì°¨&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a </description>
        
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/react/react-query/react-query.png"></p><h2 id="ëª©ì°¨"><a href="#ëª©ì°¨" class="headerlink" title="ëª©ì°¨"></a>ëª©ì°¨</h2><ul><li><a href="/2023/10/22/react/react-query/react-query-cache-stale/" title="React Query - ìºì‹± ë¼ì´í”„ ì‚¬ì´í´">React Query - ìºì‹± ë¼ì´í”„ ì‚¬ì´í´</a></li><li><a href="/2023/10/22/react/react-query/react-query-devtools/" title="React Query - React Devtools ì‚¬ìš©í•˜ê¸°">React Query - React Devtools ì‚¬ìš©í•˜ê¸°</a></li><li><a href="/2023/10/22/react/react-query/react-query-start/" title="React Query - ì‹œì‘í•˜ê¸°">React Query - ì‹œì‘í•˜ê¸°</a></li></ul><h2 id="ì˜ì¡´ì„±-ì¶”ê°€"><a href="#ì˜ì¡´ì„±-ì¶”ê°€" class="headerlink" title="ì˜ì¡´ì„± ì¶”ê°€"></a>ì˜ì¡´ì„± ì¶”ê°€</h2><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">$ npm i @tanstack/react-query-devtools</span><br><span class="line"><span class="comment"># or</span></span><br><span class="line">$ yarn add @tanstack/react-query-devtools</span><br></pre></td></tr></table></figure><h2 id="ReactQueryDevtools"><a href="#ReactQueryDevtools" class="headerlink" title="ReactQueryDevtools"></a>ReactQueryDevtools</h2><figure class="highlight tsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ReactDOM</span> <span class="keyword">from</span> <span class="string">&#x27;react-dom/client&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.tsx&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">ReactQueryDevtools</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@tanstack/react-query-devtools&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123;<span class="title class_">QueryClient</span>, <span class="title class_">QueryClientProvider</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@tanstack/react-query&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> queryClient = <span class="keyword">new</span> <span class="title class_">QueryClient</span>()</span><br><span class="line"></span><br><span class="line"><span class="title class_">ReactDOM</span>.<span class="title function_">createRoot</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;root&#x27;</span>)!).<span class="title function_">render</span>(</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">React.StrictMode</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">QueryClientProvider</span> <span class="attr">client</span>=<span class="string">&#123;queryClient&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">App</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">ReactQueryDevtools</span> <span class="attr">initialIsOpen</span>=<span class="string">&#123;false&#125;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">QueryClientProvider</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">React.StrictMode</span>&gt;</span></span>,</span><br><span class="line">)</span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/React/">React</category>
      
      <category domain="https://ckck803.github.io/categories/React/React-Query/">React Query</category>
      
      
      
      <comments>https://ckck803.github.io/2023/10/22/react/react-query/react-query-devtools/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>React Query - ì‹œì‘í•˜ê¸°</title>
      <link>https://ckck803.github.io/2023/10/22/react/react-query/react-query-start/</link>
      <guid>https://ckck803.github.io/2023/10/22/react/react-query/react-query-start/</guid>
      <pubDate>Sun, 22 Oct 2023 11:10:40 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;img src=&quot;/images/react/react-query/react-query.png&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;ëª©ì°¨&quot;&gt;&lt;a href=&quot;#ëª©ì°¨&quot; class=&quot;headerlink&quot; title=&quot;ëª©ì°¨&quot;&gt;&lt;/a&gt;ëª©ì°¨&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a </description>
        
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/react/react-query/react-query.png"></p><h2 id="ëª©ì°¨"><a href="#ëª©ì°¨" class="headerlink" title="ëª©ì°¨"></a>ëª©ì°¨</h2><ul><li><a href="/2023/10/22/react/react-query/react-query-cache-stale/" title="React Query - ìºì‹± ë¼ì´í”„ ì‚¬ì´í´">React Query - ìºì‹± ë¼ì´í”„ ì‚¬ì´í´</a></li><li><a href="/2023/10/22/react/react-query/react-query-devtools/" title="React Query - React Devtools ì‚¬ìš©í•˜ê¸°">React Query - React Devtools ì‚¬ìš©í•˜ê¸°</a></li><li><a href="/2023/10/22/react/react-query/react-query-start/" title="React Query - ì‹œì‘í•˜ê¸°">React Query - ì‹œì‘í•˜ê¸°</a></li></ul><h2 id="ì°¸ê³ "><a href="#ì°¸ê³ " class="headerlink" title="ì°¸ê³ "></a>ì°¸ê³ </h2><ul><li>ê³µì‹ë¬¸ì„œ<ul><li><a href="https://tanstack.com/query/v4/docs/react/quick-start">https://tanstack.com/query/v4/docs/react/quick-start</a></li></ul></li></ul><h2 id="ì˜ì¡´ì„±-ì¶”ê°€"><a href="#ì˜ì¡´ì„±-ì¶”ê°€" class="headerlink" title="ì˜ì¡´ì„± ì¶”ê°€"></a>ì˜ì¡´ì„± ì¶”ê°€</h2><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">$ npm i @tanstack/react-query</span><br><span class="line"><span class="comment"># or</span></span><br><span class="line">$ yarn add @tanstack/react-query</span><br></pre></td></tr></table></figure><h2 id="Provider"><a href="#Provider" class="headerlink" title="Provider"></a>Provider</h2><figure class="highlight tsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ReactDOM</span> <span class="keyword">from</span> <span class="string">&quot;react-dom/client&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&quot;./App.tsx&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">QueryClient</span>, <span class="title class_">QueryClientProvider</span> &#125; <span class="keyword">from</span> <span class="string">&quot;@tanstack/react-query&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> queryClient = <span class="keyword">new</span> <span class="title class_">QueryClient</span>();</span><br><span class="line"></span><br><span class="line"><span class="title class_">ReactDOM</span>.<span class="title function_">createRoot</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;root&quot;</span>)!).<span class="title function_">render</span>(</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">React.StrictMode</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">QueryClientProvider</span> <span class="attr">client</span>=<span class="string">&#123;queryClient&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">App</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">QueryClientProvider</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">React.StrictMode</span>&gt;</span></span></span><br><span class="line">);</span><br></pre></td></tr></table></figure><h2 id="useQuery"><a href="#useQuery" class="headerlink" title="useQuery"></a>useQuery</h2><figure class="highlight tsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&quot;axios&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; useQuery &#125; <span class="keyword">from</span> <span class="string">&quot;@tanstack/react-query&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">App</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; isLoading, error, data &#125; = <span class="title function_">useQuery</span>(&#123;</span><br><span class="line">    <span class="attr">queryKey</span>: [<span class="string">&quot;repoData&quot;</span>],</span><br><span class="line">    <span class="attr">queryFn</span>: <span class="function">() =&gt;</span></span><br><span class="line">      axios</span><br><span class="line">        .<span class="title function_">get</span>(<span class="string">&quot;https://api.github.com/repos/TanStack/query&quot;</span>)</span><br><span class="line">        .<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> res.<span class="property">data</span>),</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (isLoading) <span class="keyword">return</span> <span class="string">&quot;Loading...&quot;</span>;</span><br><span class="line">  <span class="keyword">if</span> (error) <span class="keyword">return</span> <span class="string">&quot;An error has occurred: &quot;</span> + error.<span class="property">message</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;data.name&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;data.description&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">strong</span>&gt;</span>ğŸ‘€ &#123;data.subscribers_count&#125;<span class="tag">&lt;/<span class="name">strong</span>&gt;</span>&#123;&quot; &quot;&#125;</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">strong</span>&gt;</span>âœ¨ &#123;data.stargazers_count&#125;<span class="tag">&lt;/<span class="name">strong</span>&gt;</span>&#123;&quot; &quot;&#125;</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">strong</span>&gt;</span>ğŸ´ &#123;data.forks_count&#125;<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App</span>;</span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/React/">React</category>
      
      <category domain="https://ckck803.github.io/categories/React/React-Query/">React Query</category>
      
      
      
      <comments>https://ckck803.github.io/2023/10/22/react/react-query/react-query-start/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>JPA - ë”í‹° ì²´í‚¹ê³¼ ì—…ë°ì´íŠ¸ ê·¸ë¦¬ê³  ë²Œí¬ ì—°ì‚°</title>
      <link>https://ckck803.github.io/2023/09/08/jpa/jpa-update/</link>
      <guid>https://ckck803.github.io/2023/09/08/jpa/jpa-update/</guid>
      <pubDate>Thu, 07 Sep 2023 19:31:46 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;img src=&quot;/images/JPA/jpa.png&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;JPA-ì—ì„œì˜-ì—…ë°ì´íŠ¸-ë”í‹°-ì²´í‚¹&quot;&gt;&lt;a href=&quot;#JPA-ì—ì„œì˜-ì—…ë°ì´íŠ¸-ë”í‹°-ì²´í‚¹&quot; class=&quot;headerlink&quot; title=&quot;JPA ì—ì„œì˜ ì—…ë°ì´íŠ¸ - ë”í‹°</description>
        
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/JPA/jpa.png"></p><h2 id="JPA-ì—ì„œì˜-ì—…ë°ì´íŠ¸-ë”í‹°-ì²´í‚¹"><a href="#JPA-ì—ì„œì˜-ì—…ë°ì´íŠ¸-ë”í‹°-ì²´í‚¹" class="headerlink" title="JPA ì—ì„œì˜ ì—…ë°ì´íŠ¸ - ë”í‹° ì²´í‚¹"></a>JPA ì—ì„œì˜ ì—…ë°ì´íŠ¸ - ë”í‹° ì²´í‚¹</h2><blockquote><p>Entity ì— ëŒ€í•œ <code>ë”í‹° ì²´í‚¹</code> ì„ í†µí•œ ì—…ë°ì´íŠ¸ê°€ ì´ë¤„ì§‘ë‹ˆë‹¤.</p></blockquote><p>JPA ì—ì„œëŠ” Entity ë¥¼ ì—…ë°ì´íŠ¸ í•˜ê¸° ìœ„í•œ ë©”ì†Œë“œê°€ ë³„ë„ë¡œ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. JPA ì—ì„œì˜ ì—…ë°ì´íŠ¸ëŠ” <strong>ì—”í‹°í‹° ë³€ê²½</strong> ê³¼ <strong>ë”í‹° ì²´í‚¹</strong> ì„ í†µí•´ ì—…ë°ì´íŠ¸ê°€ ì´ë¤„ì§‘ë‹ˆë‹¤.</p><p>JPA ì—ì„œ ì—”í‹°í‹°ë¥¼ ë³€ê²½í•˜ê¸° ìœ„í•´ì„œëŠ” ë³€ê²½í•˜ê³ ì í•˜ëŠ” ì—”í‹°í‹°ë¥¼ ì¡°íšŒí•œ í›„ í•´ë‹¹ ì—”í‹°í‹°ì˜ ê°’ì„ ë³€ê²½í•˜ë©´ íŠ¸ëœì­ì…˜ì„ ì»¤ë°‹í•  ë•Œ ë³€ê²½ ê°ì§€(Dirty Checking) ê°€ ë™ì‘í•´ì„œ ë°ì´í„°ë² ì´ìŠ¤ì— UPDATE SQL ì´ ì‹¤í–‰í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ Entity ì— ëŒ€í•œ ë³€ê²½ì„ ë°˜ì˜í•©ë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="meta">@Transactional</span></span><br><span class="line"><span class="keyword">public</span> ItemDto.Response <span class="title function_">modifyItemPrice</span><span class="params">(Long id, ItemDto.Request itemDto)</span> &#123;</span><br><span class="line">    <span class="comment">// 1. ë³€ê²½í•˜ê³ ì í•˜ëŠ” Entity ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.</span></span><br><span class="line">    Optional&lt;Item&gt; optionalItem = itemRepository.findById(id);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (optionalItem.isPresent()) &#123;</span><br><span class="line">        <span class="type">Item</span> <span class="variable">item</span> <span class="operator">=</span> optionalItem.get();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2. Entity ì˜ ê°’ì„ ë³€ê²½í•©ë‹ˆë‹¤.</span></span><br><span class="line">        item.updatePrice(itemDto.getPrice());</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> ItemDto.Response.toDto(item);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;Item not found&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Update-ì¿¼ë¦¬ë¬¸-ë°œìƒ"><a href="#Update-ì¿¼ë¦¬ë¬¸-ë°œìƒ" class="headerlink" title="Update ì¿¼ë¦¬ë¬¸ ë°œìƒ"></a>Update ì¿¼ë¦¬ë¬¸ ë°œìƒ</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">update</span><br><span class="line">    item </span><br><span class="line">set</span><br><span class="line">    item_type_id=?,</span><br><span class="line">    modified_date=?,</span><br><span class="line">    name=?,</span><br><span class="line">    price=?,</span><br><span class="line">    version=? </span><br><span class="line">where</span><br><span class="line">    id=? </span><br><span class="line">    and version=?</span><br></pre></td></tr></table></figure><h2 id="ë”í‹°ì²´í¬ë¥¼-í†µí•œ-ì—…ë°ì´íŠ¸ì˜-í•œê³„"><a href="#ë”í‹°ì²´í¬ë¥¼-í†µí•œ-ì—…ë°ì´íŠ¸ì˜-í•œê³„" class="headerlink" title="ë”í‹°ì²´í¬ë¥¼ í†µí•œ ì—…ë°ì´íŠ¸ì˜ í•œê³„"></a>ë”í‹°ì²´í¬ë¥¼ í†µí•œ ì—…ë°ì´íŠ¸ì˜ í•œê³„</h2><p>ë”í‹° ì²´í‚¹ì„ í†µí•œ ì—…ë°ì´íŠ¸ëŠ” ë³€ê²½ëœ Entity ê°œìˆ˜ë§Œí¼ Update ë¬¸ì„ ì‹¤í–‰í•©ë‹ˆë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— ë³€ê²½ëœ Entity ê°€ 100ê°œë¼ë©´ 100ë²ˆì˜ Update ë¬¸ì´ ì‹¤í–‰ë˜ëŠ” ë¬¸ì œì ì´ ìˆìŠµë‹ˆë‹¤.</p><p>ê·¸ë˜ì„œ JPA ì—ì„œëŠ” ë²Œí¬ ì—°ì‚°ì„ í†µí•´ í•œë²ˆì— ì—¬ëŸ¬ Entity ë¥¼ ë³€ê²½í•  ìˆ˜ ìˆë„ë¡ ì§€ì›í•©ë‹ˆë‹¤.</p><h2 id="ë²Œí¬-ì—°ì‚°ì„-í†µí•œ-ì—…ë°ì´íŠ¸"><a href="#ë²Œí¬-ì—°ì‚°ì„-í†µí•œ-ì—…ë°ì´íŠ¸" class="headerlink" title="ë²Œí¬ ì—°ì‚°ì„ í†µí•œ ì—…ë°ì´íŠ¸"></a>ë²Œí¬ ì—°ì‚°ì„ í†µí•œ ì—…ë°ì´íŠ¸</h2><h2 id="ë²Œí¬-ì—°ì‚°ì„-í†µí•œ-ì—…ë°ì´íŠ¸ì˜-í•œê³„"><a href="#ë²Œí¬-ì—°ì‚°ì„-í†µí•œ-ì—…ë°ì´íŠ¸ì˜-í•œê³„" class="headerlink" title="ë²Œí¬ ì—°ì‚°ì„ í†µí•œ ì—…ë°ì´íŠ¸ì˜ í•œê³„"></a>ë²Œí¬ ì—°ì‚°ì„ í†µí•œ ì—…ë°ì´íŠ¸ì˜ í•œê³„</h2><p>ë²Œí¬ ì—°ìƒì˜ ê²½ìš° JPA ë¥¼ í†µí•´ì„œ ì—…ë°ì´íŠ¸í•˜ëŠ” ë°©ì‹ì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì— EntityManager ì—ì„œ ìºì‹±í•´ë†“ì€ ë°ì´í„°ì™€ DB ì— ì €ì¥ëœ ë°ì´í„°ì˜ ë¶ˆì¼ì¹˜ê°€ ë°œìƒí•©ë‹ˆë‹¤.</p>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Programming/">Programming</category>
      
      <category domain="https://ckck803.github.io/categories/Programming/JPA/">JPA</category>
      
      
      <category domain="https://ckck803.github.io/tags/JPA/">JPA</category>
      
      
      <comments>https://ckck803.github.io/2023/09/08/jpa/jpa-update/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Service Discovery íŒ¨í„´</title>
      <link>https://ckck803.github.io/2023/06/30/computer-science/network/ServiceDiscovery/</link>
      <guid>https://ckck803.github.io/2023/06/30/computer-science/network/ServiceDiscovery/</guid>
      <pubDate>Fri, 30 Jun 2023 14:16:32 GMT</pubDate>
      
        
        
      <description>&lt;h2 id=&quot;ì°¸ê³ &quot;&gt;&lt;a href=&quot;#ì°¸ê³ &quot; class=&quot;headerlink&quot; title=&quot;ì°¸ê³ &quot;&gt;&lt;/a&gt;ì°¸ê³ &lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.nginx.com/blog/service-discovery-in-a-micro</description>
        
      
      
      
      <content:encoded><![CDATA[<h2 id="ì°¸ê³ "><a href="#ì°¸ê³ " class="headerlink" title="ì°¸ê³ "></a>ì°¸ê³ </h2><ul><li><a href="https://www.nginx.com/blog/service-discovery-in-a-microservices-architecture/">https://www.nginx.com/blog/service-discovery-in-a-microservices-architecture/</a></li><li><a href="https://velog.io/@hoonki/%EB%A7%88%EC%9D%B4%ED%81%AC%EB%A1%9C%EC%84%9C%EB%B9%84%EC%8A%A4-%ED%8C%A8%ED%84%B4-%EC%84%9C%EB%B9%84%EC%8A%A4-%EB%94%94%EC%8A%A4%EC%BB%A4%EB%B2%84%EB%A6%AC">https:&#x2F;&#x2F;velog.io&#x2F;@hoonki&#x2F;ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤-íŒ¨í„´-ì„œë¹„ìŠ¤-ë””ìŠ¤ì»¤ë²„ë¦¬</a></li></ul><h2 id="Service-Discovery-íŒ¨í„´ì´-ë“±ì¥í•˜ê²Œ-ëœ-ë°°ê²½"><a href="#Service-Discovery-íŒ¨í„´ì´-ë“±ì¥í•˜ê²Œ-ëœ-ë°°ê²½" class="headerlink" title="Service Discovery íŒ¨í„´ì´ ë“±ì¥í•˜ê²Œ ëœ ë°°ê²½"></a>Service Discovery íŒ¨í„´ì´ ë“±ì¥í•˜ê²Œ ëœ ë°°ê²½</h2><p>ê¸°ì¡´ ì„œë¹„ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ì˜ ê°œìˆ˜ì™€ IP ê°€ ê³ ì •ì ì´ì˜€ë˜ ì˜¨ í”„ë ˆë¯¸ìŠ¤ í™˜ê²½ê³¼ ë‹¬ë¦¬ MSA í™˜ê²½ì—ì„œëŠ” Application ë“¤ì´ AutoScaling ì„ í•˜ë©´ì„œ ë™ì ìœ¼ë¡œ ì¤„ì—ˆë‹¤ê°€ ëŠ˜ì–´ë‚˜ë©´ì„œ IP ìì²´ë„ ë™ì ìœ¼ë¡œ ë°”ë€Œê²Œ ëìŠµë‹ˆë‹¤.</p><p>Client ë‚˜ Gateway ì…ì¥ì—ì„œ ì„œë¹„ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ë“¤ì´ ë™ì ìœ¼ë¡œ ëŠ˜ì—ˆëŠ”ì§€ ì¤„ì—ˆëŠ”ì§€ì— ëŒ€í•œ íŒŒì•…ì„ í•˜ê¸°ê°€ ì–´ë ¤ìš´ ë¬¸ì œê°€ ìˆì—ˆê³  ê·¸ì— ë”°ë¥¸ LoadBalancing í•˜ëŠ”ë° ì–´ë ¤ì›€ì´ ìˆì—ˆìŠµë‹ˆë‹¤.</p><p>Service Discovery íŒ¨í„´ì—ì„œëŠ” Service EndPoint ë¥¼ ì¡°íšŒ ë° ê´€ë¦¬í•˜ê¸° ìœ„í•œ Service Registry ê°€ ìˆìŠµë‹ˆë‹¤. MSA ì˜ ê° ì„œë¹„ìŠ¤ë“¤ì€ Service Registry ì— ìì‹ ì˜ EndPoint ë“¤ì„ ë“±ë¡í•©ë‹ˆë‹¤.</p><p>Service EndPoint ë¥¼ ì ‘ê·¼í•˜ëŠ” ë°©ì‹ì— ë”°ë¼ ë‘ê°€ì§€ë¡œ ë‚˜ë‰˜ê²Œ ë©ë‹ˆë‹¤. ì²«ë²ˆì§¸ëŠ” <code>Client-Side Discovery</code>  ë‘ë²ˆì§¸ëŠ” <code>Server-Side Discovery</code> íŒ¨í„´ì´ ìˆìŠµë‹ˆë‹¤.</p><p><image src=/images/computer-science/network/http/before-service-discovery.png width=700><span class="caption">ì¶œì²˜: https://www.nginx.com/blog/service-discovery-in-a-microservices-architecture/</span></p><h2 id="Client-Side-Discovery"><a href="#Client-Side-Discovery" class="headerlink" title="Client Side Discovery"></a>Client Side Discovery</h2><p>MSA ë‚´ í•œ ì„œë¹„ìŠ¤ê°€ ë‹¤ë¥¸ ì„œë¹„ìŠ¤ë¥¼ í˜¸ì¶œí• ë•Œ Service Registry ë¡œ ë¶€í„° EndPoint ë¥¼ ì¡°íšŒí•œ í›„ í•´ë‹¹ ì„œë¹„ìŠ¤ë¥¼ í˜¸ì¶œí•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.</p><p><image src=/images/computer-science/network/http/client-side-discovery.png width=650><span class="caption">ì¶œì²˜: https://www.nginx.com/blog/service-discovery-in-a-microservices-architecture/</span></p><h2 id="Server-Side-Discovery"><a href="#Server-Side-Discovery" class="headerlink" title="Server Side Discovery"></a>Server Side Discovery</h2><p>Server Side Discovery íŒ¨í„´ì€ ê¸°ì¡´ Client Side Discovery ì™€ëŠ” ë‹¤ë¥´ê²Œ Service Registry ì•ì— <code>Load Balancer</code> ë¥¼ ë‘ëŠ” í˜•íƒœë¥¼ ë„ê³  ìˆìŠµë‹ˆë‹¤.</p><p>Server Side Discovery ëŠ” Client Side Discovery ì™€ ë‹¤ë¥´ê²Œ ê° ì„œë¹„ìŠ¤ê°„ì˜ í˜¸ì¶œì‹œì—ëŠ” Load Balancer ë¥¼ í†µí•´ í˜¸ì¶œì„ í•˜ê²Œ ë˜ê³  Load Balancer ê°€ Service Registry ì— ë“±ë¡ëœ EndPoint ë“¤ì„ í™•ì¸í•œ í›„ ë¼ìš°íŒ…í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.</p><p>Server Side Discovery íŒ¨í„´ì˜ ì¥ì ì€ ê°ê°ì˜ ì„œë¹„ìŠ¤ ë“¤ì—ê²Œ DNS ë¥¼ ë¶€ì—¬í•´ Domain ì´ë¦„ìœ¼ë¡œ í˜¸ì¶œí•  ìˆ˜ ìˆëŠ” ì¥ì ì´ ìˆê³  Client Side Discovery ì™€ëŠ” ë‹¬ë¦¬ ì„œë¹„ìŠ¤ í˜¸ì¶œì— Load Balancer ë¥¼ ê±°ì³ì•¼ í•˜ëŠ” ë¬¸ì œê°€ ìˆì–´ Network Hop ì´ ëŠ˜ì–´ë‚˜ëŠ” ë‹¨ì ì´ ìˆìŠµë‹ˆë‹¤.</p><p>ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œëŠ” Server Side Discovery ë¥¼ ì œê³µí•©ë‹ˆë‹¤.</p><p><img src="/images/computer-science/network/http/server-side-discovery.png" alt="ì¶œì²˜: https://www.nginx.com/blog/service-discovery-in-a-microservices-architecture/"></p>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/CS/">CS</category>
      
      <category domain="https://ckck803.github.io/categories/CS/Network/">Network</category>
      
      
      
      <comments>https://ckck803.github.io/2023/06/30/computer-science/network/ServiceDiscovery/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Spring Cloud - Eureka ì— Service ë“±ë¡í•˜ê¸°</title>
      <link>https://ckck803.github.io/2023/06/30/springboot/spring-cloud/service-discovery/spring-cloud-eureka-client/</link>
      <guid>https://ckck803.github.io/2023/06/30/springboot/spring-cloud/service-discovery/spring-cloud-eureka-client/</guid>
      <pubDate>Thu, 29 Jun 2023 18:31:31 GMT</pubDate>
      
        
        
      <description>&lt;h2 id=&quot;ëª©ì°¨&quot;&gt;&lt;a href=&quot;#ëª©ì°¨&quot; class=&quot;headerlink&quot; title=&quot;ëª©ì°¨&quot;&gt;&lt;/a&gt;ëª©ì°¨&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;/2023/06/30/springboot/spring-cloud/service-discovery/s</description>
        
      
      
      
      <content:encoded><![CDATA[<h2 id="ëª©ì°¨"><a href="#ëª©ì°¨" class="headerlink" title="ëª©ì°¨"></a>ëª©ì°¨</h2><ul><li><a href="/2023/06/30/springboot/spring-cloud/service-discovery/spring-cloud-eureka-client/" title="Spring Cloud - Eureka ì— Service ë“±ë¡í•˜ê¸°">Spring Cloud - Eureka ì— Service ë“±ë¡í•˜ê¸°</a></li><li><a href="/2023/06/30/springboot/spring-cloud/service-discovery/spring-cloud-eureka-server/" title="Spring Cloud - Service Discovery Server (Eureka)">Spring Cloud - Service Discovery Server (Eureka)</a></li></ul><h2 id="ì°¸ê³ "><a href="#ì°¸ê³ " class="headerlink" title="ì°¸ê³ "></a>ì°¸ê³ </h2><ul><li><a href="https://cloud.spring.io/spring-cloud-netflix/reference/html/">https://cloud.spring.io/spring-cloud-netflix/reference/html/</a></li><li><a href="https://coe.gitbook.io/guide/service-discovery/eureka">https://coe.gitbook.io/guide/service-discovery/eureka</a></li></ul><h2 id="Service-ë“±ë¡í•˜ê¸°"><a href="#Service-ë“±ë¡í•˜ê¸°" class="headerlink" title="Service ë“±ë¡í•˜ê¸°"></a>Service ë“±ë¡í•˜ê¸°</h2><figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line">implementation <span class="string">&#x27;org.springframework.cloud:spring-cloud-starter-netflix-eureka-client&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="EnableDiscoveryClient"><a href="#EnableDiscoveryClient" class="headerlink" title="@EnableDiscoveryClient"></a>@EnableDiscoveryClient</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@EnableDiscoveryClient</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserServiceApplication</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        SpringApplication.run(UserServiceApplication.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Eureka-ì„œë²„ì—-ë“±ë¡ì„-ìœ„í•œ-Properties-ì„¤ì •-ì¶”ê°€"><a href="#Eureka-ì„œë²„ì—-ë“±ë¡ì„-ìœ„í•œ-Properties-ì„¤ì •-ì¶”ê°€" class="headerlink" title="Eureka ì„œë²„ì— ë“±ë¡ì„ ìœ„í•œ Properties ì„¤ì • ì¶”ê°€"></a>Eureka ì„œë²„ì— ë“±ë¡ì„ ìœ„í•œ Properties ì„¤ì • ì¶”ê°€</h2><p><code>eureka.client.register-with-eureka</code> ê°’ì„ true ë¡œ ì¤Œìœ¼ë¡œì¨ Eureka ì„œë²„ì— ë“±ë¡í•˜ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤. </p><p>Service ë¥¼ ë“±ë¡í•˜ê¸° ìœ„í•´ <code>eureka.client.service-url.defaultZone</code> ë¥¼ ì´ìš©í•´ Eureka ì„œë²„ì˜ ì£¼ì†Œë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">client:</span></span><br><span class="line">    <span class="attr">register-with-eureka:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">fetch-registry:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">service-url:</span></span><br><span class="line">      <span class="attr">defaultZone:</span> <span class="string">http://localhost:8761/eureka</span></span><br></pre></td></tr></table></figure><h2 id="Eureka-Server-ì—-ë“±ë¡ëœ-Service-í™•ì¸í•˜ê¸°"><a href="#Eureka-Server-ì—-ë“±ë¡ëœ-Service-í™•ì¸í•˜ê¸°" class="headerlink" title="Eureka Server ì— ë“±ë¡ëœ Service í™•ì¸í•˜ê¸°"></a>Eureka Server ì— ë“±ë¡ëœ Service í™•ì¸í•˜ê¸°</h2><p><img src="/images/springboot/msa/eureka-server-client.png" alt="Service ë“±ë¡ í›„ Dashborad"></p>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Spring-Boot/">Spring Boot</category>
      
      <category domain="https://ckck803.github.io/categories/Spring-Boot/Spring-Cloud/">Spring Cloud</category>
      
      <category domain="https://ckck803.github.io/categories/Spring-Boot/Spring-Cloud/Service-Discovery/">Service Discovery</category>
      
      
      <category domain="https://ckck803.github.io/tags/Spring-Boot/">Spring Boot</category>
      
      
      <comments>https://ckck803.github.io/2023/06/30/springboot/spring-cloud/service-discovery/spring-cloud-eureka-client/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Spring Cloud - Service Discovery Server (Eureka)</title>
      <link>https://ckck803.github.io/2023/06/30/springboot/spring-cloud/service-discovery/spring-cloud-eureka-server/</link>
      <guid>https://ckck803.github.io/2023/06/30/springboot/spring-cloud/service-discovery/spring-cloud-eureka-server/</guid>
      <pubDate>Thu, 29 Jun 2023 17:31:31 GMT</pubDate>
      
        
        
      <description>&lt;h2 id=&quot;ëª©ì°¨&quot;&gt;&lt;a href=&quot;#ëª©ì°¨&quot; class=&quot;headerlink&quot; title=&quot;ëª©ì°¨&quot;&gt;&lt;/a&gt;ëª©ì°¨&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;/2023/06/30/springboot/spring-cloud/service-discovery/s</description>
        
      
      
      
      <content:encoded><![CDATA[<h2 id="ëª©ì°¨"><a href="#ëª©ì°¨" class="headerlink" title="ëª©ì°¨"></a>ëª©ì°¨</h2><ul><li><a href="/2023/06/30/springboot/spring-cloud/service-discovery/spring-cloud-eureka-client/" title="Spring Cloud - Eureka ì— Service ë“±ë¡í•˜ê¸°">Spring Cloud - Eureka ì— Service ë“±ë¡í•˜ê¸°</a></li><li><a href="/2023/06/30/springboot/spring-cloud/service-discovery/spring-cloud-eureka-server/" title="Spring Cloud - Service Discovery Server (Eureka)">Spring Cloud - Service Discovery Server (Eureka)</a></li></ul><h2 id="ì°¸ê³ "><a href="#ì°¸ê³ " class="headerlink" title="ì°¸ê³ "></a>ì°¸ê³ </h2><ul><li><a href="https://cloud.spring.io/spring-cloud-netflix/reference/html/">https://cloud.spring.io/spring-cloud-netflix/reference/html/</a></li><li><a href="https://coe.gitbook.io/guide/service-discovery/eureka">https://coe.gitbook.io/guide/service-discovery/eureka</a></li></ul><h2 id="ì‚¬ìš©í•˜ëŠ”-Spring-Cloud-ë²„ì „"><a href="#ì‚¬ìš©í•˜ëŠ”-Spring-Cloud-ë²„ì „" class="headerlink" title="ì‚¬ìš©í•˜ëŠ” Spring Cloud ë²„ì „"></a>ì‚¬ìš©í•˜ëŠ” Spring Cloud ë²„ì „</h2><figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line">plugins &#123;</span><br><span class="line">    id <span class="string">&#x27;org.springframework.boot&#x27;</span> version <span class="string">&#x27;2.4.5&#x27;</span></span><br><span class="line">    id <span class="string">&#x27;io.spring.dependency-management&#x27;</span> version <span class="string">&#x27;1.0.11.RELEASE&#x27;</span></span><br><span class="line">    id <span class="string">&#x27;java&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">group = <span class="string">&#x27;com.example&#x27;</span></span><br><span class="line">version = <span class="string">&#x27;0.0.1-SNAPSHOT&#x27;</span></span><br><span class="line">sourceCompatibility = <span class="string">&#x27;11&#x27;</span></span><br><span class="line"></span><br><span class="line">repositories &#123;</span><br><span class="line">    mavenCentral()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ext &#123;</span><br><span class="line">    set(<span class="string">&#x27;springCloudVersion&#x27;</span>, <span class="string">&quot;2020.0.2&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">dependencies &#123;</span><br><span class="line">    testImplementation <span class="string">&#x27;org.springframework.boot:spring-boot-starter-test&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">dependencyManagement &#123;</span><br><span class="line">    imports &#123;</span><br><span class="line">        mavenBom <span class="string">&quot;org.springframework.cloud:spring-cloud-dependencies:$&#123;springCloudVersion&#125;&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">test &#123;</span><br><span class="line">    useJUnitPlatform()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Spring-Cloud-Eureka"><a href="#Spring-Cloud-Eureka" class="headerlink" title="Spring Cloud Eureka"></a>Spring Cloud Eureka</h2><p>MSA (Micro Service Architecture) ì—ì„œëŠ” ê° ì„œë¹„ìŠ¤ë¥¼ ê´€ë¦¬í•˜ê¸° ìœ„í•´ì„œ Service Discovery Server ê°€ í•„ìš”í•©ë‹ˆë‹¤. Spring Cloud ì—ì„œëŠ” Service Discovery ë¥¼ ìœ„í•´ Eureka ë¥¼ ì‚¬ìš©í•œë‹¤.</p><h2 id="Discovery-Server-Eureka"><a href="#Discovery-Server-Eureka" class="headerlink" title="Discovery Server (Eureka)"></a>Discovery Server (Eureka)</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">implementation <span class="string">&#x27;org.springframework.cloud:spring-cloud-starter-netflix-eureka-server&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="EnableEurekaServer"><a href="#EnableEurekaServer" class="headerlink" title="@EnableEurekaServer"></a>@EnableEurekaServer</h2><p>Discovery Server ë¡œ ì‘ë™í•˜ê¸° ìœ„í•´ <code>@EnableEurekaServer</code> ì–´ë…¸í…Œì´ì…˜ì„ ì¶”ê°€í•˜ì—¬ Eureka Server ë¥¼ êµ¬ì„±í•©ë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@EnableEurekaServer</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DiscoveryServiceApplication</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        SpringApplication.run(DiscoveryServiceApplication.class, args);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Properties-ì„¤ì •-ì¶”ê°€"><a href="#Properties-ì„¤ì •-ì¶”ê°€" class="headerlink" title="Properties ì„¤ì • ì¶”ê°€"></a>Properties ì„¤ì • ì¶”ê°€</h2><ul><li><code>eureka.client.register-with-eureka</code><ul><li>ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì„œë²„ì— ë³¸ì¸ì„ ë“±ë¡í• ì§€ ì—¬ë¶€ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.</li></ul></li><li><code>eureka.client.fetch-registry</code><ul><li>ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì •ë³´ë¥¼ ê°€ì ¸ì˜¬ì§€ ì—¬ë¶€ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.</li></ul></li></ul><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">discoveryservice</span></span><br><span class="line"></span><br><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">client:</span></span><br><span class="line">    <span class="attr">register-with-eureka:</span> <span class="literal">false</span> </span><br><span class="line">    <span class="attr">fetch-registry:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><p><img src="/images/springboot/msa/eureka-server.png" alt="Eureka Server Dashboard"></p>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Spring-Boot/">Spring Boot</category>
      
      <category domain="https://ckck803.github.io/categories/Spring-Boot/Spring-Cloud/">Spring Cloud</category>
      
      <category domain="https://ckck803.github.io/categories/Spring-Boot/Spring-Cloud/Service-Discovery/">Service Discovery</category>
      
      
      <category domain="https://ckck803.github.io/tags/Spring-Boot/">Spring Boot</category>
      
      
      <comments>https://ckck803.github.io/2023/06/30/springboot/spring-cloud/service-discovery/spring-cloud-eureka-server/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Spring Batch - ë°°ì¹˜ ì„¤ì • (application.properties)</title>
      <link>https://ckck803.github.io/2023/06/28/springboot/spring-batch/spring-batch-batch-properties/</link>
      <guid>https://ckck803.github.io/2023/06/28/springboot/spring-batch/spring-batch-batch-properties/</guid>
      <pubDate>Wed, 28 Jun 2023 06:25:35 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;img src=&quot;/images/spring-batch/spring-batch.jpg&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;ë°°ì¹˜-ì¡ì˜-ì‹¤í–‰-ì—¬ë¶€ë¥¼-ì„¤ì •&quot;&gt;&lt;a href=&quot;#ë°°ì¹˜-ì¡ì˜-ì‹¤í–‰-ì—¬ë¶€ë¥¼-ì„¤ì •&quot; class=&quot;headerlink&quot; title=&quot;ë°°ì¹˜ ì¡ì˜</description>
        
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/spring-batch/spring-batch.jpg"></p><h2 id="ë°°ì¹˜-ì¡ì˜-ì‹¤í–‰-ì—¬ë¶€ë¥¼-ì„¤ì •"><a href="#ë°°ì¹˜-ì¡ì˜-ì‹¤í–‰-ì—¬ë¶€ë¥¼-ì„¤ì •" class="headerlink" title="ë°°ì¹˜ ì¡ì˜ ì‹¤í–‰ ì—¬ë¶€ë¥¼ ì„¤ì •"></a>ë°°ì¹˜ ì¡ì˜ ì‹¤í–‰ ì—¬ë¶€ë¥¼ ì„¤ì •</h2><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Spring Boot ê°€ ìë™ìœ¼ë¡œ ì‹¤í–‰ì‹œí‚¤ëŠ” Batch Job ì„ ì‹¤í–‰ì‹œí‚¤ë„ë¡ í•œë‹¤.</span></span><br><span class="line"><span class="attr">spring.batch.job.enabled:</span> <span class="literal">true</span> <span class="comment"># default</span></span><br><span class="line"><span class="comment"># Spring Boot ê°€ ìë™ìœ¼ë¡œ ì‹¤í–‰ì‹œí‚¤ëŠ” Batch Job ì„ ì‹¤í–‰í•˜ì§€ ì•Šë„ë¡ í•œë‹¤.</span></span><br><span class="line"><span class="attr">spring.batch.job.enabled:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><h2 id="ë°°ì¹˜-ì¡ì˜-ì¬ì‹œì‘-ì—¬ë¶€ë¥¼-ì„¤ì •"><a href="#ë°°ì¹˜-ì¡ì˜-ì¬ì‹œì‘-ì—¬ë¶€ë¥¼-ì„¤ì •" class="headerlink" title="ë°°ì¹˜ ì¡ì˜ ì¬ì‹œì‘ ì—¬ë¶€ë¥¼ ì„¤ì •"></a>ë°°ì¹˜ ì¡ì˜ ì¬ì‹œì‘ ì—¬ë¶€ë¥¼ ì„¤ì •</h2><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ê¸°ë³¸ì´ true, ì¬ì‹œì‘ì„ í—ˆìš©í•œë‹¤.</span></span><br><span class="line"><span class="attr">spring.batch.job.restartable:</span> <span class="literal">true</span></span><br><span class="line"><span class="comment"># ì¬ì‹œì‘ì„ í—ˆìš©í•˜ì§€ ì•ŠëŠ”ë‹¤</span></span><br><span class="line"><span class="attr">spring.batch.job.restartable:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><h2 id="ì‹¤í–‰í• -ë°°ì¹˜-ì¡ì˜-ì´ë¦„ì„-ì§€ì •"><a href="#ì‹¤í–‰í• -ë°°ì¹˜-ì¡ì˜-ì´ë¦„ì„-ì§€ì •" class="headerlink" title="ì‹¤í–‰í•  ë°°ì¹˜ ì¡ì˜ ì´ë¦„ì„ ì§€ì •"></a>ì‹¤í–‰í•  ë°°ì¹˜ ì¡ì˜ ì´ë¦„ì„ ì§€ì •</h2><p>ìŠ¤í”„ë§ ë°°ì¹˜ëŠ” ì‹¤í–‰ì‹œ ê¸°ë³¸ì ìœ¼ë¡œ ëª¨ë“  Job ì„ ì‹¤í–‰ì‹œí‚µë‹ˆë‹¤. <code>spring.batch.job.names</code> ë¥¼ ì´ìš©í•´ ì§€ì • Job ë§Œ ì‹¤í–‰í•˜ë„ë¡ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. </p><p>í”„ë¡œê·¸ë¨ ì‹¤í–‰ì‹œ íŠ¹ì • Job ì„ ì „ë‹¬ë°›ì•„ ì‹¤í–‰ì‹œí‚¤ê³  ì‹¶ì„ ê²½ìš° <code>spring.batch.job.names: $&#123;job.name:NONE&#125;</code> ë¡œ ì„¤ì •í•˜ë©´ ì™¸ë¶€ì—ì„œ ì£¼ì…ë°›ì€ Job ì´ë¦„ì„ ì´ìš©í•´ ì‹¤í–‰ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë§Œì¼ ì „ë‹¬ë°›ì€ ê°’ì´ ì—†ìœ¼ë©´ ì•„ë¬´ Job ë„ ì‹¤í–‰ì‹œí‚¤ì§€ ì•ŠìŠµë‹ˆë‹¤.</p><p><code>:NONE</code> ì€ í”„ë¡œí¼í‹° í‘œí˜„ ì¤‘ í•˜ë‚˜ë¡œ ì „ë‹¬ë°›ì€ ê°’ì´ ì—†ì„ ê²½ìš° NONE ìœ¼ë¡œ ëŒ€ì²´í•œë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤.</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Hard Coding ë°©ì‹</span></span><br><span class="line"><span class="attr">spring.batch.job.names:</span> <span class="string">springJob1</span></span><br><span class="line"><span class="comment"># Binding ì„ ì‚¬ìš©í•œ ë°©ì‹</span></span><br><span class="line"><span class="attr">spring.batch.job.names:</span> <span class="string">$&#123;job.name:NONE&#125;</span> </span><br></pre></td></tr></table></figure><h4 id="ì‹¤í–‰ì‹œí‚¬-Job-ì„-ì§€ì •í•˜ëŠ”-ë°©ë²•"><a href="#ì‹¤í–‰ì‹œí‚¬-Job-ì„-ì§€ì •í•˜ëŠ”-ë°©ë²•" class="headerlink" title="ì‹¤í–‰ì‹œí‚¬ Job ì„ ì§€ì •í•˜ëŠ” ë°©ë²•"></a>ì‹¤í–‰ì‹œí‚¬ Job ì„ ì§€ì •í•˜ëŠ” ë°©ë²•</h4><ul><li>ì–´í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ì‹œ Program arguments ë¡œ Job ì´ë¦„ ì…ë ¥í•œë‹¤.<ul><li><code>--job.name=helloJob</code></li></ul></li><li>í•˜ë‚˜ ì´ìƒì˜ Job ì„ ì‹¤í–‰í•  ê²½ìš° ì‰¼í‘œë¡œ êµ¬ë¶„í•´ì„œ ì…ë ¥ í•œë‹¤.<ul><li><code>--job.name=helloJob,simpleJob</code></li></ul></li></ul><p>ì–´í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ì‹œì ì— Argument ë¡œ ë„˜ê²¨ì„œ Binding ë˜ë„ë¡ í•œë‹¤.</p><p><image src=/images/spring-batch/ch4/job_name_properties.png width=750><span class="caption">ì¸í…”ë¦¬ì œì´ì—ì„œ Program Argument ë¥¼ ì´ìš©í•œ Job ì‹¤í–‰</span></p><h2 id="ë°°ì¹˜-ë©”íƒ€-ë°ì´í„°-ì €ì¥ì„-ìœ„í•œ-í…Œì´ë¸”-ìŠ¤í‚¤ë§ˆ-ìë™-ìƒì„±ì—¬ë¶€ë¥¼-ì„¤ì •"><a href="#ë°°ì¹˜-ë©”íƒ€-ë°ì´í„°-ì €ì¥ì„-ìœ„í•œ-í…Œì´ë¸”-ìŠ¤í‚¤ë§ˆ-ìë™-ìƒì„±ì—¬ë¶€ë¥¼-ì„¤ì •" class="headerlink" title="ë°°ì¹˜ ë©”íƒ€ ë°ì´í„° ì €ì¥ì„ ìœ„í•œ í…Œì´ë¸” ìŠ¤í‚¤ë§ˆ ìë™ ìƒì„±ì—¬ë¶€ë¥¼ ì„¤ì •"></a>ë°°ì¹˜ ë©”íƒ€ ë°ì´í„° ì €ì¥ì„ ìœ„í•œ í…Œì´ë¸” ìŠ¤í‚¤ë§ˆ ìë™ ìƒì„±ì—¬ë¶€ë¥¼ ì„¤ì •</h2><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring.batch.jdbc.initialize-schema:</span> <span class="string">always</span></span><br><span class="line"><span class="attr">spring.batch.jdbc.initialize-schema:</span> <span class="string">embedded</span> <span class="comment"># default</span></span><br><span class="line"><span class="attr">spring.batch.jdbc.initialize-schema:</span> <span class="string">never</span></span><br></pre></td></tr></table></figure><h2 id="ë°°ì¹˜-ì¡ì—ì„œ-ìƒì„±ë˜ëŠ”-ë©”íƒ€-ë°ì´í„°-í…Œì´ë¸”-Prefix-ë¥¼-ì„¤ì •"><a href="#ë°°ì¹˜-ì¡ì—ì„œ-ìƒì„±ë˜ëŠ”-ë©”íƒ€-ë°ì´í„°-í…Œì´ë¸”-Prefix-ë¥¼-ì„¤ì •" class="headerlink" title="ë°°ì¹˜ ì¡ì—ì„œ ìƒì„±ë˜ëŠ” ë©”íƒ€ ë°ì´í„° í…Œì´ë¸” Prefix ë¥¼ ì„¤ì •"></a>ë°°ì¹˜ ì¡ì—ì„œ ìƒì„±ë˜ëŠ” ë©”íƒ€ ë°ì´í„° í…Œì´ë¸” Prefix ë¥¼ ì„¤ì •</h2><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring.batch.jdbc.table-prefix:</span>  <span class="string">DEMO</span></span><br></pre></td></tr></table></figure><h2 id="ë°°ì¹˜-ì¡ì—ì„œ-í—ˆìš©í•˜ëŠ”-ì‹¤íŒ¨-íšŸìˆ˜ë¥¼-ì„¤ì •"><a href="#ë°°ì¹˜-ì¡ì—ì„œ-í—ˆìš©í•˜ëŠ”-ì‹¤íŒ¨-íšŸìˆ˜ë¥¼-ì„¤ì •" class="headerlink" title="ë°°ì¹˜ ì¡ì—ì„œ í—ˆìš©í•˜ëŠ” ì‹¤íŒ¨ íšŸìˆ˜ë¥¼ ì„¤ì •"></a>ë°°ì¹˜ ì¡ì—ì„œ í—ˆìš©í•˜ëŠ” ì‹¤íŒ¨ íšŸìˆ˜ë¥¼ ì„¤ì •</h2><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ë°°ì¹˜ ì¡ì—ì„œ í—ˆìš©í•˜ëŠ” ì‹¤íŒ¨ íšŸìˆ˜ë¥¼ ì„¤ì •í•œë‹¤. default: 3</span></span><br><span class="line"><span class="attr">spring.batch.job.failures-allowed:</span> <span class="number">3</span> </span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Spring-Boot/">Spring Boot</category>
      
      <category domain="https://ckck803.github.io/categories/Spring-Boot/Spring-Batch/">Spring Batch</category>
      
      
      
      <comments>https://ckck803.github.io/2023/06/28/springboot/spring-batch/spring-batch-batch-properties/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>ì¿ ë²„ë„¤í‹°ìŠ¤ - ServiceAccount</title>
      <link>https://ckck803.github.io/2023/06/11/k8s/config/ServiceAccount/</link>
      <guid>https://ckck803.github.io/2023/06/11/k8s/config/ServiceAccount/</guid>
      <pubDate>Sun, 11 Jun 2023 01:31:46 GMT</pubDate>
      
        
        
      <description>&lt;!-- ![](/images/k8s/helm/helm.png) --&gt;

&lt;p&gt;&lt;img src=&quot;/images/k8s/k8s.png&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;ëª©ì°¨&quot;&gt;&lt;a href=&quot;#ëª©ì°¨&quot; class=&quot;headerlink&quot; title=&quot;ëª©ì°¨&quot;&gt;&lt;/a&gt;</description>
        
      
      
      
      <content:encoded><![CDATA[<!-- ![](/images/k8s/helm/helm.png) --><p><img src="/images/k8s/k8s.png"></p><h2 id="ëª©ì°¨"><a href="#ëª©ì°¨" class="headerlink" title="ëª©ì°¨"></a>ëª©ì°¨</h2><ul><li><a href="/2023/05/07/k8s/secret/" title="ì¿ ë²„ë„¤í‹°ìŠ¤ - Secret">ì¿ ë²„ë„¤í‹°ìŠ¤ - Secret</a></li><li><a href="/2023/05/07/k8s/configmap/" title="ì¿ ë²„ë„¤í‹°ìŠ¤ - ConfigMap">ì¿ ë²„ë„¤í‹°ìŠ¤ - ConfigMap</a></li><li><a href="/2023/02/19/k8s/namespace/namespace/" title="ì¿ ë²„ë„¤í‹°ìŠ¤ - Namespace">ì¿ ë²„ë„¤í‹°ìŠ¤ - Namespace</a></li><li><a href="/2023/02/12/k8s/ingress/ingress/" title="ì¿ ë²„ë„¤í‹°ìŠ¤ - Ingress">ì¿ ë²„ë„¤í‹°ìŠ¤ - Ingress</a></li><li><a href="#">Post not found: k8s/deployment/deployment</a></li><li><a href="#">Post not found: k8s/replicaset/replicaset</a></li><li><a href="/2023/02/08/k8s/node/node/" title="ì¿ ë²„ë„¤í‹°ìŠ¤ - Node">ì¿ ë²„ë„¤í‹°ìŠ¤ - Node</a></li><li><a href="/2023/02/08/k8s/pod/pod/" title="ì¿ ë²„ë„¤í‹°ìŠ¤ - Pod">ì¿ ë²„ë„¤í‹°ìŠ¤ - Pod</a></li><li><a href="/2023/05/07/k8s/data_plane/" title="ì¿ ë²„ë„¤í‹°ìŠ¤ - Data Plane">ì¿ ë²„ë„¤í‹°ìŠ¤ - Data Plane</a></li><li><a href="/2023/05/07/k8s/control_plane/" title="ì¿ ë²„ë„¤í‹°ìŠ¤ - Control Plane">ì¿ ë²„ë„¤í‹°ìŠ¤ - Control Plane</a></li><li><a href="#">Post not found: k8s/k8s</a></li></ul><h2 id="ì°¸ê³ "><a href="#ì°¸ê³ " class="headerlink" title="ì°¸ê³ "></a>ì°¸ê³ </h2><ul><li><a href="https://findstar.pe.kr/2023/04/09/access-k8s-api-from-pod/">https://findstar.pe.kr/2023/04/09/access-k8s-api-from-pod/</a></li><li><a href="https://kubernetes.io/docs/tasks/configure-pod-container/configure-service-account/">https://kubernetes.io/docs/tasks/configure-pod-container/configure-service-account/</a></li><li><a href="https://kubernetes.io/ko/docs/reference/access-authn-authz/service-accounts-admin/">https://kubernetes.io/ko/docs/reference/access-authn-authz/service-accounts-admin/</a></li></ul><h2 id="ServiceAccount"><a href="#ServiceAccount" class="headerlink" title="ServiceAccount"></a>ServiceAccount</h2><blockquote><p>ServiceAccount ëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ API ì„œë²„ì™€ í†µì‹ í•˜ê³  í´ëŸ¬ìŠ¤í„° ë‚´ì˜ ë‹¤ë¥¸ ë¦¬ì†ŒìŠ¤ì— ì ‘ê·¼í•˜ê¸° ìœ„í•œ ì¸ì¦ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.</p></blockquote><!-- ServiceAccountëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ API ì„œë²„ì™€ í†µì‹ í•˜ê³  í´ëŸ¬ìŠ¤í„° ë‚´ì˜ ë‹¤ë¥¸ ë¦¬ì†ŒìŠ¤ì— ì ‘ê·¼í•˜ê¸° ìœ„í•œ ì¸ì¦ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.ServiceAccount ëŠ” Pod ì—ì„œ í´ëŸ¬ìŠ¤í„°ë¥¼ ì¡°ì‘í•˜ê³  ì‹¶ì„ ê²½ìš° kube-apiserver ì— ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ë„ë¡ ê¶Œí•œì„ ë¶€ì—¬í•˜ëŠ” ë¦¬ì†ŒìŠ¤ì…ë‹ˆë‹¤.ì¼ë°˜ì ìœ¼ë¡œ ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ Podë¼ëŠ” ë‹¨ìœ„ë¡œ ì‹¤í–‰ë©ë‹ˆë‹¤. Pod ë‚´ë¶€ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ServiceAccountë¥¼ ì‚¬ìš©í•˜ì—¬ í´ëŸ¬ìŠ¤í„° ë‚´ì˜ ë‹¤ë¥¸ ë¦¬ì†ŒìŠ¤ì™€ ìƒí˜¸ ì‘ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê° PodëŠ” ìì²´ì ìœ¼ë¡œ ê³ ìœ í•œ ServiceAccountë¥¼ ê°€ì§ˆ ìˆ˜ ìˆìœ¼ë©°, ì´ë¥¼ í†µí•´ í•´ë‹¹ Podì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ í´ëŸ¬ìŠ¤í„° ë¦¬ì†ŒìŠ¤ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ê¶Œí•œì„ ë¶€ì—¬ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.ServiceAccountëŠ” í´ëŸ¬ìŠ¤í„° ë‚´ì—ì„œ ì‚¬ìš©ì ê³„ì •ê³¼ ë™ì¼í•œ ì—­í• ì„ í•©ë‹ˆë‹¤. ì¦‰, ê° ServiceAccountëŠ” í´ëŸ¬ìŠ¤í„° ë‚´ì—ì„œ ê³ ìœ í•œ ì‹ë³„ìë¥¼ ê°€ì§€ê³  ìˆìœ¼ë©°, í•´ë‹¹ ServiceAccountì—ëŠ” ë¡¤(Role) ë˜ëŠ” í´ëŸ¬ìŠ¤í„° ë¡¤(ClusterRole)ì´ í• ë‹¹ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¡¤ ë° í´ëŸ¬ìŠ¤í„° ë¡¤ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ëŒ€í•œ íŠ¹ì • ì‘ì—…(ì˜ˆ: ë¦¬ì†ŒìŠ¤ ìƒì„±, ìˆ˜ì •, ì‚­ì œ)ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ” ê¶Œí•œì„ ì •ì˜í•©ë‹ˆë‹¤.ServiceAccountëŠ” Podë¥¼ ìƒì„±í•  ë•Œ ìë™ìœ¼ë¡œ ìƒì„±ë˜ë©°, Podì˜ specì— ServiceAccount ì´ë¦„ì„ ëª…ì‹œí•˜ì—¬ íŠ¹ì • ServiceAccountë¥¼ í• ë‹¹í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ì´ í• ë‹¹ëœ ServiceAccountë¥¼ ì‚¬ìš©í•˜ì—¬ í´ëŸ¬ìŠ¤í„° ë‚´ì˜ ë¦¬ì†ŒìŠ¤ì— ì ‘ê·¼í•˜ê³  API í˜¸ì¶œì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. --><p>ServiceAccount ëŠ” Pod ê°€ Kubernetes API Server ì— ì¸ì¦ í•˜ê¸° ìœ„í•œ Account ì…ë‹ˆë‹¤. ë•Œë¬¸ì— Pod ë¥¼ ìƒì„±í• ë•Œ ServiceAccount ë¥¼ í• ë‹¹í•´ì•¼ í•˜ë©° ì§€ì •í•˜ì§€ ì•Šì„ ê²½ìš° <strong>default</strong> ê°€ ìë™ìœ¼ë¡œ í• ë‹¹ë©ë‹ˆë‹¤.</p><p>Rule ê³¼ RuleBinding ì„ ì´ìš©í•´ ServiceAccount ì— ê¶Œí•œì„ ë¶€ì—¬í•¨ìœ¼ë¡œì¨ Pod ê°€ ë‹¤ë¥¸ ë¦¬ì†ŒìŠ¤ì— ì ‘ê·¼í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤.</p><p>ServiceAccount ëŠ” Namespace ë‹¨ìœ„ë¡œ ìƒì„±ë˜ëŠ” ë¦¬ì†ŒìŠ¤ë©° ë‹¤ë¥¸ Namespace ì—ì„œ ì •ì˜ëœ ServiceAccount ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p><h2 id="ServiceAccount-ìƒì„±í•˜ê¸°"><a href="#ServiceAccount-ìƒì„±í•˜ê¸°" class="headerlink" title="ServiceAccount ìƒì„±í•˜ê¸°"></a>ServiceAccount ìƒì„±í•˜ê¸°</h2><p>ë§¤ë‹ˆí˜ìŠ¤íŠ¸ ë‚´ <code>kind: ServiceAccount</code> ë¥¼ ì‚¬ìš©í•˜ì—¬ ServiceAccountë¥¼ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">ServiceAccount</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">annotations:</span></span><br><span class="line">    <span class="attr">description:</span> <span class="string">ServiceAccount</span> <span class="string">ì—</span> <span class="string">ëŒ€í•œ</span> <span class="string">ì„¤ëª…</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">&lt;ServiceAccount</span> <span class="string">ì´ë¦„&gt;</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">&lt;ServiceAccount</span> <span class="string">ë¥¼</span> <span class="string">ì‚¬ìš©í• </span> <span class="string">Namespace&gt;</span> </span><br></pre></td></tr></table></figure><h2 id="Token-ìƒì„±"><a href="#Token-ìƒì„±" class="headerlink" title="Token ìƒì„±"></a>Token ìƒì„±</h2><p>v1.22 ì´ì „ ë²„ì „ì˜ ì¿ ë²„ë„¤í‹°ìŠ¤ ë²„ì „ì€ ì¿ ë²„ë„¤í‹°ìŠ¤ APIì— ì•¡ì„¸ìŠ¤í•˜ê¸° ìœ„í•œ ì¥ê¸° ìê²© ì¦ëª…ì„ ìë™ìœ¼ë¡œ ìƒì„±í–ˆë‹¤. ì´ ì´ì „ ë©”ì»¤ë‹ˆì¦˜ì€ ì‹¤í–‰ ì¤‘ì¸ íŒŒë“œì— ë§ˆìš´íŠ¸í•  ìˆ˜ ìˆëŠ” í† í° ì‹œí¬ë¦¿ì„ ìƒì„±í•˜ëŠ” ê²ƒì„ ê¸°ë°˜ìœ¼ë¡œ í–ˆë‹¤. ì¿ ë²„ë„¤í‹°ìŠ¤ v1.27ì„ í¬í•¨í•œ ìµœì‹  ë²„ì „ì—ì„œëŠ”, API ìê²© ì¦ëª…ì´ í† í°ë¦¬í€˜ìŠ¤íŠ¸ APIë¥¼ ì‚¬ìš©í•˜ì—¬ ì§ì ‘ íšë“ë˜ê³ , ì˜ˆìƒ ë³¼ë¥¨ì„ ì‚¬ìš©í•˜ì—¬ íŒŒë“œì— ë§ˆìš´íŠ¸ëœë‹¤. ì´ ë°©ë²•ì„ ì‚¬ìš©í•˜ì—¬ íšë“í•œ í† í°ì€ ìˆ˜ëª…ì´ ì œí•œë˜ì–´ ìˆìœ¼ë©°, ë§ˆìš´íŠ¸ëœ íŒŒë“œê°€ ì‚­ì œë˜ë©´ ìë™ìœ¼ë¡œ ë¬´íš¨í™”ëœë‹¤.</p><p>ì˜ˆë¥¼ ë“¤ì–´ ë§Œë£Œë˜ì§€ ì•ŠëŠ” í† í°ì´ í•„ìš”í•œ ê²½ìš° ì„œë¹„ìŠ¤ ì–´ì¹´ìš´íŠ¸ í† í° ì‹œí¬ë¦¿ì„ ìˆ˜ë™ìœ¼ë¡œ ìƒì„±í•  ìˆ˜ ìˆë‹¤. ê·¸ëŸ¬ë‚˜ ëŒ€ì‹  TokenRequest ì„œë¸Œë¦¬ì†ŒìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ APIì— ì•¡ì„¸ìŠ¤í•˜ê¸° ìœ„í•œ í† í°ì„ ì–»ëŠ” ê²ƒì„ ê¶Œì¥í•œë‹¤.</p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">kubectl create token &lt;ServiceAccount Name&gt;</span><br></pre></td></tr></table></figure><h2 id="Secret-ìƒì„±"><a href="#Secret-ìƒì„±" class="headerlink" title="Secret ìƒì„±"></a>Secret ìƒì„±</h2><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Secret</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">&lt;Secret</span> <span class="string">Name&gt;</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">mbc-add-dev</span></span><br><span class="line">  <span class="attr">annotations:</span></span><br><span class="line">    <span class="attr">kubernetes.io/service-account.name:</span> <span class="string">&lt;ServiceAccount</span> <span class="string">Name&gt;</span></span><br><span class="line"><span class="attr">type:</span> <span class="string">kubernetes.io/service-account-token</span></span><br></pre></td></tr></table></figure><h2 id="Rule"><a href="#Rule" class="headerlink" title="Rule"></a>Rule</h2><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">rbac.authorization.k8s.io/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Role</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">kubectl-prometheus-alertmanager-role</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">mbc-add-dev</span></span><br><span class="line"><span class="attr">rules:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">apiGroups:</span> </span><br><span class="line">  <span class="bullet">-</span> <span class="string">apps</span></span><br><span class="line">  <span class="attr">resourceNames:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">prometheus-alertmanager</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">alertmanager</span></span><br><span class="line">  <span class="attr">resources:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">statefulsets</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">statefulsets/scale</span></span><br><span class="line">  <span class="attr">verbs:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">get</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">patch</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">list</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">watch</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">update</span></span><br></pre></td></tr></table></figure><h2 id="RoleBinding"><a href="#RoleBinding" class="headerlink" title="RoleBinding"></a>RoleBinding</h2><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">rbac.authorization.k8s.io/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">RoleBinding</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">kubectl-prometheus-alertmanager-rolebinding</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">mbc-add-dev</span></span><br><span class="line"><span class="attr">roleRef:</span></span><br><span class="line">  <span class="attr">apiGroup:</span> <span class="string">rbac.authorization.k8s.io</span></span><br><span class="line">  <span class="attr">kind:</span> <span class="string">Role</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">&lt;Role</span> <span class="string">Name&gt;</span></span><br><span class="line"><span class="attr">subjects:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">kind:</span> <span class="string">ServiceAccount</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">&lt;Service</span> <span class="string">Account</span> <span class="string">Name&gt;</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">mbc-add-dev</span></span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Kubernetes/">Kubernetes</category>
      
      <category domain="https://ckck803.github.io/categories/Kubernetes/Config/">Config</category>
      
      
      
      <comments>https://ckck803.github.io/2023/06/11/k8s/config/ServiceAccount/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Istio - istioctl2</title>
      <link>https://ckck803.github.io/2023/05/26/k8s/istio/istio-istioctl2/</link>
      <guid>https://ckck803.github.io/2023/05/26/k8s/istio/istio-istioctl2/</guid>
      <pubDate>Thu, 25 May 2023 23:31:46 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;img src=&quot;/images/k8s/istio/istio.jpg&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;ëª©ì°¨&quot;&gt;&lt;a href=&quot;#ëª©ì°¨&quot; class=&quot;headerlink&quot; title=&quot;ëª©ì°¨&quot;&gt;&lt;/a&gt;ëª©ì°¨&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;/2023/05</description>
        
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/k8s/istio/istio.jpg"></p><h2 id="ëª©ì°¨"><a href="#ëª©ì°¨" class="headerlink" title="ëª©ì°¨"></a>ëª©ì°¨</h2><ul><li><a href="/2023/05/08/k8s/istio/istio-locality_load_balacing/" title="Istio - Locality Load Balancing (ì§€ì—­ ë¡œë“œ ë°¸ëŸ°ì‹±)">Istio - Locality Load Balancing (ì§€ì—­ ë¡œë“œ ë°¸ëŸ°ì‹±)</a></li><li><a href="/2023/05/08/k8s/istio/istio-injection/" title="Istio - Sidecar Injection">Istio - Sidecar Injection</a></li><li><a href="/2023/05/08/k8s/istio/istio-istioctl/" title="Istio - istioctl">Istio - istioctl</a></li><li><a href="/2023/05/08/k8s/istio/istio/" title="Istio ë€?">Istio ë€?</a></li></ul><h2 id="ê³µì‹-í™ˆí˜ì´ì§€"><a href="#ê³µì‹-í™ˆí˜ì´ì§€" class="headerlink" title="ê³µì‹ í™ˆí˜ì´ì§€"></a>ê³µì‹ í™ˆí˜ì´ì§€</h2><ul><li><a href="https://istio.io/latest/docs/setup/getting-started/">https://istio.io/latest/docs/setup/getting-started/</a></li></ul><h2 id="istioctl-ì„¤ì¹˜"><a href="#istioctl-ì„¤ì¹˜" class="headerlink" title="istioctl ì„¤ì¹˜"></a>istioctl ì„¤ì¹˜</h2><p>Mac ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš° HomeBrew ë¥¼ ì´ìš©í•´ istioctl ì„ ì„¤ì¹˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">brew install istioctl</span><br></pre></td></tr></table></figure><p>ë‹¤ë¥¸ OS ë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜ íŠ¹ì • ë²„ì „ì˜ Istio ë¥¼ ì‚¬ìš©í•˜ê³  ì‹¶ì€ ê²½ìš° ë‹¤ìŒê³¼ ê°™ì´ Istio ë²„ì „ì„ Setting í•œ í›„ í•´ë‹¹ ë²„ì „ì„ ë‚´ë ¤ë°›ì•„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> ISTIO_VERSION=1.14.5</span><br><span class="line">curl -L https://istio.io/downloadIstio | ISTIO_VERSION=<span class="variable">$ISTIO_VERSION</span> TARGET_ARCH=x86_64 sh -</span><br></pre></td></tr></table></figure><h2 id="Istio-Profile-ì„¤ì¹˜"><a href="#Istio-Profile-ì„¤ì¹˜" class="headerlink" title="Istio Profile ì„¤ì¹˜"></a>Istio Profile ì„¤ì¹˜</h2><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">istioctl install --<span class="built_in">set</span> profile=demo --<span class="built_in">set</span> hub=gcr.io/istio-release</span><br></pre></td></tr></table></figure><p><img src="/images/k8s/istio/tutorial/istio-demo2.png"></p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">kubectl apply -f samples/addons</span><br></pre></td></tr></table></figure><p><img src="/images/k8s/istio/tutorial/install-addons.png"></p><h4 id="ì„¤ì¹˜ëœ-Istio-Resource"><a href="#ì„¤ì¹˜ëœ-Istio-Resource" class="headerlink" title="ì„¤ì¹˜ëœ Istio Resource"></a>ì„¤ì¹˜ëœ Istio Resource</h4><p><img src="/images/k8s/istio/tutorial/addons-all-resources.png"></p><h2 id="Kiali"><a href="#Kiali" class="headerlink" title="Kiali"></a>Kiali</h2><p>ì™¸ë¶€ì—ì„œ ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ë„ë¡ Kiali Service ë¥¼ ClusterIP ì—ì„œ LoadBalancer ë¡œ ë³€ê²½í•©ë‹ˆë‹¤</p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">kubectl patch svc kiali -n istio-system -p <span class="string">&#x27;&#123;&quot;spec&quot;: &#123;&quot;type&quot;: &quot;LoadBalancer&quot;&#125;&#125;&#x27;</span></span><br></pre></td></tr></table></figure><!-- ![](/images/k8s/istio/tutorial/kiali-svc-patch.png) --><p>LoadBalancer ë¡œ ë³€ê²½ ë˜ë©´ì„œ <code>EXTERNAL-IP</code> ê°€ ì¶”ê°€ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><p><img src="/images/k8s/istio/tutorial/k9s-kiali-svc.png" alt="Kiali Service ì˜ EXTERNAL-IP í™•ì¸"></p><p>EXTERNAL-IP ë¥¼ ì´ìš©í•´ ì ‘ê·¼í•˜ë©´ Kiali Dashboard ë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><p><img src="/images/k8s/istio/tutorial/istio-kiali-dashboard2.png" alt="Kiali Dashboard"></p><h2 id="Jaeger"><a href="#Jaeger" class="headerlink" title="Jaeger"></a>Jaeger</h2><p>ì™¸ë¶€ì—ì„œ ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ë„ë¡ Jaeger Service ë¥¼ ClusterIP ì—ì„œ LoadBalancer ë¡œ ë³€ê²½í•©ë‹ˆë‹¤.</p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">kubectl patch svc tracing -n istio-system -p <span class="string">&#x27;&#123;&quot;spec&quot;: &#123;&quot;type&quot;: &quot;LoadBalancer&quot;&#125;&#125;&#x27;</span></span><br></pre></td></tr></table></figure><!-- ![](/images/k8s/istio/tutorial/jaeger-svc-patch.png) --><p>LoadBalancer ë¡œ ë³€ê²½ ë˜ë©´ì„œ <code>EXTERNAL-IP</code> ê°€ ì¶”ê°€ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p><p><img src="/images/k8s/istio/tutorial/k9s-jaeger-svc.png" alt="Jaeger Service ì˜ EXTERNAL-IP í™•ì¸"></p><p>EXTERNAL-IP ë¥¼ ì´ìš©í•´ ì ‘ê·¼í•˜ë©´ Jaeger Dashboard ë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><p><img src="/images/k8s/istio/tutorial/istio-jaeger-dashboard.png" alt="Jaeger Dashboard"></p><h2 id="Sidecar-Injection-ë°©ë²•"><a href="#Sidecar-Injection-ë°©ë²•" class="headerlink" title="Sidecar Injection ë°©ë²•"></a>Sidecar Injection ë°©ë²•</h2><ul><li><em><code>Istioctl kube-inject Command</code> ë¥¼ ì´ìš©í•˜ëŠ” ë°©ë²•</em></li></ul><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">kubectl apply -f &lt;(istioctl kube-inject -f Deployment.yml)</span><br></pre></td></tr></table></figure><ul><li><em>Namespace ì— <code>istio-injection</code> ì„ enabled ë¡œ ì„¤ì •í•˜ëŠ” ë°©ë²•</em></li></ul><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">kubectl label namespace tutorial istio-injection=enabled</span><br></pre></td></tr></table></figure><h2 id="Tutorial"><a href="#Tutorial" class="headerlink" title="Tutorial"></a>Tutorial</h2><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">kubectl create namespace tutorial</span><br></pre></td></tr></table></figure><p>Deployment ë¥¼ ì„¤ì¹˜ í• ë•Œ <code>istioctl kube-inject</code> ëª…ë ¹ì–´ë¥¼ í†µí•´ Istio Container ê°€ Pod ë‚´ì— ì„¤ì¹˜ë˜ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤.</p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">kubectl apply -f &lt;(istioctl kube-inject -f customer/kubernetes/Deployment.yml) -n tutorial</span><br><span class="line">kubectl create -f customer/kubernetes/Service.yml -n tutorial</span><br></pre></td></tr></table></figure><p>Pod ê°€ ìƒì„±ë ë•Œ ë‚´ë¶€ì— Istio Container ê°€ ìƒì„±ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><p><img src="/images/k8s/istio/tutorial/istio-customer.png" alt="customer Pod ì— ì„¤ì¹˜ëœ Container ëª©ë¡"></p><h4 id="Istio-Gateway-ì„¤ì¹˜-ë°-Customer-ì„œë¹„ìŠ¤-ë¼ìš°íŒ…-VirtualService-ì„¤ì •"><a href="#Istio-Gateway-ì„¤ì¹˜-ë°-Customer-ì„œë¹„ìŠ¤-ë¼ìš°íŒ…-VirtualService-ì„¤ì •" class="headerlink" title="Istio Gateway ì„¤ì¹˜ ë° Customer ì„œë¹„ìŠ¤ ë¼ìš°íŒ…(VirtualService) ì„¤ì •"></a>Istio Gateway ì„¤ì¹˜ ë° Customer ì„œë¹„ìŠ¤ ë¼ìš°íŒ…(VirtualService) ì„¤ì •</h4><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">apiVersion: networking.istio.io/v1alpha3</span><br><span class="line">kind: Gateway</span><br><span class="line">metadata:</span><br><span class="line">  name: customer-gateway</span><br><span class="line">spec:</span><br><span class="line">  selector:</span><br><span class="line">    istio: ingressgateway <span class="comment"># use istio default controller</span></span><br><span class="line">  servers:</span><br><span class="line">  - port:</span><br><span class="line">      number: 80</span><br><span class="line">      name: http</span><br><span class="line">      protocol: HTTP</span><br><span class="line">    hosts:</span><br><span class="line">    - <span class="string">&quot;*&quot;</span></span><br><span class="line">---</span><br><span class="line">apiVersion: networking.istio.io/v1alpha3</span><br><span class="line">kind: VirtualService</span><br><span class="line">metadata:</span><br><span class="line">  name: customer-gateway</span><br><span class="line">spec:</span><br><span class="line">  hosts:</span><br><span class="line">  - <span class="string">&quot;*&quot;</span></span><br><span class="line">  gateways:</span><br><span class="line">  - customer-gateway</span><br><span class="line">  http:</span><br><span class="line">  - match:</span><br><span class="line">    - uri:</span><br><span class="line">        prefix: /customer</span><br><span class="line">    rewrite:</span><br><span class="line">      uri: /</span><br><span class="line">    route:</span><br><span class="line">    - destination:</span><br><span class="line">        host: customer</span><br><span class="line">        port:</span><br><span class="line">          number: 8080</span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">kubectl apply -f customer/kubernetes/Gateway.yml -n tutorial</span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">kubectl apply -f &lt;(istioctl kube-inject -f preference/kubernetes/Deployment.yml) -n tutorial</span><br><span class="line">kubectl create -f preference/kubernetes/Service.yml -n tutorial</span><br><span class="line">kubectl apply -f &lt;(istioctl kube-inject -f recommendation/kubernetes/Deployment.yml) -n tutorial</span><br><span class="line">kubectl create -f recommendation/kubernetes/Service.yml -n tutorial</span><br></pre></td></tr></table></figure><h2 id="Istio-Traffic-Routing"><a href="#Istio-Traffic-Routing" class="headerlink" title="Istio - Traffic Routing"></a>Istio - Traffic Routing</h2><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">kubectl apply -f &lt;(istioctl kube-inject -f recommendation/kubernetes/Deployment-v2.yml) -n tutorial</span><br></pre></td></tr></table></figure><!-- ![](/images/k8s/istio/tutorial/deploy-2.png) --><p><img src="/images/k8s/istio/tutorial/deploy-v2.png"></p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">kubectl scale --replicas=2 deployment/recommendation-v2 -n tutorial</span><br><span class="line">kubectl get po -n tutorial</span><br></pre></td></tr></table></figure><p><img src="/images/k8s/istio/tutorial/scale-2.png"></p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">kubectl get VirtualService -n tutorial -o yaml</span><br><span class="line">kubectl get DestinationRule -n tutorial -o yaml</span><br></pre></td></tr></table></figure><h2 id="Istio-Timeout-Retry"><a href="#Istio-Timeout-Retry" class="headerlink" title="Istio Timeout &amp; Retry"></a>Istio Timeout &amp; Retry</h2><h4 id="Timeout-ì„¤ì •"><a href="#Timeout-ì„¤ì •" class="headerlink" title="Timeout ì„¤ì •"></a>Timeout ì„¤ì •</h4><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">kubectl apply -f - &lt;&lt;<span class="string">EOF</span></span><br><span class="line"><span class="string">    apiVersion: networking.istio.io/v1alpha3</span></span><br><span class="line"><span class="string">    kind: VirtualService</span></span><br><span class="line"><span class="string">    metadata:</span></span><br><span class="line"><span class="string">      name: vs-order-network-rule</span></span><br><span class="line"><span class="string">      namespace: tutorial</span></span><br><span class="line"><span class="string">    spec:</span></span><br><span class="line"><span class="string">      hosts:</span></span><br><span class="line"><span class="string">      - order</span></span><br><span class="line"><span class="string">      http:</span></span><br><span class="line"><span class="string">      - route:</span></span><br><span class="line"><span class="string">        - destination:</span></span><br><span class="line"><span class="string">            host: order</span></span><br><span class="line"><span class="string">        timeout: 3s</span></span><br><span class="line"><span class="string">EOF</span></span><br></pre></td></tr></table></figure><h4 id="Siege-ìƒì„±"><a href="#Siege-ìƒì„±" class="headerlink" title="Siege ìƒì„±"></a>Siege ìƒì„±</h4><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">kubectl apply -f - &lt;&lt;<span class="string">EOF</span></span><br><span class="line"><span class="string">apiVersion: v1</span></span><br><span class="line"><span class="string">kind: Pod</span></span><br><span class="line"><span class="string">metadata:</span></span><br><span class="line"><span class="string">  name: siege</span></span><br><span class="line"><span class="string">  namespace: tutorial</span></span><br><span class="line"><span class="string">spec:</span></span><br><span class="line"><span class="string">  containers:</span></span><br><span class="line"><span class="string">  - name: siege</span></span><br><span class="line"><span class="string">    image: apexacme/siege-nginx</span></span><br><span class="line"><span class="string">EOF</span></span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">kubectl <span class="built_in">exec</span> -it siege -c siege -n tutorial -- /bin/bash</span><br><span class="line">siege -c1 -t2S -v --content-type <span class="string">&quot;application/json&quot;</span> <span class="string">&#x27;http://order:8080/orders POST &#123;&quot;productId&quot;: &quot;1001&quot;, &quot;qty&quot;:5&#125;&#x27;</span></span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">siege -c30 -t20S -v --content-type <span class="string">&quot;application/json&quot;</span> <span class="string">&#x27;http://order:8080/orders POST &#123;&quot;productId&quot;: &quot;1001&quot;, &quot;qty&quot;:5&#125;&#x27;</span></span><br></pre></td></tr></table></figure><p><img src="/images/k8s/istio/tutorial/siege-kiali.png"></p><h4 id="Order-ì„œë¹„ìŠ¤ì—-â€˜Retryâ€™-Rule-ì¶”ê°€"><a href="#Order-ì„œë¹„ìŠ¤ì—-â€˜Retryâ€™-Rule-ì¶”ê°€" class="headerlink" title="Order ì„œë¹„ìŠ¤ì— â€˜Retryâ€™ Rule ì¶”ê°€"></a>Order ì„œë¹„ìŠ¤ì— â€˜Retryâ€™ Rule ì¶”ê°€</h4><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">kubectl apply -f - &lt;&lt;<span class="string">EOF</span></span><br><span class="line"><span class="string">  apiVersion: networking.istio.io/v1alpha3</span></span><br><span class="line"><span class="string">  kind: VirtualService</span></span><br><span class="line"><span class="string">  metadata:</span></span><br><span class="line"><span class="string">    name: vs-order-network-rule</span></span><br><span class="line"><span class="string">    namespace: tutorial</span></span><br><span class="line"><span class="string">  spec:</span></span><br><span class="line"><span class="string">    hosts:</span></span><br><span class="line"><span class="string">    - order</span></span><br><span class="line"><span class="string">    http:</span></span><br><span class="line"><span class="string">    - route:</span></span><br><span class="line"><span class="string">      - destination:</span></span><br><span class="line"><span class="string">          host: order</span></span><br><span class="line"><span class="string">      timeout: 3s</span></span><br><span class="line"><span class="string">      retries:</span></span><br><span class="line"><span class="string">        attempts: 3</span></span><br><span class="line"><span class="string">        perTryTimeout: 2s</span></span><br><span class="line"><span class="string">        retryOn: 5xx,retriable-4xx,gateway-error,connect-failure,refused-stream</span></span><br><span class="line"><span class="string">EOF</span></span><br></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">networking.k8s.io/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">&quot;Ingress&quot;</span></span><br><span class="line"><span class="attr">metadata:</span> </span><br><span class="line">  <span class="attr">name:</span> <span class="string">&quot;shopping-ingress&quot;</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">&quot;istio-system&quot;</span>  </span><br><span class="line">  <span class="attr">annotations:</span> </span><br><span class="line">    <span class="attr">nginx.ingress.kubernetes.io/ssl-redirect:</span> <span class="string">&quot;false&quot;</span></span><br><span class="line">    <span class="attr">ingressclass.kubernetes.io/is-default-class:</span> <span class="string">&quot;true&quot;</span></span><br><span class="line"><span class="attr">spec:</span> </span><br><span class="line">  <span class="attr">ingressClassName:</span> <span class="string">nginx</span></span><br><span class="line">  <span class="attr">rules:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">host:</span> <span class="string">&quot;kiali.service.com&quot;</span></span><br><span class="line">      <span class="attr">http:</span> </span><br><span class="line">        <span class="attr">paths:</span> </span><br><span class="line">          <span class="bullet">-</span> </span><br><span class="line">            <span class="attr">path:</span> <span class="string">/</span></span><br><span class="line">            <span class="attr">pathType:</span> <span class="string">Prefix</span></span><br><span class="line">            <span class="attr">backend:</span> </span><br><span class="line">              <span class="attr">service:</span></span><br><span class="line">                <span class="attr">name:</span> <span class="string">kiali</span></span><br><span class="line">                <span class="attr">port:</span></span><br><span class="line">                  <span class="attr">number:</span> <span class="number">20001</span></span><br><span class="line"></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">host:</span> <span class="string">&quot;prom.service.com&quot;</span></span><br><span class="line">      <span class="attr">http:</span> </span><br><span class="line">        <span class="attr">paths:</span> </span><br><span class="line">          <span class="bullet">-</span> </span><br><span class="line">            <span class="attr">path:</span> <span class="string">/</span></span><br><span class="line">            <span class="attr">pathType:</span> <span class="string">Prefix</span></span><br><span class="line">            <span class="attr">backend:</span> </span><br><span class="line">              <span class="attr">service:</span></span><br><span class="line">                <span class="attr">name:</span> <span class="string">prometheus</span></span><br><span class="line">                <span class="attr">port:</span></span><br><span class="line">                  <span class="attr">number:</span> <span class="number">9090</span></span><br><span class="line"></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">host:</span> <span class="string">&quot;gra.service.com&quot;</span></span><br><span class="line">      <span class="attr">http:</span> </span><br><span class="line">        <span class="attr">paths:</span> </span><br><span class="line">          <span class="bullet">-</span> </span><br><span class="line">            <span class="attr">path:</span> <span class="string">/</span></span><br><span class="line">            <span class="attr">pathType:</span> <span class="string">Prefix</span></span><br><span class="line">            <span class="attr">backend:</span> </span><br><span class="line">              <span class="attr">service:</span></span><br><span class="line">                <span class="attr">name:</span> <span class="string">grafana</span></span><br><span class="line">                <span class="attr">port:</span></span><br><span class="line">                  <span class="attr">number:</span> <span class="number">3000</span></span><br><span class="line"></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">host:</span> <span class="string">&quot;tracing.service.com&quot;</span></span><br><span class="line">      <span class="attr">http:</span> </span><br><span class="line">        <span class="attr">paths:</span> </span><br><span class="line">          <span class="bullet">-</span> </span><br><span class="line">            <span class="attr">path:</span> <span class="string">/</span></span><br><span class="line">            <span class="attr">pathType:</span> <span class="string">Prefix</span></span><br><span class="line">            <span class="attr">backend:</span> </span><br><span class="line">              <span class="attr">service:</span></span><br><span class="line">                <span class="attr">name:</span> <span class="string">tracing</span></span><br><span class="line">                <span class="attr">port:</span></span><br><span class="line">                  <span class="attr">number:</span> <span class="number">80</span></span><br></pre></td></tr></table></figure><h2 id="Prometheus-Grafanaê¸°ë°˜-K8s-í†µí•©-ëª¨ë‹ˆí„°ë§"><a href="#Prometheus-Grafanaê¸°ë°˜-K8s-í†µí•©-ëª¨ë‹ˆí„°ë§" class="headerlink" title="Prometheus&#x2F;Grafanaê¸°ë°˜ K8s í†µí•© ëª¨ë‹ˆí„°ë§"></a>Prometheus&#x2F;Grafanaê¸°ë°˜ K8s í†µí•© ëª¨ë‹ˆí„°ë§</h2><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">kubectl create ns shop</span><br><span class="line">kubectl label namespace shop istio-injection=enabled</span><br><span class="line">kubectl apply -f https://raw.githubusercontent.com/acmexii/demo/master/edu/order-liveness.yaml -n shop</span><br><span class="line">kubectl expose deploy order --port=8080 -n shop</span><br><span class="line">kubectl apply -f https://raw.githubusercontent.com/acmexii/demo/master/edu/delivery-rediness-v1.yaml -n shop</span><br><span class="line">kubectl expose deploy delivery --port=8080 -n shop</span><br><span class="line"><span class="comment"># Client Pod deploy</span></span><br><span class="line">kubectl apply -f https://raw.githubusercontent.com/acmexii/demo/master/edu/siege-pod.yaml -n shop</span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">kubectl patch service/prometheus -n istio-system -p <span class="string">&#x27;&#123;&quot;spec&quot;: &#123;&quot;type&quot;: &quot;LoadBalancer&quot;&#125;&#125;&#x27;</span></span><br></pre></td></tr></table></figure><p><img src="/images/k8s/istio/tutorial/prometheus-dashboard.png" alt="Prometheus Dashboard"></p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">kubectl patch service/grafana -n istio-system -p <span class="string">&#x27;&#123;&quot;spec&quot;: &#123;&quot;type&quot;: &quot;LoadBalancer&quot;&#125;&#125;&#x27;</span></span><br></pre></td></tr></table></figure><p><img src="/images/spring-framework/grafana-dashboard.png" alt="Grafana Dashboard"></p><h2 id="Istio-ì‚­ì œ-ë°©ë²•"><a href="#Istio-ì‚­ì œ-ë°©ë²•" class="headerlink" title="Istio ì‚­ì œ ë°©ë²•"></a>Istio ì‚­ì œ ë°©ë²•</h2><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> istio-<span class="variable">$ISTIO_VERSION</span></span><br><span class="line">kubectl delete -f samples/addons</span><br><span class="line">istioctl manifest generate --<span class="built_in">set</span> profile=demo | kubectl delete --ignore-not-found=<span class="literal">true</span> -f -</span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">kubectl delete namespace istio-system</span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Kubernetes/">Kubernetes</category>
      
      <category domain="https://ckck803.github.io/categories/Kubernetes/Istio/">Istio</category>
      
      
      
      <comments>https://ckck803.github.io/2023/05/26/k8s/istio/istio-istioctl2/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>ì¿ ë²„ë„¤í‹°ìŠ¤ - CustomResource</title>
      <link>https://ckck803.github.io/2023/05/18/k8s/CustomResource/CustomResource/</link>
      <guid>https://ckck803.github.io/2023/05/18/k8s/CustomResource/CustomResource/</guid>
      <pubDate>Thu, 18 May 2023 01:31:46 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;img src=&quot;/images/k8s/k8s.png&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;ì°¸ê³ &quot;&gt;&lt;a href=&quot;#ì°¸ê³ &quot; class=&quot;headerlink&quot; title=&quot;ì°¸ê³ &quot;&gt;&lt;/a&gt;ì°¸ê³ &lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://frozenpo</description>
        
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/k8s/k8s.png"></p><h2 id="ì°¸ê³ "><a href="#ì°¸ê³ " class="headerlink" title="ì°¸ê³ "></a>ì°¸ê³ </h2><ul><li><a href="https://frozenpond.tistory.com/111">https://frozenpond.tistory.com/111</a></li></ul><h2 id="CustomResource"><a href="#CustomResource" class="headerlink" title="CustomResource"></a>CustomResource</h2><p>Custom ResourceëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œ ì‚¬ìš©ìê°€ ì •ì˜í•œ ë¦¬ì†ŒìŠ¤ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. </p><p>ì´ëŠ” ì¼ë°˜ì ìœ¼ë¡œ í´ëŸ¬ìŠ¤í„° ë‚´ì— ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê¸°ë³¸ ë¦¬ì†ŒìŠ¤ì˜ ìƒˆë¡œìš´ ì¢…ë¥˜ë¥¼ ì •ì˜í•˜ê³ , ì´ë¥¼ í†µí•´ ì‚¬ìš©ìì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì— íŠ¹í™”ëœ ë™ì‘ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤. Custom Resource ëŠ” í´ëŸ¬ìŠ¤í„° ìƒíƒœì˜ ì¼ë¶€ë¡œì„œ ì¡´ì¬í•˜ë©°, ì¼ë°˜ì ì¸ ë¦¬ì†ŒìŠ¤ì™€ ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ ì¿ ë²„ë„¤í‹°ìŠ¤ APIë¥¼ í†µí•´ ì‘ë™í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì‚¬ìš©ìëŠ” Custom Resource ë¥¼ ìƒì„±, ì¡°íšŒ, ìˆ˜ì • ë° ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><p>Custom Resource ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ë¨¼ì € Custom Resource Definition(CRD) ì„ ì •ì˜í•´ì•¼ í•©ë‹ˆë‹¤. CRDëŠ” Custom Resource ì˜ ìŠ¤í‚¤ë§ˆë¥¼ ì„¤ëª…í•˜ëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ API ê°œì²´ì…ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ Custom Resource ì˜ êµ¬ì¡°, í•„ë“œ ë° ê¸°íƒ€ íŠ¹ì„±ì„ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. CRDëŠ” ì¼ì¢…ì˜ í…œí”Œë¦¿ìœ¼ë¡œì„œ, Custom Resource ì˜ ì •ì˜ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤. CRDë¥¼ ìƒì„±í•˜ë©´ ì¿ ë²„ë„¤í‹°ìŠ¤ API ì„œë²„ê°€ ìƒˆë¡œìš´ Custom Resource íƒ€ì…ì„ ì´í•´í•˜ê³  ì²˜ë¦¬í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.</p><p>Custom Resource Definition ì„ ì‘ì„±í•œ í›„, ì‚¬ìš©ìëŠ” í•´ë‹¹ ì •ì˜ë¥¼ ì‚¬ìš©í•˜ì—¬ Custom Resource ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ê³  ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. Custom Resource ì¸ìŠ¤í„´ìŠ¤ëŠ” ì¼ë°˜ì ìœ¼ë¡œ YAML ë˜ëŠ” JSON í˜•ì‹ìœ¼ë¡œ ì •ì˜ë˜ë©°, í´ëŸ¬ìŠ¤í„°ì— ë°°í¬ë©ë‹ˆë‹¤. ì´í›„ Custom Resource ëŠ” í´ëŸ¬ìŠ¤í„° ë‚´ì—ì„œ ë‹¤ë¥¸ ë¦¬ì†ŒìŠ¤ì™€ ìœ ì‚¬í•˜ê²Œ ë‹¤ë£° ìˆ˜ ìˆìœ¼ë©°, ì‚¬ìš©ìëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ APIë¥¼ ì‚¬ìš©í•˜ì—¬ Custom Resource ë¥¼ ì¡°ì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><p>Custom Resource ì™€ Custom Resource Definition ì€ ì¿ ë²„ë„¤í‹°ìŠ¤ì˜ í™•ì¥ì„±ê³¼ ìœ ì—°ì„±ì„ ë†’ì—¬ì¤ë‹ˆë‹¤. ì‚¬ìš©ìëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ APIë¥¼ í†µí•´ ê³ ìœ í•œ ë¦¬ì†ŒìŠ¤ ìœ í˜•ì„ ì •ì˜í•˜ê³  ì œì–´í•  ìˆ˜ ìˆìœ¼ë©°, ì´ë¥¼ í†µí•´ ìì‹ ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë”ìš± ì‰½ê²Œ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><p><img src="/images/k8s/helm-delete-crd.png"></p><p><img src="/images/k8s/helm-install-crd.png"></p><h2 id="CustomResourceDefinition"><a href="#CustomResourceDefinition" class="headerlink" title="CustomResourceDefinition"></a>CustomResourceDefinition</h2><p><code>apiVersion: apiextensions.k8s.io/v1</code> ë¥¼ ì´ìš©í•´ CustomResourceDefinition ì„ ìƒì„±í•  ìˆ˜ ìˆë‹¤.</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">apiextensions.k8s.io/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">CustomResourceDefinition</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="comment"># name must match the spec fields below, and be in the form: &lt;plural&gt;.&lt;group&gt;</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">crontabs.stable.example.com</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="comment"># group name to use for REST API: /apis/&lt;group&gt;/&lt;version&gt;</span></span><br><span class="line">  <span class="attr">group:</span> <span class="string">stable.example.com</span></span><br><span class="line">  <span class="comment"># list of versions supported by this CustomResourceDefinition</span></span><br><span class="line">  <span class="attr">versions:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">v1</span></span><br><span class="line">      <span class="comment"># Each version can be enabled/disabled by Served flag.</span></span><br><span class="line">      <span class="attr">served:</span> <span class="literal">true</span></span><br><span class="line">      <span class="comment"># One and only one version must be marked as the storage version.</span></span><br><span class="line">      <span class="attr">storage:</span> <span class="literal">true</span></span><br><span class="line">      <span class="attr">schema:</span></span><br><span class="line">        <span class="attr">openAPIV3Schema:</span></span><br><span class="line">          <span class="attr">type:</span> <span class="string">object</span></span><br><span class="line">          <span class="attr">properties:</span></span><br><span class="line">            <span class="attr">spec:</span></span><br><span class="line">              <span class="attr">type:</span> <span class="string">object</span></span><br><span class="line">              <span class="attr">properties:</span></span><br><span class="line">                <span class="attr">cronSpec:</span></span><br><span class="line">                  <span class="attr">type:</span> <span class="string">string</span></span><br><span class="line">                <span class="attr">image:</span></span><br><span class="line">                  <span class="attr">type:</span> <span class="string">string</span></span><br><span class="line">                <span class="attr">replicas:</span></span><br><span class="line">                  <span class="attr">type:</span> <span class="string">integer</span></span><br><span class="line">  <span class="comment"># either Namespaced or Cluster</span></span><br><span class="line">  <span class="attr">scope:</span> <span class="string">Namespaced</span></span><br><span class="line">  <span class="attr">names:</span></span><br><span class="line">    <span class="comment"># plural name to be used in the URL: /apis/&lt;group&gt;/&lt;version&gt;/&lt;plural&gt;</span></span><br><span class="line">    <span class="attr">plural:</span> <span class="string">crontabs</span></span><br><span class="line">    <span class="comment"># singular name to be used as an alias on the CLI and for display</span></span><br><span class="line">    <span class="attr">singular:</span> <span class="string">crontab</span></span><br><span class="line">    <span class="comment"># kind is normally the CamelCased singular type. Your resource manifests use this.</span></span><br><span class="line">    <span class="attr">kind:</span> <span class="string">CronTab</span></span><br><span class="line">    <span class="comment"># shortNames allow shorter string to match your resource on the CLI</span></span><br><span class="line">    <span class="attr">shortNames:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">ct</span></span><br></pre></td></tr></table></figure><h2 id="Kubernetes-Operator"><a href="#Kubernetes-Operator" class="headerlink" title="Kubernetes Operator"></a>Kubernetes Operator</h2>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Kubernetes/">Kubernetes</category>
      
      <category domain="https://ckck803.github.io/categories/Kubernetes/Custom/">Custom</category>
      
      
      
      <comments>https://ckck803.github.io/2023/05/18/k8s/CustomResource/CustomResource/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>ì¿ ë²„ë„¤í‹°ìŠ¤ - CA (Cluster Autoscaler)</title>
      <link>https://ckck803.github.io/2023/05/18/k8s/autoscaler/ca/</link>
      <guid>https://ckck803.github.io/2023/05/18/k8s/autoscaler/ca/</guid>
      <pubDate>Thu, 18 May 2023 01:31:46 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;img src=&quot;/images/k8s/k8s.png&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;ëª©ì°¨&quot;&gt;&lt;a href=&quot;#ëª©ì°¨&quot; class=&quot;headerlink&quot; title=&quot;ëª©ì°¨&quot;&gt;&lt;/a&gt;ëª©ì°¨&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;/2023/05/18/k8s/</description>
        
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/k8s/k8s.png"></p><h2 id="ëª©ì°¨"><a href="#ëª©ì°¨" class="headerlink" title="ëª©ì°¨"></a>ëª©ì°¨</h2><ul><li><a href="/2023/05/18/k8s/deployment/hpa/" title="ì¿ ë²„ë„¤í‹°ìŠ¤ - HPA (Horizontal Pod Autoscaler)">ì¿ ë²„ë„¤í‹°ìŠ¤ - HPA (Horizontal Pod Autoscaler)</a></li><li><a href="/2023/02/19/k8s/namespace/namespace/" title="ì¿ ë²„ë„¤í‹°ìŠ¤ - Namespace">ì¿ ë²„ë„¤í‹°ìŠ¤ - Namespace</a></li><li><a href="/2023/02/12/k8s/ingress/ingress/" title="ì¿ ë²„ë„¤í‹°ìŠ¤ - Ingress">ì¿ ë²„ë„¤í‹°ìŠ¤ - Ingress</a></li><li><a href="#">Post not found: k8s/deployment/deployment</a></li><li><a href="#">Post not found: k8s/replicaset/replicaset</a></li><li><a href="/2023/02/08/k8s/node/node/" title="ì¿ ë²„ë„¤í‹°ìŠ¤ - Node">ì¿ ë²„ë„¤í‹°ìŠ¤ - Node</a></li><li><a href="/2023/02/08/k8s/pod/pod/" title="ì¿ ë²„ë„¤í‹°ìŠ¤ - Pod">ì¿ ë²„ë„¤í‹°ìŠ¤ - Pod</a></li><li><a href="#">Post not found: k8s/k8s</a></li></ul><h2 id="CA"><a href="#CA" class="headerlink" title="CA"></a>CA</h2>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Kubernetes/">Kubernetes</category>
      
      <category domain="https://ckck803.github.io/categories/Kubernetes/Autoscaler/">Autoscaler</category>
      
      
      
      <comments>https://ckck803.github.io/2023/05/18/k8s/autoscaler/ca/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>ì¿ ë²„ë„¤í‹°ìŠ¤ - VPA (Vertical Pod Autoscaler)</title>
      <link>https://ckck803.github.io/2023/05/18/k8s/autoscaler/vpa/</link>
      <guid>https://ckck803.github.io/2023/05/18/k8s/autoscaler/vpa/</guid>
      <pubDate>Wed, 17 May 2023 22:31:46 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;img src=&quot;/images/k8s/k8s.png&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;ëª©ì°¨&quot;&gt;&lt;a href=&quot;#ëª©ì°¨&quot; class=&quot;headerlink&quot; title=&quot;ëª©ì°¨&quot;&gt;&lt;/a&gt;ëª©ì°¨&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;/2023/05/18/k8s/</description>
        
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/k8s/k8s.png"></p><h2 id="ëª©ì°¨"><a href="#ëª©ì°¨" class="headerlink" title="ëª©ì°¨"></a>ëª©ì°¨</h2><ul><li><a href="/2023/05/18/k8s/deployment/hpa/" title="ì¿ ë²„ë„¤í‹°ìŠ¤ - HPA (Horizontal Pod Autoscaler)">ì¿ ë²„ë„¤í‹°ìŠ¤ - HPA (Horizontal Pod Autoscaler)</a></li><li><a href="/2023/02/19/k8s/namespace/namespace/" title="ì¿ ë²„ë„¤í‹°ìŠ¤ - Namespace">ì¿ ë²„ë„¤í‹°ìŠ¤ - Namespace</a></li><li><a href="/2023/02/12/k8s/ingress/ingress/" title="ì¿ ë²„ë„¤í‹°ìŠ¤ - Ingress">ì¿ ë²„ë„¤í‹°ìŠ¤ - Ingress</a></li><li><a href="#">Post not found: k8s/deployment/deployment</a></li><li><a href="#">Post not found: k8s/replicaset/replicaset</a></li><li><a href="/2023/02/08/k8s/node/node/" title="ì¿ ë²„ë„¤í‹°ìŠ¤ - Node">ì¿ ë²„ë„¤í‹°ìŠ¤ - Node</a></li><li><a href="/2023/02/08/k8s/pod/pod/" title="ì¿ ë²„ë„¤í‹°ìŠ¤ - Pod">ì¿ ë²„ë„¤í‹°ìŠ¤ - Pod</a></li><li><a href="#">Post not found: k8s/k8s</a></li></ul><h2 id="VPA"><a href="#VPA" class="headerlink" title="VPA"></a>VPA</h2>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Kubernetes/">Kubernetes</category>
      
      <category domain="https://ckck803.github.io/categories/Kubernetes/Autoscaler/">Autoscaler</category>
      
      
      
      <comments>https://ckck803.github.io/2023/05/18/k8s/autoscaler/vpa/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>ì¿ ë²„ë„¤í‹°ìŠ¤ - HPA (Horizontal Pod Autoscaler)</title>
      <link>https://ckck803.github.io/2023/05/18/k8s/autoscaler/hpa/</link>
      <guid>https://ckck803.github.io/2023/05/18/k8s/autoscaler/hpa/</guid>
      <pubDate>Wed, 17 May 2023 21:31:46 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;img src=&quot;/images/k8s/k8s.png&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;ëª©ì°¨&quot;&gt;&lt;a href=&quot;#ëª©ì°¨&quot; class=&quot;headerlink&quot; title=&quot;ëª©ì°¨&quot;&gt;&lt;/a&gt;ëª©ì°¨&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;/2023/05/18/k8s/</description>
        
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/k8s/k8s.png"></p><h2 id="ëª©ì°¨"><a href="#ëª©ì°¨" class="headerlink" title="ëª©ì°¨"></a>ëª©ì°¨</h2><ul><li><a href="/2023/05/18/k8s/autoscaler/vpa/" title="ì¿ ë²„ë„¤í‹°ìŠ¤ - VPA (Vertical Pod Autoscaler)">ì¿ ë²„ë„¤í‹°ìŠ¤ - VPA (Vertical Pod Autoscaler)</a></li><li><a href="/2023/05/18/k8s/autoscaler/hpa/" title="ì¿ ë²„ë„¤í‹°ìŠ¤ - HPA (Horizontal Pod Autoscaler)">ì¿ ë²„ë„¤í‹°ìŠ¤ - HPA (Horizontal Pod Autoscaler)</a></li></ul><h2 id="HPA"><a href="#HPA" class="headerlink" title="HPA"></a>HPA</h2><p>HPA (Horizontal Pod Autoscaler)ëŠ” Kubernetes í´ëŸ¬ìŠ¤í„°ì—ì„œ ìë™ìœ¼ë¡œ íŒŒë“œ ìˆ˜ë¥¼ ì¡°ì •í•˜ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤. HPAëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ìˆ˜ìš”ì— ë”°ë¼ íŒŒë“œì˜ ìˆ˜ë¥¼ ìŠ¤ì¼€ì¼ ì—… ë˜ëŠ” ìŠ¤ì¼€ì¼ ë‹¤ìš´í•˜ì—¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê°€ìš©ì„±ê³¼ ì„±ëŠ¥ì„ ìœ ì§€í•˜ëŠ” ë° ë„ì›€ì´ ë©ë‹ˆë‹¤.</p><p>HPAëŠ” ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ì„ ê¸°ë°˜ìœ¼ë¡œ íŒŒë“œì˜ ìˆ˜ë¥¼ ë™ì ìœ¼ë¡œ ì¡°ì •í•©ë‹ˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œ CPU ì‚¬ìš©ë¥  ë˜ëŠ” ì»¤ìŠ¤í…€ ë©”íŠ¸ë¦­ì„ ê¸°ë°˜ìœ¼ë¡œ í•©ë‹ˆë‹¤. HPAëŠ” ì„¤ì •ëœ ì„ê³„ê°’ê³¼ í˜„ì¬ ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ì„ ë¹„êµí•˜ì—¬ íŒŒë“œ ìˆ˜ë¥¼ ì¡°ì •í•©ë‹ˆë‹¤.</p><p>HPAë¥¼ ì„¤ì •í•˜ë ¤ë©´ ë‹¤ìŒ ë‹¨ê³„ë¥¼ ìˆ˜í–‰í•´ì•¼ í•©ë‹ˆë‹¤:</p><ol><li>HPAë¥¼ ì ìš©í•  ë¦¬ì†ŒìŠ¤ë¥¼ ì„ íƒí•©ë‹ˆë‹¤. ëŒ€ë¶€ë¶„ì˜ ê²½ìš° Deployment ë˜ëŠ” ReplicaSetê³¼ ê°™ì€ ì»¨íŠ¸ë¡¤ëŸ¬ ë¦¬ì†ŒìŠ¤ë¥¼ ì„ íƒí•©ë‹ˆë‹¤.</li><li>HPA ì •ì˜ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤. HPA ì •ì˜ì—ëŠ” ìŠ¤ì¼€ì¼ë§ ëŒ€ìƒ ë¦¬ì†ŒìŠ¤, ìŠ¤ì¼€ì¼ë§ ì¡°ê±´, ìŠ¤ì¼€ì¼ë§ ì¡°ì •ëŸ‰ ë“±ì´ í¬í•¨ë©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, CPU ì‚¬ìš©ë¥ ì´ 80%ë¥¼ ì´ˆê³¼í•˜ë©´ íŒŒë“œ ìˆ˜ë¥¼ 2ë°°ë¡œ ìŠ¤ì¼€ì¼ ì—…í•  ìˆ˜ ìˆë„ë¡ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li><li>HPAë¥¼ ì ìš©í•©ë‹ˆë‹¤. HPAë¥¼ ì ìš©í•˜ë©´ KubernetesëŠ” ì§€ì •ëœ ê°„ê²©ìœ¼ë¡œ ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ì„ í™•ì¸í•˜ê³  ìŠ¤ì¼€ì¼ë§ ê²°ì •ì„ ë‚´ë¦½ë‹ˆë‹¤.</li></ol><p>HPAëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë¶€í•˜ê°€ ì¦ê°€í•˜ë©´ íŒŒë“œ ìˆ˜ë¥¼ ìë™ìœ¼ë¡œ ëŠ˜ë¦¬ê³ , ë¶€í•˜ê°€ ê°ì†Œí•˜ë©´ íŒŒë“œ ìˆ˜ë¥¼ ì¤„ì—¬ ë¦¬ì†ŒìŠ¤ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê°€ìš©ì„±ê³¼ ì„±ëŠ¥ì„ ìµœì í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Kubernetes/">Kubernetes</category>
      
      <category domain="https://ckck803.github.io/categories/Kubernetes/Autoscaler/">Autoscaler</category>
      
      
      
      <comments>https://ckck803.github.io/2023/05/18/k8s/autoscaler/hpa/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>MySQL - í…Œì´ë¸” ìŠ¤í‚¤ë§ˆ ì¡°íšŒ</title>
      <link>https://ckck803.github.io/2023/05/11/mysql/command/</link>
      <guid>https://ckck803.github.io/2023/05/11/mysql/command/</guid>
      <pubDate>Wed, 10 May 2023 16:16:13 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;img src=&quot;/images/database/mysql/MySQL.png&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;Comment-ì¡°íšŒ&quot;&gt;&lt;a href=&quot;#Comment-ì¡°íšŒ&quot; class=&quot;headerlink&quot; title=&quot;Comment ì¡°íšŒ&quot;&gt;&lt;/a&gt;Comm</description>
        
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/database/mysql/MySQL.png"></p><h2 id="Comment-ì¡°íšŒ"><a href="#Comment-ì¡°íšŒ" class="headerlink" title="Comment ì¡°íšŒ"></a>Comment ì¡°íšŒ</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> COLUMN_NAME, COLUMN_COMMENT, IS_NULLABLE, DATA_TYPE, CHARACTER_MAXIMUM_LENGTH, COLUMN_TYPE </span><br><span class="line"><span class="keyword">from</span> information_schema.`COLUMNS` </span><br><span class="line"><span class="keyword">where</span> TABLE_NAME <span class="operator">=</span> <span class="string">&#x27;í…Œì´ë¸”ëª…&#x27;</span></span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Develop/">Develop</category>
      
      <category domain="https://ckck803.github.io/categories/Develop/MySQL/">MySQL</category>
      
      
      
      <comments>https://ckck803.github.io/2023/05/11/mysql/command/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Spring Batch - ItemStream</title>
      <link>https://ckck803.github.io/2023/05/10/springboot/spring-batch/chunk/spring-batch-ItemStream/</link>
      <guid>https://ckck803.github.io/2023/05/10/springboot/spring-batch/chunk/spring-batch-ItemStream/</guid>
      <pubDate>Wed, 10 May 2023 04:25:35 GMT</pubDate>
      
        
        
      <description>&lt;h2 id=&quot;ì¶œì²˜&quot;&gt;&lt;a href=&quot;#ì¶œì²˜&quot; class=&quot;headerlink&quot; title=&quot;ì¶œì²˜&quot;&gt;&lt;/a&gt;ì¶œì²˜&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;í•´ë‹¹ í¬ìŠ¤íŠ¸ëŠ” ì •ìˆ˜ì› ê°•ì‚¬ë‹˜ì˜ &lt;a href=&quot;https://www.inflearn.com/course/%EC%8A</description>
        
      
      
      
      <content:encoded><![CDATA[<h2 id="ì¶œì²˜"><a href="#ì¶œì²˜" class="headerlink" title="ì¶œì²˜"></a>ì¶œì²˜</h2><ul><li>í•´ë‹¹ í¬ìŠ¤íŠ¸ëŠ” ì •ìˆ˜ì› ê°•ì‚¬ë‹˜ì˜ <a href="https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-%EB%B0%B0%EC%B9%98/dashboard">ìŠ¤í”„ë§ ë°°ì¹˜ - Spring Boot ê¸°ë°˜ìœ¼ë¡œ ê°œë°œí•˜ëŠ” Spring Batch</a> ê°•ì˜ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì‘ì„± ëìŠµë‹ˆë‹¤.</li></ul><h2 id="ëª©ì°¨"><a href="#ëª©ì°¨" class="headerlink" title="ëª©ì°¨"></a>ëª©ì°¨</h2><ul><li><a href="/2023/05/09/springboot/spring-batch/chunk/spring-batch-ItemWriter/" title="Spring Batch - ItemWriter">Spring Batch - ItemWriter</a></li><li><a href="/2023/05/09/springboot/spring-batch/chunk/spring-batch-ItemProcessor/" title="Spring Batch - ItemProcessor">Spring Batch - ItemProcessor</a></li><li><a href="/2023/05/09/springboot/spring-batch/chunk/spring-batch-ItemReader/" title="Spring Batch - ItemReader">Spring Batch - ItemReader</a></li><li><a href="/2023/05/09/springboot/spring-batch/chunk/spring-batch-ChunkProvider_ChunkProcessor/" title="Spring Batch - ChunkProvider ì™€ ChunkProcessor">Spring Batch - ChunkProvider ì™€ ChunkProcessor</a></li><li><a href="/2023/05/09/springboot/spring-batch/chunk/spring-batch-ChunkOrientedTasklet/" title="Spring Batch - ChunkOrientedTasklet">Spring Batch - ChunkOrientedTasklet</a></li><li><a href="/2023/05/09/springboot/spring-batch/chunk/spring-batch-Chunk/" title="Spring Batch - Chunk ê¸°ë°˜ Step">Spring Batch - Chunk ê¸°ë°˜ Step</a></li><li><a href="/2023/05/08/springboot/spring-batch/flow/spring-batch-24-FlowJob/" title="Spring Batch - 24. FlowJob">Spring Batch - 24. FlowJob</a></li><li><a href="#">Post not found: springboot/spring-batch/tasklet/spring-batch-23-JobStep</a></li><li><a href="/2023/05/06/springboot/spring-batch/tasklet/spring-batch-22-Tasklet/" title="Spring Batch - 22. Tasklet ê¸°ë°˜ Step">Spring Batch - 22. Tasklet ê¸°ë°˜ Step</a></li><li><a href="/2023/05/04/springboot/spring-batch/tasklet/spring-batch-21-TaskletStep/" title="Spring Batch - 21. TaskletStep">Spring Batch - 21. TaskletStep</a></li><li><a href="/2023/05/04/springboot/spring-batch/step/spring-batch-20-StepBuilderFactory/" title="Spring Batch - 20. StepBuilderFactory ì™€ StepBuilder">Spring Batch - 20. StepBuilderFactory ì™€ StepBuilder</a></li><li><a href="/2023/05/03/springboot/spring-batch/job/spring-batch-19-JobIncrementer/" title="Spring Batch - 19. JobParameters ì¦ê°€ JobParametersIncrementer">Spring Batch - 19. JobParameters ì¦ê°€ JobParametersIncrementer</a></li><li><a href="/2023/04/06/springboot/spring-batch/job/spring-batch-18-preventRestart/" title="Spring Batch - 18. Job ì˜ ì¬ì‹œì‘ ë°©ì§€ preventRestart">Spring Batch - 18. Job ì˜ ì¬ì‹œì‘ ë°©ì§€ preventRestart</a></li><li><a href="/2023/04/05/springboot/spring-batch/job/spring-batch-17-JobParametersValidator/" title="Spring Batch - 17. JobParameters ê²€ì¦ JobParametersValidator">Spring Batch - 17. JobParameters ê²€ì¦ JobParametersValidator</a></li><li><a href="/2023/04/04/springboot/spring-batch/job/spring-batch-16-SimpleJob/" title="Spring Batch - 16. SimpleJob ì™€ SimpleJobLauncher">Spring Batch - 16. SimpleJob ì™€ SimpleJobLauncher</a></li><li><a href="/2023/04/02/springboot/spring-batch/job/spring-batch-15-JobBuilderFactory/" title="Spring Batch - 15. JobBuilderFactory &amp; JobBuilder">Spring Batch - 15. JobBuilderFactory &amp; JobBuilder</a></li></ul><h2 id="ItemStream"><a href="#ItemStream" class="headerlink" title="ItemStream"></a>ItemStream</h2><p>ItemStream ì€ ItemReader ì™€ ItemWriter ì²˜ë¦¬ ê³¼ì • ì¤‘ ìƒíƒœë¥¼ ì €ì¥í•˜ê³  ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë©´ í•´ë‹¹ ìƒíƒœë¥¼ ì°¸ì¡°í•˜ì—¬ ì‹¤íŒ¨í•œ ê³³ì—ì„œ ì¬ì‹œì‘ í•˜ë„ë¡ ì§€ì›í•©ë‹ˆë‹¤. ë¦¬ì†ŒìŠ¤ë¥¼ ì—´ê³  ë‹«ì•„ì•¼ í•˜ë©° ì…ì¶œë ¥ ì¥ì¹˜ ì´ˆê¸°í™” ë“±ì˜ ì‘ì—…ì„ í•´ì•¼ í•˜ëŠ” ê²½ìš° ì‚¬ìš©í•©ë‹ˆë‹¤.</p><p><img src="/images/spring-batch/ch7/itemStream.png"></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">ItemStream</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">open</span><span class="params">(ExecutionContext executionContext)</span> <span class="keyword">throws</span> ItemStreamException;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(ExecutionContext executionContext)</span> <span class="keyword">throws</span> ItemStreamException;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">close</span><span class="params">()</span> <span class="keyword">throws</span> ItemStreamException;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Spring-Boot/">Spring Boot</category>
      
      <category domain="https://ckck803.github.io/categories/Spring-Boot/Spring-Batch/">Spring Batch</category>
      
      <category domain="https://ckck803.github.io/categories/Spring-Boot/Spring-Batch/Step/">Step</category>
      
      <category domain="https://ckck803.github.io/categories/Spring-Boot/Spring-Batch/Step/Chunk/">Chunk</category>
      
      
      
      <comments>https://ckck803.github.io/2023/05/10/springboot/spring-batch/chunk/spring-batch-ItemStream/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>ì¿ ë²„ë„¤í‹°ìŠ¤ - Secret</title>
      <link>https://ckck803.github.io/2023/05/10/k8s/config/secret/</link>
      <guid>https://ckck803.github.io/2023/05/10/k8s/config/secret/</guid>
      <pubDate>Wed, 10 May 2023 01:31:46 GMT</pubDate>
      
        
        
      <description>&lt;!-- ![](/images/k8s/helm/helm.png) --&gt;

&lt;p&gt;&lt;img src=&quot;/images/k8s/k8s.png&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;ëª©ì°¨&quot;&gt;&lt;a href=&quot;#ëª©ì°¨&quot; class=&quot;headerlink&quot; title=&quot;ëª©ì°¨&quot;&gt;&lt;/a&gt;</description>
        
      
      
      
      <content:encoded><![CDATA[<!-- ![](/images/k8s/helm/helm.png) --><p><img src="/images/k8s/k8s.png"></p><h2 id="ëª©ì°¨"><a href="#ëª©ì°¨" class="headerlink" title="ëª©ì°¨"></a>ëª©ì°¨</h2><ul><li><a href="/2023/05/07/k8s/secret/" title="ì¿ ë²„ë„¤í‹°ìŠ¤ - Secret">ì¿ ë²„ë„¤í‹°ìŠ¤ - Secret</a></li><li><a href="/2023/05/07/k8s/configmap/" title="ì¿ ë²„ë„¤í‹°ìŠ¤ - ConfigMap">ì¿ ë²„ë„¤í‹°ìŠ¤ - ConfigMap</a></li><li><a href="/2023/02/19/k8s/namespace/namespace/" title="ì¿ ë²„ë„¤í‹°ìŠ¤ - Namespace">ì¿ ë²„ë„¤í‹°ìŠ¤ - Namespace</a></li><li><a href="/2023/02/12/k8s/ingress/ingress/" title="ì¿ ë²„ë„¤í‹°ìŠ¤ - Ingress">ì¿ ë²„ë„¤í‹°ìŠ¤ - Ingress</a></li><li><a href="#">Post not found: k8s/deployment/deployment</a></li><li><a href="#">Post not found: k8s/replicaset/replicaset</a></li><li><a href="/2023/02/08/k8s/node/node/" title="ì¿ ë²„ë„¤í‹°ìŠ¤ - Node">ì¿ ë²„ë„¤í‹°ìŠ¤ - Node</a></li><li><a href="/2023/02/08/k8s/pod/pod/" title="ì¿ ë²„ë„¤í‹°ìŠ¤ - Pod">ì¿ ë²„ë„¤í‹°ìŠ¤ - Pod</a></li><li><a href="/2023/05/07/k8s/data_plane/" title="ì¿ ë²„ë„¤í‹°ìŠ¤ - Data Plane">ì¿ ë²„ë„¤í‹°ìŠ¤ - Data Plane</a></li><li><a href="/2023/05/07/k8s/control_plane/" title="ì¿ ë²„ë„¤í‹°ìŠ¤ - Control Plane">ì¿ ë²„ë„¤í‹°ìŠ¤ - Control Plane</a></li><li><a href="#">Post not found: k8s/k8s</a></li></ul><h2 id="Secret"><a href="#Secret" class="headerlink" title="Secret"></a>Secret</h2><blockquote><p>ì¿ ë²„ë„¤í‹°ìŠ¤(Secret)ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë¯¼ê°í•œ ë°ì´í„°ë¥¼ ì•ˆì „í•˜ê²Œ ì €ì¥í•˜ê³  ê´€ë¦¬í•˜ê¸° ìœ„í•œ ë¦¬ì†ŒìŠ¤</p></blockquote><p>Secretì€ ê¸°ë³¸ì ìœ¼ë¡œ ConfigMapê³¼ ìœ ì‚¬í•œ ë°©ì‹ìœ¼ë¡œ ë™ì‘í•˜ì§€ë§Œ, ì•”í˜¸í™”ëœ í˜•íƒœë¡œ ë°ì´í„°ë¥¼ ì €ì¥í•˜ì—¬ ë” ë†’ì€ ë³´ì•ˆ ìˆ˜ì¤€ì„ ì œê³µí•©ë‹ˆë‹¤.</p><p>Secretì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì‚¬ìš©ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸, API í† í°, ë°ì´í„°ë² ì´ìŠ¤ ìê²©ì¦ëª… ë“±ê³¼ ê°™ì€ ì¤‘ìš”í•œ ì •ë³´ë¥¼ ì €ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ë°ì´í„°ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ì™€ ë¶„ë¦¬ë˜ì–´, ë³´ì•ˆì„±ì„ ìœ ì§€í•˜ë©´ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë°°í¬í•˜ê³  ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><p>Secretì€ Base64 ì¸ì½”ë”©ì„ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ì¸ì½”ë”©í•˜ê³ , ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„° ë‚´ë¶€ì—ì„œ ì €ì¥ë©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ë°ì´í„°ëŠ” ì•ˆì „í•˜ê²Œ ì €ì¥ë˜ë©°, ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œ í•„ìš”í•  ë•Œë§Œ ë””ì½”ë”©í•˜ì—¬ ì‚¬ìš©ë©ë‹ˆë‹¤.</p><p>Secretì€ YAML ë˜ëŠ” JSON í˜•ì‹ìœ¼ë¡œ ì •ì˜ë˜ë©°, ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ì— ìƒì„± ë° ì ìš©ë©ë‹ˆë‹¤. Secretì„ ìƒì„±í•œ í›„ì—ëŠ” í•´ë‹¹ Secretì„ ì‚¬ìš©í•˜ë ¤ëŠ” Podì˜ ì»¨í…Œì´ë„ˆì— ë§ˆìš´íŠ¸í•˜ê±°ë‚˜ í™˜ê²½ ë³€ìˆ˜ë¡œ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ Secretì—ì„œ ì •ì˜ëœ ì¤‘ìš”í•œ ì •ë³´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><p>ì˜ˆë¥¼ ë“¤ì–´, Secretì—ì„œ â€œdb_passwordâ€ë¼ëŠ” í‚¤ì— ëŒ€í•œ ê°’ìœ¼ë¡œ â€œmysecretpasswordâ€ë¥¼ ì„¤ì •í•˜ë©´, ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ì´ ê°’ì„ ë””ì½”ë”©í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ ë¹„ë°€ë²ˆí˜¸ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. Secretì€ ConfigMapê³¼ ë§ˆì°¬ê°€ì§€ë¡œ í´ëŸ¬ìŠ¤í„°ë‚˜ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ìˆ˜ì¤€ì—ì„œ ë³€ê²½ ë° ê´€ë¦¬í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ë³€ê²½ëœ ë¹„ë°€ë²ˆí˜¸ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë‹¤ì‹œ ì‹œì‘í•˜ì§€ ì•Šê³ ë„ ì¦‰ì‹œ ì ìš©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">kubectl describe secret/db-user-pass</span><br></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">Name:</span>         <span class="string">db-user-pass</span></span><br><span class="line"><span class="attr">Namespace:</span>    <span class="string">default</span></span><br><span class="line"><span class="attr">Labels:</span>       <span class="string">&lt;none&gt;</span></span><br><span class="line"><span class="attr">Annotations:</span>  <span class="string">&lt;none&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">Type:</span>  <span class="string">Opaque</span></span><br><span class="line"></span><br><span class="line"><span class="string">Data</span></span><br><span class="line"><span class="string">====</span></span><br><span class="line"><span class="attr">password.txt:</span>  <span class="number">7</span> <span class="string">bytes</span></span><br><span class="line"><span class="attr">username.txt:</span>  <span class="number">5</span> <span class="string">bytes</span></span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">ubectl get secret/db-user-pass -o yaml</span><br></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">data:</span></span><br><span class="line">  <span class="attr">password.txt:</span> <span class="string">cTJ3M2U0cg==</span></span><br><span class="line">  <span class="attr">username.txt:</span> <span class="string">YWRtaW4=</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Secret</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">creationTimestamp:</span> <span class="string">&quot;2023-06-12T18:05:52Z&quot;</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">db-user-pass</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">default</span></span><br><span class="line">  <span class="attr">resourceVersion:</span> <span class="string">&quot;54274&quot;</span></span><br><span class="line">  <span class="attr">uid:</span> <span class="string">45ac61f5-9c32-4d40-9823-d7c5edaba1ed</span></span><br><span class="line"><span class="attr">type:</span> <span class="string">Opaque</span></span><br></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">alpine-env</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">alpine</span></span><br><span class="line">      <span class="attr">image:</span> <span class="string">alpine</span></span><br><span class="line">      <span class="attr">command:</span> [<span class="string">&quot;sleep&quot;</span>]</span><br><span class="line">      <span class="attr">args:</span> [<span class="string">&quot;100000&quot;</span>]</span><br><span class="line">      <span class="attr">env:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">DB_USERNAME</span></span><br><span class="line">          <span class="attr">valueFrom:</span></span><br><span class="line">            <span class="attr">secretKeyRef:</span></span><br><span class="line">              <span class="attr">name:</span> <span class="string">db-user-pass</span></span><br><span class="line">              <span class="attr">key:</span> <span class="string">username.txt</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">DB_PASSWORD</span></span><br><span class="line">          <span class="attr">valueFrom:</span></span><br><span class="line">            <span class="attr">secretKeyRef:</span></span><br><span class="line">              <span class="attr">name:</span> <span class="string">db-user-pass</span></span><br><span class="line">              <span class="attr">key:</span> <span class="string">password.txt</span></span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Kubernetes/">Kubernetes</category>
      
      <category domain="https://ckck803.github.io/categories/Kubernetes/Config/">Config</category>
      
      
      
      <comments>https://ckck803.github.io/2023/05/10/k8s/config/secret/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>MySQL - ì‚¬ìš©ì ì¶”ê°€</title>
      <link>https://ckck803.github.io/2023/05/10/mysql/user/</link>
      <guid>https://ckck803.github.io/2023/05/10/mysql/user/</guid>
      <pubDate>Tue, 09 May 2023 16:16:13 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;img src=&quot;/images/database/mysql/MySQL.png&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;ì‚¬ìš©ì-ì¶”ê°€&quot;&gt;&lt;a href=&quot;#ì‚¬ìš©ì-ì¶”ê°€&quot; class=&quot;headerlink&quot; title=&quot;ì‚¬ìš©ì ì¶”ê°€&quot;&gt;&lt;/a&gt;ì‚¬ìš©ì ì¶”ê°€&lt;/h2&gt;&lt;figu</description>
        
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/database/mysql/MySQL.png"></p><h2 id="ì‚¬ìš©ì-ì¶”ê°€"><a href="#ì‚¬ìš©ì-ì¶”ê°€" class="headerlink" title="ì‚¬ìš©ì ì¶”ê°€"></a>ì‚¬ìš©ì ì¶”ê°€</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">user</span> <span class="string">&#x27;[userid]&#x27;</span>;</span><br><span class="line"><span class="comment">-- localhost ì—ì„œë§Œ ì ‘ì†í•  ìˆ˜ ìˆëŠ” ê³„ì • ìƒì„±</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">user</span> <span class="string">&#x27;[userid]&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> identified <span class="keyword">by</span> <span class="string">&#x27;[ë¹„ë°€ë²ˆí˜¸]&#x27;</span>;</span><br><span class="line"><span class="comment">-- ì™¸ë¶€ì—ì„œ ì ‘ê·¼ ê°€ëŠ¥í•œ ê³„ì • ìƒì„±</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">user</span> <span class="string">&#x27;[userid]&#x27;</span>@<span class="string">&#x27;%&#x27;</span> identified <span class="keyword">by</span> <span class="string">&#x27;[ë¹„ë°€ë²ˆí˜¸]&#x27;</span>;</span><br></pre></td></tr></table></figure><h2 id="ê¶Œí•œ-ë¶€ì—¬í•˜ê¸°"><a href="#ê¶Œí•œ-ë¶€ì—¬í•˜ê¸°" class="headerlink" title="ê¶Œí•œ ë¶€ì—¬í•˜ê¸°"></a>ê¶Œí•œ ë¶€ì—¬í•˜ê¸°</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- select ê¶Œí•œ ë¶€ì—¬</span></span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">select</span> privileges <span class="keyword">on</span> <span class="operator">*</span>.<span class="operator">*</span> <span class="keyword">to</span> <span class="string">&#x27;[userid]&#x27;</span><span class="variable">@localhost</span> identified <span class="keyword">by</span> <span class="string">&#x27;[ë¹„ë°€ë²ˆí˜¸]&#x27;</span>;</span><br><span class="line"><span class="comment">-- update ê¶Œí•œ ë¶€ì—¬</span></span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">update</span> privileges <span class="keyword">on</span> <span class="operator">*</span>.<span class="operator">*</span> <span class="keyword">to</span> <span class="string">&#x27;[userid]&#x27;</span><span class="variable">@localhost</span> identified <span class="keyword">by</span> <span class="string">&#x27;[ë¹„ë°€ë²ˆí˜¸]&#x27;</span>;</span><br><span class="line"><span class="comment">-- insert ê¶Œí•œ ë¶€ì—¬</span></span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">insert</span> privileges <span class="keyword">on</span> <span class="operator">*</span>.<span class="operator">*</span> <span class="keyword">to</span> <span class="string">&#x27;[userid]&#x27;</span><span class="variable">@localhost</span> identified <span class="keyword">by</span> <span class="string">&#x27;[ë¹„ë°€ë²ˆí˜¸]&#x27;</span>;</span><br><span class="line"><span class="comment">-- delete ê¶Œí•œ ë¶€ì—¬</span></span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">delete</span> privileges <span class="keyword">on</span> <span class="operator">*</span>.<span class="operator">*</span> <span class="keyword">to</span> <span class="string">&#x27;[userid]&#x27;</span><span class="variable">@localhost</span> identified <span class="keyword">by</span> <span class="string">&#x27;[ë¹„ë°€ë²ˆí˜¸]&#x27;</span>;</span><br><span class="line"><span class="comment">-- select, update, insert ê¶Œí•œ ë¶€ì—¬</span></span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">select</span>, <span class="keyword">update</span>, <span class="keyword">insert</span> privileges <span class="keyword">on</span> <span class="operator">*</span>.<span class="operator">*</span> <span class="keyword">to</span> <span class="string">&#x27;[userid]&#x27;</span><span class="variable">@localhost</span> identified <span class="keyword">by</span> <span class="string">&#x27;[ë¹„ë°€ë²ˆí˜¸]&#x27;</span>;</span><br></pre></td></tr></table></figure><h3 id="íŠ¹ì •-ë°ì´í„°-ë² ì´ìŠ¤ì—-ëŒ€í•œ-ì ‘ê·¼-ë¶€ì—¬"><a href="#íŠ¹ì •-ë°ì´í„°-ë² ì´ìŠ¤ì—-ëŒ€í•œ-ì ‘ê·¼-ë¶€ì—¬" class="headerlink" title="íŠ¹ì • ë°ì´í„° ë² ì´ìŠ¤ì— ëŒ€í•œ ì ‘ê·¼ ë¶€ì—¬"></a>íŠ¹ì • ë°ì´í„° ë² ì´ìŠ¤ì— ëŒ€í•œ ì ‘ê·¼ ë¶€ì—¬</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- [Database ëª…] ë°ì´í„°ë² ì´ìŠ¤ì— select ê¶Œí•œ ë¶€ì—¬</span></span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">select</span> privileges <span class="keyword">on</span> [Database ëª…].<span class="operator">*</span> <span class="keyword">to</span> <span class="string">&#x27;[userid]&#x27;</span><span class="variable">@localhost</span> identified <span class="keyword">by</span> <span class="string">&#x27;[ë¹„ë°€ë²ˆí˜¸]&#x27;</span>;</span><br></pre></td></tr></table></figure><h3 id="User-ì—-ë”°ë¥¸-ë°ì´í„°-ë² ì´ìŠ¤-ì ‘ê·¼-ë¶€ì—¬"><a href="#User-ì—-ë”°ë¥¸-ë°ì´í„°-ë² ì´ìŠ¤-ì ‘ê·¼-ë¶€ì—¬" class="headerlink" title="User ì— ë”°ë¥¸ ë°ì´í„° ë² ì´ìŠ¤ ì ‘ê·¼ ë¶€ì—¬"></a>User ì— ë”°ë¥¸ ë°ì´í„° ë² ì´ìŠ¤ ì ‘ê·¼ ë¶€ì—¬</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- localhost User ì—ê²Œ ì „ì²´ ê¶Œí•œ ë¶€ì—¬</span></span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">all</span> privileges <span class="keyword">on</span> <span class="operator">*</span>.<span class="operator">*</span> <span class="keyword">to</span> <span class="string">&#x27;[userid]&#x27;</span><span class="variable">@localhost</span> identified <span class="keyword">by</span> <span class="string">&#x27;[ë¹„ë°€ë²ˆí˜¸]&#x27;</span>;</span><br><span class="line"><span class="comment">-- ì™¸ë¶€ì ‘ê·¼ User ì—ê²Œ ì „ì²´ ê¶Œí•œ ë¶€ì—¬</span></span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">all</span> privileges <span class="keyword">on</span> <span class="operator">*</span>.<span class="operator">*</span> <span class="keyword">to</span> <span class="string">&#x27;[userid]&#x27;</span>@<span class="string">&#x27;%&#x27;</span> identified <span class="keyword">by</span> <span class="string">&#x27;[ë¹„ë°€ë²ˆí˜¸]&#x27;</span>;</span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Develop/">Develop</category>
      
      <category domain="https://ckck803.github.io/categories/Develop/MySQL/">MySQL</category>
      
      
      
      <comments>https://ckck803.github.io/2023/05/10/mysql/user/#disqus_thread</comments>
      
    </item>
    
  </channel>
</rss>
