<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="google" value="notranslate">

    

    
    <title>Category: 강의 | Victor</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="description" content="개발 노트">
<meta property="og:type" content="website">
<meta property="og:title" content="Victor">
<meta property="og:url" content="https://ckck803.github.io/categories/Spring/%EA%B0%95%EC%9D%98/index.html">
<meta property="og:site_name" content="Victor">
<meta property="og:description" content="개발 노트">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="ckck803">
<meta name="twitter:card" content="summary">
    

    

    
        <link rel="icon" href="/css/images/favicon/favicon.ico">
    

    
<link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">

    
<link rel="stylesheet" href="/libs/titillium-web/styles.css">

    
<link rel="stylesheet" href="/libs/source-code-pro/styles.css">


    
<link rel="stylesheet" href="/css/style.css">


    
<script src="/libs/jquery/3.5.0/jquery.min.js"></script>

    
    
        
<link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">

    
    
        
<link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css">

    
    
    
    


    
<link rel="stylesheet" href="https://fonts.googleapis.com/earlyaccess/notosanskr.css">

    
<link rel="stylesheet" href="https://cdn.rawgit.com/innks/NanumSquareRound/master/nanumsquareround.css">
	
    
<link rel="stylesheet" href="https://fonts.googleapis.com/earlyaccess/nanumgothiccoding.css">

<meta name="generator" content="Hexo 5.4.2"><link rel="alternate" href="/rss2.xml" title="Victor" type="application/rss+xml">
</head>

<body>
    <div id="wrap">
        <header id="header">
    <div id="header-outer" class="outer">
        <div class="container">
            <div class="container-inner">
                <div id="header-title">
                    <h1 class="logo-wrap">
                        <a href="/" class="logo"></a>
                    </h1>
                    
                        <h2 class="subtitle-wrap">
                            <p class="subtitle">딴짓하는 개발자</p>
                        </h2>
                    
                </div>
                <div id="header-inner" class="nav-container">
                    <a id="main-nav-toggle" class="nav-icon fa fa-bars"></a>
                    <div class="nav-container-inner">
                        <ul id="main-nav">
                            
                                    <ul class="main-nav-list"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/AWS/">AWS</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/AWS/EKS/">EKS</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/CS/">CS</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/CS/DataBase/">DataBase</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/CS/Network/">Network</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/CS/Process/">Process</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/CS/%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C/">운영체제</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/CS/%EC%BB%B4%ED%93%A8%ED%84%B0-%EA%B5%AC%EC%A1%B0/">컴퓨터 구조</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/CS/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D-%EC%96%B8%EC%96%B4/">프로그래밍 언어</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/DevOps/">DevOps</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/DevOps/CICD/">CICD</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/DevOps/Jmeter/">Jmeter</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/DevOps/KeyCloak/">KeyCloak</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/DevOps/Kiali/">Kiali</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/DevOps/Maven/">Maven</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/DevOps/OpenSearch/">OpenSearch</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/DevOps/Repository/">Repository</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/DevOps/SonarQube/">SonarQube</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Develop/">Develop</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Develop/Beakjoon/">Beakjoon</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Develop/Cpp/">Cpp</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Develop/Django/">Django</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Develop/Docker/">Docker</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Develop/Git/">Git</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Develop/JAVA/">JAVA</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Develop/JPA/">JPA</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Develop/Kafka/">Kafka</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Develop/MySQL/">MySQL</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Develop/Oracle/">Oracle</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Develop/QueryDSL/">QueryDSL</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Develop/Redis/">Redis</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Develop/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%A8%B8%EC%8A%A4/">프로그래머스</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Frontend/">Frontend</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Frontend/Login/">Login</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Frontend/React/">React</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Frontend/React-Query/">React Query</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Frontend/Redux/">Redux</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Frontend/To-do-List/">To do List</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Frontend/ToastUI/">ToastUI</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Frontend/Vite/">Vite</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Frontend/Vue/">Vue</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Frontend/Vue3/">Vue3</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Frontend/%EB%A1%9C%EA%B7%B8%EC%9D%B8/">로그인</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Frontend/%EB%B8%94%EB%A1%9C%EA%B7%B8/">블로그</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Kubernetes/">Kubernetes</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Kubernetes/Autoscaler/">Autoscaler</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Kubernetes/Config/">Config</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Kubernetes/Custom/">Custom</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Kubernetes/Helm/">Helm</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Kubernetes/Istio/">Istio</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Kubernetes/%EA%B5%AC%EC%84%B1%EC%9A%94%EC%86%8C/">구성요소</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Kubernetes/%EC%84%9C%EB%B9%84%EC%8A%A4/">서비스</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Kubernetes/%EC%9B%8C%ED%81%AC%EB%A1%9C%EB%93%9C/">워크로드</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Kubernetes/%EC%9D%B8%EC%A6%9D-%EC%9D%B8%EA%B0%80/">인증/인가</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Spring/">Spring</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Spring/Spring-AOP/">Spring AOP</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Spring/Spring-Batch/">Spring Batch</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Spring/Spring-Boot/">Spring Boot</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Spring/Spring-Cloud/">Spring Cloud</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Spring/Spring-Core/">Spring Core</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Spring/Spring-Data-JPA/">Spring Data JPA</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Spring/Spring-Framework/">Spring Framework</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Spring/Spring-MVC/">Spring MVC</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Spring/Spring-Rest/">Spring Rest</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Spring/Spring-Security/">Spring Security</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Spring/Spring-Test/">Spring Test</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Spring/Spring-WebSocket/">Spring WebSocket</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Spring/Spring-%EA%B3%A0%EA%B8%89%ED%8E%B8/">Spring 고급편</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Spring/%EA%B0%95%EC%9D%98/">강의</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Spring/%EA%B2%8C%EC%8B%9C%ED%8C%90-%EB%A7%8C%EB%93%A4%EA%B8%B0/">게시판 만들기</a></li></ul></li></ul>
                                
                        </ul>
                        <nav id="sub-nav">
                            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="Search">
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something...">
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>

<script src="/js/insight.js"></script>


</div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>

        <div class="container">
            <div class="main-body container-inner">
                <div class="main-body-inner">
                    <section id="main">
                        <div class="main-body-header">
    <h1 class="header">
    
    <i class="icon fa fa-folder-open"></i>Category: <em class="page-title-link">강의</em>
    </h1>
</div>

                        <div class="main-body-content">
                            

    
    
        
        
        <section class="archives-wrap">
            <div class="archive-year-wrap">
                <a href="/archives/2021" class="archive-year"><i class="icon fa fa-calendar-o"></i>2021</a>
            </div>
            <div class="archives">
    
    
    
        <div class="article-row">
    
        <article class="article article-summary">
    <div class="article-summary-inner">
        
        <a href="/2021/02/07/spring/fastcampus-eatgo/eat-go14-table-reservation/" class="thumbnail">
    
    
        <span style="background-image:url(/images/springboot/spring-boot-logo.png)" alt="레스토랑 예약 사이트 만들기 14 - 테이블 예약" class="thumbnail-image"></span>
    
    
        
<span class="comment-counter">
    <i class="fa fa-comments-o"></i>
    
        <span class="disqus-comment-count" data-disqus-identifier data-disqus-url="https://ckck803.github.io/2021/02/07/spring/fastcampus-eatgo/eat-go14-table-reservation/">0</span>
    
</span>


    
</a>

        
        <div class="article-meta">
            <div class="category">
            <a class="article-category-link" href="/categories/Spring/">Spring</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/Spring/%EA%B0%95%EC%9D%98/">강의</a>
            </div>
            <div class="date"><time datetime="2021-02-07T09:46:44.000Z" itemprop="datePublished">2021-02-07</time></div>
        </div>
        
    
        <h1 class="article-title" itemprop="name">
        <a href="/2021/02/07/spring/fastcampus-eatgo/eat-go14-table-reservation/">레스토랑 예약 사이트 만들기 14 - 테이블 예약</a>
        </h1>
    

        <p class="article-excerpt">
            
패스트 캠퍼스에서 
@RestController@RequiredArgsConstructorpublic class ReservationController &#123;    private final ReservationService reservationService;    @GetMapping(&quot;/reservations&quot;)    public List&lt;Reservation&gt; list(Authentication authentication)&#123;        Claims claims = (Claims) authentication.getPrincipal();        Long restaurantId = claims.get(&quot;restaurantId&quot;, Long.class);//        Long restaurantId = 1004L;        List&lt;Reservation&gt; reservations = reservationService.getReservations(restaurantId);        return reservations;    &#125;&#125;

@WebMvcTest(ReservationController.class)class ReservationControllerTest &#123;    @Autowired    private MockMvc mockMvc;    @MockBean    private ReservationService reservationService;    @Test    @DisplayName(&quot;예약목록을 가져온다.&quot;)    public void list() throws Exception &#123;        String token = &quot;eyJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOjEwMDQsIm5hbWUiOiJPd25lciIsInJlc3RhdXJhbnRJZCI6MTAwNH0.cQTXhzTW48F5Nj3eXa80Y9J4OJryzFvoHtT8ELl4kTw&quot;;        ResultActions resultActions =                mockMvc.perform(get(&quot;/reservations&quot;)                        .header(&quot;Authorization&quot;, &quot;Bearer &quot; + token));        resultActions                .andExpect(status().isOk());        verify(reservationService).getReservations(1004L);    &#125;&#125;

@Service@RequiredArgsConstructorpublic class ReservationService &#123;    private final ReservationRepository reservationRepository;    public List&lt;Reservation&gt; getReservations(Long restaurantId) &#123;        return reservationRepository.findAllByRestaurantId(restaurantId);    &#125;&#125;

class ReservationServiceTest &#123;    @Mock    private ReservationRepository reservationRepository;    private ReservationService reservationService;    @BeforeEach    public void setUp()&#123;        MockitoAnnotations.openMocks(this);        this.reservationService = new ReservationService(reservationRepository);    &#125;    @Test    @DisplayName(&quot;예약목록들을 가져온다.&quot;)    public void getReservation()&#123;        Long restaurantId = 1004L;        List&lt;Reservation&gt; reservations =                reservationService.getReservations(restaurantId);        verify(reservationRepository).findAllByRestaurantId(restaurantId);    &#125;&#125;

public class JwtAuthenticationFilter extends BasicAuthenticationFilter &#123;    private final JwtUtil jwtUtil;    public JwtAuthenticationFilter(AuthenticationManager authenticationManager, JwtUtil jwtUtil) &#123;        super(authenticationManager);        this.jwtUtil = jwtUtil;    &#125;    @Override    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain chain) throws IOException, ServletException &#123;        Authentication authentication = getAuthentication(request);        if(authentication != null)&#123;            SecurityContext context = SecurityContextHolder.getContext();            context.setAuthentication(authentication);        &#125;        chain.doFilter(request, response);    &#125;    private Authentication getAuthentication(HttpServletRequest request)&#123;        // Header에서 Data를 얻어야 한다.        String token = request.getHeader(&quot;Authorization&quot;);        if(token == null)&#123;            return null;        &#125;        Claims claims = jwtUtil.getClaims(token.substring(&quot;Bearer &quot;.length()));        Authentication authentication = new UsernamePasswordAuthenticationToken(claims, null);        return authentication;    &#125;&#125;

@Configuration@EnableWebSecuritypublic class SecurityConfig extends WebSecurityConfigurerAdapter &#123;    @Value(&quot;$&#123;jwt.secret&#125;&quot;)    private String secret;    @Override    protected void configure(HttpSecurity http) throws Exception &#123;        Filter filter = new JwtAuthenticationFilter(authenticationManager(), jwtUtil());        http                .cors().disable()                .csrf().disable()                .formLogin().disable()                .headers().frameOptions().disable();        http                .addFilter(filter)                .sessionManagement()                // Session을 사용하지 않음                .sessionCreationPolicy(SessionCreationPolicy.STATELESS);    &#125;    @Bean    public PasswordEncoder passwordEncoder()&#123;        return new BCryptPasswordEncoder();    &#125;    @Bean    public JwtUtil jwtUtil()&#123;        return new JwtUtil(secret);    &#125;&#125;
        </p>
    </div>
</article>
    

    
    
    
    
        <article class="article article-summary">
    <div class="article-summary-inner">
        
        <a href="/2021/02/07/spring/fastcampus-eatgo/eat-go13-authorization/" class="thumbnail">
    
    
        <span style="background-image:url(/images/springboot/spring-boot-logo.png)" alt="레스토랑 예약 사이트 만들기 13 - 인가" class="thumbnail-image"></span>
    
    
        
<span class="comment-counter">
    <i class="fa fa-comments-o"></i>
    
        <span class="disqus-comment-count" data-disqus-identifier data-disqus-url="https://ckck803.github.io/2021/02/07/spring/fastcampus-eatgo/eat-go13-authorization/">0</span>
    
</span>


    
</a>

        
        <div class="article-meta">
            <div class="category">
            <a class="article-category-link" href="/categories/Spring/">Spring</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/Spring/%EA%B0%95%EC%9D%98/">강의</a>
            </div>
            <div class="date"><time datetime="2021-02-07T03:53:14.000Z" itemprop="datePublished">2021-02-07</time></div>
        </div>
        
    
        <h1 class="article-title" itemprop="name">
        <a href="/2021/02/07/spring/fastcampus-eatgo/eat-go13-authorization/">레스토랑 예약 사이트 만들기 13 - 인가</a>
        </h1>
    

        <p class="article-excerpt">
            
JWT로부터 데이터 가져오기public class JwtUtil &#123;    private Key key;    public JwtUtil(String secret) &#123;        this.key = Keys.hmacShaKeyFor(secret.getBytes());    &#125;    public String createToken(Long userId, String name) &#123;        String token = Jwts.builder()                .claim(&quot;userId&quot;, 1004L)                .claim(&quot;name&quot;, name)                .signWith(key, SignatureAlgorithm.HS256)                .compact();        return token;    &#125;    public Claims getClaims(String token)&#123;        Claims claims = Jwts.parserBuilder()                .setSigningKey(key)                .build()                .parseClaimsJws(token)                .getBody();        return claims;    &#125;&#125;

@Test@DisplayName(&quot;Claims를 가져온다.&quot;)public void getClaims()&#123;    String token = &quot;eyJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOjEwMDQsIm5hbWUiOiJUZXN0ZXIifQ.I4DNdunio2m54tfUEaXHC_E-gvCQo6ZhHO15Ewkat6U&quot;;    Claims claims = jwtUtil.getClaims(token);    assertThat(claims.get(&quot;userId&quot;, Long.class)).isEqualTo(1004L);    assertThat(claims.get(&quot;name&quot;)).isEqualTo(&quot;Tester&quot;);&#125;

JWTFilter추가@Configuration@EnableWebSecuritypublic class SecurityConfig extends WebSecurityConfigurerAdapter &#123;    @Value(&quot;$&#123;jwt.secret&#125;&quot;)    private String secret;    @Override    protected void configure(HttpSecurity http) throws Exception &#123;        Filter filter = new JwtAuthenticationFilter(authenticationManager(), jwtUtil());        http                .cors().disable()                .csrf().disable()                .formLogin().disable()                .headers().frameOptions().disable();        http                .addFilter(filter)                .sessionManagement()                // Session을 사용하지 않음                .sessionCreationPolicy(SessionCreationPolicy.STATELESS);        ;    &#125;    @Bean    public PasswordEncoder passwordEncoder()&#123;        return new BCryptPasswordEncoder();    &#125;    @Bean    public JwtUtil jwtUtil()&#123;        return new JwtUtil(secret);    &#125;&#125;

JWT 인증 Filterpublic class JwtAuthenticationFilter extends BasicAuthenticationFilter &#123;    private JwtUtil jwtUtil;    public JwtAuthenticationFilter(AuthenticationManager authenticationManager, JwtUtil jwtUtil) &#123;        super(authenticationManager);        this.jwtUtil = jwtUtil;    &#125;    @Override    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain chain) throws IOException, ServletException &#123;        Authentication authentication = getAuthentication(request);        if(authentication != null)&#123;            SecurityContext context = SecurityContextHolder.getContext();            context.setAuthentication(authentication);        &#125;        chain.doFilter(request, response);    &#125;    private Authentication getAuthentication(HttpServletRequest request)&#123;        // Header에서 Data를 얻어야 한다.        String token = request.getHeader(&quot;Authorization&quot;);        if(token == null)&#123;            return null;        &#125;        Claims claims = jwtUtil.getClaims(token.substring(&quot;Bearer &quot;.length()));        Authentication authentication = new UsernamePasswordAuthenticationToken(claims, null);        return authentication;    &#125;&#125;

요청시 Token값을 가지고 있는지 확인@RestController@RequiredArgsConstructorpublic class ReviewController &#123;    private final ReviewService reviewService;    @PostMapping(&quot;/restaurants/&#123;restaurantId&#125;/reviews&quot;)    public ResponseEntity&lt;?&gt; create(            Authentication authentication,            @PathVariable Long restaurantId,            @Valid @RequestBody Review resource    ) throws URISyntaxException &#123;        Claims claims = (Claims) authentication.getPrincipal();        String name = claims.get(&quot;name&quot;, String.class);        Review review = reviewService.addReview(restaurantId, resource);        String url = &quot;/restaurants/&quot; + restaurantId + &quot;/reviews/&quot; + review.getId();        return ResponseEntity.created(new URI (url)).body(&quot;&#123;&#125;&quot;);    &#125;&#125;
        </p>
    </div>
</article>
    
        </div>
    

    
    
    
    
        <div class="article-row">
    
        <article class="article article-summary">
    <div class="article-summary-inner">
        
        <a href="/2021/02/07/spring/fastcampus-eatgo/eat-go12-jwt/" class="thumbnail">
    
    
        <span style="background-image:url(/images/springboot/spring-boot-logo.png)" alt="레스토랑 예약 사이트 만들기 12 - JWT" class="thumbnail-image"></span>
    
    
        
<span class="comment-counter">
    <i class="fa fa-comments-o"></i>
    
        <span class="disqus-comment-count" data-disqus-identifier data-disqus-url="https://ckck803.github.io/2021/02/07/spring/fastcampus-eatgo/eat-go12-jwt/">0</span>
    
</span>


    
</a>

        
        <div class="article-meta">
            <div class="category">
            <a class="article-category-link" href="/categories/Spring/">Spring</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/Spring/%EA%B0%95%EC%9D%98/">강의</a>
            </div>
            <div class="date"><time datetime="2021-02-06T16:03:35.000Z" itemprop="datePublished">2021-02-07</time></div>
        </div>
        
    
        <h1 class="article-title" itemprop="name">
        <a href="/2021/02/07/spring/fastcampus-eatgo/eat-go12-jwt/">레스토랑 예약 사이트 만들기 12 - JWT</a>
        </h1>
    

        <p class="article-excerpt">
            
JWT를 이용해 AccesToken관리하기JwtUtil 클래스에서는 JWT를 생성하기 위한 createToken메서드가 존재한다. JWT에는 userId와 name을 넣을 것이고 HMAC-SHA256 해싱 알고리즘을 사용해 토큰의 유효성을 검사할 것이다.
public class JwtUtil &#123;    private String secret;    public JwtUtil(String secret) &#123;        this.secret = secret;    &#125;    public String createToken(Long userId, String name) &#123;        Key key = Keys.hmacShaKeyFor(secret.getBytes());        String token = Jwts.builder()                .claim(&quot;userId&quot;, 1004L)                .claim(&quot;name&quot;, name)                .signWith(key, SignatureAlgorithm.HS256)                .compact();        return token;    &#125;&#125;

JWT가 올바르게 생성됐는지 확인하는 테스트 코드class JwtUtilTest &#123;    @Test    public void createToken()&#123;        String secret = &quot;12345678901234567890123456789012&quot;;        JwtUtil jwtUtil = new JwtUtil(secret);        String token = jwtUtil.createToken(1004L, &quot;&quot;);        assertThat(token).contains(&quot;.&quot;);    &#125;&#125;

JwtUtil을 Bean으로 등록@Configuration@EnableWebSecuritypublic class SecurityConfig extends WebSecurityConfigurerAdapter &#123;    // application.yml에 정의된 JWT Secret값을 가져온다.    @Value(&quot;$&#123;jwt.secret&#125;&quot;)    private String secret;    @Override    protected void configure(HttpSecurity http) throws Exception &#123;        http                .cors().disable()                .csrf().disable()                .formLogin().disable()                .headers().frameOptions().disable();    &#125;    @Bean    public PasswordEncoder passwordEncoder()&#123;        return new BCryptPasswordEncoder();    &#125;    @Bean    public JwtUtil jwtUtil()&#123;        return new JwtUtil(secret);    &#125;&#125;

사용자 요청 결과로 JWT반환하는 로직을 구현/session 경로로 사용자 정보를 받으면 우선 사용자 유효성을 확인한 뒤, 등록된 사용자인 경우 사용자 정보를 JWT에 일부 담아 Response Body에 넣어 사용자에게 반환한다.
        </p>
    </div>
</article>
    

    
    
    
    
        <article class="article article-summary">
    <div class="article-summary-inner">
        
        <a href="/2021/02/06/spring/fastcampus-eatgo/eat-go11-authentication/" class="thumbnail">
    
    
        <span style="background-image:url(/images/springboot/spring-boot-logo.png)" alt="레스토랑 예약 사이트 만들기 11 - 인증" class="thumbnail-image"></span>
    
    
        
<span class="comment-counter">
    <i class="fa fa-comments-o"></i>
    
        <span class="disqus-comment-count" data-disqus-identifier data-disqus-url="https://ckck803.github.io/2021/02/06/spring/fastcampus-eatgo/eat-go11-authentication/">0</span>
    
</span>


    
</a>

        
        <div class="article-meta">
            <div class="category">
            <a class="article-category-link" href="/categories/Spring/">Spring</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/Spring/%EA%B0%95%EC%9D%98/">강의</a>
            </div>
            <div class="date"><time datetime="2021-02-06T10:17:28.000Z" itemprop="datePublished">2021-02-06</time></div>
        </div>
        
    
        <h1 class="article-title" itemprop="name">
        <a href="/2021/02/06/spring/fastcampus-eatgo/eat-go11-authentication/">레스토랑 예약 사이트 만들기 11 - 인증</a>
        </h1>
    

        <p class="article-excerpt">
            
AccessToken을 이용한 인증@RestController@RequiredArgsConstructorpublic class SessionController &#123;    private final UserService userService;    @PostMapping(&quot;/session&quot;)    public ResponseEntity&lt;SessionResponseDto&gt; create(@RequestBody SessionRequestDto resource)&#123;        String email = resource.getEmail();        String password = resource.getPassword();        User user = userService.authenticate(email, password);        String url = &quot;/session&quot;;        String accessToken = user.getAccessToken();        SessionResponseDto sessionResponseDto = SessionResponseDto.builder()                .accessToken(accessToken)                .build();        return ResponseEntity.created(URI.create(url)).body(sessionResponseDto);    &#125;&#125;

@WebMvcTest(SessionController.class)class SessionControllerTest &#123;    @Autowired    private MockMvc mockMvc;    @MockBean    private UserService userService;    @Test    @DisplayName(&quot;AccessToken을 반환하는지 확인한다.&quot;)    public void create() throws Exception &#123;        String email = &quot;tester@example.com&quot;;        String password = &quot;test&quot;;        User mockUser = User.builder().password(&quot;ACCESSTOKEN&quot;).build();        given(userService.authenticate(email, password)).willReturn(mockUser);        ResultActions resultActions = mockMvc.perform(post(&quot;/session&quot;)                .contentType(MediaType.APPLICATION_JSON)                .content(&quot;&#123;\&quot;email\&quot;:\&quot;tester@example.com\&quot;,\&quot;password\&quot;:\&quot;test\&quot;&#125;&quot;));        resultActions                .andExpect(status().isCreated())                .andExpect(header().string(&quot;location&quot;, &quot;/session&quot;))                // AccessToken을 사용하는지 확인한다.                .andExpect(content().string(&quot;&#123;\&quot;accessToken\&quot;:\&quot;ACCESSTOKE\&quot;&#125;&quot;));        verify(userService).authenticate(eq(email), eq(password));    &#125;    @Test    @DisplayName(&quot;올바르지 않은 이메일을 이용한 요청을 시도&quot;)    public void createWithNotExistedEmail() throws Exception &#123;        String email = &quot;x@example.com&quot;;        String password = &quot;test&quot;;        given(userService.authenticate(email, password)).willThrow(EmailNotExistedException.class);        ResultActions resultActions = mockMvc.perform(post(&quot;/session&quot;)                .contentType(MediaType.APPLICATION_JSON)                .content(&quot;&#123;\&quot;email\&quot;:\&quot;x@example.com\&quot;,\&quot;password\&quot;:\&quot;test\&quot;&#125;&quot;));        resultActions                .andExpect(status().isBadRequest());        verify(userService).authenticate(eq(email), eq(password));    &#125;    @Test    @DisplayName(&quot;올바르지 않은 패스워드를 이용한 요청을 시도&quot;)    public void createWithInvalidAttributes() throws Exception &#123;        String email = &quot;tester@example.com&quot;;        String password = &quot;x&quot;;        given(userService.authenticate(email, password)).willThrow(PasswordWrongException.class);        ResultActions resultActions = mockMvc.perform(post(&quot;/session&quot;)                .contentType(MediaType.APPLICATION_JSON)                .content(&quot;&#123;\&quot;email\&quot;:\&quot;tester@example.com\&quot;,\&quot;password\&quot;:\&quot;x\&quot;&#125;&quot;));        resultActions                .andExpect(status().isBadRequest());        verify(userService).authenticate(eq(email), eq(password));    &#125;&#125;

public class EmailNotExistedException extends RuntimeException&#123;    public EmailNotExistedException()&#123;        super(&quot;Email is Not registered&quot;);    &#125;&#125;

public class PasswordWrongException extends RuntimeException&#123;    public PasswordWrongException()&#123;        super(&quot;Password is Wrong&quot;);    &#125;&#125;

@ControllerAdvicepublic class SessionErrorAdvice &#123;    @ResponseBody    @ResponseStatus(HttpStatus.BAD_REQUEST)    @ExceptionHandler(PasswordWrongException.class)    public String handlePasswordWrong()&#123;        return &quot;&#123;&#125;&quot;;    &#125;    @ResponseBody    @ResponseStatus(HttpStatus.BAD_REQUEST)    @ExceptionHandler(EmailNotExistedException.class)    public String handleEmailNotExisted()&#123;        return &quot;&#123;&#125;&quot;;    &#125;&#125;


@Service@RequiredArgsConstructorpublic class UserService &#123;    private final UserRepository userRepository;    private final PasswordEncoder passwordEncoder;    public User registerUser(String email, String name, String password) &#123;        // 회원이 이미 등록되어 있는지 Email을 통해 유효성 검사        Optional&lt;User&gt; optional = userRepository.findByEmail(email);        // 회원이 이미 존재하는 경우 예외처리를 한다.        if(optional.isPresent())&#123;            throw new EmailExistedException(email);        &#125;//        // 패스워드를 암호화해서 저장한다.//        // 암호화 방식은 BCrypt방식을 이용해 암호화를 진행//        BCryptPasswordEncoder passwordEncoder = new BCryptPasswordEncoder();        String encodedPassword = passwordEncoder.encode(password);        User user = User.builder()                .email(email)                .name(name)                .password(encodedPassword)                .level(1L)                .build();        userRepository.save(user);        return user;    &#125;    public User authenticate(String email, String password) &#123;        User user = userRepository.findByEmail(email)                .orElseThrow(() -&gt; new EmailNotExistedException());        String encodedPassword = passwordEncoder.encode(password);        if(!passwordEncoder.matches(password, user.getPassword()))&#123;            throw new PasswordWrongException();        &#125;        return user;    &#125;&#125;

@Test@DisplayName(&quot;올바른 파라미터를 이용해 사용자 유효성 검사를 한다.&quot;)public void authenticateWithValidAttributes()&#123;    String email = &quot;test@example.com&quot;;    String name = &quot;Tester&quot;;    String password = &quot;test&quot;;    User mockUser = User.builder()            .Id(1004L)            .email(email)            .name(name)            .password(password)            .build();    given(userRepository.findByEmail(email)).willReturn(Optional.of(mockUser));    given(passwordEncoder.matches(any(), any())).willReturn(true);    User user = userService.authenticate(email, password);    assertThat(user.getEmail()).isEqualTo(email);&#125;@Test@DisplayName(&quot;올바르지 않은 이메일을 이용해 사용자 유효성 검사를 한다.&quot;)public void authenticateNotValidEmail()&#123;    String email = &quot;x@example.com&quot;;    String password = &quot;test&quot;;    given(userRepository.findByEmail(email)).willThrow(EmailNotExistedException.class);    assertThatThrownBy(()-&gt;&#123;        User user = userService.authenticate(email, password);    &#125;).isInstanceOf(EmailNotExistedException.class);&#125;@Test@DisplayName(&quot;올바르지 않은 이메일을 이용해 사용자 유효성 검사를 한다.&quot;)public void authenticateNotValidPassword()&#123;    String email = &quot;test@example.com&quot;;    String name = &quot;Tester&quot;;    String password = &quot;x&quot;;    User mockUser = User.builder()            .Id(1004L)            .email(email)            .name(name)            .password(password)            .build();    given(userRepository.findByEmail(email)).willReturn(Optional.of(mockUser));    given(passwordEncoder.matches(password, mockUser.getPassword())).willReturn(false);    assertThatThrownBy(()-&gt;&#123;        User user = userService.authenticate(email, password);    &#125;).isInstanceOf(PasswordWrongException.class);&#125;

@Configuration@EnableWebSecuritypublic class SecurityConfig extends WebSecurityConfigurerAdapter &#123;    @Override    protected void configure(HttpSecurity http) throws Exception &#123;        http                .cors().disable()                .csrf().disable()                .formLogin().disable()                .headers().frameOptions().disable();    &#125;    @Bean    public PasswordEncoder passwordEncoder()&#123;        return new BCryptPasswordEncoder();    &#125;&#125;
        </p>
    </div>
</article>
    
        </div>
    

    
    
    
    
        <div class="article-row">
    
        <article class="article article-summary">
    <div class="article-summary-inner">
        
        <a href="/2021/02/06/spring/fastcampus-eatgo/eat-go10-signup/" class="thumbnail">
    
    
        <span style="background-image:url(/images/springboot/spring-boot-logo.png)" alt="레스토랑 예약 사이트 만들기 10 - 회원 가입" class="thumbnail-image"></span>
    
    
        
<span class="comment-counter">
    <i class="fa fa-comments-o"></i>
    
        <span class="disqus-comment-count" data-disqus-identifier data-disqus-url="https://ckck803.github.io/2021/02/06/spring/fastcampus-eatgo/eat-go10-signup/">0</span>
    
</span>


    
</a>

        
        <div class="article-meta">
            <div class="category">
            <a class="article-category-link" href="/categories/Spring/">Spring</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/Spring/%EA%B0%95%EC%9D%98/">강의</a>
            </div>
            <div class="date"><time datetime="2021-02-06T03:30:41.000Z" itemprop="datePublished">2021-02-06</time></div>
        </div>
        
    
        <h1 class="article-title" itemprop="name">
        <a href="/2021/02/06/spring/fastcampus-eatgo/eat-go10-signup/">레스토랑 예약 사이트 만들기 10 - 회원 가입</a>
        </h1>
    

        <p class="article-excerpt">
            
Security 설정하기@Configuration@EnableWebSecuritypublic class SecurityConfig extends WebSecurityConfigurerAdapter &#123;    @Override    protected void configure(HttpSecurity http) throws Exception &#123;        http                .cors().disable()                .csrf().disable()                .formLogin().disable()                .headers().frameOptions().disable();    &#125;&#125;

@Service@RequiredArgsConstructorpublic class UserService &#123;    private final UserRepository userRepository;    public User registerUser(String email, String name, String password) &#123;        User user = User.builder()                .email(email)                .name(name)                .password(encodedPassword)                .level(1L)                .build();        userRepository.save(user);        return user;    &#125;&#125;

패스워드에 암호화 하기@Service@RequiredArgsConstructorpublic class UserService &#123;    private final UserRepository userRepository;    public User registerUser(String email, String name, String password) &#123;        // 패스워드를 암호화해서 저장한다.        BCryptPasswordEncoder passwordEncoder = new BCryptPasswordEncoder();        String encodedPassword = passwordEncoder.encode(password);        User user = User.builder()                .email(email)                .name(name)                .password(encodedPassword)                .level(1L)                .build();        userRepository.save(user);        return user;    &#125;&#125;

class UserServiceTest &#123;    @Mock    private UserRepository userRepository;    private UserService userService;    @BeforeEach    public void setUp()&#123;        MockitoAnnotations.openMocks(this);        userService = new UserService(userRepository);    &#125;    @Test @DisplayName(&quot;사용자를 등록한다.&quot;)    public void registerUser()&#123;        String email = &quot;test@example.com&quot;;        String name = &quot;Tester&quot;;        String password = &quot;test&quot;;        User user = userService.registerUser(email, name, password);        assertThat(user.getEmail()).isEqualTo(email);        assertThat(user.getName()).isEqualTo(name);        assertThat(user.getPassword()).isEqualTo(password);        verify(userRepository).save(any());    &#125;&#125;

@RestController@RequiredArgsConstructorpublic class UserController &#123;    private final UserService userService;    @PostMapping(&quot;/users&quot;)    public ResponseEntity&lt;?&gt; create(@RequestBody User resource)&#123;        String email = resource.getEmail();        String name = resource.getName();        String password = resource.getPassword();        User user = userService.registerUser(email, name, password);        String url = &quot;/users/&quot; + user.getId();        return ResponseEntity.created(URI.create(url)).body(&quot;&#123;&#125;&quot;);    &#125;&#125;

@WebMvcTest(UserController.class)class UserControllerTest &#123;    @Autowired    private MockMvc mockMvc;    @MockBean    private UserService userService;    @Test    @DisplayName(&quot;사용자를 생성한다.&quot;)    public void create() throws Exception &#123;        String email = &quot;tester@example.com&quot;;        String name = &quot;Tester&quot;;        String password = &quot;test&quot;;        User mockUser = User.builder()                .Id(1004L)                .email(email)                .password(password)                .name(name)                .build();        given(userService.registerUser(email, name, password))                .willReturn(mockUser);        ResultActions resultActions = mockMvc.perform(post(&quot;/users&quot;)                .contentType(MediaType.APPLICATION_JSON)                .content(&quot;&#123;\&quot;email\&quot; : \&quot;tester@example.com\&quot;, \&quot;name\&quot; : \&quot;Tester\&quot;, \&quot;password\&quot; : \&quot;test\&quot;&#125;&quot;));        resultActions                .andExpect(status().isCreated())                .andExpect(header().string(&quot;location&quot;, &quot;/users/1004&quot;));        verify(userService).registerUser(any(), any(), any());    &#125;&#125;

존재하는 회원에 대한 예외처리
        </p>
    </div>
</article>
    

    
    
    
    
        <article class="article article-summary">
    <div class="article-summary-inner">
        
        <a href="/2021/02/06/spring/fastcampus-eatgo/eat-go9-user/" class="thumbnail">
    
    
        <span style="background-image:url(/images/springboot/spring-boot-logo.png)" alt="레스토랑 예약 사이트 만들기 9 - 사용자 관리" class="thumbnail-image"></span>
    
    
        
<span class="comment-counter">
    <i class="fa fa-comments-o"></i>
    
        <span class="disqus-comment-count" data-disqus-identifier data-disqus-url="https://ckck803.github.io/2021/02/06/spring/fastcampus-eatgo/eat-go9-user/">0</span>
    
</span>


    
</a>

        
        <div class="article-meta">
            <div class="category">
            <a class="article-category-link" href="/categories/Spring/">Spring</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/Spring/%EA%B0%95%EC%9D%98/">강의</a>
            </div>
            <div class="date"><time datetime="2021-02-05T15:01:54.000Z" itemprop="datePublished">2021-02-06</time></div>
        </div>
        
    
        <h1 class="article-title" itemprop="name">
        <a href="/2021/02/06/spring/fastcampus-eatgo/eat-go9-user/">레스토랑 예약 사이트 만들기 9 - 사용자 관리</a>
        </h1>
    

        <p class="article-excerpt">
            
@Entity@Getter@Setter@NoArgsConstructor@AllArgsConstructor@Builderpublic class User &#123;    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)    private Long Id;    @NotEmpty    private String email;    @NotEmpty    private String name;    @NotNull    private Long level;    public boolean isAdmin() &#123;        return level &gt; 2L;    &#125;    public void deactivate()&#123;        level = 0L;    &#125;    public boolean isActive() &#123;        return level &gt; 0L;    &#125;&#125;

@Repositorypublic interface UserRepository extends JpaRepository&lt;User, Long&gt; &#123;&#125;

@Service@RequiredArgsConstructorpublic class UserService &#123;    private final UserRepository userRepository;    public List&lt;User&gt; getUsers() &#123;        return userRepository.findAll();    &#125;    public User addUser(String email, String name) &#123;        User user = User.builder()                .email(email)                .name(name)                .level(1L)                .build();        userRepository.save(user);        return user;    &#125;    public User updateUser(Long id, String email, String name, Long level ) &#123;        User user = userRepository.findById(id).orElse(null);        user.setEmail(email);        user.setName(name);        user.setLevel(level);        return user;    &#125;    public User deactivateUser(Long userId) &#123;        User user = userRepository.findById(userId).orElse(null);        user.deactivate();        return user;    &#125;&#125;

class UserServiceTest &#123;    @Mock    private UserRepository userRepository;    private UserService userService;    @BeforeEach    private void setUp() &#123;        MockitoAnnotations.openMocks(this);        userService = new UserService(userRepository);    &#125;    @Test    @DisplayName(&quot;유저목록을 가져온다.&quot;)    public void getUsers() &#123;        List&lt;User&gt; mockUsers = new ArrayList&lt;&gt;();        mockUsers.add(User.builder()                .name(&quot;tester&quot;)                .email(&quot;test@example.com&quot;)                .level(3L)                .build());        given(userRepository.findAll()).willReturn(mockUsers);        List&lt;User&gt; users = userService.getUsers();        User user = users.get(0);        assertThat(user.getName()).isEqualTo(&quot;tester&quot;);        assertThat(user.getEmail()).isEqualTo(&quot;test@example.com&quot;);    &#125;    @Test    @DisplayName(&quot;유저를 추가한다.&quot;)    public void addUser()&#123;        String email = &quot;test@example.com&quot;;        String name = &quot;tester&quot;;        User mockUser = User.builder()                .name(name)                .email(email)                .build();        given(userRepository.save(any())).willReturn(mockUser);        User user = userService.addUser(email, name);        assertThat(user.getName()).isEqualTo(name);        assertThat(user.getEmail()).isEqualTo(email);    &#125;    @Test    @DisplayName(&quot;유저를 업데이트 한다.&quot;)    public void updateUser()&#123;        Long id = 1004L;        Long level = 3L;        String email = &quot;test@example.com&quot;;        String name = &quot;Superman&quot;;        User mockUser = User.builder()                .Id(id)                .name(&quot;Administrator&quot;)                .level(1L)                .email(email)                .build();        given(userRepository.findById(id)).willReturn(Optional.of(mockUser));        User user = userService.updateUser(id, email, name, level);        verify(userRepository).findById(id);        assertThat(user.getName()).isEqualTo(&quot;Superman&quot;);        assertThat(user.isAdmin()).isEqualTo(true);    &#125;    @Test @DisplayName(&quot;유저를 삭제한다.&quot;)    public void deactiveUser()&#123;        Long id = 1004L;        Long level = 2L;        String email = &quot;test@example.com&quot;;        String name = &quot;Superman&quot;;        User mockUser = User.builder()                .Id(id)                .level(level)                .email(email)                .name(name)                .build();        given(userRepository.findById(id)).willReturn(Optional.of(mockUser));        User user = userService.deactivateUser(1004L);        verify(userRepository).findById(1004L);        assertThat(user.isAdmin()).isEqualTo(false);        assertThat(user.isActive()).isEqualTo(false);    &#125;&#125;


@RestController@RequiredArgsConstructorpublic class UserController &#123;    // 1. User list    // 2. User create -&gt; 회원가입    // 3. User update    // 4. User delete -&gt; level: 0 =&gt; 아무것도 못 함.    // (1: customer 2: restaurant owner 3: admin)    private final UserService userService;    @GetMapping(&quot;/users&quot;)    public List&lt;User&gt; list()&#123;        return userService.getUsers();    &#125;    @PostMapping(&quot;/users&quot;)    public ResponseEntity&lt;?&gt; create(@RequestBody User resource) throws URISyntaxException &#123;        User user = userService.addUser(resource.getEmail(), resource.getName());        String url = &quot;/users&quot; + user.getId();        return ResponseEntity.created(URI.create(url)).body(&quot;&#123;&#125;&quot;);    &#125;    @PatchMapping(&quot;/users/&#123;userId&#125;&quot;)    public void udpate(@PathVariable(&quot;userId&quot;) Long id, @RequestBody User user)&#123;        userService.updateUser(id, user.getEmail(), user.getName(), user.getLevel());    &#125;    @DeleteMapping(&quot;/users/&#123;userId&#125;&quot;)    public String deactivate(@PathVariable(&quot;userId&quot;)Long userId)&#123;        userService.deactivateUser(userId);        return &quot;&#123;&#125;&quot;;    &#125;&#125;


@WebMvcTest(UserController.class)class UserControllerTest &#123;    @Autowired    private MockMvc mockMvc;    @MockBean    private UserService userService;    @Test    @DisplayName(&quot;유저목록을_가져온다&quot;)    public void list() throws Exception &#123;        List&lt;User&gt; users = new ArrayList&lt;&gt;();        users.add(User.builder()                .email(&quot;tester@example.com&quot;)                .name(&quot;tester&quot;)                .level(1L)                .build());        given(userService.getUsers()).willReturn(users);        mockMvc.perform(get(&quot;/users&quot;))                .andExpect(status().isOk())                .andExpect(content().string(containsString(&quot;tester&quot;)));    &#125;    @Test    @DisplayName(&quot;유저를 추가한다.&quot;)    public void create() throws Exception &#123;        String email = &quot;admin@example.com&quot;;        String name = &quot;Administrator&quot;;        User user = User.builder()                .email(email)                .name(name)                .build();        given(userService.addUser(email, name)).willReturn(user);        ResultActions resultActions = mockMvc.perform(post(&quot;/users&quot;)                .contentType(MediaType.APPLICATION_JSON)                .content(&quot;&#123;\&quot;email\&quot; : \&quot;admin@example.com\&quot;, \&quot;name\&quot; : \&quot;Administrator\&quot;&#125;&quot;));        verify(userService).addUser(email, name) ;        resultActions                .andExpect(status().isCreated());    &#125;    @Test    @DisplayName(&quot;유저상태를 업데이트 한다&quot;)    public void update() throws Exception &#123;        Long id = 1004L;        String email = &quot;admin@example.com&quot;;        String name = &quot;Administrator&quot;;        Long level = 3L;        User user = User.builder()                .email(email)                .name(name)                .level(level)                .build();        given(userService.updateUser(id, email, name, level)).willReturn(user);        ResultActions resultActions = mockMvc.perform(patch(&quot;/users/1004&quot;)                .contentType(MediaType.APPLICATION_JSON)                .content(&quot;&#123;\&quot;level\&quot;: 3&quot; +                        &quot;,\&quot;email\&quot; : \&quot;admin@example.com\&quot;&quot; +                        &quot;, \&quot;name\&quot; : \&quot;Administrator\&quot;&#125;&quot;));        verify(userService).updateUser(eq(id), eq(email), eq(name), eq(level));        resultActions                .andExpect(status().isOk());    &#125;    @Test @DisplayName(&quot;유저를 삭제한다.&quot;)    public void deactivate() throws Exception &#123;        mockMvc.perform(delete(&quot;/users/1004&quot;))                .andExpect(status().isOk());        verify(userService).deactivateUser(1004L);    &#125;&#125;
        </p>
    </div>
</article>
    
        </div>
    

    
    
    
    
        <div class="article-row">
    
        <article class="article article-summary">
    <div class="article-summary-inner">
        
        <a href="/2021/02/05/spring/fastcampus-eatgo/eat-go8-category/" class="thumbnail">
    
    
        <span style="background-image:url(/images/springboot/spring-boot-logo.png)" alt="레스토랑 예약 사이트 만들기 8 - 가게목록 필터링" class="thumbnail-image"></span>
    
    
        
<span class="comment-counter">
    <i class="fa fa-comments-o"></i>
    
        <span class="disqus-comment-count" data-disqus-identifier data-disqus-url="https://ckck803.github.io/2021/02/05/spring/fastcampus-eatgo/eat-go8-category/">0</span>
    
</span>


    
</a>

        
        <div class="article-meta">
            <div class="category">
            <a class="article-category-link" href="/categories/Spring/">Spring</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/Spring/%EA%B0%95%EC%9D%98/">강의</a>
            </div>
            <div class="date"><time datetime="2021-02-05T03:21:36.000Z" itemprop="datePublished">2021-02-05</time></div>
        </div>
        
    
        <h1 class="article-title" itemprop="name">
        <a href="/2021/02/05/spring/fastcampus-eatgo/eat-go8-category/">레스토랑 예약 사이트 만들기 8 - 가게목록 필터링</a>
        </h1>
    

        <p class="article-excerpt">
            
@Entity@Getter@Setter@NoArgsConstructor@AllArgsConstructor@Builderpublic class Region &#123;    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)    private Long id;    private String name;&#125;

@Repositorypublic interface RegionRepository extends JpaRepository&lt;Region,Long&gt; &#123;&#125;

@Service@RequiredArgsConstructorpublic class RegionService &#123;    private final RegionRepository regionRepository;    public List&lt;Region&gt; getRegions() &#123;        return regionRepository.findAll();    &#125;&#125;

@Service@RequiredArgsConstructorpublic class RegionService &#123;    private final RegionRepository regionRepository;    public List&lt;Region&gt; getRegions() &#123;        return regionRepository.findAll();    &#125;&#125;

class RegionServiceTest &#123;    private RegionService regionService;    @Mock    private RegionRepository regionRepository;    @BeforeEach    public void setUp()&#123;        MockitoAnnotations.openMocks(this );        regionService = new RegionService(regionRepository);    &#125;    @Test    public void 지역정보들을_가져온다() &#123;        List&lt;Region&gt; mockRegions = new ArrayList&lt;&gt;();        mockRegions.add(Region.builder()                .name(&quot;Seoul&quot;)                .build());        given(regionRepository.findAll()).willReturn(mockRegions);        List&lt;Region&gt; regions = regionService.getRegions();        Region region = regions.get(0);        assertThat(region.getName()).isEqualTo(&quot;Seoul&quot;);    &#125;&#125;

@RestController@RequiredArgsConstructorpublic class RegionController &#123;    private final RegionService regionService;    @GetMapping(&quot;/regions&quot;)    public List&lt;Region&gt; list()&#123;        List&lt;Region&gt; regions = regionService.getRegions();        return regions;    &#125;&#125;

@WebMvcTest(RegionController.class)class RegionControllerTest &#123;    @Autowired    private MockMvc mockMvc;    @MockBean    private RegionService regionService;    @Test    public void 지역목록들을_가져온다() throws Exception &#123;        List&lt;Region&gt; regions = new ArrayList&lt;&gt;();        regions.add(Region.builder().name(&quot;Seoul&quot;).build());        given(regionService.getRegions()).willReturn(regions);        mockMvc.perform(get(&quot;/regions&quot;))                .andExpect(status().isOk())                .andExpect(content().string(containsString(&quot;Seoul&quot;)));    &#125;&#125;

카테고리 만들기@Entity@Getter@Setter@NoArgsConstructor@AllArgsConstructor@Builderpublic class Category &#123;    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)    public Long id;    public String name;&#125;
        </p>
    </div>
</article>
    

    
    
    
    
        <article class="article article-summary">
    <div class="article-summary-inner">
        
        <a href="/2021/02/05/spring/fastcampus-eatgo/eat-go7-multimodule/" class="thumbnail">
    
    
        <span style="background-image:url(/images/springboot/spring-boot-logo.png)" alt="레스토랑 예약 사이트 만들기 7 - 멀티모듈" class="thumbnail-image"></span>
    
    
        
<span class="comment-counter">
    <i class="fa fa-comments-o"></i>
    
        <span class="disqus-comment-count" data-disqus-identifier data-disqus-url="https://ckck803.github.io/2021/02/05/spring/fastcampus-eatgo/eat-go7-multimodule/">0</span>
    
</span>


    
</a>

        
        <div class="article-meta">
            <div class="category">
            <a class="article-category-link" href="/categories/Spring/">Spring</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/Spring/%EA%B0%95%EC%9D%98/">강의</a>
            </div>
            <div class="date"><time datetime="2021-02-04T17:42:22.000Z" itemprop="datePublished">2021-02-05</time></div>
        </div>
        
    
        <h1 class="article-title" itemprop="name">
        <a href="/2021/02/05/spring/fastcampus-eatgo/eat-go7-multimodule/">레스토랑 예약 사이트 만들기 7 - 멀티모듈</a>
        </h1>
    

        <p class="article-excerpt">
            
dependencies &#123;    implementation project(&#x27;:eatgo-common&#x27;)    implementation &#x27;org.springframework.boot:spring-boot-starter-data-jpa&#x27;    implementation &#x27;org.springframework.boot:spring-boot-starter-thymeleaf&#x27;    implementation &#x27;org.springframework.boot:spring-boot-starter-web&#x27;    // https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-validation    implementation &#x27;org.springframework.boot:spring-boot-starter-validation&#x27;    compileOnly &#x27;org.projectlombok:lombok&#x27;    developmentOnly &#x27;org.springframework.boot:spring-boot-devtools&#x27;    runtimeOnly &#x27;com.h2database:h2&#x27;    annotationProcessor &#x27;org.projectlombok:lombok&#x27;    testImplementation &#x27;org.springframework.boot:spring-boot-starter-test&#x27;&#125;

jar &#123;    enabled = true&#125;bootJar &#123;    enabled = false&#125;

@Testpublic void 레스토랑에_해당되는_메뉴들을_반환한다() &#123;    List&lt;MenuItem&gt; mockMenuItems = new ArrayList&lt;&gt;();    mockMenuItems.add(MenuItem.builder()            .name(&quot;Kimchi&quot;)            .build());    given(menuItemRepository.findAllByRestaurantId(1004L)).willReturn(mockMenuItems);    List&lt;MenuItem&gt; menuItems = menuItemService.getMenuItems(1004L);    MenuItem menuItem = menuItems.get(0);    assertThat(menuItem.getName()).isEqualTo(&quot;Kimchi&quot;);&#125;

public List&lt;MenuItem&gt; getMenuItems(Long restaurantId) &#123;    return menuItemRepository.findAllByRestaurantId(restaurantId);&#125;

리뷰 정보 가져오기@GetMapping(&quot;/reviews&quot;)public List&lt;Review&gt; list()&#123;    List&lt;Review&gt; reviews = reivewService.getReviews();    return reviews;&#125;

@Testpublic void 레스토랑에_해당되는_리뷰들을_가져온다() throws Exception &#123;    List&lt;Review&gt; mockReviews = new ArrayList&lt;&gt;();    mockReviews.add(Review.builder()            .description(&quot;Cool!&quot;)            .build());    given(reviewService.getReviews()).willReturn(mockReviews);    mockMvc.perform(get(&quot;/reviews&quot;))            .andExpect(status().isOk())            .andExpect(content().string(containsString(&quot;Cool!&quot;)));&#125;

public List&lt;Review&gt; getReviews() &#123;    return reviewRepository.findAll();&#125;


@Testpublic void 리뷰들을_가져온다()&#123;    List&lt;Review&gt; mockReviews = new ArrayList&lt;&gt;();    mockReviews.add(Review.builder()        .description(&quot;Cool!&quot;)        .build());    given(reviewRepository.findAll()).willReturn(mockReviews);    List&lt;Review&gt; reviews = reviewService.getReviews();    Review review = reviews.get(0);    assertThat(review.getDescription()).isEqualTo(&quot;Cool!&quot;);&#125;
        </p>
    </div>
</article>
    
        </div>
    

    
    
    
    
        <div class="article-row">
    
        <article class="article article-summary">
    <div class="article-summary-inner">
        
        <a href="/2021/02/04/spring/fastcampus-eatgo/eat-go6-review/" class="thumbnail">
    
    
        <span style="background-image:url(/images/springboot/spring-boot-logo.png)" alt="레스토랑 예약 사이트 만들기 6 - 리뷰 기능" class="thumbnail-image"></span>
    
    
        
<span class="comment-counter">
    <i class="fa fa-comments-o"></i>
    
        <span class="disqus-comment-count" data-disqus-identifier data-disqus-url="https://ckck803.github.io/2021/02/04/spring/fastcampus-eatgo/eat-go6-review/">0</span>
    
</span>


    
</a>

        
        <div class="article-meta">
            <div class="category">
            <a class="article-category-link" href="/categories/Spring/">Spring</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/Spring/%EA%B0%95%EC%9D%98/">강의</a>
            </div>
            <div class="date"><time datetime="2021-02-04T06:17:44.000Z" itemprop="datePublished">2021-02-04</time></div>
        </div>
        
    
        <h1 class="article-title" itemprop="name">
        <a href="/2021/02/04/spring/fastcampus-eatgo/eat-go6-review/">레스토랑 예약 사이트 만들기 6 - 리뷰 기능</a>
        </h1>
    

        <p class="article-excerpt">
            
새로운 리뷰 생성 오청을 처리하기 위한 control@RestController@RequiredArgsConstructorpublic class ReviewController &#123;    private final ReviewService reivewService;    @PostMapping(&quot;/restaurants/&#123;restaurantId&#125;/reviews&quot;)    public ResponseEntity&lt;?&gt; create(            @PathVariable Long restaurantId,            @Valid @RequestBody Review resource    ) throws URISyntaxException &#123;        Review review = reivewService.addReview(restaurantId, resource);        String url = &quot;/restaurants/&quot; + restaurantId + &quot;/reviews/&quot; + review.getId();        return ResponseEntity.created(new URI (url)).body(&quot;&#123;&#125;&quot;);    &#125;&#125;

@WebMvcTest(ReviewController.class)class ReviewControllerTest &#123;    @Autowired    private MockMvc mockMvc;    @MockBean    private ReviewService reviewService;    @Test    public void 리뷰를_생성한다() throws Exception &#123;        given(reviewService.addReview(eq(1L), any())).willReturn(                Review.builder()                        .id(1004L)                        .name(&quot;JOKER&quot;)                        .score(3)                        .description(&quot;Mat-it-da&quot;)                        .build());        mockMvc.perform(post(&quot;/restaurants/1/reviews&quot;)                .contentType(MediaType.APPLICATION_JSON)                .content(&quot;&#123;\&quot;name\&quot;:\&quot;JOKER\&quot;, \&quot;score\&quot;:3,\&quot;description\&quot; : \&quot;Mat-it-da\&quot;&#125;&quot;))                .andExpect(status().isCreated())                .andExpect(header().string(&quot;location&quot;, &quot;/restaurants/1/reviews/1004&quot;));        verify(reviewService).addReview(eq(1L), any());    &#125;&#125;

Review 도메인 객체를 생성@Entity@Builder@NoArgsConstructor@AllArgsConstructor@Getter@Setterpublic class Review &#123;    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)    private Long id;    @NotNull    private Long restaurantId;    @NotEmpty    private String name;    @NotNull    private Integer score;    @NotEmpty    private String description;&#125;

Review를 저장하기 위한 Repository 생성@Repositorypublic interface ReviewRepository extends JpaRepository&lt;Review, Long&gt; &#123;    List&lt;Review&gt; findAllByRestaurantId(Long restaurantId);&#125;

Review Service 클래스를 생성한다.@Service@RequiredArgsConstructorpublic class ReviewService &#123;    private final ReviewRepository reviewRepository;    public Review addReview(Long restaurantId, Review review) &#123;        review.setRestaurantId(restaurantId);        reviewRepository.save(review);        return review;    &#125;&#125;
        </p>
    </div>
</article>
    

    
    
    
    
        <article class="article article-summary">
    <div class="article-summary-inner">
        
        <a href="/2021/02/04/spring/fastcampus-eatgo/eat-go5-menuitems/" class="thumbnail">
    
    
        <span style="background-image:url(/images/springboot/spring-boot-logo.png)" alt="레스토랑 예약 사이트 만들기 5 - 메뉴 관리" class="thumbnail-image"></span>
    
    
        
<span class="comment-counter">
    <i class="fa fa-comments-o"></i>
    
        <span class="disqus-comment-count" data-disqus-identifier data-disqus-url="https://ckck803.github.io/2021/02/04/spring/fastcampus-eatgo/eat-go5-menuitems/">0</span>
    
</span>


    
</a>

        
        <div class="article-meta">
            <div class="category">
            <a class="article-category-link" href="/categories/Spring/">Spring</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/Spring/%EA%B0%95%EC%9D%98/">강의</a>
            </div>
            <div class="date"><time datetime="2021-02-04T03:27:21.000Z" itemprop="datePublished">2021-02-04</time></div>
        </div>
        
    
        <h1 class="article-title" itemprop="name">
        <a href="/2021/02/04/spring/fastcampus-eatgo/eat-go5-menuitems/">레스토랑 예약 사이트 만들기 5 - 메뉴 관리</a>
        </h1>
    

        <p class="article-excerpt">
            
메뉴를 추가하는 요청을 처리하기 위한 control@RestController@RequiredArgsConstructorpublic class MenuItemController &#123;    private final MenuItemService menuItemService;    @PatchMapping(&quot;/restaurants/&#123;restaurantId&#125;/menuitems&quot;)    public String buikUpdate()&#123;        List&lt;MenuItem&gt; menuItems = new ArrayList&lt;&gt;();        menuItemService.bulkUpdate(menuItems);        return &quot;&quot;;    &#125;&#125;

@WebMvcTest(MenuItemController.class)class MenuItemControllerTest &#123;    @Autowired    private MockMvc mockMvc;    @MockBean    private MenuItemService menuItemService;    @Test    public void bulkUpdate() throws Exception &#123;        ResultActions resultActions = mockMvc.perform(patch(&quot;/restaurants/1/menuitems&quot;)                .contentType(MediaType.APPLICATION_JSON)                .content(&quot;[]&quot;));        resultActions                .andExpect(status().isOk());        verify(menuItemService).bulkUpdate(any());    &#125;&#125;

@Service@RequiredArgsConstructorpublic class MenuItemService &#123;    private final MenuItemRepository menuItemRepository;    public void  bulkUpdate(Long restaurantId, List&lt;MenuItem&gt; menuItems) &#123;        for(MenuItem menuItem : menuItems)&#123;            menuItem.setRestaurantId(restaurantId);            menuItemRepository.save(menuItem);        &#125;    &#125;&#125;

class MenuItemServiceTest &#123;    private MenuItemService menuItemService;    @Mock    private MenuItemRepository menuItemRepository;    @BeforeEach    public void setUp()&#123;        MockitoAnnotations.initMocks(this);        menuItemService = new MenuItemService(menuItemRepository);    &#125;    @Test    public void bulkUpdate() &#123;        List&lt;MenuItem&gt; menuItems = new ArrayList&lt;&gt;();        menuItems.add(MenuItem.builder()                .name(&quot;Kimchi&quot;)                .build());        menuItems.add(MenuItem.builder()                .name(&quot;Gukbob&quot;)                .build());        menuItemService.bulkUpdate(1L, menuItems);        verify(menuItemRepository, times(2)).save(any());;    &#125;&#125;

메뉴 삭제 요청@Builder@Entity@Setter@Getter@NoArgsConstructor@AllArgsConstructorpublic class MenuItem &#123;    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)    private Long id;    private Long restaurantId;    private String name;    @Transient    private boolean destroy;    public MenuItem(String name)&#123;        this.name = name;    &#125;&#125;

@Service@RequiredArgsConstructorpublic class MenuItemService &#123;    private final MenuItemRepository menuItemRepository;    public void  bulkUpdate(Long restaurantId, List&lt;MenuItem&gt; menuItems) &#123;        for(MenuItem menuItem : menuItems)&#123;            updateOrDeleteMenuItems(restaurantId, menuItem);        &#125;    &#125;    private void updateOrDeleteMenuItems(Long restaurantId, MenuItem menuItem) &#123;        if(menuItem.isDestroy())&#123;            menuItemRepository.deleteById(menuItem.getId());        &#125;else &#123;            menuItem.setRestaurantId(restaurantId);            menuItemRepository.save(menuItem);        &#125;    &#125;&#125;

@Testpublic void 메뉴를_삭제한다() &#123;    List&lt;MenuItem&gt; menuItems = new ArrayList&lt;&gt;();    menuItems.add(MenuItem.builder()            .name(&quot;Kimchi&quot;)            .build());    menuItems.add(MenuItem.builder()            .name(&quot;Gukbob&quot;)            .build());    menuItems.add(MenuItem.builder()            .id(1004L)            .destroy(true)            .build());    menuItemService.bulkUpdate(1L, menuItems);    verify(menuItemRepository, times(2)).save(any());    verify(menuItemRepository, times(1)).deleteById(eq(1004L));&#125;
        </p>
    </div>
</article>
    
        </div>
    

    
    
    
    
        <div class="article-row">
    
        <article class="article article-summary">
    <div class="article-summary-inner">
        
        <a href="/2021/02/04/spring/fastcampus-eatgo/eat-go4-exception/" class="thumbnail">
    
    
        <span style="background-image:url(/images/springboot/spring-boot-logo.png)" alt="레스토랑 예약 사이트 만들기 4 - 예외 처리" class="thumbnail-image"></span>
    
    
        
<span class="comment-counter">
    <i class="fa fa-comments-o"></i>
    
        <span class="disqus-comment-count" data-disqus-identifier data-disqus-url="https://ckck803.github.io/2021/02/04/spring/fastcampus-eatgo/eat-go4-exception/">0</span>
    
</span>


    
</a>

        
        <div class="article-meta">
            <div class="category">
            <a class="article-category-link" href="/categories/Spring/">Spring</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/Spring/%EA%B0%95%EC%9D%98/">강의</a>
            </div>
            <div class="date"><time datetime="2021-02-04T00:37:02.000Z" itemprop="datePublished">2021-02-04</time></div>
        </div>
        
    
        <h1 class="article-title" itemprop="name">
        <a href="/2021/02/04/spring/fastcampus-eatgo/eat-go4-exception/">레스토랑 예약 사이트 만들기 4 - 예외 처리</a>
        </h1>
    

        <p class="article-excerpt">
            
없는 페이지 요청에 대한 예외처리@Testpublic void 없는_페이지에대한_예외처리를_한다() throws Exception&#123;    given(restaurantService.getRestaurant(404L)).willThrow(new RestaurantNotFoundException(404L));    ResultActions resultActions = mockMvc.perform(get(&quot;/restaurants/404&quot;));    resultActions            .andExpect(status().isNotFound())            .andExpect(content().string(&quot;&#123;&#125;&quot;));&#125;

public class RestaurantNotFoundException extends RuntimeException&#123;    public RestaurantNotFoundException(Long id) &#123;        super(&quot;Could not find Restaurant&quot; + id );    &#125;&#125;

@ControllerAdvicepublic class RestaurantErrorAdvice &#123;    @ResponseBody    @ResponseStatus(HttpStatus.NOT_FOUND)    @ExceptionHandler(RestaurantNotFoundException.class)    public String handleNotFound()&#123;        return &quot;&#123;&#125;&quot;;    &#125;&#125;

Service 계층에서의 예외처리@Testpublic void 없는_레스토랑을_가져온다() &#123;    assertThatThrownBy(() -&gt; &#123;        Restaurant restaurant = restaurantService.getRestaurant(404L);    &#125;).isInstanceOf(RestaurantNotFoundException.class);//        Restaurant restaurant = restaurantService.getRestaurant(404L);&#125;

public Restaurant getRestaurant(Long id) &#123;    Optional&lt;Restaurant&gt; optional = restaurantRepository.findById(id);    if (optional.isPresent()) &#123;        List&lt;MenuItem&gt; menuItems = menuItemRepository.findAllByRestaurantId(id);        Restaurant restaurant = new Restaurant();        restaurant.setMenuItems(menuItems);        return restaurant;    &#125;else&#123;        throw new RestaurantNotFoundException(id);    &#125;&#125;
        </p>
    </div>
</article>
    

    
    
    
    
        <article class="article article-summary">
    <div class="article-summary-inner">
        
        <a href="/2021/02/04/spring/fastcampus-eatgo/eat-go-client/" class="thumbnail">
    
    
        <span style="background-image:url(/images/springboot/spring-boot-logo.png)" alt="레스토랑 예약 사이트 만들기 3" class="thumbnail-image"></span>
    
    
        
<span class="comment-counter">
    <i class="fa fa-comments-o"></i>
    
        <span class="disqus-comment-count" data-disqus-identifier data-disqus-url="https://ckck803.github.io/2021/02/04/spring/fastcampus-eatgo/eat-go-client/">0</span>
    
</span>


    
</a>

        
        <div class="article-meta">
            <div class="category">
            <a class="article-category-link" href="/categories/Spring/">Spring</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/Spring/%EA%B0%95%EC%9D%98/">강의</a>
            </div>
            <div class="date"><time datetime="2021-02-03T15:59:58.000Z" itemprop="datePublished">2021-02-04</time></div>
        </div>
        
    
        <h1 class="article-title" itemprop="name">
        <a href="/2021/02/04/spring/fastcampus-eatgo/eat-go-client/">레스토랑 예약 사이트 만들기 3</a>
        </h1>
    

        <p class="article-excerpt">
            
&lt;!DOCTYPE html&gt;&lt;html lang=&quot;ko&quot;&gt;&lt;head&gt;    &lt;meta charset=&quot;UTF-8&quot;&gt;    &lt;title&gt;Title&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;div id=&quot;app&quot;&gt;Hello, world!&lt;/div&gt;&lt;script src=&quot;./src/index.js&quot;&gt;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;


(async () =&gt; &#123;    const url = &quot;http://localhost:8080/restaurants&quot;;    const response = await fetch(url);    const restaurants = await response.json();    console.log(restaurants);    const element = document.getElementById(&#x27;app&#x27;);    element.innerHTML = JSON.stringify(restaurants);&#125;)();

(async () =&gt; &#123;    const url = &quot;http://localhost:8080/restaurants&quot;;    const response = await fetch(url);    const restaurants = await response.json();    console.log(restaurants);    const element = document.getElementById(&#x27;app&#x27;);    element.innerHTML = `        $&#123;restaurants[0].id&#125;        $&#123;restaurants[0].name&#125;    `&#125;)();


(async () =&gt; &#123;    const url = &quot;http://localhost:8080/restaurants&quot;;    const response = await fetch(url);    const restaurants = await response.json();    console.log(restaurants);    const element = document.getElementById(&#x27;app&#x27;);    element.innerHTML = `        $&#123;restaurants.map(restaurant =&gt; `            &lt;p&gt;                $&#123;restaurant.id&#125;                $&#123;restaurant.name&#125;                $&#123;restaurant.address&#125;            &lt;/p&gt;        `).join(&#x27;&#x27;)&#125;    `;&#125;)();


        </p>
    </div>
</article>
    
        </div>
    

    
    
    
    
        <div class="article-row">
    
        <article class="article article-summary">
    <div class="article-summary-inner">
        
        <a href="/2021/02/03/spring/fastcampus-eatgo/2.%20menuitem/eat-go2-restaurant/" class="thumbnail">
    
    
        <span style="background-image:url(/images/springboot/spring-boot-logo.png)" alt="레스토랑 예약 사이트 만들기 2 - 메뉴 정보 추가(관리자)" class="thumbnail-image"></span>
    
    
        
<span class="comment-counter">
    <i class="fa fa-comments-o"></i>
    
        <span class="disqus-comment-count" data-disqus-identifier data-disqus-url="https://ckck803.github.io/2021/02/03/spring/fastcampus-eatgo/2.%20menuitem/eat-go2-restaurant/">0</span>
    
</span>


    
</a>

        
        <div class="article-meta">
            <div class="category">
            <a class="article-category-link" href="/categories/Spring/">Spring</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/Spring/%EA%B0%95%EC%9D%98/">강의</a>
            </div>
            <div class="date"><time datetime="2021-02-03T04:46:52.000Z" itemprop="datePublished">2021-02-03</time></div>
        </div>
        
    
        <h1 class="article-title" itemprop="name">
        <a href="/2021/02/03/spring/fastcampus-eatgo/2.%20menuitem/eat-go2-restaurant/">레스토랑 예약 사이트 만들기 2 - 메뉴 정보 추가(관리자)</a>
        </h1>
    

        <p class="article-excerpt">
            
레스토랑에 메뉴정보를 담기@Entity@Getter@Setter@NoArgsConstructor@AllArgsConstructor@Builderpublic class Restaurant &#123;    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)    private Long id;    @NotNull    private Long categoryId;    @NotEmpty    private String name;    @NotEmpty    private String address;    @Transient    @JsonInclude(JsonInclude.Include.NON_NULL)    private List&lt;MenuItem&gt; menuItems;    public void addMenuItem(MenuItem menuItem)&#123;        menuItems.add(menuItem);    &#125;    public void setMenuItems(List&lt;MenuItem&gt; menuItems)&#123;        this.menuItems = new ArrayList&lt;&gt;(menuItems);    &#125;    public String getInformation()&#123;        return name + &quot; in &quot; + address;    &#125;&#125;

메뉴에 대한 정보를 담고있는 MenuItem 클래스@Builder@Entity@Setter@Getter@NoArgsConstructor@AllArgsConstructorpublic class MenuItem &#123;    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)    private Long id;    private Long restaurantId;    private String name;    @Transient    @JsonInclude(JsonInclude.Include.NON_DEFAULT)    private boolean destroy;    public MenuItem(String name)&#123;        this.name = name;    &#125;&#125;

레스토랑에서 메뉴정보 가져오기public interface MenuItemRepository extends JpaRepository&lt;MenuItem, Long&gt; &#123;    List&lt;MenuItem&gt; findAllByRestaurantId(Long restaurantId);&#125;


레스토랑에 메뉴등록 요청 보내기추가하고자 하는 데이터는 Http Body에 넣어서 보낸다.
        </p>
    </div>
</article>
    

    
    
    
    
        <article class="article article-summary">
    <div class="article-summary-inner">
        
        <a href="/2021/02/03/spring/fastcampus-eatgo/1.%20restaurant/eat-go-restaurant-customer/" class="thumbnail">
    
    
        <span style="background-image:url(/images/springboot/spring-boot-logo.png)" alt="레스토랑 예약 사이트 1 - 레스토랑 관리(사용자) 레스토랑 정보 가져오기" class="thumbnail-image"></span>
    
    
        
<span class="comment-counter">
    <i class="fa fa-comments-o"></i>
    
        <span class="disqus-comment-count" data-disqus-identifier data-disqus-url="https://ckck803.github.io/2021/02/03/spring/fastcampus-eatgo/1.%20restaurant/eat-go-restaurant-customer/">0</span>
    
</span>


    
</a>

        
        <div class="article-meta">
            <div class="category">
            <a class="article-category-link" href="/categories/Spring/">Spring</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/Spring/%EA%B0%95%EC%9D%98/">강의</a>
            </div>
            <div class="date"><time datetime="2021-02-03T01:20:02.000Z" itemprop="datePublished">2021-02-03</time></div>
        </div>
        
    
        <h1 class="article-title" itemprop="name">
        <a href="/2021/02/03/spring/fastcampus-eatgo/1.%20restaurant/eat-go-restaurant-customer/">레스토랑 예약 사이트 1 - 레스토랑 관리(사용자) 레스토랑 정보 가져오기</a>
        </h1>
    

        <p class="article-excerpt">
            
사용자 페이지사용자의 경우 레스토랑을 관리하지 않으므로 레스토랑 정보를 추가하거나 수정할필요는 없고 조회하는 기능만 있으면 된다.

모든 Restaurant정보 가져오기
특정 Restaurant정보 가져오기


Request Parameter를 통한 레스토랑 조회 control요청시 RequestParameter를 통해 원하는 지역, 카테고리를 통해 해당 조건을 만족하는 레스토랑 정보를 모두 가져올 수 있도록 한다. 특정 Restaurant 정보를 가져오는 함수들은 관리자에서 만들었던 내용과 같으므로 생각한다.
@CrossOrigin@RestController@RequiredArgsConstructorpublic class RestaurantController &#123;    private final RestaurantService restaurantService;    @GetMapping(&quot;/restaurants&quot;)    public List&lt;Restaurant&gt; list(@RequestParam(&quot;region&quot;) String region, @RequestParam(&quot;category&quot;) Long category) &#123;        List&lt;Restaurant&gt; restaurants = restaurantService.getRestaurants(region, category);        return restaurants;    &#125;    @GetMapping(&quot;/restaurants/&#123;id&#125;&quot;)    public Restaurant detail(@PathVariable Long id) throws Exception &#123;        Restaurant restaurant = restaurantService.getRestaurant(id);        return restaurant;    &#125;&#125;

Request Parameter를 통한 레스토랑 조회 테스트 코드 작성@Testpublic void RequestParameter를_이용한_list를_확인한다() throws Exception &#123;    List&lt;Restaurant&gt; restaurants = new ArrayList&lt;&gt;();    restaurants.add(Restaurant.builder()            .id(1004L)            .categoryId(1L)            .name(&quot;JOKER House&quot;)            .address(&quot;Seoul&quot;)            .build());    given(restaurantService.getRestaurants(&quot;Seoul&quot;, 1L)).willReturn(restaurants);    ResultActions resultActions = mockMvc.perform(get(&quot;/restaurants?region=Seoul&amp;category=1&quot;));    resultActions            .andExpect(status().isOk())            .andExpect(content().string(containsString(&quot;\&quot;id\&quot;:1004&quot;)))            .andExpect(content().string(containsString(&quot;\&quot;name\&quot;:\&quot;JOKER House\&quot;&quot;)))            .andDo(print());&#125;
        </p>
    </div>
</article>
    
        </div>
    

    
    
    
    
        <div class="article-row">
    
        <article class="article article-summary">
    <div class="article-summary-inner">
        
        <a href="/2021/02/03/spring/fastcampus-eatgo/1.%20restaurant/eat-go-restaurant-admin-update/" class="thumbnail">
    
    
        <span style="background-image:url(/images/springboot/spring-boot-logo.png)" alt="레스토랑 예약 사이트 1 - 레스토랑 관리(관리자) 레스토랑 정보 업데이트" class="thumbnail-image"></span>
    
    
        
<span class="comment-counter">
    <i class="fa fa-comments-o"></i>
    
        <span class="disqus-comment-count" data-disqus-identifier data-disqus-url="https://ckck803.github.io/2021/02/03/spring/fastcampus-eatgo/1.%20restaurant/eat-go-restaurant-admin-update/">0</span>
    
</span>


    
</a>

        
        <div class="article-meta">
            <div class="category">
            <a class="article-category-link" href="/categories/Spring/">Spring</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/Spring/%EA%B0%95%EC%9D%98/">강의</a>
            </div>
            <div class="date"><time datetime="2021-02-03T00:22:02.000Z" itemprop="datePublished">2021-02-03</time></div>
        </div>
        
    
        <h1 class="article-title" itemprop="name">
        <a href="/2021/02/03/spring/fastcampus-eatgo/1.%20restaurant/eat-go-restaurant-admin-update/">레스토랑 예약 사이트 1 - 레스토랑 관리(관리자) 레스토랑 정보 업데이트</a>
        </h1>
    

        <p class="article-excerpt">
            
4. 레스토랑 정보 업데이트레스토랑 업데이트 하기 위한 control 추가레스토랑 정보를 업데이트 하기 위해서는 업데이트 하고자 하는 레스토랑을 가지고 와야 한다. /restaurants경로뒤에 레스토랑 id를 붙여 요청이 들어오면 id를 이용해 레스토랑을 찾고 request body에 들어있는 정보로 레스토랑을 업데이트 한다.

업데이트 요청을 처리하기 위해 Http 메소드 중에서 patch메소드를 이용할 것이다.

@PatchMapping(&quot;/restaurants/&#123;id&#125;&quot;)public String update(@PathVariable(&quot;id&quot;) Long id, @RequestBody Restaurant restaurant) throws Exception &#123;    restaurantService.updateRestaurant(id, restaurant.getName(), restaurant.getAddress());    return &quot;&#123;&#125;&quot;;&#125;

업데이트 요청에 대한 테스트 코드 작성@Testpublic void 레스토랑정보_업데이트() throws Exception &#123;    String JOKER = &quot;JOKER Bar&quot;;    String Busan = &quot;Busan&quot;;    Restaurant restaurant = Restaurant.builder()            .categoryId(1L)            .name(JOKER)            .address(Busan)            .build();    String content = objectMapper.writeValueAsString(restaurant);    ResultActions resultActions = mockMvc.perform(patch(&quot;/restaurants/1004&quot;)            .contentType(MediaType.APPLICATION_JSON)            .content(content));    resultActions            .andExpect(status().isOk())            .andDo(print());    verify(restaurantService).updateRestaurant(1004L, JOKER, Busan);&#125;

레스토랑 업데이트를 하기 위한 Service 메소드먼저 id를 갖고 저장돼 있는 해당 레스토랑을 가져온 후 전달 받은 name값과 address값으로 업데이트 한다. 만약 해당 레스토랑이 없을 경우 RestaurantNotFoundException예외를 일으키도록 한다.
        </p>
    </div>
</article>
    
        </div>
    


    </div></section>


    <nav id="page-nav">
        <span class="pages">Page 1 of 2</span>
        <span class="page-number current">1</span><a class="page-number" href="/categories/Spring/%EA%B0%95%EC%9D%98/page/2/">2</a><a class="extend next" rel="next" href="/categories/Spring/%EA%B0%95%EC%9D%98/page/2/">&raquo;</a>
    </nav>



                        </div>
                    </section>
                    <aside id="sidebar">
    <a class="sidebar-toggle" title="Expand Sidebar"><i class="toggle icon"></i></a>
    <div class="sidebar-top">
        <p>follow:</p>
        <ul class="social-links">
            
                
                <li>
                    <a class="social-tooltip" title="github" href="https://github.com/ckck803" target="_blank" rel="external nofollow noopener noreferrer">
                        <i class="icon fa fa-github"></i>
                    </a>
                </li>
                
            
        </ul>
    </div>
    
    <div class="widgets-container">
        
            
                

            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">categories</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/AWS/">AWS</a><span class="category-list-count">9</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/AWS/EKS/">EKS</a><span class="category-list-count">9</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/CS/">CS</a><span class="category-list-count">60</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/CS/DataBase/">DataBase</a><span class="category-list-count">18</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/CS/DataBase/SQL/">SQL</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/CS/DataBase/Scan/">Scan</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/CS/DataBase/Transaction/">Transaction</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/CS/Network/">Network</a><span class="category-list-count">21</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/CS/Network/HTTP/">HTTP</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/CS/Network/Security/">Security</a><span class="category-list-count">4</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/CS/Process/">Process</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/CS/%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C/">운영체제</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/CS/%EC%BB%B4%ED%93%A8%ED%84%B0-%EA%B5%AC%EC%A1%B0/">컴퓨터 구조</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/CS/%EC%BB%B4%ED%93%A8%ED%84%B0-%EA%B5%AC%EC%A1%B0/%EB%A9%94%EB%AA%A8%EB%A6%AC-%EA%B4%80%EB%A6%AC/">메모리 관리</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/CS/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D-%EC%96%B8%EC%96%B4/">프로그래밍 언어</a><span class="category-list-count">8</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/CS/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D-%EC%96%B8%EC%96%B4/JAVA/">JAVA</a><span class="category-list-count">4</span></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/DevOps/">DevOps</a><span class="category-list-count">23</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/DevOps/CICD/">CICD</a><span class="category-list-count">11</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/DevOps/CICD/Jenkins/">Jenkins</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/DevOps/CICD/Repository/">Repository</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/DevOps/Jmeter/">Jmeter</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/DevOps/KeyCloak/">KeyCloak</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/DevOps/Kiali/">Kiali</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/DevOps/Maven/">Maven</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/DevOps/OpenSearch/">OpenSearch</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/DevOps/Repository/">Repository</a><span class="category-list-count">4</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/DevOps/Repository/Gitea/">Gitea</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/DevOps/SonarQube/">SonarQube</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Develop/">Develop</a><span class="category-list-count">176</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Develop/Beakjoon/">Beakjoon</a><span class="category-list-count">40</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Develop/Beakjoon/BFS/">BFS</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Develop/Beakjoon/DFS/">DFS</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Develop/Beakjoon/SAMSUNG/">SAMSUNG</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Develop/Beakjoon/SAMSUNG/%EC%8B%9C%EB%AE%AC%EB%A0%88%EC%9D%B4%EC%85%98/">시뮬레이션</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Develop/Beakjoon/%EA%B2%BD%EC%9A%B0%EC%9D%98-%EC%88%98/">경우의 수</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Develop/Beakjoon/%EA%B7%B8%EB%9E%98%ED%94%84/">그래프</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Develop/Beakjoon/%EB%8B%A4%EC%9D%B5%EC%8A%A4%ED%8A%B8%EB%9D%BC/">다익스트라</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Develop/Beakjoon/%EC%8B%9C%EB%AE%AC%EB%A0%88%EC%9D%B4%EC%85%98/">시뮬레이션</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Develop/Beakjoon/%EC%9D%B4%EB%B6%84%ED%83%90%EC%83%89/">이분탐색</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Develop/Beakjoon/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0/">자료구조</a><span class="category-list-count">5</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Develop/Beakjoon/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0/List/">List</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Develop/Beakjoon/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0/SET/">SET</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Develop/Beakjoon/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0/%EC%8A%A4%ED%83%9D/">스택</a><span class="category-list-count">3</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Develop/Beakjoon/%EC%B9%B4%ED%85%8C%EA%B3%A0%EB%A6%AC/">카테고리</a><span class="category-list-count">14</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Develop/Cpp/">Cpp</a><span class="category-list-count">3</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Develop/Cpp/STL/">STL</a><span class="category-list-count">3</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Develop/Django/">Django</a><span class="category-list-count">33</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Develop/Docker/">Docker</a><span class="category-list-count">13</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Develop/Docker/Docker-Compose/">Docker Compose</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Develop/Git/">Git</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Develop/JAVA/">JAVA</a><span class="category-list-count">7</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Develop/JAVA/Collection/">Collection</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Develop/JAVA/REST/">REST</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Develop/JAVA/Rest/">Rest</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Develop/JPA/">JPA</a><span class="category-list-count">26</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Develop/JPA/JPA-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D-%EA%B8%B0%EB%B3%B8%ED%8E%B8/">JPA 프로그래밍(기본편)</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Develop/JPA/%EC%97%B0%EA%B4%80%EA%B4%80%EA%B3%84/">연관관계</a><span class="category-list-count">13</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Develop/Kafka/">Kafka</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Develop/MySQL/">MySQL</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Develop/Oracle/">Oracle</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Develop/QueryDSL/">QueryDSL</a><span class="category-list-count">16</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Develop/Redis/">Redis</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Develop/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%A8%B8%EC%8A%A4/">프로그래머스</a><span class="category-list-count">23</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Develop/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%A8%B8%EC%8A%A4/%EA%B2%BD%EC%9A%B0%EC%9D%98-%EC%88%98/">경우의 수</a><span class="category-list-count">7</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Develop/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%A8%B8%EC%8A%A4/%EA%B2%BD%EC%9A%B0%EC%9D%98-%EC%88%98/%EC%A4%91%EB%B3%B5-%EC%88%9C%EC%97%B4/">중복 순열</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Develop/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%A8%B8%EC%8A%A4/%EB%AC%B8%EC%9E%90%EC%97%B4/">문자열</a><span class="category-list-count">9</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Develop/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%A8%B8%EC%8A%A4/%EB%AC%B8%EC%9E%90%EC%97%B4/%EC%A0%95%EA%B7%9C-%ED%91%9C%ED%98%84%EC%8B%9D/">정규 표현식</a><span class="category-list-count">6</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Develop/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%A8%B8%EC%8A%A4/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0/">자료구조</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Develop/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%A8%B8%EC%8A%A4/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0/SET/">SET</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Develop/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%A8%B8%EC%8A%A4/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0/%EC%8A%A4%ED%83%9D/">스택</a><span class="category-list-count">1</span></li></ul></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Frontend/">Frontend</a><span class="category-list-count">57</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Frontend/Login/">Login</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Frontend/React/">React</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Frontend/React/TypeScript/">TypeScript</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Frontend/React-Query/">React Query</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Frontend/Redux/">Redux</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Frontend/To-do-List/">To do List</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Frontend/ToastUI/">ToastUI</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Frontend/Vite/">Vite</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Frontend/Vue/">Vue</a><span class="category-list-count">6</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Frontend/Vue/Tailwind/">Tailwind</a><span class="category-list-count">4</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Frontend/Vue3/">Vue3</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Frontend/%EB%A1%9C%EA%B7%B8%EC%9D%B8/">로그인</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Frontend/%EB%B8%94%EB%A1%9C%EA%B7%B8/">블로그</a><span class="category-list-count">15</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kubernetes/">Kubernetes</a><span class="category-list-count">48</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Kubernetes/Autoscaler/">Autoscaler</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kubernetes/Config/">Config</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kubernetes/Custom/">Custom</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kubernetes/Helm/">Helm</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kubernetes/Istio/">Istio</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kubernetes/%EA%B5%AC%EC%84%B1%EC%9A%94%EC%86%8C/">구성요소</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kubernetes/%EC%84%9C%EB%B9%84%EC%8A%A4/">서비스</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kubernetes/%EC%9B%8C%ED%81%AC%EB%A1%9C%EB%93%9C/">워크로드</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kubernetes/%EC%9D%B8%EC%A6%9D-%EC%9D%B8%EA%B0%80/">인증/인가</a><span class="category-list-count">4</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/">Spring</a><span class="category-list-count">278</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Spring-AOP/">Spring AOP</a><span class="category-list-count">30</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Spring-AOP/AOP-Aspect/">AOP Aspect</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Spring-AOP/AspectJ/">AspectJ</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Spring-AOP/Bean-Post-Processor/">Bean Post Processor</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Spring-AOP/Spring-Proxy/">Spring Proxy</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Spring-AOP/%ED%8F%AC%EC%9D%B8%ED%8A%B8%EC%BB%B7/">포인트컷</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Spring-AOP/%ED%8F%AC%EC%9D%B8%ED%8A%B8%EC%BB%B7-%ED%91%9C%ED%98%84%EC%8B%9D/">포인트컷 표현식</a><span class="category-list-count">9</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Spring-Batch/">Spring Batch</a><span class="category-list-count">36</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Spring-Batch/Job/">Job</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Spring-Batch/Step/">Step</a><span class="category-list-count">15</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Spring-Batch/Step/Chunk/">Chunk</a><span class="category-list-count">7</span></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Spring-Boot/">Spring Boot</a><span class="category-list-count">26</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Spring-Boot/File/">File</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Spring-Boot/Kafka/">Kafka</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Spring-Boot/Redis/">Redis</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Spring-Boot/Spring-Framework/">Spring Framework</a><span class="category-list-count">7</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Spring-Cloud/">Spring Cloud</a><span class="category-list-count">34</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Spring-Cloud/Config/">Config</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Spring-Cloud/Feign-Client/">Feign Client</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Spring-Cloud/Gateway/">Gateway</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Spring-Cloud/Kafka/">Kafka</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Spring-Cloud/Service-Discovery/">Service Discovery</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Spring-Core/">Spring Core</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Spring-Data-JPA/">Spring Data JPA</a><span class="category-list-count">12</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Spring-Framework/">Spring Framework</a><span class="category-list-count">11</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Spring-Framework/lifecycle/">lifecycle</a><span class="category-list-count">7</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Spring-MVC/">Spring MVC</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Spring-Rest/">Spring Rest</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Spring-Security/">Spring Security</a><span class="category-list-count">29</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Spring-Security/Filter/">Filter</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Spring-Security/Form-login/">Form login</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Spring-Security/JWT/">JWT</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Spring-Security/Oauth2/">Oauth2</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Spring-Security/Security/">Security</a><span class="category-list-count">3</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Spring-Security/Security/Config/">Config</a><span class="category-list-count">3</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Spring-Security/%EC%9D%B8%EC%A6%9D-%EA%B3%BC%EC%A0%95/">인증 과정</a><span class="category-list-count">5</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Spring-Test/">Spring Test</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Spring-WebSocket/">Spring WebSocket</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Spring-%EA%B3%A0%EA%B8%89%ED%8E%B8/">Spring 고급편</a><span class="category-list-count">25</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Spring-%EA%B3%A0%EA%B8%89%ED%8E%B8/CGLIB/">CGLIB</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Spring-%EA%B3%A0%EA%B8%89%ED%8E%B8/Decorator-%ED%8C%A8%ED%84%B4/">Decorator 패턴</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Spring-%EA%B3%A0%EA%B8%89%ED%8E%B8/Dynamic-Proxy/">Dynamic Proxy</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Spring-%EA%B3%A0%EA%B8%89%ED%8E%B8/Proxy-%ED%8C%A8%ED%84%B4/">Proxy 패턴</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Spring-%EA%B3%A0%EA%B8%89%ED%8E%B8/Strategy-%ED%8C%A8%ED%84%B4/">Strategy 패턴</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Spring-%EA%B3%A0%EA%B8%89%ED%8E%B8/Template-Callback-%ED%8C%A8%ED%84%B4/">Template Callback 패턴</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Spring-%EA%B3%A0%EA%B8%89%ED%8E%B8/Template-Method-%ED%8C%A8%ED%84%B4/">Template Method 패턴</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/Spring-%EA%B3%A0%EA%B8%89%ED%8E%B8/ThreadLocal/">ThreadLocal</a><span class="category-list-count">6</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/%EA%B0%95%EC%9D%98/">강의</a><span class="category-list-count">19</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/%EA%B0%95%EC%9D%98/%EB%A0%88%EC%8A%A4%ED%86%A0%EB%9E%91-%EC%98%88%EC%95%BD-%EC%82%AC%EC%9D%B4%ED%8A%B8/">레스토랑 예약 사이트</a><span class="category-list-count">19</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/%EA%B2%8C%EC%8B%9C%ED%8C%90-%EB%A7%8C%EB%93%A4%EA%B8%B0/">게시판 만들기</a><span class="category-list-count">22</span></li></ul></li></ul>
        </div>
    </div>


            
        
    </div>
</aside>

                </div>
            </div>
        </div>
        <footer id="footer">
    <div class="container">
        <div class="container-inner">
            <a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a>
            <div class="credit">
                <h1 class="logo-wrap">
                    <a href="/" class="logo"></a>
                </h1>
                <p>&copy; 2025 ckck803</p>
                
                <p>Powered by <a href="https://hexo.io/" target="_blank" rel="external nofollow noopener noreferrer">Hexo</a>. Theme by <a href="https://github.com/ppoffice" target="_blank" rel="external nofollow noopener noreferrer">PPOffice</a></p>
                
            </div>
            <div class="footer-plugins">
              
    


            </div>
        </div>
    </div>
</footer>

    </div>
    
    
    <script>
    var disqus_shortname = 'hexo-theme-hueman';
    
    
    (function() {
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>





    
        
<script src="/libs/lightgallery/js/lightgallery.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-pager.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-zoom.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-hash.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-share.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-video.min.js"></script>

    
    
        
<script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>

    
    

    
    
    



<!-- Custom Scripts -->

<script src="/js/main.js"></script>


<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</body>
</html>
